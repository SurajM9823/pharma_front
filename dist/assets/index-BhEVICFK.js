var w6=Object.defineProperty;var I2=e=>{throw TypeError(e)};var S6=(e,r,n)=>r in e?w6(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var $2=(e,r,n)=>S6(e,typeof r!="symbol"?r+"":r,n),Wv=(e,r,n)=>r.has(e)||I2("Cannot "+n);var we=(e,r,n)=>(Wv(e,r,"read from private field"),n?n.call(e):r.get(e)),Gt=(e,r,n)=>r.has(e)?I2("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,n),jt=(e,r,n,s)=>(Wv(e,r,"write to private field"),s?s.call(e,n):r.set(e,n),n),Sn=(e,r,n)=>(Wv(e,r,"access private method"),n);var Uh=(e,r,n,s)=>({set _(a){jt(e,r,a,n)},get _(){return we(e,r,s)}});function P6(e,r){for(var n=0;n<r.length;n++){const s=r[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vk={exports:{}},Zx={},qk={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh=Symbol.for("react.element"),C6=Symbol.for("react.portal"),_6=Symbol.for("react.fragment"),A6=Symbol.for("react.strict_mode"),T6=Symbol.for("react.profiler"),k6=Symbol.for("react.provider"),E6=Symbol.for("react.context"),O6=Symbol.for("react.forward_ref"),R6=Symbol.for("react.suspense"),D6=Symbol.for("react.memo"),M6=Symbol.for("react.lazy"),L2=Symbol.iterator;function I6(e){return e===null||typeof e!="object"?null:(e=L2&&e[L2]||e["@@iterator"],typeof e=="function"?e:null)}var Wk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hk=Object.assign,Kk={};function Rd(e,r,n){this.props=e,this.context=r,this.refs=Kk,this.updater=n||Wk}Rd.prototype.isReactComponent={};Rd.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};Rd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gk(){}Gk.prototype=Rd.prototype;function RN(e,r,n){this.props=e,this.context=r,this.refs=Kk,this.updater=n||Wk}var DN=RN.prototype=new Gk;DN.constructor=RN;Hk(DN,Rd.prototype);DN.isPureReactComponent=!0;var F2=Array.isArray,Xk=Object.prototype.hasOwnProperty,MN={current:null},Yk={key:!0,ref:!0,__self:!0,__source:!0};function Qk(e,r,n){var s,a={},i=null,o=null;if(r!=null)for(s in r.ref!==void 0&&(o=r.ref),r.key!==void 0&&(i=""+r.key),r)Xk.call(r,s)&&!Yk.hasOwnProperty(s)&&(a[s]=r[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:gh,type:e,key:i,ref:o,props:a,_owner:MN.current}}function $6(e,r){return{$$typeof:gh,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function IN(e){return typeof e=="object"&&e!==null&&e.$$typeof===gh}function L6(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return r[n]})}var z2=/\/+/g;function Hv(e,r){return typeof e=="object"&&e!==null&&e.key!=null?L6(""+e.key):r.toString(36)}function Lf(e,r,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case gh:case C6:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Hv(o,0):s,F2(a)?(n="",e!=null&&(n=e.replace(z2,"$&/")+"/"),Lf(a,r,n,"",function(d){return d})):a!=null&&(IN(a)&&(a=$6(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(z2,"$&/")+"/")+e)),r.push(a)),1;if(o=0,s=s===""?".":s+":",F2(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Hv(i,l);o+=Lf(i,r,n,c,a)}else if(c=I6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Hv(i,l++),o+=Lf(i,r,n,c,a);else if(i==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return o}function qh(e,r,n){if(e==null)return e;var s=[],a=0;return Lf(e,s,"","",function(i){return r.call(n,i,a++)}),s}function F6(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var Hn={current:null},Ff={transition:null},z6={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:Ff,ReactCurrentOwner:MN};function Zk(){throw Error("act(...) is not supported in production builds of React.")}Lt.Children={map:qh,forEach:function(e,r,n){qh(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return qh(e,function(){r++}),r},toArray:function(e){return qh(e,function(r){return r})||[]},only:function(e){if(!IN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Lt.Component=Rd;Lt.Fragment=_6;Lt.Profiler=T6;Lt.PureComponent=RN;Lt.StrictMode=A6;Lt.Suspense=R6;Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z6;Lt.act=Zk;Lt.cloneElement=function(e,r,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Hk({},e.props),a=e.key,i=e.ref,o=e._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,o=MN.current),r.key!==void 0&&(a=""+r.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in r)Xk.call(r,c)&&!Yk.hasOwnProperty(c)&&(s[c]=r[c]===void 0&&l!==void 0?l[c]:r[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:gh,type:e.type,key:a,ref:i,props:s,_owner:o}};Lt.createContext=function(e){return e={$$typeof:E6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:k6,_context:e},e.Consumer=e};Lt.createElement=Qk;Lt.createFactory=function(e){var r=Qk.bind(null,e);return r.type=e,r};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(e){return{$$typeof:O6,render:e}};Lt.isValidElement=IN;Lt.lazy=function(e){return{$$typeof:M6,_payload:{_status:-1,_result:e},_init:F6}};Lt.memo=function(e,r){return{$$typeof:D6,type:e,compare:r===void 0?null:r}};Lt.startTransition=function(e){var r=Ff.transition;Ff.transition={};try{e()}finally{Ff.transition=r}};Lt.unstable_act=Zk;Lt.useCallback=function(e,r){return Hn.current.useCallback(e,r)};Lt.useContext=function(e){return Hn.current.useContext(e)};Lt.useDebugValue=function(){};Lt.useDeferredValue=function(e){return Hn.current.useDeferredValue(e)};Lt.useEffect=function(e,r){return Hn.current.useEffect(e,r)};Lt.useId=function(){return Hn.current.useId()};Lt.useImperativeHandle=function(e,r,n){return Hn.current.useImperativeHandle(e,r,n)};Lt.useInsertionEffect=function(e,r){return Hn.current.useInsertionEffect(e,r)};Lt.useLayoutEffect=function(e,r){return Hn.current.useLayoutEffect(e,r)};Lt.useMemo=function(e,r){return Hn.current.useMemo(e,r)};Lt.useReducer=function(e,r,n){return Hn.current.useReducer(e,r,n)};Lt.useRef=function(e){return Hn.current.useRef(e)};Lt.useState=function(e){return Hn.current.useState(e)};Lt.useSyncExternalStore=function(e,r,n){return Hn.current.useSyncExternalStore(e,r,n)};Lt.useTransition=function(){return Hn.current.useTransition()};Lt.version="18.3.1";qk.exports=Lt;var g=qk.exports;const L=Jt(g),$N=P6({__proto__:null,default:L},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B6=g,U6=Symbol.for("react.element"),V6=Symbol.for("react.fragment"),q6=Object.prototype.hasOwnProperty,W6=B6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H6={key:!0,ref:!0,__self:!0,__source:!0};function Jk(e,r,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(o=r.ref);for(s in r)q6.call(r,s)&&!H6.hasOwnProperty(s)&&(a[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps,r)a[s]===void 0&&(a[s]=r[s]);return{$$typeof:U6,type:e,key:i,ref:o,props:a,_owner:W6.current}}Zx.Fragment=V6;Zx.jsx=Jk;Zx.jsxs=Jk;Vk.exports=Zx;var t=Vk.exports,eE={exports:{}},Ps={},tE={exports:{}},rE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(q,U){var re=q.length;q.push(U);e:for(;0<re;){var he=re-1>>>1,ie=q[he];if(0<a(ie,U))q[he]=U,q[re]=ie,re=he;else break e}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var U=q[0],re=q.pop();if(re!==U){q[0]=re;e:for(var he=0,ie=q.length,fe=ie>>>1;he<fe;){var xe=2*(he+1)-1,ge=q[xe],Te=xe+1,Se=q[Te];if(0>a(ge,re))Te<ie&&0>a(Se,ge)?(q[he]=Se,q[Te]=re,he=Te):(q[he]=ge,q[xe]=re,he=xe);else if(Te<ie&&0>a(Se,re))q[he]=Se,q[Te]=re,he=Te;else break e}}return U}function a(q,U){var re=q.sortIndex-U.sortIndex;return re!==0?re:q.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,y=!1,f=!1,v=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(q){for(var U=n(d);U!==null;){if(U.callback===null)s(d);else if(U.startTime<=q)s(d),U.sortIndex=U.expirationTime,r(c,U);else break;U=n(d)}}function S(q){if(f=!1,b(q),!y)if(n(c)!==null)y=!0,D(w);else{var U=n(d);U!==null&&J(S,U.startTime-q)}}function w(q,U){y=!1,f&&(f=!1,j(_),_=-1),p=!0;var re=h;try{for(b(U),m=n(c);m!==null&&(!(m.expirationTime>U)||q&&!M());){var he=m.callback;if(typeof he=="function"){m.callback=null,h=m.priorityLevel;var ie=he(m.expirationTime<=U);U=e.unstable_now(),typeof ie=="function"?m.callback=ie:m===n(c)&&s(c),b(U)}else s(c);m=n(c)}if(m!==null)var fe=!0;else{var xe=n(d);xe!==null&&J(S,xe.startTime-U),fe=!1}return fe}finally{m=null,h=re,p=!1}}var N=!1,P=null,_=-1,C=5,A=-1;function M(){return!(e.unstable_now()-A<C)}function R(){if(P!==null){var q=e.unstable_now();A=q;var U=!0;try{U=P(!0,q)}finally{U?E():(N=!1,P=null)}}else N=!1}var E;if(typeof x=="function")E=function(){x(R)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,G=F.port2;F.port1.onmessage=R,E=function(){G.postMessage(null)}}else E=function(){v(R,0)};function D(q){P=q,N||(N=!0,E())}function J(q,U){_=v(function(){q(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,D(w))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var re=h;h=U;try{return q()}finally{h=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,U){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=h;h=q;try{return U()}finally{h=re}},e.unstable_scheduleCallback=function(q,U,re){var he=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?he+re:he):re=he,q){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=re+ie,q={id:u++,callback:U,priorityLevel:q,startTime:re,expirationTime:ie,sortIndex:-1},re>he?(q.sortIndex=re,r(d,q),n(c)===null&&q===n(d)&&(f?(j(_),_=-1):f=!0,J(S,re-he))):(q.sortIndex=ie,r(c,q),y||p||(y=!0,D(w))),q},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(q){var U=h;return function(){var re=h;h=U;try{return q.apply(this,arguments)}finally{h=re}}}})(rE);tE.exports=rE;var K6=tE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G6=g,ws=K6;function De(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nE=new Set,om={};function Ll(e,r){Kc(e,r),Kc(e+"Capture",r)}function Kc(e,r){for(om[e]=r,e=0;e<r.length;e++)nE.add(r[e])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sj=Object.prototype.hasOwnProperty,X6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B2={},U2={};function Y6(e){return Sj.call(U2,e)?!0:Sj.call(B2,e)?!1:X6.test(e)?U2[e]=!0:(B2[e]=!0,!1)}function Q6(e,r,n,s){if(n!==null&&n.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Z6(e,r,n,s){if(r===null||typeof r>"u"||Q6(e,r,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Kn(e,r,n,s,a,i,o){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=o}var bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bn[e]=new Kn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];bn[r]=new Kn(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bn[e]=new Kn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bn[e]=new Kn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bn[e]=new Kn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bn[e]=new Kn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bn[e]=new Kn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bn[e]=new Kn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bn[e]=new Kn(e,5,!1,e.toLowerCase(),null,!1,!1)});var LN=/[\-:]([a-z])/g;function FN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(LN,FN);bn[r]=new Kn(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(LN,FN);bn[r]=new Kn(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(LN,FN);bn[r]=new Kn(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bn[e]=new Kn(e,1,!1,e.toLowerCase(),null,!1,!1)});bn.xlinkHref=new Kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bn[e]=new Kn(e,1,!1,e.toLowerCase(),null,!0,!0)});function zN(e,r,n,s){var a=bn.hasOwnProperty(r)?bn[r]:null;(a!==null?a.type!==0:s||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Z6(r,n,a,s)&&(n=null),s||a===null?Y6(r)&&(n===null?e.removeAttribute(r):e.setAttribute(r,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(r=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(r):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,r,n):e.setAttribute(r,n))))}var ki=G6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wh=Symbol.for("react.element"),cc=Symbol.for("react.portal"),dc=Symbol.for("react.fragment"),BN=Symbol.for("react.strict_mode"),Pj=Symbol.for("react.profiler"),sE=Symbol.for("react.provider"),aE=Symbol.for("react.context"),UN=Symbol.for("react.forward_ref"),Cj=Symbol.for("react.suspense"),_j=Symbol.for("react.suspense_list"),VN=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),iE=Symbol.for("react.offscreen"),V2=Symbol.iterator;function cu(e){return e===null||typeof e!="object"?null:(e=V2&&e[V2]||e["@@iterator"],typeof e=="function"?e:null)}var Er=Object.assign,Kv;function Lu(e){if(Kv===void 0)try{throw Error()}catch(n){var r=n.stack.trim().match(/\n( *(at )?)/);Kv=r&&r[1]||""}return`
`+Kv+e}var Gv=!1;function Xv(e,r){if(!e||Gv)return"";Gv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(d){var s=d}Reflect.construct(e,[],r)}else{try{r.call()}catch(d){s=d}e.call(r.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Gv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Lu(e):""}function J6(e){switch(e.tag){case 5:return Lu(e.type);case 16:return Lu("Lazy");case 13:return Lu("Suspense");case 19:return Lu("SuspenseList");case 0:case 2:case 15:return e=Xv(e.type,!1),e;case 11:return e=Xv(e.type.render,!1),e;case 1:return e=Xv(e.type,!0),e;default:return""}}function Aj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dc:return"Fragment";case cc:return"Portal";case Pj:return"Profiler";case BN:return"StrictMode";case Cj:return"Suspense";case _j:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aE:return(e.displayName||"Context")+".Consumer";case sE:return(e._context.displayName||"Context")+".Provider";case UN:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case VN:return r=e.displayName||null,r!==null?r:Aj(e.type)||"Memo";case qi:r=e._payload,e=e._init;try{return Aj(e(r))}catch{}}return null}function eF(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Aj(r);case 8:return r===BN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function yo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oE(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function tF(e){var r=oE(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),s=""+e[r];if(!e.hasOwnProperty(r)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,r,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Hh(e){e._valueTracker||(e._valueTracker=tF(e))}function lE(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var n=r.getValue(),s="";return e&&(s=oE(e)?e.checked?"true":"false":e.value),e=s,e!==n?(r.setValue(e),!0):!1}function lp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tj(e,r){var n=r.checked;return Er({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function q2(e,r){var n=r.defaultValue==null?"":r.defaultValue,s=r.checked!=null?r.checked:r.defaultChecked;n=yo(r.value!=null?r.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function cE(e,r){r=r.checked,r!=null&&zN(e,"checked",r,!1)}function kj(e,r){cE(e,r);var n=yo(r.value),s=r.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Ej(e,r.type,n):r.hasOwnProperty("defaultValue")&&Ej(e,r.type,yo(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function W2(e,r,n){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var s=r.type;if(!(s!=="submit"&&s!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,n||r===e.value||(e.value=r),e.defaultValue=r}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ej(e,r,n){(r!=="number"||lp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fu=Array.isArray;function _c(e,r,n,s){if(e=e.options,r){r={};for(var a=0;a<n.length;a++)r["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=r.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+yo(n),r=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}r!==null||e[a].disabled||(r=e[a])}r!==null&&(r.selected=!0)}}function Oj(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(De(91));return Er({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function H2(e,r){var n=r.value;if(n==null){if(n=r.children,r=r.defaultValue,n!=null){if(r!=null)throw Error(De(92));if(Fu(n)){if(1<n.length)throw Error(De(93));n=n[0]}r=n}r==null&&(r=""),n=r}e._wrapperState={initialValue:yo(n)}}function dE(e,r){var n=yo(r.value),s=yo(r.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),r.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function K2(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function uE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rj(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?uE(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kh,mE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(r,n,s,a)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Kh=Kh||document.createElement("div"),Kh.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Kh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function lm(e,r){if(r){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=r;return}}e.textContent=r}var qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rF=["Webkit","ms","Moz","O"];Object.keys(qu).forEach(function(e){rF.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),qu[r]=qu[e]})});function hE(e,r,n){return r==null||typeof r=="boolean"||r===""?"":n||typeof r!="number"||r===0||qu.hasOwnProperty(e)&&qu[e]?(""+r).trim():r+"px"}function fE(e,r){e=e.style;for(var n in r)if(r.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=hE(n,r[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var nF=Er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dj(e,r){if(r){if(nF[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(De(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(De(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(De(61))}if(r.style!=null&&typeof r.style!="object")throw Error(De(62))}}function Mj(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ij=null;function qN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $j=null,Ac=null,Tc=null;function G2(e){if(e=jh(e)){if(typeof $j!="function")throw Error(De(280));var r=e.stateNode;r&&(r=ng(r),$j(e.stateNode,e.type,r))}}function pE(e){Ac?Tc?Tc.push(e):Tc=[e]:Ac=e}function xE(){if(Ac){var e=Ac,r=Tc;if(Tc=Ac=null,G2(e),r)for(e=0;e<r.length;e++)G2(r[e])}}function gE(e,r){return e(r)}function vE(){}var Yv=!1;function yE(e,r,n){if(Yv)return e(r,n);Yv=!0;try{return gE(e,r,n)}finally{Yv=!1,(Ac!==null||Tc!==null)&&(vE(),xE())}}function cm(e,r){var n=e.stateNode;if(n===null)return null;var s=ng(n);if(s===null)return null;n=s[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(De(231,r,typeof n));return n}var Lj=!1;if(gi)try{var du={};Object.defineProperty(du,"passive",{get:function(){Lj=!0}}),window.addEventListener("test",du,du),window.removeEventListener("test",du,du)}catch{Lj=!1}function sF(e,r,n,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{r.apply(n,d)}catch(u){this.onError(u)}}var Wu=!1,cp=null,dp=!1,Fj=null,aF={onError:function(e){Wu=!0,cp=e}};function iF(e,r,n,s,a,i,o,l,c){Wu=!1,cp=null,sF.apply(aF,arguments)}function oF(e,r,n,s,a,i,o,l,c){if(iF.apply(this,arguments),Wu){if(Wu){var d=cp;Wu=!1,cp=null}else throw Error(De(198));dp||(dp=!0,Fj=d)}}function Fl(e){var r=e,n=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(n=r.return),e=r.return;while(e)}return r.tag===3?n:null}function jE(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function X2(e){if(Fl(e)!==e)throw Error(De(188))}function lF(e){var r=e.alternate;if(!r){if(r=Fl(e),r===null)throw Error(De(188));return r!==e?null:e}for(var n=e,s=r;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return X2(a),e;if(i===s)return X2(a),r;i=i.sibling}throw Error(De(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o)throw Error(De(189))}}if(n.alternate!==s)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?e:r}function bE(e){return e=lF(e),e!==null?NE(e):null}function NE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=NE(e);if(r!==null)return r;e=e.sibling}return null}var wE=ws.unstable_scheduleCallback,Y2=ws.unstable_cancelCallback,cF=ws.unstable_shouldYield,dF=ws.unstable_requestPaint,Ur=ws.unstable_now,uF=ws.unstable_getCurrentPriorityLevel,WN=ws.unstable_ImmediatePriority,SE=ws.unstable_UserBlockingPriority,up=ws.unstable_NormalPriority,mF=ws.unstable_LowPriority,PE=ws.unstable_IdlePriority,Jx=null,za=null;function hF(e){if(za&&typeof za.onCommitFiberRoot=="function")try{za.onCommitFiberRoot(Jx,e,void 0,(e.current.flags&128)===128)}catch{}}var ca=Math.clz32?Math.clz32:xF,fF=Math.log,pF=Math.LN2;function xF(e){return e>>>=0,e===0?32:31-(fF(e)/pF|0)|0}var Gh=64,Xh=4194304;function zu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mp(e,r){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?s=zu(l):(i&=o,i!==0&&(s=zu(i)))}else o=n&~a,o!==0?s=zu(o):i!==0&&(s=zu(i));if(s===0)return 0;if(r!==0&&r!==s&&!(r&a)&&(a=s&-s,i=r&-r,a>=i||a===16&&(i&4194240)!==0))return r;if(s&4&&(s|=n&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=s;0<r;)n=31-ca(r),a=1<<n,s|=e[n],r&=~a;return s}function gF(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vF(e,r){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ca(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&s)&&(a[o]=gF(l,r)):c<=r&&(e.expiredLanes|=l),i&=~l}}function zj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function CE(){var e=Gh;return Gh<<=1,!(Gh&4194240)&&(Gh=64),e}function Qv(e){for(var r=[],n=0;31>n;n++)r.push(e);return r}function vh(e,r,n){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-ca(r),e[r]=n}function yF(e,r){var n=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ca(n),i=1<<a;r[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function HN(e,r){var n=e.entangledLanes|=r;for(e=e.entanglements;n;){var s=31-ca(n),a=1<<s;a&r|e[s]&r&&(e[s]|=r),n&=~a}}var tr=0;function _E(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var AE,KN,TE,kE,EE,Bj=!1,Yh=[],oo=null,lo=null,co=null,dm=new Map,um=new Map,Ki=[],jF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Q2(e,r){switch(e){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":dm.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":um.delete(r.pointerId)}}function uu(e,r,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:r,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},r!==null&&(r=jh(r),r!==null&&KN(r)),e):(e.eventSystemFlags|=s,r=e.targetContainers,a!==null&&r.indexOf(a)===-1&&r.push(a),e)}function bF(e,r,n,s,a){switch(r){case"focusin":return oo=uu(oo,e,r,n,s,a),!0;case"dragenter":return lo=uu(lo,e,r,n,s,a),!0;case"mouseover":return co=uu(co,e,r,n,s,a),!0;case"pointerover":var i=a.pointerId;return dm.set(i,uu(dm.get(i)||null,e,r,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,um.set(i,uu(um.get(i)||null,e,r,n,s,a)),!0}return!1}function OE(e){var r=Yo(e.target);if(r!==null){var n=Fl(r);if(n!==null){if(r=n.tag,r===13){if(r=jE(n),r!==null){e.blockedOn=r,EE(e.priority,function(){TE(n)});return}}else if(r===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zf(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var n=Uj(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Ij=s,n.target.dispatchEvent(s),Ij=null}else return r=jh(n),r!==null&&KN(r),e.blockedOn=n,!1;r.shift()}return!0}function Z2(e,r,n){zf(e)&&n.delete(r)}function NF(){Bj=!1,oo!==null&&zf(oo)&&(oo=null),lo!==null&&zf(lo)&&(lo=null),co!==null&&zf(co)&&(co=null),dm.forEach(Z2),um.forEach(Z2)}function mu(e,r){e.blockedOn===r&&(e.blockedOn=null,Bj||(Bj=!0,ws.unstable_scheduleCallback(ws.unstable_NormalPriority,NF)))}function mm(e){function r(a){return mu(a,e)}if(0<Yh.length){mu(Yh[0],e);for(var n=1;n<Yh.length;n++){var s=Yh[n];s.blockedOn===e&&(s.blockedOn=null)}}for(oo!==null&&mu(oo,e),lo!==null&&mu(lo,e),co!==null&&mu(co,e),dm.forEach(r),um.forEach(r),n=0;n<Ki.length;n++)s=Ki[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ki.length&&(n=Ki[0],n.blockedOn===null);)OE(n),n.blockedOn===null&&Ki.shift()}var kc=ki.ReactCurrentBatchConfig,hp=!0;function wF(e,r,n,s){var a=tr,i=kc.transition;kc.transition=null;try{tr=1,GN(e,r,n,s)}finally{tr=a,kc.transition=i}}function SF(e,r,n,s){var a=tr,i=kc.transition;kc.transition=null;try{tr=4,GN(e,r,n,s)}finally{tr=a,kc.transition=i}}function GN(e,r,n,s){if(hp){var a=Uj(e,r,n,s);if(a===null)oy(e,r,s,fp,n),Q2(e,s);else if(bF(a,e,r,n,s))s.stopPropagation();else if(Q2(e,s),r&4&&-1<jF.indexOf(e)){for(;a!==null;){var i=jh(a);if(i!==null&&AE(i),i=Uj(e,r,n,s),i===null&&oy(e,r,s,fp,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else oy(e,r,s,null,n)}}var fp=null;function Uj(e,r,n,s){if(fp=null,e=qN(s),e=Yo(e),e!==null)if(r=Fl(e),r===null)e=null;else if(n=r.tag,n===13){if(e=jE(r),e!==null)return e;e=null}else if(n===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return fp=e,null}function RE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uF()){case WN:return 1;case SE:return 4;case up:case mF:return 16;case PE:return 536870912;default:return 16}default:return 16}}var ro=null,XN=null,Bf=null;function DE(){if(Bf)return Bf;var e,r=XN,n=r.length,s,a="value"in ro?ro.value:ro.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&r[n-s]===a[i-s];s++);return Bf=a.slice(e,1<s?1-s:void 0)}function Uf(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Qh(){return!0}function J2(){return!1}function Cs(e){function r(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qh:J2,this.isPropagationStopped=J2,this}return Er(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qh)},persist:function(){},isPersistent:Qh}),r}var Dd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},YN=Cs(Dd),yh=Er({},Dd,{view:0,detail:0}),PF=Cs(yh),Zv,Jv,hu,eg=Er({},yh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:QN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hu&&(hu&&e.type==="mousemove"?(Zv=e.screenX-hu.screenX,Jv=e.screenY-hu.screenY):Jv=Zv=0,hu=e),Zv)},movementY:function(e){return"movementY"in e?e.movementY:Jv}}),eS=Cs(eg),CF=Er({},eg,{dataTransfer:0}),_F=Cs(CF),AF=Er({},yh,{relatedTarget:0}),ey=Cs(AF),TF=Er({},Dd,{animationName:0,elapsedTime:0,pseudoElement:0}),kF=Cs(TF),EF=Er({},Dd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OF=Cs(EF),RF=Er({},Dd,{data:0}),tS=Cs(RF),DF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $F(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=IF[e])?!!r[e]:!1}function QN(){return $F}var LF=Er({},yh,{key:function(e){if(e.key){var r=DF[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Uf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:QN,charCode:function(e){return e.type==="keypress"?Uf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FF=Cs(LF),zF=Er({},eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rS=Cs(zF),BF=Er({},yh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:QN}),UF=Cs(BF),VF=Er({},Dd,{propertyName:0,elapsedTime:0,pseudoElement:0}),qF=Cs(VF),WF=Er({},eg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HF=Cs(WF),KF=[9,13,27,32],ZN=gi&&"CompositionEvent"in window,Hu=null;gi&&"documentMode"in document&&(Hu=document.documentMode);var GF=gi&&"TextEvent"in window&&!Hu,ME=gi&&(!ZN||Hu&&8<Hu&&11>=Hu),nS=" ",sS=!1;function IE(e,r){switch(e){case"keyup":return KF.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $E(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uc=!1;function XF(e,r){switch(e){case"compositionend":return $E(r);case"keypress":return r.which!==32?null:(sS=!0,nS);case"textInput":return e=r.data,e===nS&&sS?null:e;default:return null}}function YF(e,r){if(uc)return e==="compositionend"||!ZN&&IE(e,r)?(e=DE(),Bf=XN=ro=null,uc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ME&&r.locale!=="ko"?null:r.data;default:return null}}var QF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aS(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!QF[e.type]:r==="textarea"}function LE(e,r,n,s){pE(s),r=pp(r,"onChange"),0<r.length&&(n=new YN("onChange","change",null,n,s),e.push({event:n,listeners:r}))}var Ku=null,hm=null;function ZF(e){XE(e,0)}function tg(e){var r=fc(e);if(lE(r))return e}function JF(e,r){if(e==="change")return r}var FE=!1;if(gi){var ty;if(gi){var ry="oninput"in document;if(!ry){var iS=document.createElement("div");iS.setAttribute("oninput","return;"),ry=typeof iS.oninput=="function"}ty=ry}else ty=!1;FE=ty&&(!document.documentMode||9<document.documentMode)}function oS(){Ku&&(Ku.detachEvent("onpropertychange",zE),hm=Ku=null)}function zE(e){if(e.propertyName==="value"&&tg(hm)){var r=[];LE(r,hm,e,qN(e)),yE(ZF,r)}}function e8(e,r,n){e==="focusin"?(oS(),Ku=r,hm=n,Ku.attachEvent("onpropertychange",zE)):e==="focusout"&&oS()}function t8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tg(hm)}function r8(e,r){if(e==="click")return tg(r)}function n8(e,r){if(e==="input"||e==="change")return tg(r)}function s8(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var pa=typeof Object.is=="function"?Object.is:s8;function fm(e,r){if(pa(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var n=Object.keys(e),s=Object.keys(r);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!Sj.call(r,a)||!pa(e[a],r[a]))return!1}return!0}function lS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cS(e,r){var n=lS(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=r&&s>=r)return{node:n,offset:r-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lS(n)}}function BE(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?BE(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function UE(){for(var e=window,r=lp();r instanceof e.HTMLIFrameElement;){try{var n=typeof r.contentWindow.location.href=="string"}catch{n=!1}if(n)e=r.contentWindow;else break;r=lp(e.document)}return r}function JN(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function a8(e){var r=UE(),n=e.focusedElem,s=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&BE(n.ownerDocument.documentElement,n)){if(s!==null&&JN(n)){if(r=s.start,e=s.end,e===void 0&&(e=r),"selectionStart"in n)n.selectionStart=r,n.selectionEnd=Math.min(e,n.value.length);else if(e=(r=n.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=cS(n,i);var o=cS(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(r=r.createRange(),r.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(r),e.extend(o.node,o.offset)):(r.setEnd(o.node,o.offset),e.addRange(r)))}}for(r=[],e=n;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<r.length;n++)e=r[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var i8=gi&&"documentMode"in document&&11>=document.documentMode,mc=null,Vj=null,Gu=null,qj=!1;function dS(e,r,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qj||mc==null||mc!==lp(s)||(s=mc,"selectionStart"in s&&JN(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Gu&&fm(Gu,s)||(Gu=s,s=pp(Vj,"onSelect"),0<s.length&&(r=new YN("onSelect","select",null,r,n),e.push({event:r,listeners:s}),r.target=mc)))}function Zh(e,r){var n={};return n[e.toLowerCase()]=r.toLowerCase(),n["Webkit"+e]="webkit"+r,n["Moz"+e]="moz"+r,n}var hc={animationend:Zh("Animation","AnimationEnd"),animationiteration:Zh("Animation","AnimationIteration"),animationstart:Zh("Animation","AnimationStart"),transitionend:Zh("Transition","TransitionEnd")},ny={},VE={};gi&&(VE=document.createElement("div").style,"AnimationEvent"in window||(delete hc.animationend.animation,delete hc.animationiteration.animation,delete hc.animationstart.animation),"TransitionEvent"in window||delete hc.transitionend.transition);function rg(e){if(ny[e])return ny[e];if(!hc[e])return e;var r=hc[e],n;for(n in r)if(r.hasOwnProperty(n)&&n in VE)return ny[e]=r[n];return e}var qE=rg("animationend"),WE=rg("animationiteration"),HE=rg("animationstart"),KE=rg("transitionend"),GE=new Map,uS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(e,r){GE.set(e,r),Ll(r,[e])}for(var sy=0;sy<uS.length;sy++){var ay=uS[sy],o8=ay.toLowerCase(),l8=ay[0].toUpperCase()+ay.slice(1);Po(o8,"on"+l8)}Po(qE,"onAnimationEnd");Po(WE,"onAnimationIteration");Po(HE,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(KE,"onTransitionEnd");Kc("onMouseEnter",["mouseout","mouseover"]);Kc("onMouseLeave",["mouseout","mouseover"]);Kc("onPointerEnter",["pointerout","pointerover"]);Kc("onPointerLeave",["pointerout","pointerover"]);Ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bu));function mS(e,r,n){var s=e.type||"unknown-event";e.currentTarget=n,oF(s,r,void 0,e),e.currentTarget=null}function XE(e,r){r=(r&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(r)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;mS(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;mS(a,l,d),i=c}}}if(dp)throw e=Fj,dp=!1,Fj=null,e}function pr(e,r){var n=r[Xj];n===void 0&&(n=r[Xj]=new Set);var s=e+"__bubble";n.has(s)||(YE(r,e,2,!1),n.add(s))}function iy(e,r,n){var s=0;r&&(s|=4),YE(n,e,s,r)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function pm(e){if(!e[Jh]){e[Jh]=!0,nE.forEach(function(n){n!=="selectionchange"&&(c8.has(n)||iy(n,!1,e),iy(n,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Jh]||(r[Jh]=!0,iy("selectionchange",!1,r))}}function YE(e,r,n,s){switch(RE(r)){case 1:var a=wF;break;case 4:a=SF;break;default:a=GN}n=a.bind(null,r,n,e),a=void 0,!Lj||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(r,n,{capture:!0,passive:a}):e.addEventListener(r,n,!0):a!==void 0?e.addEventListener(r,n,{passive:a}):e.addEventListener(r,n,!1)}function oy(e,r,n,s,a){var i=s;if(!(r&1)&&!(r&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Yo(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}yE(function(){var d=i,u=qN(n),m=[];e:{var h=GE.get(e);if(h!==void 0){var p=YN,y=e;switch(e){case"keypress":if(Uf(n)===0)break e;case"keydown":case"keyup":p=FF;break;case"focusin":y="focus",p=ey;break;case"focusout":y="blur",p=ey;break;case"beforeblur":case"afterblur":p=ey;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=eS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_F;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=UF;break;case qE:case WE:case HE:p=kF;break;case KE:p=qF;break;case"scroll":p=PF;break;case"wheel":p=HF;break;case"copy":case"cut":case"paste":p=OF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rS}var f=(r&4)!==0,v=!f&&e==="scroll",j=f?h!==null?h+"Capture":null:h;f=[];for(var x=d,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,j!==null&&(S=cm(x,j),S!=null&&f.push(xm(x,S,b)))),v)break;x=x.return}0<f.length&&(h=new p(h,y,null,n,u),m.push({event:h,listeners:f}))}}if(!(r&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Ij&&(y=n.relatedTarget||n.fromElement)&&(Yo(y)||y[vi]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=d,y=y?Yo(y):null,y!==null&&(v=Fl(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=d),p!==y)){if(f=eS,S="onMouseLeave",j="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(f=rS,S="onPointerLeave",j="onPointerEnter",x="pointer"),v=p==null?h:fc(p),b=y==null?h:fc(y),h=new f(S,x+"leave",p,n,u),h.target=v,h.relatedTarget=b,S=null,Yo(u)===d&&(f=new f(j,x+"enter",y,n,u),f.target=b,f.relatedTarget=v,S=f),v=S,p&&y)t:{for(f=p,j=y,x=0,b=f;b;b=Xl(b))x++;for(b=0,S=j;S;S=Xl(S))b++;for(;0<x-b;)f=Xl(f),x--;for(;0<b-x;)j=Xl(j),b--;for(;x--;){if(f===j||j!==null&&f===j.alternate)break t;f=Xl(f),j=Xl(j)}f=null}else f=null;p!==null&&hS(m,h,p,f,!1),y!==null&&v!==null&&hS(m,v,y,f,!0)}}e:{if(h=d?fc(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=JF;else if(aS(h))if(FE)w=n8;else{w=t8;var N=e8}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=r8);if(w&&(w=w(e,d))){LE(m,w,n,u);break e}N&&N(e,h,d),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Ej(h,"number",h.value)}switch(N=d?fc(d):window,e){case"focusin":(aS(N)||N.contentEditable==="true")&&(mc=N,Vj=d,Gu=null);break;case"focusout":Gu=Vj=mc=null;break;case"mousedown":qj=!0;break;case"contextmenu":case"mouseup":case"dragend":qj=!1,dS(m,n,u);break;case"selectionchange":if(i8)break;case"keydown":case"keyup":dS(m,n,u)}var P;if(ZN)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else uc?IE(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(ME&&n.locale!=="ko"&&(uc||_!=="onCompositionStart"?_==="onCompositionEnd"&&uc&&(P=DE()):(ro=u,XN="value"in ro?ro.value:ro.textContent,uc=!0)),N=pp(d,_),0<N.length&&(_=new tS(_,e,null,n,u),m.push({event:_,listeners:N}),P?_.data=P:(P=$E(n),P!==null&&(_.data=P)))),(P=GF?XF(e,n):YF(e,n))&&(d=pp(d,"onBeforeInput"),0<d.length&&(u=new tS("onBeforeInput","beforeinput",null,n,u),m.push({event:u,listeners:d}),u.data=P))}XE(m,r)})}function xm(e,r,n){return{instance:e,listener:r,currentTarget:n}}function pp(e,r){for(var n=r+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=cm(e,n),i!=null&&s.unshift(xm(e,i,a)),i=cm(e,r),i!=null&&s.push(xm(e,i,a))),e=e.return}return s}function Xl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hS(e,r,n,s,a){for(var i=r._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=cm(n,i),c!=null&&o.unshift(xm(n,c,l))):a||(c=cm(n,i),c!=null&&o.push(xm(n,c,l)))),n=n.return}o.length!==0&&e.push({event:r,listeners:o})}var d8=/\r\n?/g,u8=/\u0000|\uFFFD/g;function fS(e){return(typeof e=="string"?e:""+e).replace(d8,`
`).replace(u8,"")}function ef(e,r,n){if(r=fS(r),fS(e)!==r&&n)throw Error(De(425))}function xp(){}var Wj=null,Hj=null;function Kj(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gj=typeof setTimeout=="function"?setTimeout:void 0,m8=typeof clearTimeout=="function"?clearTimeout:void 0,pS=typeof Promise=="function"?Promise:void 0,h8=typeof queueMicrotask=="function"?queueMicrotask:typeof pS<"u"?function(e){return pS.resolve(null).then(e).catch(f8)}:Gj;function f8(e){setTimeout(function(){throw e})}function ly(e,r){var n=r,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),mm(r);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);mm(r)}function uo(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function xS(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(r===0)return e;r--}else n==="/$"&&r++}e=e.previousSibling}return null}var Md=Math.random().toString(36).slice(2),Oa="__reactFiber$"+Md,gm="__reactProps$"+Md,vi="__reactContainer$"+Md,Xj="__reactEvents$"+Md,p8="__reactListeners$"+Md,x8="__reactHandles$"+Md;function Yo(e){var r=e[Oa];if(r)return r;for(var n=e.parentNode;n;){if(r=n[vi]||n[Oa]){if(n=r.alternate,r.child!==null||n!==null&&n.child!==null)for(e=xS(e);e!==null;){if(n=e[Oa])return n;e=xS(e)}return r}e=n,n=e.parentNode}return null}function jh(e){return e=e[Oa]||e[vi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(De(33))}function ng(e){return e[gm]||null}var Yj=[],pc=-1;function Co(e){return{current:e}}function yr(e){0>pc||(e.current=Yj[pc],Yj[pc]=null,pc--)}function mr(e,r){pc++,Yj[pc]=e.current,e.current=r}var jo={},Rn=Co(jo),ts=Co(!1),vl=jo;function Gc(e,r){var n=e.type.contextTypes;if(!n)return jo;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===r)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=r[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),a}function rs(e){return e=e.childContextTypes,e!=null}function gp(){yr(ts),yr(Rn)}function gS(e,r,n){if(Rn.current!==jo)throw Error(De(168));mr(Rn,r),mr(ts,n)}function QE(e,r,n){var s=e.stateNode;if(r=r.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in r))throw Error(De(108,eF(e)||"Unknown",a));return Er({},n,s)}function vp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jo,vl=Rn.current,mr(Rn,e),mr(ts,ts.current),!0}function vS(e,r,n){var s=e.stateNode;if(!s)throw Error(De(169));n?(e=QE(e,r,vl),s.__reactInternalMemoizedMergedChildContext=e,yr(ts),yr(Rn),mr(Rn,e)):yr(ts),mr(ts,n)}var ai=null,sg=!1,cy=!1;function ZE(e){ai===null?ai=[e]:ai.push(e)}function g8(e){sg=!0,ZE(e)}function _o(){if(!cy&&ai!==null){cy=!0;var e=0,r=tr;try{var n=ai;for(tr=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}ai=null,sg=!1}catch(a){throw ai!==null&&(ai=ai.slice(e+1)),wE(WN,_o),a}finally{tr=r,cy=!1}}return null}var xc=[],gc=0,yp=null,jp=0,Rs=[],Ds=0,yl=null,oi=1,li="";function qo(e,r){xc[gc++]=jp,xc[gc++]=yp,yp=e,jp=r}function JE(e,r,n){Rs[Ds++]=oi,Rs[Ds++]=li,Rs[Ds++]=yl,yl=e;var s=oi;e=li;var a=32-ca(s)-1;s&=~(1<<a),n+=1;var i=32-ca(r)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,oi=1<<32-ca(r)+a|n<<a|s,li=i+e}else oi=1<<i|n<<a|s,li=e}function ew(e){e.return!==null&&(qo(e,1),JE(e,1,0))}function tw(e){for(;e===yp;)yp=xc[--gc],xc[gc]=null,jp=xc[--gc],xc[gc]=null;for(;e===yl;)yl=Rs[--Ds],Rs[Ds]=null,li=Rs[--Ds],Rs[Ds]=null,oi=Rs[--Ds],Rs[Ds]=null}var ys=null,vs=null,Sr=!1,ia=null;function eO(e,r){var n=Is(5,null,null,0);n.elementType="DELETED",n.stateNode=r,n.return=e,r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)}function yS(e,r){switch(e.tag){case 5:var n=e.type;return r=r.nodeType!==1||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,ys=e,vs=uo(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,ys=e,vs=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(n=yl!==null?{id:oi,overflow:li}:null,e.memoizedState={dehydrated:r,treeContext:n,retryLane:1073741824},n=Is(18,null,null,0),n.stateNode=r,n.return=e,e.child=n,ys=e,vs=null,!0):!1;default:return!1}}function Qj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zj(e){if(Sr){var r=vs;if(r){var n=r;if(!yS(e,r)){if(Qj(e))throw Error(De(418));r=uo(n.nextSibling);var s=ys;r&&yS(e,r)?eO(s,n):(e.flags=e.flags&-4097|2,Sr=!1,ys=e)}}else{if(Qj(e))throw Error(De(418));e.flags=e.flags&-4097|2,Sr=!1,ys=e}}}function jS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ys=e}function tf(e){if(e!==ys)return!1;if(!Sr)return jS(e),Sr=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Kj(e.type,e.memoizedProps)),r&&(r=vs)){if(Qj(e))throw tO(),Error(De(418));for(;r;)eO(e,r),r=uo(r.nextSibling)}if(jS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(r===0){vs=uo(e.nextSibling);break e}r--}else n!=="$"&&n!=="$!"&&n!=="$?"||r++}e=e.nextSibling}vs=null}}else vs=ys?uo(e.stateNode.nextSibling):null;return!0}function tO(){for(var e=vs;e;)e=uo(e.nextSibling)}function Xc(){vs=ys=null,Sr=!1}function rw(e){ia===null?ia=[e]:ia.push(e)}var v8=ki.ReactCurrentBatchConfig;function fu(e,r,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var s=n.stateNode}if(!s)throw Error(De(147,e));var a=s,i=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},r._stringRef=i,r)}if(typeof e!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,e))}return e}function rf(e,r){throw e=Object.prototype.toString.call(r),Error(De(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function bS(e){var r=e._init;return r(e._payload)}function rO(e){function r(j,x){if(e){var b=j.deletions;b===null?(j.deletions=[x],j.flags|=16):b.push(x)}}function n(j,x){if(!e)return null;for(;x!==null;)r(j,x),x=x.sibling;return null}function s(j,x){for(j=new Map;x!==null;)x.key!==null?j.set(x.key,x):j.set(x.index,x),x=x.sibling;return j}function a(j,x){return j=po(j,x),j.index=0,j.sibling=null,j}function i(j,x,b){return j.index=b,e?(b=j.alternate,b!==null?(b=b.index,b<x?(j.flags|=2,x):b):(j.flags|=2,x)):(j.flags|=1048576,x)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,x,b,S){return x===null||x.tag!==6?(x=xy(b,j.mode,S),x.return=j,x):(x=a(x,b),x.return=j,x)}function c(j,x,b,S){var w=b.type;return w===dc?u(j,x,b.props.children,S,b.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===qi&&bS(w)===x.type)?(S=a(x,b.props),S.ref=fu(j,x,b),S.return=j,S):(S=Xf(b.type,b.key,b.props,null,j.mode,S),S.ref=fu(j,x,b),S.return=j,S)}function d(j,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=gy(b,j.mode,S),x.return=j,x):(x=a(x,b.children||[]),x.return=j,x)}function u(j,x,b,S,w){return x===null||x.tag!==7?(x=hl(b,j.mode,S,w),x.return=j,x):(x=a(x,b),x.return=j,x)}function m(j,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=xy(""+x,j.mode,b),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wh:return b=Xf(x.type,x.key,x.props,null,j.mode,b),b.ref=fu(j,null,x),b.return=j,b;case cc:return x=gy(x,j.mode,b),x.return=j,x;case qi:var S=x._init;return m(j,S(x._payload),b)}if(Fu(x)||cu(x))return x=hl(x,j.mode,b,null),x.return=j,x;rf(j,x)}return null}function h(j,x,b,S){var w=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:l(j,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wh:return b.key===w?c(j,x,b,S):null;case cc:return b.key===w?d(j,x,b,S):null;case qi:return w=b._init,h(j,x,w(b._payload),S)}if(Fu(b)||cu(b))return w!==null?null:u(j,x,b,S,null);rf(j,b)}return null}function p(j,x,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return j=j.get(b)||null,l(x,j,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Wh:return j=j.get(S.key===null?b:S.key)||null,c(x,j,S,w);case cc:return j=j.get(S.key===null?b:S.key)||null,d(x,j,S,w);case qi:var N=S._init;return p(j,x,b,N(S._payload),w)}if(Fu(S)||cu(S))return j=j.get(b)||null,u(x,j,S,w,null);rf(x,S)}return null}function y(j,x,b,S){for(var w=null,N=null,P=x,_=x=0,C=null;P!==null&&_<b.length;_++){P.index>_?(C=P,P=null):C=P.sibling;var A=h(j,P,b[_],S);if(A===null){P===null&&(P=C);break}e&&P&&A.alternate===null&&r(j,P),x=i(A,x,_),N===null?w=A:N.sibling=A,N=A,P=C}if(_===b.length)return n(j,P),Sr&&qo(j,_),w;if(P===null){for(;_<b.length;_++)P=m(j,b[_],S),P!==null&&(x=i(P,x,_),N===null?w=P:N.sibling=P,N=P);return Sr&&qo(j,_),w}for(P=s(j,P);_<b.length;_++)C=p(P,j,_,b[_],S),C!==null&&(e&&C.alternate!==null&&P.delete(C.key===null?_:C.key),x=i(C,x,_),N===null?w=C:N.sibling=C,N=C);return e&&P.forEach(function(M){return r(j,M)}),Sr&&qo(j,_),w}function f(j,x,b,S){var w=cu(b);if(typeof w!="function")throw Error(De(150));if(b=w.call(b),b==null)throw Error(De(151));for(var N=w=null,P=x,_=x=0,C=null,A=b.next();P!==null&&!A.done;_++,A=b.next()){P.index>_?(C=P,P=null):C=P.sibling;var M=h(j,P,A.value,S);if(M===null){P===null&&(P=C);break}e&&P&&M.alternate===null&&r(j,P),x=i(M,x,_),N===null?w=M:N.sibling=M,N=M,P=C}if(A.done)return n(j,P),Sr&&qo(j,_),w;if(P===null){for(;!A.done;_++,A=b.next())A=m(j,A.value,S),A!==null&&(x=i(A,x,_),N===null?w=A:N.sibling=A,N=A);return Sr&&qo(j,_),w}for(P=s(j,P);!A.done;_++,A=b.next())A=p(P,j,_,A.value,S),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?_:A.key),x=i(A,x,_),N===null?w=A:N.sibling=A,N=A);return e&&P.forEach(function(R){return r(j,R)}),Sr&&qo(j,_),w}function v(j,x,b,S){if(typeof b=="object"&&b!==null&&b.type===dc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Wh:e:{for(var w=b.key,N=x;N!==null;){if(N.key===w){if(w=b.type,w===dc){if(N.tag===7){n(j,N.sibling),x=a(N,b.props.children),x.return=j,j=x;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===qi&&bS(w)===N.type){n(j,N.sibling),x=a(N,b.props),x.ref=fu(j,N,b),x.return=j,j=x;break e}n(j,N);break}else r(j,N);N=N.sibling}b.type===dc?(x=hl(b.props.children,j.mode,S,b.key),x.return=j,j=x):(S=Xf(b.type,b.key,b.props,null,j.mode,S),S.ref=fu(j,x,b),S.return=j,j=S)}return o(j);case cc:e:{for(N=b.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(j,x.sibling),x=a(x,b.children||[]),x.return=j,j=x;break e}else{n(j,x);break}else r(j,x);x=x.sibling}x=gy(b,j.mode,S),x.return=j,j=x}return o(j);case qi:return N=b._init,v(j,x,N(b._payload),S)}if(Fu(b))return y(j,x,b,S);if(cu(b))return f(j,x,b,S);rf(j,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(j,x.sibling),x=a(x,b),x.return=j,j=x):(n(j,x),x=xy(b,j.mode,S),x.return=j,j=x),o(j)):n(j,x)}return v}var Yc=rO(!0),nO=rO(!1),bp=Co(null),Np=null,vc=null,nw=null;function sw(){nw=vc=Np=null}function aw(e){var r=bp.current;yr(bp),e._currentValue=r}function Jj(e,r,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),e===n)break;e=e.return}}function Ec(e,r){Np=e,nw=vc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(Jn=!0),e.firstContext=null)}function Fs(e){var r=e._currentValue;if(nw!==e)if(e={context:e,memoizedValue:r,next:null},vc===null){if(Np===null)throw Error(De(308));vc=e,Np.dependencies={lanes:0,firstContext:e}}else vc=vc.next=e;return r}var Qo=null;function iw(e){Qo===null?Qo=[e]:Qo.push(e)}function sO(e,r,n,s){var a=r.interleaved;return a===null?(n.next=n,iw(r)):(n.next=a.next,a.next=n),r.interleaved=n,yi(e,s)}function yi(e,r){e.lanes|=r;var n=e.alternate;for(n!==null&&(n.lanes|=r),n=e,e=e.return;e!==null;)e.childLanes|=r,n=e.alternate,n!==null&&(n.childLanes|=r),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wi=!1;function ow(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aO(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fi(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function mo(e,r,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Wt&2){var a=s.pending;return a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r,yi(e,n)}return a=s.interleaved,a===null?(r.next=r,iw(s)):(r.next=a.next,a.next=r),s.interleaved=r,yi(e,n)}function Vf(e,r,n){if(r=r.updateQueue,r!==null&&(r=r.shared,(n&4194240)!==0)){var s=r.lanes;s&=e.pendingLanes,n|=s,r.lanes=n,HN(e,n)}}function NS(e,r){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=r:i=i.next=r}else a=i=r;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=r:e.next=r,n.lastBaseUpdate=r}function wp(e,r,n,s){var a=e.updateQueue;Wi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,f=l;switch(h=r,p=n,f.tag){case 1:if(y=f.payload,typeof y=="function"){m=y.call(p,m,h);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=f.payload,h=typeof y=="function"?y.call(p,m,h):y,h==null)break e;m=Er({},m,h);break e;case 2:Wi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=m):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,r=a.shared.interleaved,r!==null){a=r;do o|=a.lane,a=a.next;while(a!==r)}else i===null&&(a.shared.lanes=0);bl|=o,e.lanes=o,e.memoizedState=m}}function wS(e,r,n){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var s=e[r],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(De(191,a));a.call(s)}}}var bh={},Ba=Co(bh),vm=Co(bh),ym=Co(bh);function Zo(e){if(e===bh)throw Error(De(174));return e}function lw(e,r){switch(mr(ym,r),mr(vm,e),mr(Ba,bh),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Rj(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Rj(r,e)}yr(Ba),mr(Ba,r)}function Qc(){yr(Ba),yr(vm),yr(ym)}function iO(e){Zo(ym.current);var r=Zo(Ba.current),n=Rj(r,e.type);r!==n&&(mr(vm,e),mr(Ba,n))}function cw(e){vm.current===e&&(yr(Ba),yr(vm))}var Tr=Co(0);function Sp(e){for(var r=e;r!==null;){if(r.tag===13){var n=r.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var dy=[];function dw(){for(var e=0;e<dy.length;e++)dy[e]._workInProgressVersionPrimary=null;dy.length=0}var qf=ki.ReactCurrentDispatcher,uy=ki.ReactCurrentBatchConfig,jl=0,kr=null,en=null,ln=null,Pp=!1,Xu=!1,jm=0,y8=0;function Pn(){throw Error(De(321))}function uw(e,r){if(r===null)return!1;for(var n=0;n<r.length&&n<e.length;n++)if(!pa(e[n],r[n]))return!1;return!0}function mw(e,r,n,s,a,i){if(jl=i,kr=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,qf.current=e===null||e.memoizedState===null?w8:S8,e=n(s,a),Xu){i=0;do{if(Xu=!1,jm=0,25<=i)throw Error(De(301));i+=1,ln=en=null,r.updateQueue=null,qf.current=P8,e=n(s,a)}while(Xu)}if(qf.current=Cp,r=en!==null&&en.next!==null,jl=0,ln=en=kr=null,Pp=!1,r)throw Error(De(300));return e}function hw(){var e=jm!==0;return jm=0,e}function Aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?kr.memoizedState=ln=e:ln=ln.next=e,ln}function zs(){if(en===null){var e=kr.alternate;e=e!==null?e.memoizedState:null}else e=en.next;var r=ln===null?kr.memoizedState:ln.next;if(r!==null)ln=r,en=e;else{if(e===null)throw Error(De(310));en=e,e={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},ln===null?kr.memoizedState=ln=e:ln=ln.next=e}return ln}function bm(e,r){return typeof r=="function"?r(e):r}function my(e){var r=zs(),n=r.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var s=en,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((jl&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,kr.lanes|=u,bl|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,pa(s,r.memoizedState)||(Jn=!0),r.memoizedState=s,r.baseState=o,r.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,kr.lanes|=i,bl|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[r.memoizedState,n.dispatch]}function hy(e){var r=zs(),n=r.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=r.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);pa(i,r.memoizedState)||(Jn=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),n.lastRenderedState=i}return[i,s]}function oO(){}function lO(e,r){var n=kr,s=zs(),a=r(),i=!pa(s.memoizedState,a);if(i&&(s.memoizedState=a,Jn=!0),s=s.queue,fw(uO.bind(null,n,s,e),[e]),s.getSnapshot!==r||i||ln!==null&&ln.memoizedState.tag&1){if(n.flags|=2048,Nm(9,dO.bind(null,n,s,a,r),void 0,null),mn===null)throw Error(De(349));jl&30||cO(n,r,a)}return a}function cO(e,r,n){e.flags|=16384,e={getSnapshot:r,value:n},r=kr.updateQueue,r===null?(r={lastEffect:null,stores:null},kr.updateQueue=r,r.stores=[e]):(n=r.stores,n===null?r.stores=[e]:n.push(e))}function dO(e,r,n,s){r.value=n,r.getSnapshot=s,mO(r)&&hO(e)}function uO(e,r,n){return n(function(){mO(r)&&hO(e)})}function mO(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!pa(e,n)}catch{return!0}}function hO(e){var r=yi(e,1);r!==null&&da(r,e,1,-1)}function SS(e){var r=Aa();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bm,lastRenderedState:e},r.queue=e,e=e.dispatch=N8.bind(null,kr,e),[r.memoizedState,e]}function Nm(e,r,n,s){return e={tag:e,create:r,destroy:n,deps:s,next:null},r=kr.updateQueue,r===null?(r={lastEffect:null,stores:null},kr.updateQueue=r,r.lastEffect=e.next=e):(n=r.lastEffect,n===null?r.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,r.lastEffect=e)),e}function fO(){return zs().memoizedState}function Wf(e,r,n,s){var a=Aa();kr.flags|=e,a.memoizedState=Nm(1|r,n,void 0,s===void 0?null:s)}function ag(e,r,n,s){var a=zs();s=s===void 0?null:s;var i=void 0;if(en!==null){var o=en.memoizedState;if(i=o.destroy,s!==null&&uw(s,o.deps)){a.memoizedState=Nm(r,n,i,s);return}}kr.flags|=e,a.memoizedState=Nm(1|r,n,i,s)}function PS(e,r){return Wf(8390656,8,e,r)}function fw(e,r){return ag(2048,8,e,r)}function pO(e,r){return ag(4,2,e,r)}function xO(e,r){return ag(4,4,e,r)}function gO(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function vO(e,r,n){return n=n!=null?n.concat([e]):null,ag(4,4,gO.bind(null,r,e),n)}function pw(){}function yO(e,r){var n=zs();r=r===void 0?null:r;var s=n.memoizedState;return s!==null&&r!==null&&uw(r,s[1])?s[0]:(n.memoizedState=[e,r],e)}function jO(e,r){var n=zs();r=r===void 0?null:r;var s=n.memoizedState;return s!==null&&r!==null&&uw(r,s[1])?s[0]:(e=e(),n.memoizedState=[e,r],e)}function bO(e,r,n){return jl&21?(pa(n,r)||(n=CE(),kr.lanes|=n,bl|=n,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,Jn=!0),e.memoizedState=n)}function j8(e,r){var n=tr;tr=n!==0&&4>n?n:4,e(!0);var s=uy.transition;uy.transition={};try{e(!1),r()}finally{tr=n,uy.transition=s}}function NO(){return zs().memoizedState}function b8(e,r,n){var s=fo(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},wO(e))SO(r,n);else if(n=sO(e,r,n,s),n!==null){var a=qn();da(n,e,s,a),PO(n,r,s)}}function N8(e,r,n){var s=fo(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(wO(e))SO(r,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var o=r.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,pa(l,o)){var c=r.interleaved;c===null?(a.next=a,iw(r)):(a.next=c.next,c.next=a),r.interleaved=a;return}}catch{}finally{}n=sO(e,r,a,s),n!==null&&(a=qn(),da(n,e,s,a),PO(n,r,s))}}function wO(e){var r=e.alternate;return e===kr||r!==null&&r===kr}function SO(e,r){Xu=Pp=!0;var n=e.pending;n===null?r.next=r:(r.next=n.next,n.next=r),e.pending=r}function PO(e,r,n){if(n&4194240){var s=r.lanes;s&=e.pendingLanes,n|=s,r.lanes=n,HN(e,n)}}var Cp={readContext:Fs,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},w8={readContext:Fs,useCallback:function(e,r){return Aa().memoizedState=[e,r===void 0?null:r],e},useContext:Fs,useEffect:PS,useImperativeHandle:function(e,r,n){return n=n!=null?n.concat([e]):null,Wf(4194308,4,gO.bind(null,r,e),n)},useLayoutEffect:function(e,r){return Wf(4194308,4,e,r)},useInsertionEffect:function(e,r){return Wf(4,2,e,r)},useMemo:function(e,r){var n=Aa();return r=r===void 0?null:r,e=e(),n.memoizedState=[e,r],e},useReducer:function(e,r,n){var s=Aa();return r=n!==void 0?n(r):r,s.memoizedState=s.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=b8.bind(null,kr,e),[s.memoizedState,e]},useRef:function(e){var r=Aa();return e={current:e},r.memoizedState=e},useState:SS,useDebugValue:pw,useDeferredValue:function(e){return Aa().memoizedState=e},useTransition:function(){var e=SS(!1),r=e[0];return e=j8.bind(null,e[1]),Aa().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,n){var s=kr,a=Aa();if(Sr){if(n===void 0)throw Error(De(407));n=n()}else{if(n=r(),mn===null)throw Error(De(349));jl&30||cO(s,r,n)}a.memoizedState=n;var i={value:n,getSnapshot:r};return a.queue=i,PS(uO.bind(null,s,i,e),[e]),s.flags|=2048,Nm(9,dO.bind(null,s,i,n,r),void 0,null),n},useId:function(){var e=Aa(),r=mn.identifierPrefix;if(Sr){var n=li,s=oi;n=(s&~(1<<32-ca(s)-1)).toString(32)+n,r=":"+r+"R"+n,n=jm++,0<n&&(r+="H"+n.toString(32)),r+=":"}else n=y8++,r=":"+r+"r"+n.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},S8={readContext:Fs,useCallback:yO,useContext:Fs,useEffect:fw,useImperativeHandle:vO,useInsertionEffect:pO,useLayoutEffect:xO,useMemo:jO,useReducer:my,useRef:fO,useState:function(){return my(bm)},useDebugValue:pw,useDeferredValue:function(e){var r=zs();return bO(r,en.memoizedState,e)},useTransition:function(){var e=my(bm)[0],r=zs().memoizedState;return[e,r]},useMutableSource:oO,useSyncExternalStore:lO,useId:NO,unstable_isNewReconciler:!1},P8={readContext:Fs,useCallback:yO,useContext:Fs,useEffect:fw,useImperativeHandle:vO,useInsertionEffect:pO,useLayoutEffect:xO,useMemo:jO,useReducer:hy,useRef:fO,useState:function(){return hy(bm)},useDebugValue:pw,useDeferredValue:function(e){var r=zs();return en===null?r.memoizedState=e:bO(r,en.memoizedState,e)},useTransition:function(){var e=hy(bm)[0],r=zs().memoizedState;return[e,r]},useMutableSource:oO,useSyncExternalStore:lO,useId:NO,unstable_isNewReconciler:!1};function Js(e,r){if(e&&e.defaultProps){r=Er({},r),e=e.defaultProps;for(var n in e)r[n]===void 0&&(r[n]=e[n]);return r}return r}function e0(e,r,n,s){r=e.memoizedState,n=n(s,r),n=n==null?r:Er({},r,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ig={isMounted:function(e){return(e=e._reactInternals)?Fl(e)===e:!1},enqueueSetState:function(e,r,n){e=e._reactInternals;var s=qn(),a=fo(e),i=fi(s,a);i.payload=r,n!=null&&(i.callback=n),r=mo(e,i,a),r!==null&&(da(r,e,a,s),Vf(r,e,a))},enqueueReplaceState:function(e,r,n){e=e._reactInternals;var s=qn(),a=fo(e),i=fi(s,a);i.tag=1,i.payload=r,n!=null&&(i.callback=n),r=mo(e,i,a),r!==null&&(da(r,e,a,s),Vf(r,e,a))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var n=qn(),s=fo(e),a=fi(n,s);a.tag=2,r!=null&&(a.callback=r),r=mo(e,a,s),r!==null&&(da(r,e,s,n),Vf(r,e,s))}};function CS(e,r,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):r.prototype&&r.prototype.isPureReactComponent?!fm(n,s)||!fm(a,i):!0}function CO(e,r,n){var s=!1,a=jo,i=r.contextType;return typeof i=="object"&&i!==null?i=Fs(i):(a=rs(r)?vl:Rn.current,s=r.contextTypes,i=(s=s!=null)?Gc(e,a):jo),r=new r(n,i),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ig,e.stateNode=r,r._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),r}function _S(e,r,n,s){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(n,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(n,s),r.state!==e&&ig.enqueueReplaceState(r,r.state,null)}function t0(e,r,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},ow(e);var i=r.contextType;typeof i=="object"&&i!==null?a.context=Fs(i):(i=rs(r)?vl:Rn.current,a.context=Gc(e,i)),a.state=e.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(e0(e,r,i,n),a.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&ig.enqueueReplaceState(a,a.state,null),wp(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Zc(e,r){try{var n="",s=r;do n+=J6(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:r,stack:a,digest:null}}function fy(e,r,n){return{value:e,source:null,stack:n??null,digest:r??null}}function r0(e,r){try{console.error(r.value)}catch(n){setTimeout(function(){throw n})}}var C8=typeof WeakMap=="function"?WeakMap:Map;function _O(e,r,n){n=fi(-1,n),n.tag=3,n.payload={element:null};var s=r.value;return n.callback=function(){Ap||(Ap=!0,m0=s),r0(e,r)},n}function AO(e,r,n){n=fi(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=r.value;n.payload=function(){return s(a)},n.callback=function(){r0(e,r)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){r0(e,r),typeof s!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})}),n}function AS(e,r,n){var s=e.pingCache;if(s===null){s=e.pingCache=new C8;var a=new Set;s.set(r,a)}else a=s.get(r),a===void 0&&(a=new Set,s.set(r,a));a.has(n)||(a.add(n),e=z8.bind(null,e,r,n),r.then(e,e))}function TS(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function kS(e,r,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===r?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(r=fi(-1,1),r.tag=2,mo(n,r,1))),n.lanes|=1),e)}var _8=ki.ReactCurrentOwner,Jn=!1;function $n(e,r,n,s){r.child=e===null?nO(r,null,n,s):Yc(r,e.child,n,s)}function ES(e,r,n,s,a){n=n.render;var i=r.ref;return Ec(r,a),s=mw(e,r,n,s,i,a),n=hw(),e!==null&&!Jn?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a,ji(e,r,a)):(Sr&&n&&ew(r),r.flags|=1,$n(e,r,s,a),r.child)}function OS(e,r,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!ww(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(r.tag=15,r.type=i,TO(e,r,i,s,a)):(e=Xf(n.type,null,s,r,r.mode,a),e.ref=r.ref,e.return=r,r.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fm,n(o,s)&&e.ref===r.ref)return ji(e,r,a)}return r.flags|=1,e=po(i,s),e.ref=r.ref,e.return=r,r.child=e}function TO(e,r,n,s,a){if(e!==null){var i=e.memoizedProps;if(fm(i,s)&&e.ref===r.ref)if(Jn=!1,r.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Jn=!0);else return r.lanes=e.lanes,ji(e,r,a)}return n0(e,r,n,s,a)}function kO(e,r,n){var s=r.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(jc,us),us|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,mr(jc,us),us|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,mr(jc,us),us|=s}else i!==null?(s=i.baseLanes|n,r.memoizedState=null):s=n,mr(jc,us),us|=s;return $n(e,r,a,n),r.child}function EO(e,r){var n=r.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(r.flags|=512,r.flags|=2097152)}function n0(e,r,n,s,a){var i=rs(n)?vl:Rn.current;return i=Gc(r,i),Ec(r,a),n=mw(e,r,n,s,i,a),s=hw(),e!==null&&!Jn?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a,ji(e,r,a)):(Sr&&s&&ew(r),r.flags|=1,$n(e,r,n,a),r.child)}function RS(e,r,n,s,a){if(rs(n)){var i=!0;vp(r)}else i=!1;if(Ec(r,a),r.stateNode===null)Hf(e,r),CO(r,n,s),t0(r,n,s,a),s=!0;else if(e===null){var o=r.stateNode,l=r.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Fs(d):(d=rs(n)?vl:Rn.current,d=Gc(r,d));var u=n.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&_S(r,o,s,d),Wi=!1;var h=r.memoizedState;o.state=h,wp(r,s,o,a),c=r.memoizedState,l!==s||h!==c||ts.current||Wi?(typeof u=="function"&&(e0(r,n,u,s),c=r.memoizedState),(l=Wi||CS(r,n,l,s,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(r.flags|=4194308)):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{o=r.stateNode,aO(e,r),l=r.memoizedProps,d=r.type===r.elementType?l:Js(r.type,l),o.props=d,m=r.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Fs(c):(c=rs(n)?vl:Rn.current,c=Gc(r,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&_S(r,o,s,c),Wi=!1,h=r.memoizedState,o.state=h,wp(r,s,o,a);var y=r.memoizedState;l!==m||h!==y||ts.current||Wi?(typeof p=="function"&&(e0(r,n,p,s),y=r.memoizedState),(d=Wi||CS(r,n,d,s,h,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,c)),typeof o.componentDidUpdate=="function"&&(r.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=y),o.props=s,o.state=y,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(r.flags|=1024),s=!1)}return s0(e,r,n,s,i,a)}function s0(e,r,n,s,a,i){EO(e,r);var o=(r.flags&128)!==0;if(!s&&!o)return a&&vS(r,n,!1),ji(e,r,i);s=r.stateNode,_8.current=r;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return r.flags|=1,e!==null&&o?(r.child=Yc(r,e.child,null,i),r.child=Yc(r,null,l,i)):$n(e,r,l,i),r.memoizedState=s.state,a&&vS(r,n,!0),r.child}function OO(e){var r=e.stateNode;r.pendingContext?gS(e,r.pendingContext,r.pendingContext!==r.context):r.context&&gS(e,r.context,!1),lw(e,r.containerInfo)}function DS(e,r,n,s,a){return Xc(),rw(a),r.flags|=256,$n(e,r,n,s),r.child}var a0={dehydrated:null,treeContext:null,retryLane:0};function i0(e){return{baseLanes:e,cachePool:null,transitions:null}}function RO(e,r,n){var s=r.pendingProps,a=Tr.current,i=!1,o=(r.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),mr(Tr,a&1),e===null)return Zj(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(o=s.children,e=s.fallback,i?(s=r.mode,i=r.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cg(o,s,0,null),e=hl(e,s,n,null),i.return=r,e.return=r,i.sibling=e,r.child=i,r.child.memoizedState=i0(n),r.memoizedState=a0,e):xw(r,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return A8(e,r,o,s,l,a,n);if(i){i=s.fallback,o=r.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&r.child!==a?(s=r.child,s.childLanes=0,s.pendingProps=c,r.deletions=null):(s=po(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=po(l,i):(i=hl(i,o,n,null),i.flags|=2),i.return=r,s.return=r,s.sibling=i,r.child=s,s=i,i=r.child,o=e.child.memoizedState,o=o===null?i0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,r.memoizedState=a0,s}return i=e.child,e=i.sibling,s=po(i,{mode:"visible",children:s.children}),!(r.mode&1)&&(s.lanes=n),s.return=r,s.sibling=null,e!==null&&(n=r.deletions,n===null?(r.deletions=[e],r.flags|=16):n.push(e)),r.child=s,r.memoizedState=null,s}function xw(e,r){return r=cg({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function nf(e,r,n,s){return s!==null&&rw(s),Yc(r,e.child,null,n),e=xw(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function A8(e,r,n,s,a,i,o){if(n)return r.flags&256?(r.flags&=-257,s=fy(Error(De(422))),nf(e,r,o,s)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(i=s.fallback,a=r.mode,s=cg({mode:"visible",children:s.children},a,0,null),i=hl(i,a,o,null),i.flags|=2,s.return=r,i.return=r,s.sibling=i,r.child=s,r.mode&1&&Yc(r,e.child,null,o),r.child.memoizedState=i0(o),r.memoizedState=a0,i);if(!(r.mode&1))return nf(e,r,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(De(419)),s=fy(i,s,void 0),nf(e,r,o,s)}if(l=(o&e.childLanes)!==0,Jn||l){if(s=mn,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,yi(e,a),da(s,e,a,-1))}return Nw(),s=fy(Error(De(421))),nf(e,r,o,s)}return a.data==="$?"?(r.flags|=128,r.child=e.child,r=B8.bind(null,e),a._reactRetry=r,null):(e=i.treeContext,vs=uo(a.nextSibling),ys=r,Sr=!0,ia=null,e!==null&&(Rs[Ds++]=oi,Rs[Ds++]=li,Rs[Ds++]=yl,oi=e.id,li=e.overflow,yl=r),r=xw(r,s.children),r.flags|=4096,r)}function MS(e,r,n){e.lanes|=r;var s=e.alternate;s!==null&&(s.lanes|=r),Jj(e.return,r,n)}function py(e,r,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function DO(e,r,n){var s=r.pendingProps,a=s.revealOrder,i=s.tail;if($n(e,r,s.children,n),s=Tr.current,s&2)s=s&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&MS(e,n,r);else if(e.tag===19)MS(e,n,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(mr(Tr,s),!(r.mode&1))r.memoizedState=null;else switch(a){case"forwards":for(n=r.child,a=null;n!==null;)e=n.alternate,e!==null&&Sp(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=r.child,r.child=null):(a=n.sibling,n.sibling=null),py(r,!1,a,n,i);break;case"backwards":for(n=null,a=r.child,r.child=null;a!==null;){if(e=a.alternate,e!==null&&Sp(e)===null){r.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}py(r,!0,n,null,i);break;case"together":py(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Hf(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function ji(e,r,n){if(e!==null&&(r.dependencies=e.dependencies),bl|=r.lanes,!(n&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(De(153));if(r.child!==null){for(e=r.child,n=po(e,e.pendingProps),r.child=n,n.return=r;e.sibling!==null;)e=e.sibling,n=n.sibling=po(e,e.pendingProps),n.return=r;n.sibling=null}return r.child}function T8(e,r,n){switch(r.tag){case 3:OO(r),Xc();break;case 5:iO(r);break;case 1:rs(r.type)&&vp(r);break;case 4:lw(r,r.stateNode.containerInfo);break;case 10:var s=r.type._context,a=r.memoizedProps.value;mr(bp,s._currentValue),s._currentValue=a;break;case 13:if(s=r.memoizedState,s!==null)return s.dehydrated!==null?(mr(Tr,Tr.current&1),r.flags|=128,null):n&r.child.childLanes?RO(e,r,n):(mr(Tr,Tr.current&1),e=ji(e,r,n),e!==null?e.sibling:null);mr(Tr,Tr.current&1);break;case 19:if(s=(n&r.childLanes)!==0,e.flags&128){if(s)return DO(e,r,n);r.flags|=128}if(a=r.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),mr(Tr,Tr.current),s)break;return null;case 22:case 23:return r.lanes=0,kO(e,r,n)}return ji(e,r,n)}var MO,o0,IO,$O;MO=function(e,r){for(var n=r.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};o0=function(){};IO=function(e,r,n,s){var a=e.memoizedProps;if(a!==s){e=r.stateNode,Zo(Ba.current);var i=null;switch(n){case"input":a=Tj(e,a),s=Tj(e,s),i=[];break;case"select":a=Er({},a,{value:void 0}),s=Er({},s,{value:void 0}),i=[];break;case"textarea":a=Oj(e,a),s=Oj(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=xp)}Dj(n,s);var o;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(om.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(om.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&pr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(r.updateQueue=d)&&(r.flags|=4)}};$O=function(e,r,n,s){n!==s&&(r.flags|=4)};function pu(e,r){if(!Sr)switch(e.tailMode){case"hidden":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Cn(e){var r=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(r)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,r}function k8(e,r,n){var s=r.pendingProps;switch(tw(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(r),null;case 1:return rs(r.type)&&gp(),Cn(r),null;case 3:return s=r.stateNode,Qc(),yr(ts),yr(Rn),dw(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(tf(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,ia!==null&&(p0(ia),ia=null))),o0(e,r),Cn(r),null;case 5:cw(r);var a=Zo(ym.current);if(n=r.type,e!==null&&r.stateNode!=null)IO(e,r,n,s,a),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!s){if(r.stateNode===null)throw Error(De(166));return Cn(r),null}if(e=Zo(Ba.current),tf(r)){s=r.stateNode,n=r.type;var i=r.memoizedProps;switch(s[Oa]=r,s[gm]=i,e=(r.mode&1)!==0,n){case"dialog":pr("cancel",s),pr("close",s);break;case"iframe":case"object":case"embed":pr("load",s);break;case"video":case"audio":for(a=0;a<Bu.length;a++)pr(Bu[a],s);break;case"source":pr("error",s);break;case"img":case"image":case"link":pr("error",s),pr("load",s);break;case"details":pr("toggle",s);break;case"input":q2(s,i),pr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},pr("invalid",s);break;case"textarea":H2(s,i),pr("invalid",s)}Dj(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&ef(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ef(s.textContent,l,e),a=["children",""+l]):om.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pr("scroll",s)}switch(n){case"input":Hh(s),W2(s,i,!0);break;case"textarea":Hh(s),K2(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=xp)}s=a,r.updateQueue=s,s!==null&&(r.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Oa]=r,e[gm]=s,MO(e,r,!1,!1),r.stateNode=e;e:{switch(o=Mj(n,s),n){case"dialog":pr("cancel",e),pr("close",e),a=s;break;case"iframe":case"object":case"embed":pr("load",e),a=s;break;case"video":case"audio":for(a=0;a<Bu.length;a++)pr(Bu[a],e);a=s;break;case"source":pr("error",e),a=s;break;case"img":case"image":case"link":pr("error",e),pr("load",e),a=s;break;case"details":pr("toggle",e),a=s;break;case"input":q2(e,s),a=Tj(e,s),pr("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Er({},s,{value:void 0}),pr("invalid",e);break;case"textarea":H2(e,s),a=Oj(e,s),pr("invalid",e);break;default:a=s}Dj(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?fE(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mE(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&lm(e,c):typeof c=="number"&&lm(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(om.hasOwnProperty(i)?c!=null&&i==="onScroll"&&pr("scroll",e):c!=null&&zN(e,i,c,o))}switch(n){case"input":Hh(e),W2(e,s,!1);break;case"textarea":Hh(e),K2(e);break;case"option":s.value!=null&&e.setAttribute("value",""+yo(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?_c(e,!!s.multiple,i,!1):s.defaultValue!=null&&_c(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=xp)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Cn(r),null;case 6:if(e&&r.stateNode!=null)$O(e,r,e.memoizedProps,s);else{if(typeof s!="string"&&r.stateNode===null)throw Error(De(166));if(n=Zo(ym.current),Zo(Ba.current),tf(r)){if(s=r.stateNode,n=r.memoizedProps,s[Oa]=r,(i=s.nodeValue!==n)&&(e=ys,e!==null))switch(e.tag){case 3:ef(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ef(s.nodeValue,n,(e.mode&1)!==0)}i&&(r.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Oa]=r,r.stateNode=s}return Cn(r),null;case 13:if(yr(Tr),s=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Sr&&vs!==null&&r.mode&1&&!(r.flags&128))tO(),Xc(),r.flags|=98560,i=!1;else if(i=tf(r),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(De(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(De(317));i[Oa]=r}else Xc(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Cn(r),i=!1}else ia!==null&&(p0(ia),ia=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=n,r):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(r.child.flags|=8192,r.mode&1&&(e===null||Tr.current&1?rn===0&&(rn=3):Nw())),r.updateQueue!==null&&(r.flags|=4),Cn(r),null);case 4:return Qc(),o0(e,r),e===null&&pm(r.stateNode.containerInfo),Cn(r),null;case 10:return aw(r.type._context),Cn(r),null;case 17:return rs(r.type)&&gp(),Cn(r),null;case 19:if(yr(Tr),i=r.memoizedState,i===null)return Cn(r),null;if(s=(r.flags&128)!==0,o=i.rendering,o===null)if(s)pu(i,!1);else{if(rn!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(o=Sp(e),o!==null){for(r.flags|=128,pu(i,!1),s=o.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),r.subtreeFlags=0,s=n,n=r.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return mr(Tr,Tr.current&1|2),r.child}e=e.sibling}i.tail!==null&&Ur()>Jc&&(r.flags|=128,s=!0,pu(i,!1),r.lanes=4194304)}else{if(!s)if(e=Sp(o),e!==null){if(r.flags|=128,s=!0,n=e.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),pu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Sr)return Cn(r),null}else 2*Ur()-i.renderingStartTime>Jc&&n!==1073741824&&(r.flags|=128,s=!0,pu(i,!1),r.lanes=4194304);i.isBackwards?(o.sibling=r.child,r.child=o):(n=i.last,n!==null?n.sibling=o:r.child=o,i.last=o)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=Ur(),r.sibling=null,n=Tr.current,mr(Tr,s?n&1|2:n&1),r):(Cn(r),null);case 22:case 23:return bw(),s=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(r.flags|=8192),s&&r.mode&1?us&1073741824&&(Cn(r),r.subtreeFlags&6&&(r.flags|=8192)):Cn(r),null;case 24:return null;case 25:return null}throw Error(De(156,r.tag))}function E8(e,r){switch(tw(r),r.tag){case 1:return rs(r.type)&&gp(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Qc(),yr(ts),yr(Rn),dw(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return cw(r),null;case 13:if(yr(Tr),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(De(340));Xc()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return yr(Tr),null;case 4:return Qc(),null;case 10:return aw(r.type._context),null;case 22:case 23:return bw(),null;case 24:return null;default:return null}}var sf=!1,Tn=!1,O8=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function yc(e,r){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Dr(e,r,s)}else n.current=null}function l0(e,r,n){try{n()}catch(s){Dr(e,r,s)}}var IS=!1;function R8(e,r){if(Wj=hp,e=UE(),JN(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==n||a!==0&&m.nodeType!==3||(l=o+a),m!==i||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===e)break t;if(h===n&&++d===a&&(l=o),h===i&&++u===s&&(c=o),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hj={focusedElem:e,selectionRange:n},hp=!1,Ge=r;Ge!==null;)if(r=Ge,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Ge=e;else for(;Ge!==null;){r=Ge;try{var y=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var f=y.memoizedProps,v=y.memoizedState,j=r.stateNode,x=j.getSnapshotBeforeUpdate(r.elementType===r.type?f:Js(r.type,f),v);j.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(S){Dr(r,r.return,S)}if(e=r.sibling,e!==null){e.return=r.return,Ge=e;break}Ge=r.return}return y=IS,IS=!1,y}function Yu(e,r,n){var s=r.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&l0(r,n,i)}a=a.next}while(a!==s)}}function og(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==r)}}function c0(e){var r=e.ref;if(r!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof r=="function"?r(e):r.current=e}}function LO(e){var r=e.alternate;r!==null&&(e.alternate=null,LO(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Oa],delete r[gm],delete r[Xj],delete r[p8],delete r[x8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function FO(e){return e.tag===5||e.tag===3||e.tag===4}function $S(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||FO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function d0(e,r,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?n.nodeType===8?n.parentNode.insertBefore(e,r):n.insertBefore(e,r):(n.nodeType===8?(r=n.parentNode,r.insertBefore(e,n)):(r=n,r.appendChild(e)),n=n._reactRootContainer,n!=null||r.onclick!==null||(r.onclick=xp));else if(s!==4&&(e=e.child,e!==null))for(d0(e,r,n),e=e.sibling;e!==null;)d0(e,r,n),e=e.sibling}function u0(e,r,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?n.insertBefore(e,r):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(u0(e,r,n),e=e.sibling;e!==null;)u0(e,r,n),e=e.sibling}var vn=null,na=!1;function Li(e,r,n){for(n=n.child;n!==null;)zO(e,r,n),n=n.sibling}function zO(e,r,n){if(za&&typeof za.onCommitFiberUnmount=="function")try{za.onCommitFiberUnmount(Jx,n)}catch{}switch(n.tag){case 5:Tn||yc(n,r);case 6:var s=vn,a=na;vn=null,Li(e,r,n),vn=s,na=a,vn!==null&&(na?(e=vn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vn.removeChild(n.stateNode));break;case 18:vn!==null&&(na?(e=vn,n=n.stateNode,e.nodeType===8?ly(e.parentNode,n):e.nodeType===1&&ly(e,n),mm(e)):ly(vn,n.stateNode));break;case 4:s=vn,a=na,vn=n.stateNode.containerInfo,na=!0,Li(e,r,n),vn=s,na=a;break;case 0:case 11:case 14:case 15:if(!Tn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&l0(n,r,o),a=a.next}while(a!==s)}Li(e,r,n);break;case 1:if(!Tn&&(yc(n,r),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Dr(n,r,l)}Li(e,r,n);break;case 21:Li(e,r,n);break;case 22:n.mode&1?(Tn=(s=Tn)||n.memoizedState!==null,Li(e,r,n),Tn=s):Li(e,r,n);break;default:Li(e,r,n)}}function LS(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new O8),r.forEach(function(s){var a=U8.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function Ks(e,r){var n=r.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=r,l=o;e:for(;l!==null;){switch(l.tag){case 5:vn=l.stateNode,na=!1;break e;case 3:vn=l.stateNode.containerInfo,na=!0;break e;case 4:vn=l.stateNode.containerInfo,na=!0;break e}l=l.return}if(vn===null)throw Error(De(160));zO(i,o,a),vn=null,na=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Dr(a,r,d)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)BO(r,e),r=r.sibling}function BO(e,r){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ks(r,e),Ca(e),s&4){try{Yu(3,e,e.return),og(3,e)}catch(f){Dr(e,e.return,f)}try{Yu(5,e,e.return)}catch(f){Dr(e,e.return,f)}}break;case 1:Ks(r,e),Ca(e),s&512&&n!==null&&yc(n,n.return);break;case 5:if(Ks(r,e),Ca(e),s&512&&n!==null&&yc(n,n.return),e.flags&32){var a=e.stateNode;try{lm(a,"")}catch(f){Dr(e,e.return,f)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&cE(a,i),Mj(l,o);var d=Mj(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?fE(a,m):u==="dangerouslySetInnerHTML"?mE(a,m):u==="children"?lm(a,m):zN(a,u,m,d)}switch(l){case"input":kj(a,i);break;case"textarea":dE(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?_c(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?_c(a,!!i.multiple,i.defaultValue,!0):_c(a,!!i.multiple,i.multiple?[]:"",!1))}a[gm]=i}catch(f){Dr(e,e.return,f)}}break;case 6:if(Ks(r,e),Ca(e),s&4){if(e.stateNode===null)throw Error(De(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(f){Dr(e,e.return,f)}}break;case 3:if(Ks(r,e),Ca(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{mm(r.containerInfo)}catch(f){Dr(e,e.return,f)}break;case 4:Ks(r,e),Ca(e);break;case 13:Ks(r,e),Ca(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(yw=Ur())),s&4&&LS(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Tn=(d=Tn)||u,Ks(r,e),Tn=d):Ks(r,e),Ca(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Ge=e,u=e.child;u!==null;){for(m=Ge=u;Ge!==null;){switch(h=Ge,p=h.child,h.tag){case 0:case 11:case 14:case 15:Yu(4,h,h.return);break;case 1:yc(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){s=h,n=h.return;try{r=s,y.props=r.memoizedProps,y.state=r.memoizedState,y.componentWillUnmount()}catch(f){Dr(s,n,f)}}break;case 5:yc(h,h.return);break;case 22:if(h.memoizedState!==null){zS(m);continue}}p!==null?(p.return=h,Ge=p):zS(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=hE("display",o))}catch(f){Dr(e,e.return,f)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(f){Dr(e,e.return,f)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ks(r,e),Ca(e),s&4&&LS(e);break;case 21:break;default:Ks(r,e),Ca(e)}}function Ca(e){var r=e.flags;if(r&2){try{e:{for(var n=e.return;n!==null;){if(FO(n)){var s=n;break e}n=n.return}throw Error(De(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(lm(a,""),s.flags&=-33);var i=$S(e);u0(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=$S(e);d0(e,l,o);break;default:throw Error(De(161))}}catch(c){Dr(e,e.return,c)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function D8(e,r,n){Ge=e,UO(e)}function UO(e,r,n){for(var s=(e.mode&1)!==0;Ge!==null;){var a=Ge,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||sf;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Tn;l=sf;var d=Tn;if(sf=o,(Tn=c)&&!d)for(Ge=a;Ge!==null;)o=Ge,c=o.child,o.tag===22&&o.memoizedState!==null?BS(a):c!==null?(c.return=o,Ge=c):BS(a);for(;i!==null;)Ge=i,UO(i),i=i.sibling;Ge=a,sf=l,Tn=d}FS(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ge=i):FS(e)}}function FS(e){for(;Ge!==null;){var r=Ge;if(r.flags&8772){var n=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Tn||og(5,r);break;case 1:var s=r.stateNode;if(r.flags&4&&!Tn)if(n===null)s.componentDidMount();else{var a=r.elementType===r.type?n.memoizedProps:Js(r.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&wS(r,i,s);break;case 3:var o=r.updateQueue;if(o!==null){if(n=null,r.child!==null)switch(r.child.tag){case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}wS(r,o,n)}break;case 5:var l=r.stateNode;if(n===null&&r.flags&4){n=l;var c=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var d=r.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&mm(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}Tn||r.flags&512&&c0(r)}catch(h){Dr(r,r.return,h)}}if(r===e){Ge=null;break}if(n=r.sibling,n!==null){n.return=r.return,Ge=n;break}Ge=r.return}}function zS(e){for(;Ge!==null;){var r=Ge;if(r===e){Ge=null;break}var n=r.sibling;if(n!==null){n.return=r.return,Ge=n;break}Ge=r.return}}function BS(e){for(;Ge!==null;){var r=Ge;try{switch(r.tag){case 0:case 11:case 15:var n=r.return;try{og(4,r)}catch(c){Dr(r,n,c)}break;case 1:var s=r.stateNode;if(typeof s.componentDidMount=="function"){var a=r.return;try{s.componentDidMount()}catch(c){Dr(r,a,c)}}var i=r.return;try{c0(r)}catch(c){Dr(r,i,c)}break;case 5:var o=r.return;try{c0(r)}catch(c){Dr(r,o,c)}}}catch(c){Dr(r,r.return,c)}if(r===e){Ge=null;break}var l=r.sibling;if(l!==null){l.return=r.return,Ge=l;break}Ge=r.return}}var M8=Math.ceil,_p=ki.ReactCurrentDispatcher,gw=ki.ReactCurrentOwner,Ls=ki.ReactCurrentBatchConfig,Wt=0,mn=null,Gr=null,jn=0,us=0,jc=Co(0),rn=0,wm=null,bl=0,lg=0,vw=0,Qu=null,Qn=null,yw=0,Jc=1/0,ni=null,Ap=!1,m0=null,ho=null,af=!1,no=null,Tp=0,Zu=0,h0=null,Kf=-1,Gf=0;function qn(){return Wt&6?Ur():Kf!==-1?Kf:Kf=Ur()}function fo(e){return e.mode&1?Wt&2&&jn!==0?jn&-jn:v8.transition!==null?(Gf===0&&(Gf=CE()),Gf):(e=tr,e!==0||(e=window.event,e=e===void 0?16:RE(e.type)),e):1}function da(e,r,n,s){if(50<Zu)throw Zu=0,h0=null,Error(De(185));vh(e,n,s),(!(Wt&2)||e!==mn)&&(e===mn&&(!(Wt&2)&&(lg|=n),rn===4&&Gi(e,jn)),ns(e,s),n===1&&Wt===0&&!(r.mode&1)&&(Jc=Ur()+500,sg&&_o()))}function ns(e,r){var n=e.callbackNode;vF(e,r);var s=mp(e,e===mn?jn:0);if(s===0)n!==null&&Y2(n),e.callbackNode=null,e.callbackPriority=0;else if(r=s&-s,e.callbackPriority!==r){if(n!=null&&Y2(n),r===1)e.tag===0?g8(US.bind(null,e)):ZE(US.bind(null,e)),h8(function(){!(Wt&6)&&_o()}),n=null;else{switch(_E(s)){case 1:n=WN;break;case 4:n=SE;break;case 16:n=up;break;case 536870912:n=PE;break;default:n=up}n=YO(n,VO.bind(null,e))}e.callbackPriority=r,e.callbackNode=n}}function VO(e,r){if(Kf=-1,Gf=0,Wt&6)throw Error(De(327));var n=e.callbackNode;if(Oc()&&e.callbackNode!==n)return null;var s=mp(e,e===mn?jn:0);if(s===0)return null;if(s&30||s&e.expiredLanes||r)r=kp(e,s);else{r=s;var a=Wt;Wt|=2;var i=WO();(mn!==e||jn!==r)&&(ni=null,Jc=Ur()+500,ml(e,r));do try{L8();break}catch(l){qO(e,l)}while(!0);sw(),_p.current=i,Wt=a,Gr!==null?r=0:(mn=null,jn=0,r=rn)}if(r!==0){if(r===2&&(a=zj(e),a!==0&&(s=a,r=f0(e,a))),r===1)throw n=wm,ml(e,0),Gi(e,s),ns(e,Ur()),n;if(r===6)Gi(e,s);else{if(a=e.current.alternate,!(s&30)&&!I8(a)&&(r=kp(e,s),r===2&&(i=zj(e),i!==0&&(s=i,r=f0(e,i))),r===1))throw n=wm,ml(e,0),Gi(e,s),ns(e,Ur()),n;switch(e.finishedWork=a,e.finishedLanes=s,r){case 0:case 1:throw Error(De(345));case 2:Wo(e,Qn,ni);break;case 3:if(Gi(e,s),(s&130023424)===s&&(r=yw+500-Ur(),10<r)){if(mp(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){qn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Gj(Wo.bind(null,e,Qn,ni),r);break}Wo(e,Qn,ni);break;case 4:if(Gi(e,s),(s&4194240)===s)break;for(r=e.eventTimes,a=-1;0<s;){var o=31-ca(s);i=1<<o,o=r[o],o>a&&(a=o),s&=~i}if(s=a,s=Ur()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*M8(s/1960))-s,10<s){e.timeoutHandle=Gj(Wo.bind(null,e,Qn,ni),s);break}Wo(e,Qn,ni);break;case 5:Wo(e,Qn,ni);break;default:throw Error(De(329))}}}return ns(e,Ur()),e.callbackNode===n?VO.bind(null,e):null}function f0(e,r){var n=Qu;return e.current.memoizedState.isDehydrated&&(ml(e,r).flags|=256),e=kp(e,r),e!==2&&(r=Qn,Qn=n,r!==null&&p0(r)),e}function p0(e){Qn===null?Qn=e:Qn.push.apply(Qn,e)}function I8(e){for(var r=e;;){if(r.flags&16384){var n=r.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!pa(i(),a))return!1}catch{return!1}}}if(n=r.child,r.subtreeFlags&16384&&n!==null)n.return=r,r=n;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gi(e,r){for(r&=~vw,r&=~lg,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var n=31-ca(r),s=1<<n;e[n]=-1,r&=~s}}function US(e){if(Wt&6)throw Error(De(327));Oc();var r=mp(e,0);if(!(r&1))return ns(e,Ur()),null;var n=kp(e,r);if(e.tag!==0&&n===2){var s=zj(e);s!==0&&(r=s,n=f0(e,s))}if(n===1)throw n=wm,ml(e,0),Gi(e,r),ns(e,Ur()),n;if(n===6)throw Error(De(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Wo(e,Qn,ni),ns(e,Ur()),null}function jw(e,r){var n=Wt;Wt|=1;try{return e(r)}finally{Wt=n,Wt===0&&(Jc=Ur()+500,sg&&_o())}}function Nl(e){no!==null&&no.tag===0&&!(Wt&6)&&Oc();var r=Wt;Wt|=1;var n=Ls.transition,s=tr;try{if(Ls.transition=null,tr=1,e)return e()}finally{tr=s,Ls.transition=n,Wt=r,!(Wt&6)&&_o()}}function bw(){us=jc.current,yr(jc)}function ml(e,r){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,m8(n)),Gr!==null)for(n=Gr.return;n!==null;){var s=n;switch(tw(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&gp();break;case 3:Qc(),yr(ts),yr(Rn),dw();break;case 5:cw(s);break;case 4:Qc();break;case 13:yr(Tr);break;case 19:yr(Tr);break;case 10:aw(s.type._context);break;case 22:case 23:bw()}n=n.return}if(mn=e,Gr=e=po(e.current,null),jn=us=r,rn=0,wm=null,vw=lg=bl=0,Qn=Qu=null,Qo!==null){for(r=0;r<Qo.length;r++)if(n=Qo[r],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}Qo=null}return e}function qO(e,r){do{var n=Gr;try{if(sw(),qf.current=Cp,Pp){for(var s=kr.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Pp=!1}if(jl=0,ln=en=kr=null,Xu=!1,jm=0,gw.current=null,n===null||n.return===null){rn=1,wm=r,Gr=null;break}e:{var i=e,o=n.return,l=n,c=r;if(r=jn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=TS(o);if(p!==null){p.flags&=-257,kS(p,o,l,i,r),p.mode&1&&AS(i,d,r),r=p,c=d;var y=r.updateQueue;if(y===null){var f=new Set;f.add(c),r.updateQueue=f}else y.add(c);break e}else{if(!(r&1)){AS(i,d,r),Nw();break e}c=Error(De(426))}}else if(Sr&&l.mode&1){var v=TS(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),kS(v,o,l,i,r),rw(Zc(c,l));break e}}i=c=Zc(c,l),rn!==4&&(rn=2),Qu===null?Qu=[i]:Qu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var j=_O(i,c,r);NS(i,j);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ho===null||!ho.has(b)))){i.flags|=65536,r&=-r,i.lanes|=r;var S=AO(i,l,r);NS(i,S);break e}}i=i.return}while(i!==null)}KO(n)}catch(w){r=w,Gr===n&&n!==null&&(Gr=n=n.return);continue}break}while(!0)}function WO(){var e=_p.current;return _p.current=Cp,e===null?Cp:e}function Nw(){(rn===0||rn===3||rn===2)&&(rn=4),mn===null||!(bl&268435455)&&!(lg&268435455)||Gi(mn,jn)}function kp(e,r){var n=Wt;Wt|=2;var s=WO();(mn!==e||jn!==r)&&(ni=null,ml(e,r));do try{$8();break}catch(a){qO(e,a)}while(!0);if(sw(),Wt=n,_p.current=s,Gr!==null)throw Error(De(261));return mn=null,jn=0,rn}function $8(){for(;Gr!==null;)HO(Gr)}function L8(){for(;Gr!==null&&!cF();)HO(Gr)}function HO(e){var r=XO(e.alternate,e,us);e.memoizedProps=e.pendingProps,r===null?KO(e):Gr=r,gw.current=null}function KO(e){var r=e;do{var n=r.alternate;if(e=r.return,r.flags&32768){if(n=E8(n,r),n!==null){n.flags&=32767,Gr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rn=6,Gr=null;return}}else if(n=k8(n,r,us),n!==null){Gr=n;return}if(r=r.sibling,r!==null){Gr=r;return}Gr=r=e}while(r!==null);rn===0&&(rn=5)}function Wo(e,r,n){var s=tr,a=Ls.transition;try{Ls.transition=null,tr=1,F8(e,r,n,s)}finally{Ls.transition=a,tr=s}return null}function F8(e,r,n,s){do Oc();while(no!==null);if(Wt&6)throw Error(De(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(De(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(yF(e,i),e===mn&&(Gr=mn=null,jn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||af||(af=!0,YO(up,function(){return Oc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ls.transition,Ls.transition=null;var o=tr;tr=1;var l=Wt;Wt|=4,gw.current=null,R8(e,n),BO(n,e),a8(Hj),hp=!!Wj,Hj=Wj=null,e.current=n,D8(n),dF(),Wt=l,tr=o,Ls.transition=i}else e.current=n;if(af&&(af=!1,no=e,Tp=a),i=e.pendingLanes,i===0&&(ho=null),hF(n.stateNode),ns(e,Ur()),r!==null)for(s=e.onRecoverableError,n=0;n<r.length;n++)a=r[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(Ap)throw Ap=!1,e=m0,m0=null,e;return Tp&1&&e.tag!==0&&Oc(),i=e.pendingLanes,i&1?e===h0?Zu++:(Zu=0,h0=e):Zu=0,_o(),null}function Oc(){if(no!==null){var e=_E(Tp),r=Ls.transition,n=tr;try{if(Ls.transition=null,tr=16>e?16:e,no===null)var s=!1;else{if(e=no,no=null,Tp=0,Wt&6)throw Error(De(331));var a=Wt;for(Wt|=4,Ge=e.current;Ge!==null;){var i=Ge,o=i.child;if(Ge.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ge=d;Ge!==null;){var u=Ge;switch(u.tag){case 0:case 11:case 15:Yu(8,u,i)}var m=u.child;if(m!==null)m.return=u,Ge=m;else for(;Ge!==null;){u=Ge;var h=u.sibling,p=u.return;if(LO(u),u===d){Ge=null;break}if(h!==null){h.return=p,Ge=h;break}Ge=p}}}var y=i.alternate;if(y!==null){var f=y.child;if(f!==null){y.child=null;do{var v=f.sibling;f.sibling=null,f=v}while(f!==null)}}Ge=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ge=o;else e:for(;Ge!==null;){if(i=Ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yu(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,Ge=j;break e}Ge=i.return}}var x=e.current;for(Ge=x;Ge!==null;){o=Ge;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ge=b;else e:for(o=x;Ge!==null;){if(l=Ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:og(9,l)}}catch(w){Dr(l,l.return,w)}if(l===o){Ge=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Ge=S;break e}Ge=l.return}}if(Wt=a,_o(),za&&typeof za.onPostCommitFiberRoot=="function")try{za.onPostCommitFiberRoot(Jx,e)}catch{}s=!0}return s}finally{tr=n,Ls.transition=r}}return!1}function VS(e,r,n){r=Zc(n,r),r=_O(e,r,1),e=mo(e,r,1),r=qn(),e!==null&&(vh(e,1,r),ns(e,r))}function Dr(e,r,n){if(e.tag===3)VS(e,e,n);else for(;r!==null;){if(r.tag===3){VS(r,e,n);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ho===null||!ho.has(s))){e=Zc(n,e),e=AO(r,e,1),r=mo(r,e,1),e=qn(),r!==null&&(vh(r,1,e),ns(r,e));break}}r=r.return}}function z8(e,r,n){var s=e.pingCache;s!==null&&s.delete(r),r=qn(),e.pingedLanes|=e.suspendedLanes&n,mn===e&&(jn&n)===n&&(rn===4||rn===3&&(jn&130023424)===jn&&500>Ur()-yw?ml(e,0):vw|=n),ns(e,r)}function GO(e,r){r===0&&(e.mode&1?(r=Xh,Xh<<=1,!(Xh&130023424)&&(Xh=4194304)):r=1);var n=qn();e=yi(e,r),e!==null&&(vh(e,r,n),ns(e,n))}function B8(e){var r=e.memoizedState,n=0;r!==null&&(n=r.retryLane),GO(e,n)}function U8(e,r){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(De(314))}s!==null&&s.delete(r),GO(e,n)}var XO;XO=function(e,r,n){if(e!==null)if(e.memoizedProps!==r.pendingProps||ts.current)Jn=!0;else{if(!(e.lanes&n)&&!(r.flags&128))return Jn=!1,T8(e,r,n);Jn=!!(e.flags&131072)}else Jn=!1,Sr&&r.flags&1048576&&JE(r,jp,r.index);switch(r.lanes=0,r.tag){case 2:var s=r.type;Hf(e,r),e=r.pendingProps;var a=Gc(r,Rn.current);Ec(r,n),a=mw(null,r,s,e,a,n);var i=hw();return r.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,rs(s)?(i=!0,vp(r)):i=!1,r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ow(r),a.updater=ig,r.stateNode=a,a._reactInternals=r,t0(r,s,e,n),r=s0(null,r,s,!0,i,n)):(r.tag=0,Sr&&i&&ew(r),$n(null,r,a,n),r=r.child),r;case 16:s=r.elementType;e:{switch(Hf(e,r),e=r.pendingProps,a=s._init,s=a(s._payload),r.type=s,a=r.tag=q8(s),e=Js(s,e),a){case 0:r=n0(null,r,s,e,n);break e;case 1:r=RS(null,r,s,e,n);break e;case 11:r=ES(null,r,s,e,n);break e;case 14:r=OS(null,r,s,Js(s.type,e),n);break e}throw Error(De(306,s,""))}return r;case 0:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:Js(s,a),n0(e,r,s,a,n);case 1:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:Js(s,a),RS(e,r,s,a,n);case 3:e:{if(OO(r),e===null)throw Error(De(387));s=r.pendingProps,i=r.memoizedState,a=i.element,aO(e,r),wp(r,s,null,n);var o=r.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){a=Zc(Error(De(423)),r),r=DS(e,r,s,n,a);break e}else if(s!==a){a=Zc(Error(De(424)),r),r=DS(e,r,s,n,a);break e}else for(vs=uo(r.stateNode.containerInfo.firstChild),ys=r,Sr=!0,ia=null,n=nO(r,null,s,n),r.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xc(),s===a){r=ji(e,r,n);break e}$n(e,r,s,n)}r=r.child}return r;case 5:return iO(r),e===null&&Zj(r),s=r.type,a=r.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Kj(s,a)?o=null:i!==null&&Kj(s,i)&&(r.flags|=32),EO(e,r),$n(e,r,o,n),r.child;case 6:return e===null&&Zj(r),null;case 13:return RO(e,r,n);case 4:return lw(r,r.stateNode.containerInfo),s=r.pendingProps,e===null?r.child=Yc(r,null,s,n):$n(e,r,s,n),r.child;case 11:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:Js(s,a),ES(e,r,s,a,n);case 7:return $n(e,r,r.pendingProps,n),r.child;case 8:return $n(e,r,r.pendingProps.children,n),r.child;case 12:return $n(e,r,r.pendingProps.children,n),r.child;case 10:e:{if(s=r.type._context,a=r.pendingProps,i=r.memoizedProps,o=a.value,mr(bp,s._currentValue),s._currentValue=o,i!==null)if(pa(i.value,o)){if(i.children===a.children&&!ts.current){r=ji(e,r,n);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=fi(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Jj(i.return,n,r),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===r.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(De(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Jj(o,n,r),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===r){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$n(e,r,a.children,n),r=r.child}return r;case 9:return a=r.type,s=r.pendingProps.children,Ec(r,n),a=Fs(a),s=s(a),r.flags|=1,$n(e,r,s,n),r.child;case 14:return s=r.type,a=Js(s,r.pendingProps),a=Js(s.type,a),OS(e,r,s,a,n);case 15:return TO(e,r,r.type,r.pendingProps,n);case 17:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:Js(s,a),Hf(e,r),r.tag=1,rs(s)?(e=!0,vp(r)):e=!1,Ec(r,n),CO(r,s,a),t0(r,s,a,n),s0(null,r,s,!0,e,n);case 19:return DO(e,r,n);case 22:return kO(e,r,n)}throw Error(De(156,r.tag))};function YO(e,r){return wE(e,r)}function V8(e,r,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(e,r,n,s){return new V8(e,r,n,s)}function ww(e){return e=e.prototype,!(!e||!e.isReactComponent)}function q8(e){if(typeof e=="function")return ww(e)?1:0;if(e!=null){if(e=e.$$typeof,e===UN)return 11;if(e===VN)return 14}return 2}function po(e,r){var n=e.alternate;return n===null?(n=Is(e.tag,r,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=r,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,r=e.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xf(e,r,n,s,a,i){var o=2;if(s=e,typeof e=="function")ww(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case dc:return hl(n.children,a,i,r);case BN:o=8,a|=8;break;case Pj:return e=Is(12,n,r,a|2),e.elementType=Pj,e.lanes=i,e;case Cj:return e=Is(13,n,r,a),e.elementType=Cj,e.lanes=i,e;case _j:return e=Is(19,n,r,a),e.elementType=_j,e.lanes=i,e;case iE:return cg(n,a,i,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sE:o=10;break e;case aE:o=9;break e;case UN:o=11;break e;case VN:o=14;break e;case qi:o=16,s=null;break e}throw Error(De(130,e==null?e:typeof e,""))}return r=Is(o,n,r,a),r.elementType=e,r.type=s,r.lanes=i,r}function hl(e,r,n,s){return e=Is(7,e,s,r),e.lanes=n,e}function cg(e,r,n,s){return e=Is(22,e,s,r),e.elementType=iE,e.lanes=n,e.stateNode={isHidden:!1},e}function xy(e,r,n){return e=Is(6,e,null,r),e.lanes=n,e}function gy(e,r,n){return r=Is(4,e.children!==null?e.children:[],e.key,r),r.lanes=n,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function W8(e,r,n,s,a){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qv(0),this.expirationTimes=Qv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qv(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Sw(e,r,n,s,a,i,o,l,c){return e=new W8(e,r,n,l,c),r===1?(r=1,i===!0&&(r|=8)):r=0,i=Is(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ow(i),e}function H8(e,r,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cc,key:s==null?null:""+s,children:e,containerInfo:r,implementation:n}}function QO(e){if(!e)return jo;e=e._reactInternals;e:{if(Fl(e)!==e||e.tag!==1)throw Error(De(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(rs(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(De(171))}if(e.tag===1){var n=e.type;if(rs(n))return QE(e,n,r)}return r}function ZO(e,r,n,s,a,i,o,l,c){return e=Sw(n,s,!0,e,a,i,o,l,c),e.context=QO(null),n=e.current,s=qn(),a=fo(n),i=fi(s,a),i.callback=r??null,mo(n,i,a),e.current.lanes=a,vh(e,a,s),ns(e,s),e}function dg(e,r,n,s){var a=r.current,i=qn(),o=fo(a);return n=QO(n),r.context===null?r.context=n:r.pendingContext=n,r=fi(i,o),r.payload={element:e},s=s===void 0?null:s,s!==null&&(r.callback=s),e=mo(a,r,o),e!==null&&(da(e,a,o,i),Vf(e,a,o)),o}function Ep(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qS(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<r?n:r}}function Pw(e,r){qS(e,r),(e=e.alternate)&&qS(e,r)}function K8(){return null}var JO=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cw(e){this._internalRoot=e}ug.prototype.render=Cw.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(De(409));dg(e,r,null,null)};ug.prototype.unmount=Cw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Nl(function(){dg(null,e,null,null)}),r[vi]=null}};function ug(e){this._internalRoot=e}ug.prototype.unstable_scheduleHydration=function(e){if(e){var r=kE();e={blockedOn:null,target:e,priority:r};for(var n=0;n<Ki.length&&r!==0&&r<Ki[n].priority;n++);Ki.splice(n,0,e),n===0&&OE(e)}};function _w(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function WS(){}function G8(e,r,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Ep(o);i.call(d)}}var o=ZO(r,s,e,0,null,!1,!1,"",WS);return e._reactRootContainer=o,e[vi]=o.current,pm(e.nodeType===8?e.parentNode:e),Nl(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Ep(c);l.call(d)}}var c=Sw(e,0,!1,null,null,!1,!1,"",WS);return e._reactRootContainer=c,e[vi]=c.current,pm(e.nodeType===8?e.parentNode:e),Nl(function(){dg(r,c,n,s)}),c}function hg(e,r,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Ep(o);l.call(c)}}dg(r,o,e,a)}else o=G8(n,r,e,a,s);return Ep(o)}AE=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var n=zu(r.pendingLanes);n!==0&&(HN(r,n|1),ns(r,Ur()),!(Wt&6)&&(Jc=Ur()+500,_o()))}break;case 13:Nl(function(){var s=yi(e,1);if(s!==null){var a=qn();da(s,e,1,a)}}),Pw(e,1)}};KN=function(e){if(e.tag===13){var r=yi(e,134217728);if(r!==null){var n=qn();da(r,e,134217728,n)}Pw(e,134217728)}};TE=function(e){if(e.tag===13){var r=fo(e),n=yi(e,r);if(n!==null){var s=qn();da(n,e,r,s)}Pw(e,r)}};kE=function(){return tr};EE=function(e,r){var n=tr;try{return tr=e,r()}finally{tr=n}};$j=function(e,r,n){switch(r){case"input":if(kj(e,n),r=n.name,n.type==="radio"&&r!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var s=n[r];if(s!==e&&s.form===e.form){var a=ng(s);if(!a)throw Error(De(90));lE(s),kj(s,a)}}}break;case"textarea":dE(e,n);break;case"select":r=n.value,r!=null&&_c(e,!!n.multiple,r,!1)}};gE=jw;vE=Nl;var X8={usingClientEntryPoint:!1,Events:[jh,fc,ng,pE,xE,jw]},xu={findFiberByHostInstance:Yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y8={bundleType:xu.bundleType,version:xu.version,rendererPackageName:xu.rendererPackageName,rendererConfig:xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bE(e),e===null?null:e.stateNode},findFiberByHostInstance:xu.findFiberByHostInstance||K8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{Jx=of.inject(Y8),za=of}catch{}}Ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X8;Ps.createPortal=function(e,r){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_w(r))throw Error(De(200));return H8(e,r,null,n)};Ps.createRoot=function(e,r){if(!_w(e))throw Error(De(299));var n=!1,s="",a=JO;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),r=Sw(e,1,!1,null,null,n,!1,s,a),e[vi]=r.current,pm(e.nodeType===8?e.parentNode:e),new Cw(r)};Ps.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(De(188)):(e=Object.keys(e).join(","),Error(De(268,e)));return e=bE(r),e=e===null?null:e.stateNode,e};Ps.flushSync=function(e){return Nl(e)};Ps.hydrate=function(e,r,n){if(!mg(r))throw Error(De(200));return hg(null,e,r,!0,n)};Ps.hydrateRoot=function(e,r,n){if(!_w(e))throw Error(De(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=JO;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),r=ZO(r,null,e,1,n??null,a,!1,i,o),e[vi]=r.current,pm(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,a]:r.mutableSourceEagerHydrationData.push(n,a);return new ug(r)};Ps.render=function(e,r,n){if(!mg(r))throw Error(De(200));return hg(null,e,r,!1,n)};Ps.unmountComponentAtNode=function(e){if(!mg(e))throw Error(De(40));return e._reactRootContainer?(Nl(function(){hg(null,null,e,!1,function(){e._reactRootContainer=null,e[vi]=null})}),!0):!1};Ps.unstable_batchedUpdates=jw;Ps.unstable_renderSubtreeIntoContainer=function(e,r,n,s){if(!mg(n))throw Error(De(200));if(e==null||e._reactInternals===void 0)throw Error(De(38));return hg(e,r,n,!1,s)};Ps.version="18.3.1-next-f1338f8080-20240426";function e4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e4)}catch(e){console.error(e)}}e4(),eE.exports=Ps;var zl=eE.exports;const t4=Jt(zl);var r4,HS=zl;r4=HS.createRoot,HS.hydrateRoot;const Q8=1,Z8=1e6;let vy=0;function J8(){return vy=(vy+1)%Number.MAX_SAFE_INTEGER,vy.toString()}const yy=new Map,KS=e=>{if(yy.has(e))return;const r=setTimeout(()=>{yy.delete(e),Ju({type:"REMOVE_TOAST",toastId:e})},Z8);yy.set(e,r)},ez=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,Q8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===r.toast.id?{...n,...r.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=r;return n?KS(n):e.toasts.forEach(s=>{KS(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==r.toastId)}}},Yf=[];let Qf={toasts:[]};function Ju(e){Qf=ez(Qf,e),Yf.forEach(r=>{r(Qf)})}function tz({...e}){const r=J8(),n=a=>Ju({type:"UPDATE_TOAST",toast:{...a,id:r}}),s=()=>Ju({type:"DISMISS_TOAST",toastId:r});return Ju({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:a=>{a||s()}}}),{id:r,dismiss:s,update:n}}function Tt(){const[e,r]=g.useState(Qf);return g.useEffect(()=>(Yf.push(r),()=>{const n=Yf.indexOf(r);n>-1&&Yf.splice(n,1)}),[e]),{...e,toast:tz,dismiss:n=>Ju({type:"DISMISS_TOAST",toastId:n})}}function Ye(e,r,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return r==null?void 0:r(a)}}function GS(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function n4(...e){return r=>{let n=!1;const s=e.map(a=>{const i=GS(a,r);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():GS(e[a],null)}}}}function Rt(...e){return g.useCallback(n4(...e),e)}function rz(e,r){const n=g.createContext(r),s=i=>{const{children:o,...l}=i,c=g.useMemo(()=>l,Object.values(l));return t.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=g.useContext(n);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Gn(e,r=[]){let n=[];function s(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];const d=m=>{var j;const{scope:h,children:p,...y}=m,f=((j=h==null?void 0:h[e])==null?void 0:j[c])||l,v=g.useMemo(()=>y,Object.values(y));return t.jsx(f.Provider,{value:v,children:p})};d.displayName=i+"Provider";function u(m,h){var f;const p=((f=h==null?void 0:h[e])==null?void 0:f[c])||l,y=g.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,nz(a,...r)]}function nz(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return g.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}function wl(e){const r=sz(e),n=g.forwardRef((s,a)=>{const{children:i,...o}=s,l=g.Children.toArray(i),c=l.find(iz);if(c){const d=c.props.children,u=l.map(m=>m===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:m);return t.jsx(r,{...o,ref:a,children:g.isValidElement(d)?g.cloneElement(d,void 0,u):null})}return t.jsx(r,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var Id=wl("Slot");function sz(e){const r=g.forwardRef((n,s)=>{const{children:a,...i}=n;if(g.isValidElement(a)){const o=lz(a),l=oz(i,a.props);return a.type!==g.Fragment&&(l.ref=s?n4(s,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var s4=Symbol("radix.slottable");function az(e){const r=({children:n})=>t.jsx(t.Fragment,{children:n});return r.displayName=`${e}.Slottable`,r.__radixId=s4,r}function iz(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===s4}function oz(e,r){const n={...r};for(const s in r){const a=e[s],i=r[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function lz(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Aw(e){const r=e+"CollectionProvider",[n,s]=Gn(r),[a,i]=n(r,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:v,children:j}=f,x=L.useRef(null),b=L.useRef(new Map).current;return t.jsx(a,{scope:v,itemMap:b,collectionRef:x,children:j})};o.displayName=r;const l=e+"CollectionSlot",c=wl(l),d=L.forwardRef((f,v)=>{const{scope:j,children:x}=f,b=i(l,j),S=Rt(v,b.collectionRef);return t.jsx(c,{ref:S,children:x})});d.displayName=l;const u=e+"CollectionItemSlot",m="data-radix-collection-item",h=wl(u),p=L.forwardRef((f,v)=>{const{scope:j,children:x,...b}=f,S=L.useRef(null),w=Rt(v,S),N=i(u,j);return L.useEffect(()=>(N.itemMap.set(S,{ref:S,...b}),()=>void N.itemMap.delete(S))),t.jsx(h,{[m]:"",ref:w,children:x})});p.displayName=u;function y(f){const v=i(e+"CollectionConsumer",f);return L.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((N,P)=>b.indexOf(N.ref.current)-b.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},y,s]}var cz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Je=cz.reduce((e,r)=>{const n=wl(`Primitive.${r}`),s=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function a4(e,r){e&&zl.flushSync(()=>e.dispatchEvent(r))}function Xr(e){const r=g.useRef(e);return g.useEffect(()=>{r.current=e}),g.useMemo(()=>(...n)=>{var s;return(s=r.current)==null?void 0:s.call(r,...n)},[])}function dz(e,r=globalThis==null?void 0:globalThis.document){const n=Xr(e);g.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[n,r])}var uz="DismissableLayer",x0="dismissableLayer.update",mz="dismissableLayer.pointerDownOutside",hz="dismissableLayer.focusOutside",XS,i4=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$d=g.forwardRef((e,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=g.useContext(i4),[u,m]=g.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),y=Rt(r,P=>m(P)),f=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=f.indexOf(v),x=u?f.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,S=x>=j,w=pz(P=>{const _=P.target,C=[...d.branches].some(A=>A.contains(_));!S||C||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},h),N=xz(P=>{const _=P.target;[...d.branches].some(A=>A.contains(_))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},h);return dz(P=>{x===d.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},h),g.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(XS=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),YS(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=XS)}},[u,h,n,d]),g.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),YS())},[u,d]),g.useEffect(()=>{const P=()=>p({});return document.addEventListener(x0,P),()=>document.removeEventListener(x0,P)},[]),t.jsx(Je.div,{...c,ref:y,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:Ye(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Ye(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Ye(e.onPointerDownCapture,w.onPointerDownCapture)})});$d.displayName=uz;var fz="DismissableLayerBranch",o4=g.forwardRef((e,r)=>{const n=g.useContext(i4),s=g.useRef(null),a=Rt(r,s);return g.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),t.jsx(Je.div,{...e,ref:a})});o4.displayName=fz;function pz(e,r=globalThis==null?void 0:globalThis.document){const n=Xr(e),s=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){l4(mz,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",a.current),a.current=c,r.addEventListener("click",a.current,{once:!0})):c()}else r.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",a.current)}},[r,n]),{onPointerDownCapture:()=>s.current=!0}}function xz(e,r=globalThis==null?void 0:globalThis.document){const n=Xr(e),s=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!s.current&&l4(hz,n,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",a),()=>r.removeEventListener("focusin",a)},[r,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function YS(){const e=new CustomEvent(x0);document.dispatchEvent(e)}function l4(e,r,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&a.addEventListener(e,r,{once:!0}),s?a4(a,i):a.dispatchEvent(i)}var gz=$d,vz=o4,Lr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},yz="Portal",Nh=g.forwardRef((e,r)=>{var l;const{container:n,...s}=e,[a,i]=g.useState(!1);Lr(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?t4.createPortal(t.jsx(Je.div,{...s,ref:r}),o):null});Nh.displayName=yz;function jz(e,r){return g.useReducer((n,s)=>r[n][s]??n,e)}var Xn=e=>{const{present:r,children:n}=e,s=bz(r),a=typeof n=="function"?n({present:s.isPresent}):g.Children.only(n),i=Rt(s.ref,Nz(a));return typeof n=="function"||s.isPresent?g.cloneElement(a,{ref:i}):null};Xn.displayName="Presence";function bz(e){const[r,n]=g.useState(),s=g.useRef(null),a=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,c]=jz(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=lf(s.current);i.current=l==="mounted"?d:"none"},[l]),Lr(()=>{const d=s.current,u=a.current;if(u!==e){const h=i.current,p=lf(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Lr(()=>{if(r){let d;const u=r.ownerDocument.defaultView??window,m=p=>{const f=lf(s.current).includes(p.animationName);if(p.target===r&&f&&(c("ANIMATION_END"),!a.current)){const v=r.style.animationFillMode;r.style.animationFillMode="forwards",d=u.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=v)})}},h=p=>{p.target===r&&(i.current=lf(s.current))};return r.addEventListener("animationstart",h),r.addEventListener("animationcancel",m),r.addEventListener("animationend",m),()=>{u.clearTimeout(d),r.removeEventListener("animationstart",h),r.removeEventListener("animationcancel",m),r.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function lf(e){return(e==null?void 0:e.animationName)||"none"}function Nz(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var wz=$N[" useInsertionEffect ".trim().toString()]||Lr;function xa({prop:e,defaultProp:r,onChange:n=()=>{},caller:s}){const[a,i,o]=Sz({defaultProp:r,onChange:n}),l=e!==void 0,c=l?e:a;{const u=g.useRef(e!==void 0);g.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=g.useCallback(u=>{var m;if(l){const h=Pz(u)?u(e):u;h!==e&&((m=o.current)==null||m.call(o,h))}else i(u)},[l,e,i,o]);return[c,d]}function Sz({defaultProp:e,onChange:r}){const[n,s]=g.useState(e),a=g.useRef(n),i=g.useRef(r);return wz(()=>{i.current=r},[r]),g.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,s,i]}function Pz(e){return typeof e=="function"}var c4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Cz="VisuallyHidden",fg=g.forwardRef((e,r)=>t.jsx(Je.span,{...e,ref:r,style:{...c4,...e.style}}));fg.displayName=Cz;var _z=fg,Tw="ToastProvider",[kw,Az,Tz]=Aw("Toast"),[d4,lPe]=Gn("Toast",[Tz]),[kz,pg]=d4(Tw),u4=e=>{const{__scopeToast:r,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=g.useState(null),[d,u]=g.useState(0),m=g.useRef(!1),h=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Tw}\`. Expected non-empty \`string\`.`),t.jsx(kw.Provider,{scope:r,children:t.jsx(kz,{scope:r,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>u(p=>p+1),[]),onToastRemove:g.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:o})})};u4.displayName=Tw;var m4="ToastViewport",Ez=["F8"],g0="toast.viewportPause",v0="toast.viewportResume",h4=g.forwardRef((e,r)=>{const{__scopeToast:n,hotkey:s=Ez,label:a="Notifications ({hotkey})",...i}=e,o=pg(m4,n),l=Az(n),c=g.useRef(null),d=g.useRef(null),u=g.useRef(null),m=g.useRef(null),h=Rt(r,m,o.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;g.useEffect(()=>{const v=j=>{var b;s.length!==0&&s.every(S=>j[S]||j.code===S)&&((b=m.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[s]),g.useEffect(()=>{const v=c.current,j=m.current;if(y&&v&&j){const x=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(g0);j.dispatchEvent(N),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(v0);j.dispatchEvent(N),o.isClosePausedRef.current=!1}},S=N=>{!v.contains(N.relatedTarget)&&b()},w=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",x),v.addEventListener("focusout",S),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",w),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",w),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const f=g.useCallback(({tabbingDirection:v})=>{const x=l().map(b=>{const S=b.ref.current,w=[S,...qz(S)];return v==="forwards"?w:w.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return g.useEffect(()=>{const v=m.current;if(v){const j=x=>{var w,N,P;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const _=document.activeElement,C=x.shiftKey;if(x.target===v&&C){(w=d.current)==null||w.focus();return}const R=f({tabbingDirection:C?"backwards":"forwards"}),E=R.findIndex(F=>F===_);jy(R.slice(E+1))?x.preventDefault():C?(N=d.current)==null||N.focus():(P=u.current)==null||P.focus()}};return v.addEventListener("keydown",j),()=>v.removeEventListener("keydown",j)}},[l,f]),t.jsxs(vz,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&t.jsx(y0,{ref:d,onFocusFromOutsideViewport:()=>{const v=f({tabbingDirection:"forwards"});jy(v)}}),t.jsx(kw.Slot,{scope:n,children:t.jsx(Je.ol,{tabIndex:-1,...i,ref:h})}),y&&t.jsx(y0,{ref:u,onFocusFromOutsideViewport:()=>{const v=f({tabbingDirection:"backwards"});jy(v)}})]})});h4.displayName=m4;var f4="ToastFocusProxy",y0=g.forwardRef((e,r)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,i=pg(f4,n);return t.jsx(fg,{"aria-hidden":!0,tabIndex:0,...a,ref:r,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});y0.displayName=f4;var wh="Toast",Oz="toast.swipeStart",Rz="toast.swipeMove",Dz="toast.swipeCancel",Mz="toast.swipeEnd",p4=g.forwardRef((e,r)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=xa({prop:s,defaultProp:a??!0,onChange:i,caller:wh});return t.jsx(Xn,{present:n||l,children:t.jsx(Lz,{open:l,...o,ref:r,onClose:()=>c(!1),onPause:Xr(e.onPause),onResume:Xr(e.onResume),onSwipeStart:Ye(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ye(e.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Ye(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ye(e.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});p4.displayName=wh;var[Iz,$z]=d4(wh,{onClose(){}}),Lz=g.forwardRef((e,r)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:p,...y}=e,f=pg(wh,n),[v,j]=g.useState(null),x=Rt(r,F=>j(F)),b=g.useRef(null),S=g.useRef(null),w=a||f.duration,N=g.useRef(0),P=g.useRef(w),_=g.useRef(0),{onToastAdd:C,onToastRemove:A}=f,M=Xr(()=>{var G;(v==null?void 0:v.contains(document.activeElement))&&((G=f.viewport)==null||G.focus()),o()}),R=g.useCallback(F=>{!F||F===1/0||(window.clearTimeout(_.current),N.current=new Date().getTime(),_.current=window.setTimeout(M,F))},[M]);g.useEffect(()=>{const F=f.viewport;if(F){const G=()=>{R(P.current),d==null||d()},D=()=>{const J=new Date().getTime()-N.current;P.current=P.current-J,window.clearTimeout(_.current),c==null||c()};return F.addEventListener(g0,D),F.addEventListener(v0,G),()=>{F.removeEventListener(g0,D),F.removeEventListener(v0,G)}}},[f.viewport,w,c,d,R]),g.useEffect(()=>{i&&!f.isClosePausedRef.current&&R(w)},[i,w,f.isClosePausedRef,R]),g.useEffect(()=>(C(),()=>A()),[C,A]);const E=g.useMemo(()=>v?N4(v):null,[v]);return f.viewport?t.jsxs(t.Fragment,{children:[E&&t.jsx(Fz,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:E}),t.jsx(Iz,{scope:n,onClose:M,children:zl.createPortal(t.jsx(kw.ItemSlot,{scope:n,children:t.jsx(gz,{asChild:!0,onEscapeKeyDown:Ye(l,()=>{f.isFocusedToastEscapeKeyDownRef.current||M(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(Je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":f.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ye(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Ye(e.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:Ye(e.onPointerMove,F=>{if(!b.current)return;const G=F.clientX-b.current.x,D=F.clientY-b.current.y,J=!!S.current,q=["left","right"].includes(f.swipeDirection),U=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,re=q?U(0,G):0,he=q?0:U(0,D),ie=F.pointerType==="touch"?10:2,fe={x:re,y:he},xe={originalEvent:F,delta:fe};J?(S.current=fe,cf(Rz,m,xe,{discrete:!1})):QS(fe,f.swipeDirection,ie)?(S.current=fe,cf(Oz,u,xe,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(G)>ie||Math.abs(D)>ie)&&(b.current=null)}),onPointerUp:Ye(e.onPointerUp,F=>{const G=S.current,D=F.target;if(D.hasPointerCapture(F.pointerId)&&D.releasePointerCapture(F.pointerId),S.current=null,b.current=null,G){const J=F.currentTarget,q={originalEvent:F,delta:G};QS(G,f.swipeDirection,f.swipeThreshold)?cf(Mz,p,q,{discrete:!0}):cf(Dz,h,q,{discrete:!0}),J.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),Fz=e=>{const{__scopeToast:r,children:n,...s}=e,a=pg(wh,r),[i,o]=g.useState(!1),[l,c]=g.useState(!1);return Uz(()=>o(!0)),g.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:t.jsx(Nh,{asChild:!0,children:t.jsx(fg,{...s,children:i&&t.jsxs(t.Fragment,{children:[a.label," ",n]})})})},zz="ToastTitle",x4=g.forwardRef((e,r)=>{const{__scopeToast:n,...s}=e;return t.jsx(Je.div,{...s,ref:r})});x4.displayName=zz;var Bz="ToastDescription",g4=g.forwardRef((e,r)=>{const{__scopeToast:n,...s}=e;return t.jsx(Je.div,{...s,ref:r})});g4.displayName=Bz;var v4="ToastAction",y4=g.forwardRef((e,r)=>{const{altText:n,...s}=e;return n.trim()?t.jsx(b4,{altText:n,asChild:!0,children:t.jsx(Ew,{...s,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${v4}\`. Expected non-empty \`string\`.`),null)});y4.displayName=v4;var j4="ToastClose",Ew=g.forwardRef((e,r)=>{const{__scopeToast:n,...s}=e,a=$z(j4,n);return t.jsx(b4,{asChild:!0,children:t.jsx(Je.button,{type:"button",...s,ref:r,onClick:Ye(e.onClick,a.onClose)})})});Ew.displayName=j4;var b4=g.forwardRef((e,r)=>{const{__scopeToast:n,altText:s,...a}=e;return t.jsx(Je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:r})});function N4(e){const r=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&r.push(s.textContent),Vz(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...N4(s))}}),r}function cf(e,r,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});r&&a.addEventListener(e,r,{once:!0}),s?a4(a,i):a.dispatchEvent(i)}var QS=(e,r,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return r==="left"||r==="right"?i&&s>n:!i&&a>n};function Uz(e=()=>{}){const r=Xr(e);Lr(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[r])}function Vz(e){return e.nodeType===e.ELEMENT_NODE}function qz(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function jy(e){const r=document.activeElement;return e.some(n=>n===r?!0:(n.focus(),document.activeElement!==r))}var Wz=u4,w4=h4,S4=p4,P4=x4,C4=g4,_4=y4,A4=Ew;function T4(e){var r,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(r=0;r<a;r++)e[r]&&(n=T4(e[r]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function gt(){for(var e,r,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(r=T4(e))&&(s&&(s+=" "),s+=r);return s}const ZS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,JS=gt,Bl=(e,r)=>n=>{var s;if((r==null?void 0:r.variants)==null)return JS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=r,o=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],m=i==null?void 0:i[d];if(u===null)return null;const h=ZS(u)||ZS(m);return a[d][h]}),l=n&&Object.entries(n).reduce((d,u)=>{let[m,h]=u;return h===void 0||(d[m]=h),d},{}),c=r==null||(s=r.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:m,className:h,...p}=u;return Object.entries(p).every(y=>{let[f,v]=y;return Array.isArray(v)?v.includes({...i,...l}[f]):{...i,...l}[f]===v})?[...d,m,h]:d},[]);return JS(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k4=(...e)=>e.filter((r,n,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=g.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...Kz,width:r,height:r,stroke:e,strokeWidth:s?Number(n)*24/Number(r):n,className:k4("lucide",a),...l},[...o.map(([d,u])=>g.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(e,r)=>{const n=g.forwardRef(({className:s,...a},i)=>g.createElement(Gz,{ref:i,iconNode:r,className:k4(`lucide-${Hz(e)}`,s),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Ee("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=Ee("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=Ee("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=Ee("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Ee("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=Ee("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=Ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=Ee("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=Ee("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=Ee("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=Ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=Ee("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=Ee("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=Ee("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=Ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=Ee("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=Ee("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=Ee("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=Ee("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=Ee("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=Ee("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=Ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=Ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=Ee("Hospital",[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=Ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=Ee("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=Ee("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=Ee("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=Ee("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=Ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Ee("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=Ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=Ee("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Ee("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=Ee("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=Ee("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=Ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=Ee("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=Ee("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=Ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Ee("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=Ee("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=Ee("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=Ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Ee("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=Ee("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=Ee("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=Ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=Ee("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=Ee("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$w="-",NB=e=>{const r=SB(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split($w);return l[0]===""&&l.length!==1&&l.shift(),B4(l,r)||wB(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},B4=(e,r)=>{var o;if(e.length===0)return r.classGroupId;const n=e[0],s=r.nextPart.get(n),a=s?B4(e.slice(1),s):void 0;if(a)return a;if(r.validators.length===0)return;const i=e.join($w);return(o=r.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},sP=/^\[(.+)\]$/,wB=e=>{if(sP.test(e)){const r=sP.exec(e)[1],n=r==null?void 0:r.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},SB=e=>{const{theme:r,prefix:n}=e,s={nextPart:new Map,validators:[]};return CB(Object.entries(e.classGroups),n).forEach(([i,o])=>{N0(o,s,i,r)}),s},N0=(e,r,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?r:aP(r,a);i.classGroupId=n;return}if(typeof a=="function"){if(PB(a)){N0(a(s),r,n,s);return}r.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{N0(o,aP(r,i),n,s)})})},aP=(e,r)=>{let n=e;return r.split($w).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},PB=e=>e.isThemeGetter,CB=(e,r)=>r?e.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[r+o,l])):i);return[n,a]}):e,_B=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),r++,r>e&&(r=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},U4="!",AB=e=>{const{separator:r,experimentalParseClassName:n}=e,s=r.length===1,a=r[0],i=r.length,o=l=>{const c=[];let d=0,u=0,m;for(let v=0;v<l.length;v++){let j=l[v];if(d===0){if(j===a&&(s||l.slice(v,v+i)===r)){c.push(l.slice(u,v)),u=v+i;continue}if(j==="/"){m=v;continue}}j==="["?d++:j==="]"&&d--}const h=c.length===0?l:l.substring(u),p=h.startsWith(U4),y=p?h.substring(1):h,f=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:f}};return n?l=>n({className:l,parseClassName:o}):o},TB=e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(s=>{s[0]==="["?(r.push(...n.sort(),s),n=[]):n.push(s)}),r.push(...n.sort()),r},kB=e=>({cache:_B(e.cacheSize),parseClassName:AB(e),...NB(e)}),EB=/\s+/,OB=(e,r)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=r,i=[],o=e.trim().split(EB);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:p}=n(d);let y=!!p,f=s(y?h.substring(0,p):h);if(!f){if(!y){l=d+(l.length>0?" "+l:l);continue}if(f=s(h),!f){l=d+(l.length>0?" "+l:l);continue}y=!1}const v=TB(u).join(":"),j=m?v+U4:v,x=j+f;if(i.includes(x))continue;i.push(x);const b=a(f,y);for(let S=0;S<b.length;++S){const w=b[S];i.push(j+w)}l=d+(l.length>0?" "+l:l)}return l};function RB(){let e=0,r,n,s="";for(;e<arguments.length;)(r=arguments[e++])&&(n=V4(r))&&(s&&(s+=" "),s+=n);return s}const V4=e=>{if(typeof e=="string")return e;let r,n="";for(let s=0;s<e.length;s++)e[s]&&(r=V4(e[s]))&&(n&&(n+=" "),n+=r);return n};function DB(e,...r){let n,s,a,i=o;function o(c){const d=r.reduce((u,m)=>m(u),e());return n=kB(d),s=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=OB(c,n);return a(c,u),u}return function(){return i(RB.apply(null,arguments))}}const fr=e=>{const r=n=>n[e]||[];return r.isThemeGetter=!0,r},q4=/^\[(?:([a-z-]+):)?(.+)\]$/i,MB=/^\d+\/\d+$/,IB=new Set(["px","full","screen"]),$B=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ei=e=>Rc(e)||IB.has(e)||MB.test(e),Fi=e=>zd(e,"length",XB),Rc=e=>!!e&&!Number.isNaN(Number(e)),Ny=e=>zd(e,"number",Rc),gu=e=>!!e&&Number.isInteger(Number(e)),UB=e=>e.endsWith("%")&&Rc(e.slice(0,-1)),wt=e=>q4.test(e),zi=e=>$B.test(e),VB=new Set(["length","size","percentage"]),qB=e=>zd(e,VB,W4),WB=e=>zd(e,"position",W4),HB=new Set(["image","url"]),KB=e=>zd(e,HB,QB),GB=e=>zd(e,"",YB),vu=()=>!0,zd=(e,r,n)=>{const s=q4.exec(e);return s?s[1]?typeof r=="string"?s[1]===r:r.has(s[1]):n(s[2]):!1},XB=e=>LB.test(e)&&!FB.test(e),W4=()=>!1,YB=e=>zB.test(e),QB=e=>BB.test(e),ZB=()=>{const e=fr("colors"),r=fr("spacing"),n=fr("blur"),s=fr("brightness"),a=fr("borderColor"),i=fr("borderRadius"),o=fr("borderSpacing"),l=fr("borderWidth"),c=fr("contrast"),d=fr("grayscale"),u=fr("hueRotate"),m=fr("invert"),h=fr("gap"),p=fr("gradientColorStops"),y=fr("gradientColorStopPositions"),f=fr("inset"),v=fr("margin"),j=fr("opacity"),x=fr("padding"),b=fr("saturate"),S=fr("scale"),w=fr("sepia"),N=fr("skew"),P=fr("space"),_=fr("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",wt,r],R=()=>[wt,r],E=()=>["",ei,Fi],F=()=>["auto",Rc,wt],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",wt],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[Rc,wt];return{cacheSize:500,separator:":",theme:{colors:[vu],spacing:[ei,Fi],blur:["none","",zi,wt],brightness:he(),borderColor:[e],borderRadius:["none","","full",zi,wt],borderSpacing:R(),borderWidth:E(),contrast:he(),grayscale:U(),hueRotate:he(),invert:U(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[UB,Fi],inset:M(),margin:M(),opacity:he(),padding:R(),saturate:he(),scale:he(),sepia:U(),skew:he(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",wt]}],container:["container"],columns:[{columns:[zi]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),wt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gu,wt]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wt]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",gu,wt]}],"grid-cols":[{"grid-cols":[vu]}],"col-start-end":[{col:["auto",{span:["full",gu,wt]},wt]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[vu]}],"row-start-end":[{row:["auto",{span:[gu,wt]},wt]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wt,r]}],"min-w":[{"min-w":[wt,r,"min","max","fit"]}],"max-w":[{"max-w":[wt,r,"none","full","min","max","fit","prose",{screen:[zi]},zi]}],h:[{h:[wt,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wt,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wt,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wt,r,"auto","min","max","fit"]}],"font-size":[{text:["base",zi,Fi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ny]}],"font-family":[{font:[vu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wt]}],"line-clamp":[{"line-clamp":["none",Rc,Ny]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ei,wt]}],"list-image":[{"list-image":["none",wt]}],"list-style-type":[{list:["none","disc","decimal",wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ei,Fi]}],"underline-offset":[{"underline-offset":["auto",ei,wt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),WB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KB]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:D()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[ei,wt]}],"outline-w":[{outline:[ei,Fi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[ei,Fi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",zi,GB]}],"shadow-color":[{shadow:[vu]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",zi,wt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wt]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",wt]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[gu,wt]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ei,Fi,Ny]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},JB=DB(ZB);function ke(...e){return JB(gt(e))}const eU=Wz,H4=g.forwardRef(({className:e,...r},n)=>t.jsx(w4,{ref:n,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));H4.displayName=w4.displayName;const tU=Bl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),K4=g.forwardRef(({className:e,variant:r,...n},s)=>t.jsx(S4,{ref:s,className:ke(tU({variant:r}),e),...n}));K4.displayName=S4.displayName;const rU=g.forwardRef(({className:e,...r},n)=>t.jsx(_4,{ref:n,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...r}));rU.displayName=_4.displayName;const G4=g.forwardRef(({className:e,...r},n)=>t.jsx(A4,{ref:n,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:t.jsx(Fd,{className:"h-4 w-4"})}));G4.displayName=A4.displayName;const X4=g.forwardRef(({className:e,...r},n)=>t.jsx(P4,{ref:n,className:ke("text-sm font-semibold",e),...r}));X4.displayName=P4.displayName;const Y4=g.forwardRef(({className:e,...r},n)=>t.jsx(C4,{ref:n,className:ke("text-sm opacity-90",e),...r}));Y4.displayName=C4.displayName;function nU(){const{toasts:e}=Tt();return t.jsxs(eU,{children:[e.map(function({id:r,title:n,description:s,action:a,...i}){return t.jsxs(K4,{...i,children:[t.jsxs("div",{className:"grid gap-1",children:[n&&t.jsx(X4,{children:n}),s&&t.jsx(Y4,{children:s})]}),a,t.jsx(G4,{})]},r)}),t.jsx(H4,{})]})}var iP=["light","dark"],sU="(prefers-color-scheme: dark)",aU=g.createContext(void 0),iU={setTheme:e=>{},themes:[]},oU=()=>{var e;return(e=g.useContext(aU))!=null?e:iU};g.memo(({forcedTheme:e,storageKey:r,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=a?iP.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,f=!1,v=!0)=>{let j=o?o[y]:y,x=f?y+"|| ''":`'${j}'`,b="";return a&&v&&!f&&iP.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),n==="class"?f||j?b+=`c.add(${x})`:b+="null":j&&(b+=`d[s](n,${x})`),b},p=e?`!function(){${u}${h(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${r}');if('system'===e||(!e&&${d})){var t='${sU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${d?"":"else{"+h(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${r}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${m}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var lU=e=>{switch(e){case"success":return uU;case"info":return hU;case"warning":return mU;case"error":return fU;default:return null}},cU=Array(12).fill(0),dU=({visible:e,className:r})=>L.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":e},L.createElement("div",{className:"sonner-spinner"},cU.map((n,s)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),uU=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mU=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hU=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fU=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pU=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xU=()=>{let[e,r]=L.useState(document.hidden);return L.useEffect(()=>{let n=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},w0=1,gU=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:w0++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=e instanceof Promise?e:e(),a=n!==void 0,i,o=s.then(async c=>{if(i=["resolve",c],L.isValidElement(c))a=!1,this.create({id:n,type:"default",message:c});else if(yU(c)&&!c.ok){a=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,u=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description;this.create({id:n,type:"error",message:d,description:u})}else if(r.success!==void 0){a=!1;let d=typeof r.success=="function"?await r.success(c):r.success,u=typeof r.description=="function"?await r.description(c):r.description;this.create({id:n,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],r.error!==void 0){a=!1;let d=typeof r.error=="function"?await r.error(c):r.error,u=typeof r.description=="function"?await r.description(c):r.description;this.create({id:n,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(n),n=void 0),(c=r.finally)==null||c.call(r)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||w0++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Yn=new gU,vU=(e,r)=>{let n=(r==null?void 0:r.id)||w0++;return Yn.addToast({title:e,...r,id:n}),n},yU=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",jU=vU,bU=()=>Yn.toasts,NU=()=>Yn.getActiveToasts();Object.assign(jU,{success:Yn.success,info:Yn.info,warning:Yn.warning,error:Yn.error,custom:Yn.custom,message:Yn.message,promise:Yn.promise,dismiss:Yn.dismiss,loading:Yn.loading},{getHistory:bU,getToasts:NU});function wU(e,{insertAt:r}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}wU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function df(e){return e.label!==void 0}var SU=3,PU="32px",CU="16px",oP=4e3,_U=356,AU=14,TU=20,kU=200;function Gs(...e){return e.filter(Boolean).join(" ")}function EU(e){let[r,n]=e.split("-"),s=[];return r&&s.push(r),n&&s.push(n),s}var OU=e=>{var r,n,s,a,i,o,l,c,d,u,m;let{invert:h,toast:p,unstyled:y,interacting:f,setHeights:v,visibleToasts:j,heights:x,index:b,toasts:S,expanded:w,removeToast:N,defaultRichColors:P,closeButton:_,style:C,cancelButtonStyle:A,actionButtonStyle:M,className:R="",descriptionClassName:E="",duration:F,position:G,gap:D,loadingIcon:J,expandByDefault:q,classNames:U,icons:re,closeButtonAriaLabel:he="Close toast",pauseWhenPageIsHidden:ie}=e,[fe,xe]=L.useState(null),[ge,Te]=L.useState(null),[Se,Ue]=L.useState(!1),[be,Q]=L.useState(!1),[pe,oe]=L.useState(!1),[ze,Fe]=L.useState(!1),[tt,lt]=L.useState(!1),[me,He]=L.useState(0),[ae,je]=L.useState(0),W=L.useRef(p.duration||F||oP),se=L.useRef(null),le=L.useRef(null),ne=b===0,Y=b+1<=j,ce=p.type,Ne=p.dismissible!==!1,K=p.className||"",de=p.descriptionClassName||"",Le=L.useMemo(()=>x.findIndex(ut=>ut.toastId===p.id)||0,[x,p.id]),Ve=L.useMemo(()=>{var ut;return(ut=p.closeButton)!=null?ut:_},[p.closeButton,_]),St=L.useMemo(()=>p.duration||F||oP,[p.duration,F]),an=L.useRef(0),br=L.useRef(0),Pa=L.useRef(0),Nr=L.useRef(null),[zr,_s]=G.split("-"),Dn=L.useMemo(()=>x.reduce((ut,qt,er)=>er>=Le?ut:ut+qt.height,0),[x,Le]),Dt=xU(),Ht=p.invert||h,Bt=ce==="loading";br.current=L.useMemo(()=>Le*D+Dn,[Le,Dn]),L.useEffect(()=>{W.current=St},[St]),L.useEffect(()=>{Ue(!0)},[]),L.useEffect(()=>{let ut=le.current;if(ut){let qt=ut.getBoundingClientRect().height;return je(qt),v(er=>[{toastId:p.id,height:qt,position:p.position},...er]),()=>v(er=>er.filter(Nn=>Nn.toastId!==p.id))}},[v,p.id]),L.useLayoutEffect(()=>{if(!Se)return;let ut=le.current,qt=ut.style.height;ut.style.height="auto";let er=ut.getBoundingClientRect().height;ut.style.height=qt,je(er),v(Nn=>Nn.find(wn=>wn.toastId===p.id)?Nn.map(wn=>wn.toastId===p.id?{...wn,height:er}:wn):[{toastId:p.id,height:er,position:p.position},...Nn])},[Se,p.title,p.description,v,p.id]);let sr=L.useCallback(()=>{Q(!0),He(br.current),v(ut=>ut.filter(qt=>qt.toastId!==p.id)),setTimeout(()=>{N(p)},kU)},[p,N,v,br]);L.useEffect(()=>{if(p.promise&&ce==="loading"||p.duration===1/0||p.type==="loading")return;let ut;return w||f||ie&&Dt?(()=>{if(Pa.current<an.current){let qt=new Date().getTime()-an.current;W.current=W.current-qt}Pa.current=new Date().getTime()})():W.current!==1/0&&(an.current=new Date().getTime(),ut=setTimeout(()=>{var qt;(qt=p.onAutoClose)==null||qt.call(p,p),sr()},W.current)),()=>clearTimeout(ut)},[w,f,p,ce,ie,Dt,sr]),L.useEffect(()=>{p.delete&&sr()},[sr,p.delete]);function As(){var ut,qt,er;return re!=null&&re.loading?L.createElement("div",{className:Gs(U==null?void 0:U.loader,(ut=p==null?void 0:p.classNames)==null?void 0:ut.loader,"sonner-loader"),"data-visible":ce==="loading"},re.loading):J?L.createElement("div",{className:Gs(U==null?void 0:U.loader,(qt=p==null?void 0:p.classNames)==null?void 0:qt.loader,"sonner-loader"),"data-visible":ce==="loading"},J):L.createElement(dU,{className:Gs(U==null?void 0:U.loader,(er=p==null?void 0:p.classNames)==null?void 0:er.loader),visible:ce==="loading"})}return L.createElement("li",{tabIndex:0,ref:le,className:Gs(R,K,U==null?void 0:U.toast,(r=p==null?void 0:p.classNames)==null?void 0:r.toast,U==null?void 0:U.default,U==null?void 0:U[ce],(n=p==null?void 0:p.classNames)==null?void 0:n[ce]),"data-sonner-toast":"","data-rich-colors":(s=p.richColors)!=null?s:P,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":Se,"data-promise":!!p.promise,"data-swiped":tt,"data-removed":be,"data-visible":Y,"data-y-position":zr,"data-x-position":_s,"data-index":b,"data-front":ne,"data-swiping":pe,"data-dismissible":Ne,"data-type":ce,"data-invert":Ht,"data-swipe-out":ze,"data-swipe-direction":ge,"data-expanded":!!(w||q&&Se),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${be?me:br.current}px`,"--initial-height":q?"auto":`${ae}px`,...C,...p.style},onDragEnd:()=>{oe(!1),xe(null),Nr.current=null},onPointerDown:ut=>{Bt||!Ne||(se.current=new Date,He(br.current),ut.target.setPointerCapture(ut.pointerId),ut.target.tagName!=="BUTTON"&&(oe(!0),Nr.current={x:ut.clientX,y:ut.clientY}))},onPointerUp:()=>{var ut,qt,er,Nn;if(ze||!Ne)return;Nr.current=null;let wn=Number(((ut=le.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),X=Number(((qt=le.current)==null?void 0:qt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ve=new Date().getTime()-((er=se.current)==null?void 0:er.getTime()),qe=fe==="x"?wn:X,Me=Math.abs(qe)/ve;if(Math.abs(qe)>=TU||Me>.11){He(br.current),(Nn=p.onDismiss)==null||Nn.call(p,p),Te(fe==="x"?wn>0?"right":"left":X>0?"down":"up"),sr(),Fe(!0),lt(!1);return}oe(!1),xe(null)},onPointerMove:ut=>{var qt,er,Nn,wn;if(!Nr.current||!Ne||((qt=window.getSelection())==null?void 0:qt.toString().length)>0)return;let X=ut.clientY-Nr.current.y,ve=ut.clientX-Nr.current.x,qe=(er=e.swipeDirections)!=null?er:EU(G);!fe&&(Math.abs(ve)>1||Math.abs(X)>1)&&xe(Math.abs(ve)>Math.abs(X)?"x":"y");let Me={x:0,y:0};fe==="y"?(qe.includes("top")||qe.includes("bottom"))&&(qe.includes("top")&&X<0||qe.includes("bottom")&&X>0)&&(Me.y=X):fe==="x"&&(qe.includes("left")||qe.includes("right"))&&(qe.includes("left")&&ve<0||qe.includes("right")&&ve>0)&&(Me.x=ve),(Math.abs(Me.x)>0||Math.abs(Me.y)>0)&&lt(!0),(Nn=le.current)==null||Nn.style.setProperty("--swipe-amount-x",`${Me.x}px`),(wn=le.current)==null||wn.style.setProperty("--swipe-amount-y",`${Me.y}px`)}},Ve&&!p.jsx?L.createElement("button",{"aria-label":he,"data-disabled":Bt,"data-close-button":!0,onClick:Bt||!Ne?()=>{}:()=>{var ut;sr(),(ut=p.onDismiss)==null||ut.call(p,p)},className:Gs(U==null?void 0:U.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=re==null?void 0:re.close)!=null?i:pU):null,p.jsx||g.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:L.createElement(L.Fragment,null,ce||p.icon||p.promise?L.createElement("div",{"data-icon":"",className:Gs(U==null?void 0:U.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||As():null,p.type!=="loading"?p.icon||(re==null?void 0:re[ce])||lU(ce):null):null,L.createElement("div",{"data-content":"",className:Gs(U==null?void 0:U.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},L.createElement("div",{"data-title":"",className:Gs(U==null?void 0:U.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?L.createElement("div",{"data-description":"",className:Gs(E,de,U==null?void 0:U.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),g.isValidElement(p.cancel)?p.cancel:p.cancel&&df(p.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:ut=>{var qt,er;df(p.cancel)&&Ne&&((er=(qt=p.cancel).onClick)==null||er.call(qt,ut),sr())},className:Gs(U==null?void 0:U.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,g.isValidElement(p.action)?p.action:p.action&&df(p.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||M,onClick:ut=>{var qt,er;df(p.action)&&((er=(qt=p.action).onClick)==null||er.call(qt,ut),!ut.defaultPrevented&&sr())},className:Gs(U==null?void 0:U.actionButton,(m=p==null?void 0:p.classNames)==null?void 0:m.actionButton)},p.action.label):null))};function lP(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function RU(e,r){let n={};return[e,r].forEach((s,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?CU:PU;function c(d){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):c(l)}),n}var DU=g.forwardRef(function(e,r){let{invert:n,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:m,duration:h,style:p,visibleToasts:y=SU,toastOptions:f,dir:v=lP(),gap:j=AU,loadingIcon:x,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:w}=e,[N,P]=L.useState([]),_=L.useMemo(()=>Array.from(new Set([s].concat(N.filter(ie=>ie.position).map(ie=>ie.position)))),[N,s]),[C,A]=L.useState([]),[M,R]=L.useState(!1),[E,F]=L.useState(!1),[G,D]=L.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=L.useRef(null),q=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=L.useRef(null),re=L.useRef(!1),he=L.useCallback(ie=>{P(fe=>{var xe;return(xe=fe.find(ge=>ge.id===ie.id))!=null&&xe.delete||Yn.dismiss(ie.id),fe.filter(({id:ge})=>ge!==ie.id)})},[]);return L.useEffect(()=>Yn.subscribe(ie=>{if(ie.dismiss){P(fe=>fe.map(xe=>xe.id===ie.id?{...xe,delete:!0}:xe));return}setTimeout(()=>{t4.flushSync(()=>{P(fe=>{let xe=fe.findIndex(ge=>ge.id===ie.id);return xe!==-1?[...fe.slice(0,xe),{...fe[xe],...ie},...fe.slice(xe+1)]:[ie,...fe]})})})}),[]),L.useEffect(()=>{if(u!=="system"){D(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window>"u")return;let ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:fe})=>{D(fe?"dark":"light")})}catch{ie.addListener(({matches:xe})=>{try{D(xe?"dark":"light")}catch(ge){console.error(ge)}})}},[u]),L.useEffect(()=>{N.length<=1&&R(!1)},[N]),L.useEffect(()=>{let ie=fe=>{var xe,ge;a.every(Te=>fe[Te]||fe.code===Te)&&(R(!0),(xe=J.current)==null||xe.focus()),fe.code==="Escape"&&(document.activeElement===J.current||(ge=J.current)!=null&&ge.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[a]),L.useEffect(()=>{if(J.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,re.current=!1)}},[J.current]),L.createElement("section",{ref:r,"aria-label":`${S} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((ie,fe)=>{var xe;let[ge,Te]=ie.split("-");return N.length?L.createElement("ol",{key:ie,dir:v==="auto"?lP():v,tabIndex:-1,ref:J,className:l,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":ge,"data-lifted":M&&N.length>1&&!i,"data-x-position":Te,style:{"--front-toast-height":`${((xe=C[0])==null?void 0:xe.height)||0}px`,"--width":`${_U}px`,"--gap":`${j}px`,...p,...RU(c,d)},onBlur:Se=>{re.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(re.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||re.current||(re.current=!0,U.current=Se.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{E||R(!1)},onDragEnd:()=>R(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},N.filter(Se=>!Se.position&&fe===0||Se.position===ie).map((Se,Ue)=>{var be,Q;return L.createElement(OU,{key:Se.id,icons:b,index:Ue,toast:Se,defaultRichColors:m,duration:(be=f==null?void 0:f.duration)!=null?be:h,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:n,visibleToasts:y,closeButton:(Q=f==null?void 0:f.closeButton)!=null?Q:o,interacting:E,position:ie,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:he,toasts:N.filter(pe=>pe.position==Se.position),heights:C.filter(pe=>pe.position==Se.position),setHeights:A,expandByDefault:i,gap:j,loadingIcon:x,expanded:M,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const MU=({...e})=>{const{theme:r="system"}=oU();return t.jsx(DU,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var IU=$N[" useId ".trim().toString()]||(()=>{}),$U=0;function ua(e){const[r,n]=g.useState(IU());return Lr(()=>{n(s=>s??String($U++))},[e]),r?`radix-${r}`:""}const LU=["top","right","bottom","left"],bo=Math.min,fs=Math.max,Rp=Math.round,uf=Math.floor,Va=e=>({x:e,y:e}),FU={left:"right",right:"left",bottom:"top",top:"bottom"},zU={start:"end",end:"start"};function S0(e,r,n){return fs(e,bo(r,n))}function Pi(e,r){return typeof e=="function"?e(r):e}function Ci(e){return e.split("-")[0]}function Bd(e){return e.split("-")[1]}function Lw(e){return e==="x"?"y":"x"}function Fw(e){return e==="y"?"height":"width"}const BU=new Set(["top","bottom"]);function Ia(e){return BU.has(Ci(e))?"y":"x"}function zw(e){return Lw(Ia(e))}function UU(e,r,n){n===void 0&&(n=!1);const s=Bd(e),a=zw(e),i=Fw(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=Dp(o)),[o,Dp(o)]}function VU(e){const r=Dp(e);return[P0(e),r,P0(r)]}function P0(e){return e.replace(/start|end/g,r=>zU[r])}const cP=["left","right"],dP=["right","left"],qU=["top","bottom"],WU=["bottom","top"];function HU(e,r,n){switch(e){case"top":case"bottom":return n?r?dP:cP:r?cP:dP;case"left":case"right":return r?qU:WU;default:return[]}}function KU(e,r,n,s){const a=Bd(e);let i=HU(Ci(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),r&&(i=i.concat(i.map(P0)))),i}function Dp(e){return e.replace(/left|right|bottom|top/g,r=>FU[r])}function GU(e){return{top:0,right:0,bottom:0,left:0,...e}}function Q4(e){return typeof e!="number"?GU(e):{top:e,right:e,bottom:e,left:e}}function Mp(e){const{x:r,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:r,right:r+s,bottom:n+a,x:r,y:n}}function uP(e,r,n){let{reference:s,floating:a}=e;const i=Ia(r),o=zw(r),l=Fw(o),c=Ci(r),d=i==="y",u=s.x+s.width/2-a.width/2,m=s.y+s.height/2-a.height/2,h=s[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:s.y-a.height};break;case"bottom":p={x:u,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:m};break;case"left":p={x:s.x-a.width,y:m};break;default:p={x:s.x,y:s.y}}switch(Bd(r)){case"start":p[o]-=h*(n&&d?-1:1);break;case"end":p[o]+=h*(n&&d?-1:1);break}return p}const XU=async(e,r,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(r));let d=await o.getElementRects({reference:e,floating:r,strategy:a}),{x:u,y:m}=uP(d,s,c),h=s,p={},y=0;for(let f=0;f<l.length;f++){const{name:v,fn:j}=l[f],{x,y:b,data:S,reset:w}=await j({x:u,y:m,initialPlacement:s,placement:h,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:r}});u=x??u,m=b??m,p={...p,[v]:{...p[v],...S}},w&&y<=50&&(y++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(d=w.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:a}):w.rects),{x:u,y:m}=uP(d,h,c)),f=-1)}return{x:u,y:m,placement:h,strategy:a,middlewareData:p}};async function _m(e,r){var n;r===void 0&&(r={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:p=0}=Pi(r,e),y=Q4(p),v=l[h?m==="floating"?"reference":"floating":m],j=Mp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=m==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},w=Mp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(j.top-w.top+y.top)/S.y,bottom:(w.bottom-j.bottom+y.bottom)/S.y,left:(j.left-w.left+y.left)/S.x,right:(w.right-j.right+y.right)/S.x}}const YU=e=>({name:"arrow",options:e,async fn(r){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=r,{element:d,padding:u=0}=Pi(e,r)||{};if(d==null)return{};const m=Q4(u),h={x:n,y:s},p=zw(a),y=Fw(p),f=await o.getDimensions(d),v=p==="y",j=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",S=i.reference[y]+i.reference[p]-h[p]-i.floating[y],w=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=N?N[b]:0;(!P||!await(o.isElement==null?void 0:o.isElement(N)))&&(P=l.floating[b]||i.floating[y]);const _=S/2-w/2,C=P/2-f[y]/2-1,A=bo(m[j],C),M=bo(m[x],C),R=A,E=P-f[y]-M,F=P/2-f[y]/2+_,G=S0(R,F,E),D=!c.arrow&&Bd(a)!=null&&F!==G&&i.reference[y]/2-(F<R?A:M)-f[y]/2<0,J=D?F<R?F-R:F-E:0;return{[p]:h[p]+J,data:{[p]:G,centerOffset:F-G-J,...D&&{alignmentOffset:J}},reset:D}}}),QU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=r,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:f=!0,...v}=Pi(e,r);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const j=Ci(a),x=Ia(l),b=Ci(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=h||(b||!f?[Dp(l)]:VU(l)),N=y!=="none";!h&&N&&w.push(...KU(l,f,y,S));const P=[l,...w],_=await _m(r,v),C=[];let A=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&C.push(_[j]),m){const F=UU(a,o,S);C.push(_[F[0]],_[F[1]])}if(A=[...A,{placement:a,overflows:C}],!C.every(F=>F<=0)){var M,R;const F=(((M=i.flip)==null?void 0:M.index)||0)+1,G=P[F];if(G&&(!(m==="alignment"?x!==Ia(G):!1)||A.every(q=>q.overflows[0]>0&&Ia(q.placement)===x)))return{data:{index:F,overflows:A},reset:{placement:G}};let D=(R=A.filter(J=>J.overflows[0]<=0).sort((J,q)=>J.overflows[1]-q.overflows[1])[0])==null?void 0:R.placement;if(!D)switch(p){case"bestFit":{var E;const J=(E=A.filter(q=>{if(N){const U=Ia(q.placement);return U===x||U==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(U=>U>0).reduce((U,re)=>U+re,0)]).sort((q,U)=>q[1]-U[1])[0])==null?void 0:E[0];J&&(D=J);break}case"initialPlacement":D=l;break}if(a!==D)return{reset:{placement:D}}}return{}}}};function mP(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function hP(e){return LU.some(r=>e[r]>=0)}const ZU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:n}=r,{strategy:s="referenceHidden",...a}=Pi(e,r);switch(s){case"referenceHidden":{const i=await _m(r,{...a,elementContext:"reference"}),o=mP(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:hP(o)}}}case"escaped":{const i=await _m(r,{...a,altBoundary:!0}),o=mP(i,n.floating);return{data:{escapedOffsets:o,escaped:hP(o)}}}default:return{}}}}},Z4=new Set(["left","top"]);async function JU(e,r){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Ci(n),l=Bd(n),c=Ia(n)==="y",d=Z4.has(o)?-1:1,u=i&&c?-1:1,m=Pi(r,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*u,y:h*d}:{x:h*d,y:p*u}}const e7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=r,c=await JU(r,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},t7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:n,y:s,placement:a}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:j,y:x}=v;return{x:j,y:x}}},...c}=Pi(e,r),d={x:n,y:s},u=await _m(r,c),m=Ia(Ci(a)),h=Lw(m);let p=d[h],y=d[m];if(i){const v=h==="y"?"top":"left",j=h==="y"?"bottom":"right",x=p+u[v],b=p-u[j];p=S0(x,p,b)}if(o){const v=m==="y"?"top":"left",j=m==="y"?"bottom":"right",x=y+u[v],b=y-u[j];y=S0(x,y,b)}const f=l.fn({...r,[h]:p,[m]:y});return{...f,data:{x:f.x-n,y:f.y-s,enabled:{[h]:i,[m]:o}}}}}},r7=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Pi(e,r),u={x:n,y:s},m=Ia(a),h=Lw(m);let p=u[h],y=u[m];const f=Pi(l,r),v=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(c){const b=h==="y"?"height":"width",S=i.reference[h]-i.floating[b]+v.mainAxis,w=i.reference[h]+i.reference[b]-v.mainAxis;p<S?p=S:p>w&&(p=w)}if(d){var j,x;const b=h==="y"?"width":"height",S=Z4.has(Ci(a)),w=i.reference[m]-i.floating[b]+(S&&((j=o.offset)==null?void 0:j[m])||0)+(S?0:v.crossAxis),N=i.reference[m]+i.reference[b]+(S?0:((x=o.offset)==null?void 0:x[m])||0)-(S?v.crossAxis:0);y<w?y=w:y>N&&(y=N)}return{[h]:p,[m]:y}}}},n7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var n,s;const{placement:a,rects:i,platform:o,elements:l}=r,{apply:c=()=>{},...d}=Pi(e,r),u=await _m(r,d),m=Ci(a),h=Bd(a),p=Ia(a)==="y",{width:y,height:f}=i.floating;let v,j;m==="top"||m==="bottom"?(v=m,j=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=m,v=h==="end"?"top":"bottom");const x=f-u.top-u.bottom,b=y-u.left-u.right,S=bo(f-u[v],x),w=bo(y-u[j],b),N=!r.middlewareData.shift;let P=S,_=w;if((n=r.middlewareData.shift)!=null&&n.enabled.x&&(_=b),(s=r.middlewareData.shift)!=null&&s.enabled.y&&(P=x),N&&!h){const A=fs(u.left,0),M=fs(u.right,0),R=fs(u.top,0),E=fs(u.bottom,0);p?_=y-2*(A!==0||M!==0?A+M:fs(u.left,u.right)):P=f-2*(R!==0||E!==0?R+E:fs(u.top,u.bottom))}await c({...r,availableWidth:_,availableHeight:P});const C=await o.getDimensions(l.floating);return y!==C.width||f!==C.height?{reset:{rects:!0}}:{}}}};function xg(){return typeof window<"u"}function Ud(e){return J4(e)?(e.nodeName||"").toLowerCase():"#document"}function js(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function Ya(e){var r;return(r=(J4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function J4(e){return xg()?e instanceof Node||e instanceof js(e).Node:!1}function va(e){return xg()?e instanceof Element||e instanceof js(e).Element:!1}function Ga(e){return xg()?e instanceof HTMLElement||e instanceof js(e).HTMLElement:!1}function fP(e){return!xg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof js(e).ShadowRoot}const s7=new Set(["inline","contents"]);function Ph(e){const{overflow:r,overflowX:n,overflowY:s,display:a}=ya(e);return/auto|scroll|overlay|hidden|clip/.test(r+s+n)&&!s7.has(a)}const a7=new Set(["table","td","th"]);function i7(e){return a7.has(Ud(e))}const o7=[":popover-open",":modal"];function gg(e){return o7.some(r=>{try{return e.matches(r)}catch{return!1}})}const l7=["transform","translate","scale","rotate","perspective"],c7=["transform","translate","scale","rotate","perspective","filter"],d7=["paint","layout","strict","content"];function Bw(e){const r=Uw(),n=va(e)?ya(e):e;return l7.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||c7.some(s=>(n.willChange||"").includes(s))||d7.some(s=>(n.contain||"").includes(s))}function u7(e){let r=No(e);for(;Ga(r)&&!ed(r);){if(Bw(r))return r;if(gg(r))return null;r=No(r)}return null}function Uw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const m7=new Set(["html","body","#document"]);function ed(e){return m7.has(Ud(e))}function ya(e){return js(e).getComputedStyle(e)}function vg(e){return va(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function No(e){if(Ud(e)==="html")return e;const r=e.assignedSlot||e.parentNode||fP(e)&&e.host||Ya(e);return fP(r)?r.host:r}function eR(e){const r=No(e);return ed(r)?e.ownerDocument?e.ownerDocument.body:e.body:Ga(r)&&Ph(r)?r:eR(r)}function Am(e,r,n){var s;r===void 0&&(r=[]),n===void 0&&(n=!0);const a=eR(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=js(a);if(i){const l=C0(o);return r.concat(o,o.visualViewport||[],Ph(a)?a:[],l&&n?Am(l):[])}return r.concat(a,Am(a,[],n))}function C0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tR(e){const r=ya(e);let n=parseFloat(r.width)||0,s=parseFloat(r.height)||0;const a=Ga(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=Rp(n)!==i||Rp(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function Vw(e){return va(e)?e:e.contextElement}function Dc(e){const r=Vw(e);if(!Ga(r))return Va(1);const n=r.getBoundingClientRect(),{width:s,height:a,$:i}=tR(r);let o=(i?Rp(n.width):n.width)/s,l=(i?Rp(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const h7=Va(0);function rR(e){const r=js(e);return!Uw()||!r.visualViewport?h7:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function f7(e,r,n){return r===void 0&&(r=!1),!n||r&&n!==js(e)?!1:r}function Pl(e,r,n,s){r===void 0&&(r=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Vw(e);let o=Va(1);r&&(s?va(s)&&(o=Dc(s)):o=Dc(e));const l=f7(i,n,s)?rR(i):Va(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,m=a.height/o.y;if(i){const h=js(i),p=s&&va(s)?js(s):s;let y=h,f=C0(y);for(;f&&s&&p!==y;){const v=Dc(f),j=f.getBoundingClientRect(),x=ya(f),b=j.left+(f.clientLeft+parseFloat(x.paddingLeft))*v.x,S=j.top+(f.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,m*=v.y,c+=b,d+=S,y=js(f),f=C0(y)}}return Mp({width:u,height:m,x:c,y:d})}function qw(e,r){const n=vg(e).scrollLeft;return r?r.left+n:Pl(Ya(e)).left+n}function nR(e,r,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+r.scrollLeft-(n?0:qw(e,s)),i=s.top+r.scrollTop;return{x:a,y:i}}function p7(e){let{elements:r,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=Ya(s),l=r?gg(r.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Va(1);const u=Va(0),m=Ga(s);if((m||!m&&!i)&&((Ud(s)!=="body"||Ph(o))&&(c=vg(s)),Ga(s))){const p=Pl(s);d=Dc(s),u.x=p.x+s.clientLeft,u.y=p.y+s.clientTop}const h=o&&!m&&!i?nR(o,c,!0):Va(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:n.y*d.y-c.scrollTop*d.y+u.y+h.y}}function x7(e){return Array.from(e.getClientRects())}function g7(e){const r=Ya(e),n=vg(e),s=e.ownerDocument.body,a=fs(r.scrollWidth,r.clientWidth,s.scrollWidth,s.clientWidth),i=fs(r.scrollHeight,r.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+qw(e);const l=-n.scrollTop;return ya(s).direction==="rtl"&&(o+=fs(r.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function v7(e,r){const n=js(e),s=Ya(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Uw();(!d||d&&r==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const y7=new Set(["absolute","fixed"]);function j7(e,r){const n=Pl(e,!0,r==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=Ga(e)?Dc(e):Va(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function pP(e,r,n){let s;if(r==="viewport")s=v7(e,n);else if(r==="document")s=g7(Ya(e));else if(va(r))s=j7(r,n);else{const a=rR(e);s={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return Mp(s)}function sR(e,r){const n=No(e);return n===r||!va(n)||ed(n)?!1:ya(n).position==="fixed"||sR(n,r)}function b7(e,r){const n=r.get(e);if(n)return n;let s=Am(e,[],!1).filter(l=>va(l)&&Ud(l)!=="body"),a=null;const i=ya(e).position==="fixed";let o=i?No(e):e;for(;va(o)&&!ed(o);){const l=ya(o),c=Bw(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&y7.has(a.position)||Ph(o)&&!c&&sR(e,o))?s=s.filter(u=>u!==o):a=l,o=No(o)}return r.set(e,s),s}function N7(e){let{element:r,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?gg(r)?[]:b7(r,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,u)=>{const m=pP(r,u,a);return d.top=fs(m.top,d.top),d.right=bo(m.right,d.right),d.bottom=bo(m.bottom,d.bottom),d.left=fs(m.left,d.left),d},pP(r,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function w7(e){const{width:r,height:n}=tR(e);return{width:r,height:n}}function S7(e,r,n){const s=Ga(r),a=Ya(r),i=n==="fixed",o=Pl(e,!0,i,r);let l={scrollLeft:0,scrollTop:0};const c=Va(0);function d(){c.x=qw(a)}if(s||!s&&!i)if((Ud(r)!=="body"||Ph(a))&&(l=vg(r)),s){const p=Pl(r,!0,i,r);c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}else a&&d();i&&!s&&a&&d();const u=a&&!s&&!i?nR(a,l):Va(0),m=o.left+l.scrollLeft-c.x-u.x,h=o.top+l.scrollTop-c.y-u.y;return{x:m,y:h,width:o.width,height:o.height}}function wy(e){return ya(e).position==="static"}function xP(e,r){if(!Ga(e)||ya(e).position==="fixed")return null;if(r)return r(e);let n=e.offsetParent;return Ya(e)===n&&(n=n.ownerDocument.body),n}function aR(e,r){const n=js(e);if(gg(e))return n;if(!Ga(e)){let a=No(e);for(;a&&!ed(a);){if(va(a)&&!wy(a))return a;a=No(a)}return n}let s=xP(e,r);for(;s&&i7(s)&&wy(s);)s=xP(s,r);return s&&ed(s)&&wy(s)&&!Bw(s)?n:s||u7(e)||n}const P7=async function(e){const r=this.getOffsetParent||aR,n=this.getDimensions,s=await n(e.floating);return{reference:S7(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function C7(e){return ya(e).direction==="rtl"}const _7={convertOffsetParentRelativeRectToViewportRelativeRect:p7,getDocumentElement:Ya,getClippingRect:N7,getOffsetParent:aR,getElementRects:P7,getClientRects:x7,getDimensions:w7,getScale:Dc,isElement:va,isRTL:C7};function iR(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function A7(e,r){let n=null,s;const a=Ya(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:m,width:h,height:p}=d;if(l||r(),!h||!p)return;const y=uf(m),f=uf(a.clientWidth-(u+h)),v=uf(a.clientHeight-(m+p)),j=uf(u),b={rootMargin:-y+"px "+-f+"px "+-v+"px "+-j+"px",threshold:fs(0,bo(1,c))||1};let S=!0;function w(N){const P=N[0].intersectionRatio;if(P!==c){if(!S)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!iR(d,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(w,{...b,root:a.ownerDocument})}catch{n=new IntersectionObserver(w,b)}n.observe(e)}return o(!0),i}function T7(e,r,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Vw(e),u=a||i?[...d?Am(d):[],...Am(r)]:[];u.forEach(j=>{a&&j.addEventListener("scroll",n,{passive:!0}),i&&j.addEventListener("resize",n)});const m=d&&l?A7(d,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(j=>{let[x]=j;x&&x.target===d&&p&&(p.unobserve(r),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(r)})),n()}),d&&!c&&p.observe(d),p.observe(r));let y,f=c?Pl(e):null;c&&v();function v(){const j=Pl(e);f&&!iR(f,j)&&n(),f=j,y=requestAnimationFrame(v)}return n(),()=>{var j;u.forEach(x=>{a&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),m==null||m(),(j=p)==null||j.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const k7=e7,E7=t7,O7=QU,R7=n7,D7=ZU,gP=YU,M7=r7,I7=(e,r,n)=>{const s=new Map,a={platform:_7,...n},i={...a.platform,_c:s};return XU(e,r,{...a,platform:i})};var $7=typeof document<"u",L7=function(){},Zf=$7?g.useLayoutEffect:L7;function Ip(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let n,s,a;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==r.length)return!1;for(s=n;s--!==0;)if(!Ip(e[s],r[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Ip(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function oR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vP(e,r){const n=oR(e);return Math.round(r*n)/n}function Sy(e){const r=g.useRef(e);return Zf(()=>{r.current=e}),r}function F7(e){e===void 0&&(e={});const{placement:r="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,m]=g.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[h,p]=g.useState(s);Ip(h,s)||p(s);const[y,f]=g.useState(null),[v,j]=g.useState(null),x=g.useCallback(q=>{q!==N.current&&(N.current=q,f(q))},[]),b=g.useCallback(q=>{q!==P.current&&(P.current=q,j(q))},[]),S=i||y,w=o||v,N=g.useRef(null),P=g.useRef(null),_=g.useRef(u),C=c!=null,A=Sy(c),M=Sy(a),R=Sy(d),E=g.useCallback(()=>{if(!N.current||!P.current)return;const q={placement:r,strategy:n,middleware:h};M.current&&(q.platform=M.current),I7(N.current,P.current,q).then(U=>{const re={...U,isPositioned:R.current!==!1};F.current&&!Ip(_.current,re)&&(_.current=re,zl.flushSync(()=>{m(re)}))})},[h,r,n,M,R]);Zf(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,m(q=>({...q,isPositioned:!1})))},[d]);const F=g.useRef(!1);Zf(()=>(F.current=!0,()=>{F.current=!1}),[]),Zf(()=>{if(S&&(N.current=S),w&&(P.current=w),S&&w){if(A.current)return A.current(S,w,E);E()}},[S,w,E,A,C]);const G=g.useMemo(()=>({reference:N,floating:P,setReference:x,setFloating:b}),[x,b]),D=g.useMemo(()=>({reference:S,floating:w}),[S,w]),J=g.useMemo(()=>{const q={position:n,left:0,top:0};if(!D.floating)return q;const U=vP(D.floating,u.x),re=vP(D.floating,u.y);return l?{...q,transform:"translate("+U+"px, "+re+"px)",...oR(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:re}},[n,l,D.floating,u.x,u.y]);return g.useMemo(()=>({...u,update:E,refs:G,elements:D,floatingStyles:J}),[u,E,G,D,J])}const z7=e=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&r(s)?s.current!=null?gP({element:s.current,padding:a}).fn(n):{}:s?gP({element:s,padding:a}).fn(n):{}}}},B7=(e,r)=>({...k7(e),options:[e,r]}),U7=(e,r)=>({...E7(e),options:[e,r]}),V7=(e,r)=>({...M7(e),options:[e,r]}),q7=(e,r)=>({...O7(e),options:[e,r]}),W7=(e,r)=>({...R7(e),options:[e,r]}),H7=(e,r)=>({...D7(e),options:[e,r]}),K7=(e,r)=>({...z7(e),options:[e,r]});var G7="Arrow",lR=g.forwardRef((e,r)=>{const{children:n,width:s=10,height:a=5,...i}=e;return t.jsx(Je.svg,{...i,ref:r,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});lR.displayName=G7;var X7=lR;function Ww(e){const[r,n]=g.useState(void 0);return Lr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),r}var Hw="Popper",[cR,Vd]=Gn(Hw),[Y7,dR]=cR(Hw),uR=e=>{const{__scopePopper:r,children:n}=e,[s,a]=g.useState(null);return t.jsx(Y7,{scope:r,anchor:s,onAnchorChange:a,children:n})};uR.displayName=Hw;var mR="PopperAnchor",hR=g.forwardRef((e,r)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=dR(mR,n),o=g.useRef(null),l=Rt(r,o);return g.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:t.jsx(Je.div,{...a,ref:l})});hR.displayName=mR;var Kw="PopperContent",[Q7,Z7]=cR(Kw),fR=g.forwardRef((e,r)=>{var Se,Ue,be,Q,pe,oe;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...f}=e,v=dR(Kw,n),[j,x]=g.useState(null),b=Rt(r,ze=>x(ze)),[S,w]=g.useState(null),N=Ww(S),P=(N==null?void 0:N.width)??0,_=(N==null?void 0:N.height)??0,C=s+(i!=="center"?"-"+i:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(d)?d:[d],R=M.length>0,E={padding:A,boundary:M.filter(e9),altBoundary:R},{refs:F,floatingStyles:G,placement:D,isPositioned:J,middlewareData:q}=F7({strategy:"fixed",placement:C,whileElementsMounted:(...ze)=>T7(...ze,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[B7({mainAxis:a+_,alignmentAxis:o}),c&&U7({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?V7():void 0,...E}),c&&q7({...E}),W7({...E,apply:({elements:ze,rects:Fe,availableWidth:tt,availableHeight:lt})=>{const{width:me,height:He}=Fe.reference,ae=ze.floating.style;ae.setProperty("--radix-popper-available-width",`${tt}px`),ae.setProperty("--radix-popper-available-height",`${lt}px`),ae.setProperty("--radix-popper-anchor-width",`${me}px`),ae.setProperty("--radix-popper-anchor-height",`${He}px`)}}),S&&K7({element:S,padding:l}),t9({arrowWidth:P,arrowHeight:_}),h&&H7({strategy:"referenceHidden",...E})]}),[U,re]=gR(D),he=Xr(y);Lr(()=>{J&&(he==null||he())},[J,he]);const ie=(Se=q.arrow)==null?void 0:Se.x,fe=(Ue=q.arrow)==null?void 0:Ue.y,xe=((be=q.arrow)==null?void 0:be.centerOffset)!==0,[ge,Te]=g.useState();return Lr(()=>{j&&Te(window.getComputedStyle(j).zIndex)},[j]),t.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:J?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(Q=q.transformOrigin)==null?void 0:Q.x,(pe=q.transformOrigin)==null?void 0:pe.y].join(" "),...((oe=q.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(Q7,{scope:n,placedSide:U,onArrowChange:w,arrowX:ie,arrowY:fe,shouldHideArrow:xe,children:t.jsx(Je.div,{"data-side":U,"data-align":re,...f,ref:b,style:{...f.style,animation:J?void 0:"none"}})})})});fR.displayName=Kw;var pR="PopperArrow",J7={top:"bottom",right:"left",bottom:"top",left:"right"},xR=g.forwardRef(function(r,n){const{__scopePopper:s,...a}=r,i=Z7(pR,s),o=J7[i.placedSide];return t.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:t.jsx(X7,{...a,ref:n,style:{...a.style,display:"block"}})})});xR.displayName=pR;function e9(e){return e!==null}var t9=e=>({name:"transformOrigin",options:e,fn(r){var v,j,x;const{placement:n,rects:s,middlewareData:a}=r,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=gR(n),m={start:"0%",center:"50%",end:"100%"}[u],h=(((j=a.arrow)==null?void 0:j.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let y="",f="";return d==="bottom"?(y=o?m:`${h}px`,f=`${-c}px`):d==="top"?(y=o?m:`${h}px`,f=`${s.floating.height+c}px`):d==="right"?(y=`${-c}px`,f=o?m:`${p}px`):d==="left"&&(y=`${s.floating.width+c}px`,f=o?m:`${p}px`),{data:{x:y,y:f}}}});function gR(e){const[r,n="center"]=e.split("-");return[r,n]}var Gw=uR,yg=hR,Xw=fR,Yw=xR,[jg,cPe]=Gn("Tooltip",[Vd]),bg=Vd(),vR="TooltipProvider",r9=700,_0="tooltip.open",[n9,Qw]=jg(vR),yR=e=>{const{__scopeTooltip:r,delayDuration:n=r9,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),t.jsx(n9,{scope:r,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};yR.displayName=vR;var Tm="Tooltip",[s9,Ng]=jg(Tm),jR=e=>{const{__scopeTooltip:r,children:n,open:s,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Qw(Tm,e.__scopeTooltip),d=bg(r),[u,m]=g.useState(null),h=ua(),p=g.useRef(0),y=o??c.disableHoverableContent,f=l??c.delayDuration,v=g.useRef(!1),[j,x]=xa({prop:s,defaultProp:a??!1,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(_0))):c.onClose(),i==null||i(P)},caller:Tm}),b=g.useMemo(()=>j?v.current?"delayed-open":"instant-open":"closed",[j]),S=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,x(!0)},[x]),w=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),N=g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,x(!0),p.current=0},f)},[f,x]);return g.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),t.jsx(Gw,{...d,children:t.jsx(s9,{scope:r,contentId:h,open:j,stateAttribute:b,trigger:u,onTriggerChange:m,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?N():S()},[c.isOpenDelayedRef,N,S]),onTriggerLeave:g.useCallback(()=>{y?w():(window.clearTimeout(p.current),p.current=0)},[w,y]),onOpen:S,onClose:w,disableHoverableContent:y,children:n})})};jR.displayName=Tm;var A0="TooltipTrigger",bR=g.forwardRef((e,r)=>{const{__scopeTooltip:n,...s}=e,a=Ng(A0,n),i=Qw(A0,n),o=bg(n),l=g.useRef(null),c=Rt(r,l,a.onTriggerChange),d=g.useRef(!1),u=g.useRef(!1),m=g.useCallback(()=>d.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),t.jsx(yg,{asChild:!0,...o,children:t.jsx(Je.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:Ye(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ye(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Ye(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ye(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Ye(e.onBlur,a.onClose),onClick:Ye(e.onClick,a.onClose)})})});bR.displayName=A0;var a9="TooltipPortal",[dPe,i9]=jg(a9,{forceMount:void 0}),td="TooltipContent",NR=g.forwardRef((e,r)=>{const n=i9(td,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...i}=e,o=Ng(td,e.__scopeTooltip);return t.jsx(Xn,{present:s||o.open,children:o.disableHoverableContent?t.jsx(wR,{side:a,...i,ref:r}):t.jsx(o9,{side:a,...i,ref:r})})}),o9=g.forwardRef((e,r)=>{const n=Ng(td,e.__scopeTooltip),s=Qw(td,e.__scopeTooltip),a=g.useRef(null),i=Rt(r,a),[o,l]=g.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:m}=s,h=g.useCallback(()=>{l(null),m(!1)},[m]),p=g.useCallback((y,f)=>{const v=y.currentTarget,j={x:y.clientX,y:y.clientY},x=m9(j,v.getBoundingClientRect()),b=h9(j,x),S=f9(f.getBoundingClientRect()),w=x9([...b,...S]);l(w),m(!0)},[m]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(c&&u){const y=v=>p(v,u),f=v=>p(v,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",f),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",f)}}},[c,u,p,h]),g.useEffect(()=>{if(o){const y=f=>{const v=f.target,j={x:f.clientX,y:f.clientY},x=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),b=!p9(j,o);x?h():b&&(h(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,o,d,h]),t.jsx(wR,{...e,ref:i})}),[l9,c9]=jg(Tm,{isInside:!1}),d9=az("TooltipContent"),wR=g.forwardRef((e,r)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Ng(td,n),d=bg(n),{onClose:u}=c;return g.useEffect(()=>(document.addEventListener(_0,u),()=>document.removeEventListener(_0,u)),[u]),g.useEffect(()=>{if(c.trigger){const m=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),t.jsx($d,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:t.jsxs(Xw,{"data-state":c.stateAttribute,...d,...l,ref:r,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[t.jsx(d9,{children:s}),t.jsx(l9,{scope:n,isInside:!0,children:t.jsx(_z,{id:c.contentId,role:"tooltip",children:a||s})})]})})});NR.displayName=td;var SR="TooltipArrow",u9=g.forwardRef((e,r)=>{const{__scopeTooltip:n,...s}=e,a=bg(n);return c9(SR,n).isInside?null:t.jsx(Yw,{...a,...s,ref:r})});u9.displayName=SR;function m9(e,r){const n=Math.abs(r.top-e.y),s=Math.abs(r.bottom-e.y),a=Math.abs(r.right-e.x),i=Math.abs(r.left-e.x);switch(Math.min(n,s,a,i)){case i:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function h9(e,r,n=5){const s=[];switch(r){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function f9(e){const{top:r,right:n,bottom:s,left:a}=e;return[{x:a,y:r},{x:n,y:r},{x:n,y:s},{x:a,y:s}]}function p9(e,r){const{x:n,y:s}=e;let a=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],c=r[o],d=l.x,u=l.y,m=c.x,h=c.y;u>s!=h>s&&n<(m-d)*(s-u)/(h-u)+d&&(a=!a)}return a}function x9(e){const r=e.slice();return r.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),g9(r)}function g9(e){if(e.length<=1)return e.slice();const r=[];for(let s=0;s<e.length;s++){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}r.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),r.length===1&&n.length===1&&r[0].x===n[0].x&&r[0].y===n[0].y?r:r.concat(n)}var v9=yR,y9=jR,j9=bR,PR=NR;const CR=v9,b9=y9,N9=j9,_R=g.forwardRef(({className:e,sideOffset:r=4,...n},s)=>t.jsx(PR,{ref:s,sideOffset:r,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));_R.displayName=PR.displayName;var wg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sg=typeof window>"u"||"Deno"in globalThis;function ea(){}function w9(e,r){return typeof e=="function"?e(r):e}function S9(e){return typeof e=="number"&&e>=0&&e!==1/0}function P9(e,r){return Math.max(e+(r||0)-Date.now(),0)}function T0(e,r){return typeof e=="function"?e(r):e}function C9(e,r){return typeof e=="function"?e(r):e}function yP(e,r){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(r.queryHash!==Zw(o,r.options))return!1}else if(!Em(r.queryKey,o))return!1}if(n!=="all"){const c=r.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&r.isStale()!==l||a&&a!==r.state.fetchStatus||i&&!i(r))}function jP(e,r){const{exact:n,status:s,predicate:a,mutationKey:i}=e;if(i){if(!r.options.mutationKey)return!1;if(n){if(km(r.options.mutationKey)!==km(i))return!1}else if(!Em(r.options.mutationKey,i))return!1}return!(s&&r.state.status!==s||a&&!a(r))}function Zw(e,r){return((r==null?void 0:r.queryKeyHashFn)||km)(e)}function km(e){return JSON.stringify(e,(r,n)=>k0(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Em(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(r).every(n=>Em(e[n],r[n])):!1}function AR(e,r){if(e===r)return e;const n=bP(e)&&bP(r);if(n||k0(e)&&k0(r)){const s=n?e:Object.keys(e),a=s.length,i=n?r:Object.keys(r),o=i.length,l=n?[]:{},c=new Set(s);let d=0;for(let u=0;u<o;u++){const m=n?u:i[u];(!n&&c.has(m)||n)&&e[m]===void 0&&r[m]===void 0?(l[m]=void 0,d++):(l[m]=AR(e[m],r[m]),l[m]===e[m]&&e[m]!==void 0&&d++)}return a===o&&d===a?e:l}return r}function bP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function k0(e){if(!NP(e))return!1;const r=e.constructor;if(r===void 0)return!0;const n=r.prototype;return!(!NP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function NP(e){return Object.prototype.toString.call(e)==="[object Object]"}function _9(e){return new Promise(r=>{setTimeout(r,e)})}function A9(e,r,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,r):n.structuralSharing!==!1?AR(e,r):r}function T9(e,r,n=0){const s=[...e,r];return n&&s.length>n?s.slice(1):s}function k9(e,r,n=0){const s=[r,...e];return n&&s.length>n?s.slice(0,-1):s}var Jw=Symbol();function TR(e,r){return!e.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!e.queryFn||e.queryFn===Jw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var il,Qi,Fc,Mk,E9=(Mk=class extends wg{constructor(){super();Gt(this,il);Gt(this,Qi);Gt(this,Fc);jt(this,Fc,r=>{if(!Sg&&window.addEventListener){const n=()=>r();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){we(this,Qi)||this.setEventListener(we(this,Fc))}onUnsubscribe(){var r;this.hasListeners()||((r=we(this,Qi))==null||r.call(this),jt(this,Qi,void 0))}setEventListener(r){var n;jt(this,Fc,r),(n=we(this,Qi))==null||n.call(this),jt(this,Qi,r(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(r){we(this,il)!==r&&(jt(this,il,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(n=>{n(r)})}isFocused(){var r;return typeof we(this,il)=="boolean"?we(this,il):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},il=new WeakMap,Qi=new WeakMap,Fc=new WeakMap,Mk),kR=new E9,zc,Zi,Bc,Ik,O9=(Ik=class extends wg{constructor(){super();Gt(this,zc,!0);Gt(this,Zi);Gt(this,Bc);jt(this,Bc,r=>{if(!Sg&&window.addEventListener){const n=()=>r(!0),s=()=>r(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){we(this,Zi)||this.setEventListener(we(this,Bc))}onUnsubscribe(){var r;this.hasListeners()||((r=we(this,Zi))==null||r.call(this),jt(this,Zi,void 0))}setEventListener(r){var n;jt(this,Bc,r),(n=we(this,Zi))==null||n.call(this),jt(this,Zi,r(this.setOnline.bind(this)))}setOnline(r){we(this,zc)!==r&&(jt(this,zc,r),this.listeners.forEach(s=>{s(r)}))}isOnline(){return we(this,zc)}},zc=new WeakMap,Zi=new WeakMap,Bc=new WeakMap,Ik),$p=new O9;function R9(){let e,r;const n=new Promise((a,i)=>{e=a,r=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),r(a)},n}function D9(e){return Math.min(1e3*2**e,3e4)}function ER(e){return(e??"online")==="online"?$p.isOnline():!0}var OR=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Py(e){return e instanceof OR}function RR(e){let r=!1,n=0,s=!1,a;const i=R9(),o=f=>{var v;s||(h(new OR(f)),(v=e.abort)==null||v.call(e))},l=()=>{r=!0},c=()=>{r=!1},d=()=>kR.isFocused()&&(e.networkMode==="always"||$p.isOnline())&&e.canRun(),u=()=>ER(e.networkMode)&&e.canRun(),m=f=>{var v;s||(s=!0,(v=e.onSuccess)==null||v.call(e,f),a==null||a(),i.resolve(f))},h=f=>{var v;s||(s=!0,(v=e.onError)==null||v.call(e,f),a==null||a(),i.reject(f))},p=()=>new Promise(f=>{var v;a=j=>{(s||d())&&f(j)},(v=e.onPause)==null||v.call(e)}).then(()=>{var f;a=void 0,s||(f=e.onContinue)==null||f.call(e)}),y=()=>{if(s)return;let f;const v=n===0?e.initialPromise:void 0;try{f=v??e.fn()}catch(j){f=Promise.reject(j)}Promise.resolve(f).then(m).catch(j=>{var N;if(s)return;const x=e.retry??(Sg?0:3),b=e.retryDelay??D9,S=typeof b=="function"?b(n,j):b,w=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,j);if(r||!w){h(j);return}n++,(N=e.onFail)==null||N.call(e,n,j),_9(S).then(()=>d()?void 0:p()).then(()=>{r?h(j):y()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?y():p().then(y),i)}}var M9=e=>setTimeout(e,0);function I9(){let e=[],r=0,n=l=>{l()},s=l=>{l()},a=M9;const i=l=>{r?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;r++;try{c=l()}finally{r--,r||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var Ln=I9(),ol,$k,DR=($k=class{constructor(){Gt(this,ol)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),S9(this.gcTime)&&jt(this,ol,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sg?1/0:5*60*1e3))}clearGcTimeout(){we(this,ol)&&(clearTimeout(we(this,ol)),jt(this,ol,void 0))}},ol=new WeakMap,$k),Uc,ll,Os,cl,_n,ph,dl,ta,ri,Lk,$9=(Lk=class extends DR{constructor(r){super();Gt(this,ta);Gt(this,Uc);Gt(this,ll);Gt(this,Os);Gt(this,cl);Gt(this,_n);Gt(this,ph);Gt(this,dl);jt(this,dl,!1),jt(this,ph,r.defaultOptions),this.setOptions(r.options),this.observers=[],jt(this,cl,r.client),jt(this,Os,we(this,cl).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,jt(this,Uc,F9(this.options)),this.state=r.state??we(this,Uc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=we(this,_n))==null?void 0:r.promise}setOptions(r){this.options={...we(this,ph),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&we(this,Os).remove(this)}setData(r,n){const s=A9(this.state.data,r,this.options);return Sn(this,ta,ri).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(r,n){Sn(this,ta,ri).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var s,a;const n=(s=we(this,_n))==null?void 0:s.promise;return(a=we(this,_n))==null||a.cancel(r),n?n.then(ea).catch(ea):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(we(this,Uc))}isActive(){return this.observers.some(r=>C9(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>T0(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!P9(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(s=>s.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=we(this,_n))==null||n.continue()}onOnline(){var n;const r=this.observers.find(s=>s.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=we(this,_n))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),we(this,Os).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(we(this,_n)&&(we(this,dl)?we(this,_n).cancel({revert:!0}):we(this,_n).cancelRetry()),this.scheduleGc()),we(this,Os).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Sn(this,ta,ri).call(this,{type:"invalidate"})}fetch(r,n){var d,u,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(we(this,_n))return we(this,_n).continueRetry(),we(this,_n).promise}if(r&&this.setOptions(r),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(jt(this,dl,!0),s.signal)})},i=()=>{const h=TR(this.options,n),y=(()=>{const f={client:we(this,cl),queryKey:this.queryKey,meta:this.meta};return a(f),f})();return jt(this,dl,!1),this.options.persister?this.options.persister(h,y,this):h(y)},l=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:we(this,cl),state:this.state,fetchFn:i};return a(h),h})();(d=this.options.behavior)==null||d.onFetch(l,this),jt(this,ll,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Sn(this,ta,ri).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const c=h=>{var p,y,f,v;Py(h)&&h.silent||Sn(this,ta,ri).call(this,{type:"error",error:h}),Py(h)||((y=(p=we(this,Os).config).onError)==null||y.call(p,h,this),(v=(f=we(this,Os).config).onSettled)==null||v.call(f,this.state.data,h,this)),this.scheduleGc()};return jt(this,_n,RR({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var p,y,f,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(j){c(j);return}(y=(p=we(this,Os).config).onSuccess)==null||y.call(p,h,this),(v=(f=we(this,Os).config).onSettled)==null||v.call(f,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{Sn(this,ta,ri).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Sn(this,ta,ri).call(this,{type:"pause"})},onContinue:()=>{Sn(this,ta,ri).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),we(this,_n).start()}},Uc=new WeakMap,ll=new WeakMap,Os=new WeakMap,cl=new WeakMap,_n=new WeakMap,ph=new WeakMap,dl=new WeakMap,ta=new WeakSet,ri=function(r){const n=s=>{switch(r.type){case"failed":return{...s,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...L9(s.data,this.options),fetchMeta:r.meta??null};case"success":return jt(this,ll,void 0),{...s,data:r.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=r.error;return Py(a)&&a.revert&&we(this,ll)?{...we(this,ll),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...r.state}}};this.state=n(this.state),Ln.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),we(this,Os).notify({query:this,type:"updated",action:r})})},Lk);function L9(e,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ER(r.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function F9(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,n=r!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ta,Fk,z9=(Fk=class extends wg{constructor(r={}){super();Gt(this,Ta);this.config=r,jt(this,Ta,new Map)}build(r,n,s){const a=n.queryKey,i=n.queryHash??Zw(a,n);let o=this.get(i);return o||(o=new $9({client:r,queryKey:a,queryHash:i,options:r.defaultQueryOptions(n),state:s,defaultOptions:r.getQueryDefaults(a)}),this.add(o)),o}add(r){we(this,Ta).has(r.queryHash)||(we(this,Ta).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const n=we(this,Ta).get(r.queryHash);n&&(r.destroy(),n===r&&we(this,Ta).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Ln.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return we(this,Ta).get(r)}getAll(){return[...we(this,Ta).values()]}find(r){const n={exact:!0,...r};return this.getAll().find(s=>yP(n,s))}findAll(r={}){const n=this.getAll();return Object.keys(r).length>0?n.filter(s=>yP(r,s)):n}notify(r){Ln.batch(()=>{this.listeners.forEach(n=>{n(r)})})}onFocus(){Ln.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Ln.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},Ta=new WeakMap,Fk),ka,In,ul,Ea,Bi,zk,B9=(zk=class extends DR{constructor(r){super();Gt(this,Ea);Gt(this,ka);Gt(this,In);Gt(this,ul);this.mutationId=r.mutationId,jt(this,In,r.mutationCache),jt(this,ka,[]),this.state=r.state||U9(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){we(this,ka).includes(r)||(we(this,ka).push(r),this.clearGcTimeout(),we(this,In).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){jt(this,ka,we(this,ka).filter(n=>n!==r)),this.scheduleGc(),we(this,In).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){we(this,ka).length||(this.state.status==="pending"?this.scheduleGc():we(this,In).remove(this))}continue(){var r;return((r=we(this,ul))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var i,o,l,c,d,u,m,h,p,y,f,v,j,x,b,S,w,N,P,_;const n=()=>{Sn(this,Ea,Bi).call(this,{type:"continue"})};jt(this,ul,RR({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{Sn(this,Ea,Bi).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{Sn(this,Ea,Bi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>we(this,In).canRun(this)}));const s=this.state.status==="pending",a=!we(this,ul).canStart();try{if(s)n();else{Sn(this,Ea,Bi).call(this,{type:"pending",variables:r,isPaused:a}),await((o=(i=we(this,In).config).onMutate)==null?void 0:o.call(i,r,this));const A=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,r));A!==this.state.context&&Sn(this,Ea,Bi).call(this,{type:"pending",context:A,variables:r,isPaused:a})}const C=await we(this,ul).start();return await((u=(d=we(this,In).config).onSuccess)==null?void 0:u.call(d,C,r,this.state.context,this)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,C,r,this.state.context)),await((y=(p=we(this,In).config).onSettled)==null?void 0:y.call(p,C,null,this.state.variables,this.state.context,this)),await((v=(f=this.options).onSettled)==null?void 0:v.call(f,C,null,r,this.state.context)),Sn(this,Ea,Bi).call(this,{type:"success",data:C}),C}catch(C){try{throw await((x=(j=we(this,In).config).onError)==null?void 0:x.call(j,C,r,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,C,r,this.state.context)),await((N=(w=we(this,In).config).onSettled)==null?void 0:N.call(w,void 0,C,this.state.variables,this.state.context,this)),await((_=(P=this.options).onSettled)==null?void 0:_.call(P,void 0,C,r,this.state.context)),C}finally{Sn(this,Ea,Bi).call(this,{type:"error",error:C})}}finally{we(this,In).runNext(this)}}},ka=new WeakMap,In=new WeakMap,ul=new WeakMap,Ea=new WeakSet,Bi=function(r){const n=s=>{switch(r.type){case"failed":return{...s,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...s,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:r.error,failureCount:s.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ln.batch(()=>{we(this,ka).forEach(s=>{s.onMutationUpdate(r)}),we(this,In).notify({mutation:this,type:"updated",action:r})})},zk);function U9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ii,ra,xh,Bk,V9=(Bk=class extends wg{constructor(r={}){super();Gt(this,ii);Gt(this,ra);Gt(this,xh);this.config=r,jt(this,ii,new Set),jt(this,ra,new Map),jt(this,xh,0)}build(r,n,s){const a=new B9({mutationCache:this,mutationId:++Uh(this,xh)._,options:r.defaultMutationOptions(n),state:s});return this.add(a),a}add(r){we(this,ii).add(r);const n=mf(r);if(typeof n=="string"){const s=we(this,ra).get(n);s?s.push(r):we(this,ra).set(n,[r])}this.notify({type:"added",mutation:r})}remove(r){if(we(this,ii).delete(r)){const n=mf(r);if(typeof n=="string"){const s=we(this,ra).get(n);if(s)if(s.length>1){const a=s.indexOf(r);a!==-1&&s.splice(a,1)}else s[0]===r&&we(this,ra).delete(n)}}this.notify({type:"removed",mutation:r})}canRun(r){const n=mf(r);if(typeof n=="string"){const s=we(this,ra).get(n),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===r}else return!0}runNext(r){var s;const n=mf(r);if(typeof n=="string"){const a=(s=we(this,ra).get(n))==null?void 0:s.find(i=>i!==r&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ln.batch(()=>{we(this,ii).forEach(r=>{this.notify({type:"removed",mutation:r})}),we(this,ii).clear(),we(this,ra).clear()})}getAll(){return Array.from(we(this,ii))}find(r){const n={exact:!0,...r};return this.getAll().find(s=>jP(n,s))}findAll(r={}){return this.getAll().filter(n=>jP(r,n))}notify(r){Ln.batch(()=>{this.listeners.forEach(n=>{n(r)})})}resumePausedMutations(){const r=this.getAll().filter(n=>n.state.isPaused);return Ln.batch(()=>Promise.all(r.map(n=>n.continue().catch(ea))))}},ii=new WeakMap,ra=new WeakMap,xh=new WeakMap,Bk);function mf(e){var r;return(r=e.options.scope)==null?void 0:r.id}function wP(e){return{onFetch:(r,n)=>{var u,m,h,p,y;const s=r.options,a=(h=(m=(u=r.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((p=r.state.data)==null?void 0:p.pages)||[],o=((y=r.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let f=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(r.signal.aborted?f=!0:r.signal.addEventListener("abort",()=>{f=!0}),r.signal)})},j=TR(r.options,r.fetchOptions),x=async(b,S,w)=>{if(f)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const P=(()=>{const M={client:r.client,queryKey:r.queryKey,pageParam:S,direction:w?"backward":"forward",meta:r.options.meta};return v(M),M})(),_=await j(P),{maxPages:C}=r.options,A=w?k9:T9;return{pages:A(b.pages,_,C),pageParams:A(b.pageParams,S,C)}};if(a&&i.length){const b=a==="backward",S=b?q9:SP,w={pages:i,pageParams:o},N=S(s,w);l=await x(w,N,b)}else{const b=e??i.length;do{const S=c===0?o[0]??s.initialPageParam:SP(s,l);if(c>0&&S==null)break;l=await x(l,S),c++}while(c<b)}return l};r.options.persister?r.fetchFn=()=>{var f,v;return(v=(f=r.options).persister)==null?void 0:v.call(f,d,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},n)}:r.fetchFn=d}}}function SP(e,{pages:r,pageParams:n}){const s=r.length-1;return r.length>0?e.getNextPageParam(r[s],r,n[s],n):void 0}function q9(e,{pages:r,pageParams:n}){var s;return r.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,r[0],r,n[0],n):void 0}var Rr,Ji,eo,Vc,qc,to,Wc,Hc,Uk,W9=(Uk=class{constructor(e={}){Gt(this,Rr);Gt(this,Ji);Gt(this,eo);Gt(this,Vc);Gt(this,qc);Gt(this,to);Gt(this,Wc);Gt(this,Hc);jt(this,Rr,e.queryCache||new z9),jt(this,Ji,e.mutationCache||new V9),jt(this,eo,e.defaultOptions||{}),jt(this,Vc,new Map),jt(this,qc,new Map),jt(this,to,0)}mount(){Uh(this,to)._++,we(this,to)===1&&(jt(this,Wc,kR.subscribe(async e=>{e&&(await this.resumePausedMutations(),we(this,Rr).onFocus())})),jt(this,Hc,$p.subscribe(async e=>{e&&(await this.resumePausedMutations(),we(this,Rr).onOnline())})))}unmount(){var e,r;Uh(this,to)._--,we(this,to)===0&&((e=we(this,Wc))==null||e.call(this),jt(this,Wc,void 0),(r=we(this,Hc))==null||r.call(this),jt(this,Hc,void 0))}isFetching(e){return we(this,Rr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return we(this,Ji).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const r=this.defaultQueryOptions({queryKey:e});return(n=we(this,Rr).get(r.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const r=this.defaultQueryOptions(e),n=we(this,Rr).build(this,r),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(T0(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(s))}getQueriesData(e){return we(this,Rr).findAll(e).map(({queryKey:r,state:n})=>{const s=n.data;return[r,s]})}setQueryData(e,r,n){const s=this.defaultQueryOptions({queryKey:e}),a=we(this,Rr).get(s.queryHash),i=a==null?void 0:a.state.data,o=w9(r,i);if(o!==void 0)return we(this,Rr).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,r,n){return Ln.batch(()=>we(this,Rr).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,r,n)]))}getQueryState(e){var n;const r=this.defaultQueryOptions({queryKey:e});return(n=we(this,Rr).get(r.queryHash))==null?void 0:n.state}removeQueries(e){const r=we(this,Rr);Ln.batch(()=>{r.findAll(e).forEach(n=>{r.remove(n)})})}resetQueries(e,r){const n=we(this,Rr);return Ln.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},r)))}cancelQueries(e,r={}){const n={revert:!0,...r},s=Ln.batch(()=>we(this,Rr).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(ea).catch(ea)}invalidateQueries(e,r={}){return Ln.batch(()=>(we(this,Rr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},r)))}refetchQueries(e,r={}){const n={...r,cancelRefetch:r.cancelRefetch??!0},s=Ln.batch(()=>we(this,Rr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(ea)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(ea)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const n=we(this,Rr).build(this,r);return n.isStaleByTime(T0(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ea).catch(ea)}fetchInfiniteQuery(e){return e.behavior=wP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ea).catch(ea)}ensureInfiniteQueryData(e){return e.behavior=wP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $p.isOnline()?we(this,Ji).resumePausedMutations():Promise.resolve()}getQueryCache(){return we(this,Rr)}getMutationCache(){return we(this,Ji)}getDefaultOptions(){return we(this,eo)}setDefaultOptions(e){jt(this,eo,e)}setQueryDefaults(e,r){we(this,Vc).set(km(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...we(this,Vc).values()],n={};return r.forEach(s=>{Em(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,r){we(this,qc).set(km(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...we(this,qc).values()],n={};return r.forEach(s=>{Em(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const r={...we(this,eo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return r.queryHash||(r.queryHash=Zw(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===Jw&&(r.enabled=!1),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...we(this,eo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){we(this,Rr).clear(),we(this,Ji).clear()}},Rr=new WeakMap,Ji=new WeakMap,eo=new WeakMap,Vc=new WeakMap,qc=new WeakMap,to=new WeakMap,Wc=new WeakMap,Hc=new WeakMap,Uk),H9=g.createContext(void 0),K9=({client:e,children:r})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(H9.Provider,{value:e,children:r}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Om.apply(this,arguments)}var so;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(so||(so={}));const PP="popstate";function G9(e){e===void 0&&(e={});function r(s,a){let{pathname:i,search:o,hash:l}=s.location;return E0("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Lp(a)}return Y9(r,n,null,e)}function $r(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function MR(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function X9(){return Math.random().toString(36).substr(2,8)}function CP(e,r){return{usr:e.state,key:e.key,idx:r}}function E0(e,r,n,s){return n===void 0&&(n=null),Om({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?qd(r):r,{state:n,key:r&&r.key||s||X9()})}function Lp(e){let{pathname:r="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function qd(e){let r={};if(e){let n=e.indexOf("#");n>=0&&(r.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(r.search=e.substr(s),e=e.substr(0,s)),e&&(r.pathname=e)}return r}function Y9(e,r,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=so.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Om({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=so.Pop;let v=u(),j=v==null?null:v-d;d=v,c&&c({action:l,location:f.location,delta:j})}function h(v,j){l=so.Push;let x=E0(f.location,v,j);d=u()+1;let b=CP(x,d),S=f.createHref(x);try{o.pushState(b,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(S)}i&&c&&c({action:l,location:f.location,delta:1})}function p(v,j){l=so.Replace;let x=E0(f.location,v,j);d=u();let b=CP(x,d),S=f.createHref(x);o.replaceState(b,"",S),i&&c&&c({action:l,location:f.location,delta:0})}function y(v){let j=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof v=="string"?v:Lp(v);return x=x.replace(/ $/,"%20"),$r(j,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,j)}let f={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(PP,m),c=v,()=>{a.removeEventListener(PP,m),c=null}},createHref(v){return r(a,v)},createURL:y,encodeLocation(v){let j=y(v);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:h,replace:p,go(v){return o.go(v)}};return f}var _P;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_P||(_P={}));function Q9(e,r,n){return n===void 0&&(n="/"),Z9(e,r,n,!1)}function Z9(e,r,n,s){let a=typeof r=="string"?qd(r):r,i=rd(a.pathname||"/",n);if(i==null)return null;let o=IR(e);J9(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=dV(i);l=lV(o[c],d,s)}return l}function IR(e,r,n,s){r===void 0&&(r=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&($r(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=xo([s,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&($r(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),IR(i.children,r,u,d)),!(i.path==null&&!i.index)&&r.push({path:d,score:iV(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of $R(i.path))a(i,o,c)}),r}function $R(e){let r=e.split("/");if(r.length===0)return[];let[n,...s]=r,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=$R(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function J9(e){e.sort((r,n)=>r.score!==n.score?n.score-r.score:oV(r.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const eV=/^:[\w-]+$/,tV=3,rV=2,nV=1,sV=10,aV=-2,AP=e=>e==="*";function iV(e,r){let n=e.split("/"),s=n.length;return n.some(AP)&&(s+=aV),r&&(s+=rV),n.filter(a=>!AP(a)).reduce((a,i)=>a+(eV.test(i)?tV:i===""?nV:sV),s)}function oV(e,r){return e.length===r.length&&e.slice(0,-1).every((s,a)=>s===r[a])?e[e.length-1]-r[r.length-1]:0}function lV(e,r,n){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?r:r.slice(i.length)||"/",m=Fp({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m&&d&&n&&!s[s.length-1].route.index&&(m=Fp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:xo([i,m.pathname]),pathnameBase:fV(xo([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=xo([i,m.pathnameBase]))}return o}function Fp(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=cV(e.path,e.caseSensitive,e.end),a=r.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,m)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let f=l[m]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}const y=l[m];return p&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function cV(e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),MR(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),s]}function dV(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return MR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function rd(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function uV(e,r){r===void 0&&(r="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?qd(e):e;return{pathname:n?n.startsWith("/")?n:mV(n,r):r,search:pV(s),hash:xV(a)}}function mV(e,r){let n=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Cy(e,r,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hV(e){return e.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function LR(e,r){let n=hV(e);return r?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function FR(e,r,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=qd(e):(a=Om({},e),$r(!a.pathname||!a.pathname.includes("?"),Cy("?","pathname","search",a)),$r(!a.pathname||!a.pathname.includes("#"),Cy("#","pathname","hash",a)),$r(!a.search||!a.search.includes("#"),Cy("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let m=r.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;a.pathname=h.join("/")}l=m>=0?r[m]:"/"}let c=uV(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const xo=e=>e.join("/").replace(/\/\/+/g,"/"),fV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zR=["post","put","patch","delete"];new Set(zR);const vV=["get",...zR];new Set(vV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Rm.apply(this,arguments)}const Pg=g.createContext(null),BR=g.createContext(null),To=g.createContext(null),Cg=g.createContext(null),Oi=g.createContext({outlet:null,matches:[],isDataRoute:!1}),UR=g.createContext(null);function yV(e,r){let{relative:n}=r===void 0?{}:r;Ch()||$r(!1);let{basename:s,navigator:a}=g.useContext(To),{hash:i,pathname:o,search:l}=_g(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:xo([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Ch(){return g.useContext(Cg)!=null}function Ri(){return Ch()||$r(!1),g.useContext(Cg).location}function VR(e){g.useContext(To).static||g.useLayoutEffect(e)}function Vs(){let{isDataRoute:e}=g.useContext(Oi);return e?DV():jV()}function jV(){Ch()||$r(!1);let e=g.useContext(Pg),{basename:r,future:n,navigator:s}=g.useContext(To),{matches:a}=g.useContext(Oi),{pathname:i}=Ri(),o=JSON.stringify(LR(a,n.v7_relativeSplatPath)),l=g.useRef(!1);return VR(()=>{l.current=!0}),g.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let m=FR(d,JSON.parse(o),i,u.relative==="path");e==null&&r!=="/"&&(m.pathname=m.pathname==="/"?r:xo([r,m.pathname])),(u.replace?s.replace:s.push)(m,u.state,u)},[r,s,o,i,e])}const bV=g.createContext(null);function NV(e){let r=g.useContext(Oi).outlet;return r&&g.createElement(bV.Provider,{value:e},r)}function e1(){let{matches:e}=g.useContext(Oi),r=e[e.length-1];return r?r.params:{}}function _g(e,r){let{relative:n}=r===void 0?{}:r,{future:s}=g.useContext(To),{matches:a}=g.useContext(Oi),{pathname:i}=Ri(),o=JSON.stringify(LR(a,s.v7_relativeSplatPath));return g.useMemo(()=>FR(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function wV(e,r){return SV(e,r)}function SV(e,r,n,s){Ch()||$r(!1);let{navigator:a}=g.useContext(To),{matches:i}=g.useContext(Oi),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Ri(),u;if(r){var m;let v=typeof r=="string"?qd(r):r;c==="/"||(m=v.pathname)!=null&&m.startsWith(c)||$r(!1),u=v}else u=d;let h=u.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=Q9(e,{pathname:p}),f=TV(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:xo([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:xo([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,s);return r&&f?g.createElement(Cg.Provider,{value:{location:Rm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:so.Pop}},f):f}function PV(){let e=RV(),r=gV(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},r),n?g.createElement("pre",{style:a},n):null,null)}const CV=g.createElement(PV,null);class _V extends g.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?g.createElement(Oi.Provider,{value:this.props.routeContext},g.createElement(UR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AV(e){let{routeContext:r,match:n,children:s}=e,a=g.useContext(Pg);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Oi.Provider,{value:r},s)}function TV(e,r,n,s){var a;if(r===void 0&&(r=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||$r(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:h,errors:p}=n,y=m.route.loader&&h[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||y){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,m,h)=>{let p,y=!1,f=null,v=null;n&&(p=l&&m.route.id?l[m.route.id]:void 0,f=m.route.errorElement||CV,c&&(d<0&&h===0?(y=!0,v=null):d===h&&(y=!0,v=m.route.hydrateFallbackElement||null)));let j=r.concat(o.slice(0,h+1)),x=()=>{let b;return p?b=f:y?b=v:m.route.Component?b=g.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=u,g.createElement(AV,{match:m,routeContext:{outlet:u,matches:j,isDataRoute:n!=null},children:b})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?g.createElement(_V,{location:n.location,revalidation:n.revalidation,component:f,error:p,children:x(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):x()},null)}var qR=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qR||{}),zp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zp||{});function kV(e){let r=g.useContext(Pg);return r||$r(!1),r}function EV(e){let r=g.useContext(BR);return r||$r(!1),r}function OV(e){let r=g.useContext(Oi);return r||$r(!1),r}function WR(e){let r=OV(),n=r.matches[r.matches.length-1];return n.route.id||$r(!1),n.route.id}function RV(){var e;let r=g.useContext(UR),n=EV(zp.UseRouteError),s=WR(zp.UseRouteError);return r!==void 0?r:(e=n.errors)==null?void 0:e[s]}function DV(){let{router:e}=kV(qR.UseNavigateStable),r=WR(zp.UseNavigateStable),n=g.useRef(!1);return VR(()=>{n.current=!0}),g.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Rm({fromRouteId:r},i)))},[e,r])}function MV(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function IV(e){return NV(e.context)}function We(e){$r(!1)}function $V(e){let{basename:r="/",children:n=null,location:s,navigationType:a=so.Pop,navigator:i,static:o=!1,future:l}=e;Ch()&&$r(!1);let c=r.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:i,static:o,future:Rm({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=qd(s));let{pathname:u="/",search:m="",hash:h="",state:p=null,key:y="default"}=s,f=g.useMemo(()=>{let v=rd(u,c);return v==null?null:{location:{pathname:v,search:m,hash:h,state:p,key:y},navigationType:a}},[c,u,m,h,p,y,a]);return f==null?null:g.createElement(To.Provider,{value:d},g.createElement(Cg.Provider,{children:n,value:f}))}function LV(e){let{children:r,location:n}=e;return wV(O0(r),n)}new Promise(()=>{});function O0(e,r){r===void 0&&(r=[]);let n=[];return g.Children.forEach(e,(s,a)=>{if(!g.isValidElement(s))return;let i=[...r,a];if(s.type===g.Fragment){n.push.apply(n,O0(s.props.children,i));return}s.type!==We&&$r(!1),!s.props.index||!s.props.children||$r(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=O0(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bp.apply(this,arguments)}function HR(e,r){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(r.indexOf(a)>=0)&&(n[a]=e[a]);return n}function FV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zV(e,r){return e.button===0&&(!r||r==="_self")&&!FV(e)}const BV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UV=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],VV="6";try{window.__reactRouterVersion=VV}catch{}const qV=g.createContext({isTransitioning:!1}),WV="startTransition",TP=$N[WV];function HV(e){let{basename:r,children:n,future:s,window:a}=e,i=g.useRef();i.current==null&&(i.current=G9({window:a,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=g.useCallback(m=>{d&&TP?TP(()=>c(m)):c(m)},[c,d]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.useEffect(()=>MV(s),[s]),g.createElement($V,{basename:r,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const KV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XV=g.forwardRef(function(r,n){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=r,h=HR(r,BV),{basename:p}=g.useContext(To),y,f=!1;if(typeof d=="string"&&GV.test(d)&&(y=d,KV))try{let b=new URL(window.location.href),S=d.startsWith("//")?new URL(b.protocol+d):new URL(d),w=rd(S.pathname,p);S.origin===b.origin&&w!=null?d=w+S.search+S.hash:f=!0}catch{}let v=yV(d,{relative:a}),j=QV(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:m});function x(b){s&&s(b),b.defaultPrevented||j(b)}return g.createElement("a",Bp({},h,{href:y||v,onClick:f||i?s:x,ref:n,target:c}))}),wr=g.forwardRef(function(r,n){let{"aria-current":s="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=r,m=HR(r,UV),h=_g(c,{relative:m.relative}),p=Ri(),y=g.useContext(BR),{navigator:f,basename:v}=g.useContext(To),j=y!=null&&ZV(h)&&d===!0,x=f.encodeLocation?f.encodeLocation(h).pathname:h.pathname,b=p.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(b=b.toLowerCase(),S=S?S.toLowerCase():null,x=x.toLowerCase()),S&&v&&(S=rd(S,v)||S);const w=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let N=b===x||!o&&b.startsWith(x)&&b.charAt(w)==="/",P=S!=null&&(S===x||!o&&S.startsWith(x)&&S.charAt(x.length)==="/"),_={isActive:N,isPending:P,isTransitioning:j},C=N?s:void 0,A;typeof i=="function"?A=i(_):A=[i,N?"active":null,P?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(_):l;return g.createElement(XV,Bp({},m,{"aria-current":C,className:A,ref:n,style:M,to:c,viewTransition:d}),typeof u=="function"?u(_):u)});var R0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(R0||(R0={}));var kP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(kP||(kP={}));function YV(e){let r=g.useContext(Pg);return r||$r(!1),r}function QV(e,r){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=r===void 0?{}:r,c=Vs(),d=Ri(),u=_g(e,{relative:o});return g.useCallback(m=>{if(zV(m,n)){m.preventDefault();let h=s!==void 0?s:Lp(d)===Lp(u);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,n,e,i,o,l])}function ZV(e,r){r===void 0&&(r={});let n=g.useContext(qV);n==null&&$r(!1);let{basename:s}=YV(R0.useViewTransitionState),a=_g(e,{relative:r.relative});if(!n.isTransitioning)return!1;let i=rd(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=rd(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Fp(a.pathname,o)!=null||Fp(a.pathname,i)!=null}class JV extends L.Component{constructor(n){super(n);$2(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){var a,i;this.setState({error:n,errorInfo:s}),(i=(a=this.props).onError)==null||i.call(a,n,s)}render(){if(this.state.hasError){const{fallback:n}=this.props;return n&&this.state.error?t.jsx(n,{error:this.state.error,retry:this.handleRetry}):t.jsx(eq,{error:this.state.error,retry:this.handleRetry,errorInfo:this.state.errorInfo})}return this.props.children}}function eq({error:e,retry:r,errorInfo:n}){return t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:t.jsxs("div",{className:"max-w-md w-full bg-card border border-border rounded-lg p-6 space-y-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-destructive",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),t.jsx("h2",{className:"text-lg font-semibold text-foreground mb-2",children:"Oops! Something went wrong"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsx("button",{onClick:r,className:"flex-1 bg-primary text-primary-foreground hover:bg-primary/90 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Try Again"}),t.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-secondary text-secondary-foreground hover:bg-secondary/80 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Refresh Page"})]})]})})}const EP=e=>{let r;const n=new Set,s=(d,u)=>{const m=typeof d=="function"?d(r):d;if(!Object.is(m,r)){const h=r;r=u??(typeof m!="object"||m===null)?m:Object.assign({},r,m),n.forEach(p=>p(r,h))}},a=()=>r,l={setState:s,getState:a,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=r=e(s,a,l);return l},tq=e=>e?EP(e):EP,rq=e=>e;function nq(e,r=rq){const n=L.useSyncExternalStore(e.subscribe,L.useCallback(()=>r(e.getState()),[e,r]),L.useCallback(()=>r(e.getInitialState()),[e,r]));return L.useDebugValue(n),n}const sq=e=>{const r=tq(e),n=s=>nq(r,s);return Object.assign(n,r),n},aq=e=>sq;function iq(e,r){let n;try{n=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>n.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>n.removeItem(a)}}const D0=e=>r=>{try{const n=e(r);return n instanceof Promise?n:{then(s){return D0(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return D0(s)(n)}}}},oq=(e,r)=>(n,s,a)=>{let i={storage:iq(()=>localStorage),partialize:f=>f,version:0,merge:(f,v)=>({...v,...f}),...r},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return e((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...f)},s,a);const u=()=>{const f=i.partialize({...s()});return d.setItem(i.name,{state:f,version:i.version})},m=a.setState;a.setState=(f,v)=>(m(f,v),u());const h=e((...f)=>(n(...f),u()),s,a);a.getInitialState=()=>h;let p;const y=()=>{var f,v;if(!d)return;o=!1,l.forEach(x=>{var b;return x((b=s())!=null?b:h)});const j=((v=i.onRehydrateStorage)==null?void 0:v.call(i,(f=s())!=null?f:h))||void 0;return D0(d.getItem.bind(d))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate){const b=i.migrate(x.state,x.version);return b instanceof Promise?b.then(S=>[!0,S]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var b;const[S,w]=x;if(p=i.merge(w,(b=s())!=null?b:h),n(p,!0),S)return u()}).then(()=>{j==null||j(p,void 0),p=s(),o=!0,c.forEach(x=>x(p))}).catch(x=>{j==null||j(void 0,x)})};return a.persist={setOptions:f=>{i={...i,...f},f.storage&&(d=f.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:f=>(l.add(f),()=>{l.delete(f)}),onFinishHydration:f=>(c.add(f),()=>{c.delete(f)})},i.skipHydration||y(),p||h},lq=oq,Hr=(e=500)=>new Promise(r=>setTimeout(r,e)),yu=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Ag=aq()(lq((e,r)=>({isLoading:!1,isUsersLoading:!1,isProductsLoading:!1,isCustomersLoading:!1,isOrdersLoading:!1,error:null,users:[],products:[],customers:[],orders:[],prescriptions:[],currentUser:null,searchQueries:{},filters:{},setLoading:n=>e({isLoading:n}),setError:n=>e({error:n}),setCurrentUser:n=>e({currentUser:n}),loadUsers:async()=>{e({isUsersLoading:!0,error:null});try{await Hr(),e({isUsersLoading:!1})}catch{e({error:"Failed to load users",isUsersLoading:!1})}},createUser:async n=>{e({isUsersLoading:!0,error:null});try{await Hr();const s={...n,id:yu(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(a=>({users:[...a.users,s],isUsersLoading:!1})),s}catch(s){throw e({error:"Failed to create user",isUsersLoading:!1}),s}},updateUser:async(n,s)=>{e({isUsersLoading:!0,error:null});try{return await Hr(),e(i=>({users:i.users.map(o=>o.id===n?{...o,...s,updatedAt:new Date().toISOString()}:o),isUsersLoading:!1})),r().users.find(i=>i.id===n)}catch(a){throw e({error:"Failed to update user",isUsersLoading:!1}),a}},deleteUser:async n=>{e({isUsersLoading:!0,error:null});try{await Hr(),e(s=>({users:s.users.filter(a=>a.id!==n),isUsersLoading:!1}))}catch(s){throw e({error:"Failed to delete user",isUsersLoading:!1}),s}},loadProducts:async()=>{e({isProductsLoading:!0,error:null});try{await Hr(),e({isProductsLoading:!1})}catch{e({error:"Failed to load products",isProductsLoading:!1})}},createProduct:async n=>{e({isProductsLoading:!0,error:null});try{await Hr();const s={...n,id:yu(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(a=>({products:[...a.products,s],isProductsLoading:!1})),s}catch(s){throw e({error:"Failed to create product",isProductsLoading:!1}),s}},updateProduct:async(n,s)=>{e({isProductsLoading:!0,error:null});try{return await Hr(),e(i=>({products:i.products.map(o=>o.id===n?{...o,...s,updatedAt:new Date().toISOString()}:o),isProductsLoading:!1})),r().products.find(i=>i.id===n)}catch(a){throw e({error:"Failed to update product",isProductsLoading:!1}),a}},deleteProduct:async n=>{e({isProductsLoading:!0,error:null});try{await Hr(),e(s=>({products:s.products.filter(a=>a.id!==n),isProductsLoading:!1}))}catch(s){throw e({error:"Failed to delete product",isProductsLoading:!1}),s}},updateStock:async(n,s,a)=>{e({isProductsLoading:!0,error:null});try{await Hr(),e(i=>({products:i.products.map(o=>{if(o.id===n){let l=o.currentStock;switch(a){case"add":l+=s;break;case"subtract":l=Math.max(0,l-s);break;case"set":l=s;break}return{...o,currentStock:l,updatedAt:new Date().toISOString()}}return o}),isProductsLoading:!1}))}catch(i){throw e({error:"Failed to update stock",isProductsLoading:!1}),i}},loadCustomers:async()=>{e({isCustomersLoading:!0,error:null});try{await Hr(),e({isCustomersLoading:!1})}catch{e({error:"Failed to load customers",isCustomersLoading:!1})}},createCustomer:async n=>{e({isCustomersLoading:!0,error:null});try{await Hr();const s={...n,id:yu(),memberSince:new Date().toISOString().split("T")[0],totalPurchases:0,totalSpent:0,loyaltyPoints:0,prescriptions:[],lastVisit:new Date().toISOString().split("T")[0],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(a=>({customers:[...a.customers,s],isCustomersLoading:!1})),s}catch(s){throw e({error:"Failed to create customer",isCustomersLoading:!1}),s}},updateCustomer:async(n,s)=>{e({isCustomersLoading:!0,error:null});try{return await Hr(),e(i=>({customers:i.customers.map(o=>o.id===n?{...o,...s,updatedAt:new Date().toISOString()}:o),isCustomersLoading:!1})),r().customers.find(i=>i.id===n)}catch(a){throw e({error:"Failed to update customer",isCustomersLoading:!1}),a}},deleteCustomer:async n=>{e({isCustomersLoading:!0,error:null});try{await Hr(),e(s=>({customers:s.customers.filter(a=>a.id!==n),isCustomersLoading:!1}))}catch(s){throw e({error:"Failed to delete customer",isCustomersLoading:!1}),s}},loadOrders:async()=>{e({isOrdersLoading:!0,error:null});try{await Hr(),e({isOrdersLoading:!1})}catch{e({error:"Failed to load orders",isOrdersLoading:!1})}},createOrder:async n=>{e({isOrdersLoading:!0,error:null});try{await Hr();const s={...n,id:yu(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(a=>({orders:[...a.orders,s],isOrdersLoading:!1})),s}catch(s){throw e({error:"Failed to create order",isOrdersLoading:!1}),s}},updateOrder:async(n,s)=>{e({isOrdersLoading:!0,error:null});try{return await Hr(),e(i=>({orders:i.orders.map(o=>o.id===n?{...o,...s,updatedAt:new Date().toISOString()}:o),isOrdersLoading:!1})),r().orders.find(i=>i.id===n)}catch(a){throw e({error:"Failed to update order",isOrdersLoading:!1}),a}},deleteOrder:async n=>{e({isOrdersLoading:!0,error:null});try{await Hr(),e(s=>({orders:s.orders.filter(a=>a.id!==n),isOrdersLoading:!1}))}catch(s){throw e({error:"Failed to delete order",isOrdersLoading:!1}),s}},createPrescription:async n=>{e({isLoading:!0,error:null});try{await Hr();const s={...n,id:yu(),isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(a=>({prescriptions:[...a.prescriptions,s],isLoading:!1})),s}catch(s){throw e({error:"Failed to create prescription",isLoading:!1}),s}},updatePrescription:async(n,s)=>{e({isLoading:!0,error:null});try{return await Hr(),e(i=>({prescriptions:i.prescriptions.map(o=>o.id===n?{...o,...s,updatedAt:new Date().toISOString()}:o),isLoading:!1})),r().prescriptions.find(i=>i.id===n)}catch(a){throw e({error:"Failed to update prescription",isLoading:!1}),a}},deletePrescription:async n=>{e({isLoading:!0,error:null});try{await Hr(),e(s=>({prescriptions:s.prescriptions.filter(a=>a.id!==n),isLoading:!1}))}catch(s){throw e({error:"Failed to delete prescription",isLoading:!1}),s}},setSearchQuery:(n,s)=>{e(a=>({searchQueries:{...a.searchQueries,[n]:s}}))},setFilter:(n,s,a)=>{e(i=>({filters:{...i.filters,[n]:{...i.filters[n],[s]:a}}}))},clearFilters:n=>{e(s=>({filters:{...s.filters,[n]:{}}}))},resetStore:()=>{e({users:[],products:[],customers:[],orders:[],prescriptions:[],currentUser:null,searchQueries:{},filters:{},error:null,isLoading:!1,isUsersLoading:!1,isProductsLoading:!1,isCustomersLoading:!1,isOrdersLoading:!1})}}),{name:"pharmacy-app-store",partialize:e=>({users:e.users,products:e.products,customers:e.customers,orders:e.orders,prescriptions:e.prescriptions,currentUser:e.currentUser})})),M0=[{id:"org-1",name:"PharmaCare Pro",type:"Pharmacy Chain",address:"123 Health Street, Medical District",phone:"(555) 123-0000",email:"info@pharmacare.com",licenseNumber:"PH-2024-001234",subscription:"Premium",status:"active",ownerId:"user-1",branches:[],settings:{taxRate:8.5,currency:"USD",timeZone:"America/New_York"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-13T00:00:00Z"}],KR=[{id:"main",organizationId:"org-1",name:"Main Branch",address:"123 Main St, City, State",phone:"(555) 123-4567",email:"main@pharmacare.com",manager:"Dr. Sarah Johnson",isActive:!0,status:"active",type:"main",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-13T00:00:00Z"},{id:"branch1",organizationId:"org-1",name:"North Branch",address:"456 North Ave, City, State",phone:"(555) 234-5678",email:"north@pharmacare.com",manager:"Mike Wilson",isActive:!0,status:"active",type:"branch",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-13T00:00:00Z"}],GR=[{id:"super-admin",name:"System Administrator",email:"admin@system.com",phone:"(555) 000-0000",role:"super_admin",status:"active",organizationId:"org-1",permissions:["all"],lastLogin:"2024-01-13",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-13T00:00:00Z"},{id:"owner-1",name:"Dr. Sarah Johnson",email:"owner@pharmacy.com",phone:"(555) 111-1111",role:"owner",status:"active",organizationId:"org-1",permissions:["all"],lastLogin:"2024-01-13",collectionAmount:18e4,targets:{sales:2e5,collection:19e4,monthly:15e3},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-13T00:00:00Z"},{id:"manager-1",name:"Mike Wilson",email:"manager@pharmacy.com",phone:"(555) 222-2222",role:"manager",status:"active",branchId:"main",organizationId:"org-1",permissions:["manage_inventory","manage_users","view_reports","manage_prescriptions"],lastLogin:"2024-01-13",collectionAmount:45e3,targets:{sales:5e4,collection:48e3,monthly:4e3},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-13T00:00:00Z"},{id:"pharmacist-1",name:"Dr. Emily Chen",email:"pharmacist@pharmacy.com",phone:"(555) 333-3333",role:"pharmacist",status:"active",branchId:"main",organizationId:"org-1",permissions:["dispense_medication","manage_prescriptions","view_reports"],lastLogin:"2024-01-12",collectionAmount:32e3,targets:{sales:35e3,collection:33e3,monthly:2800},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-12T00:00:00Z"},{id:"technician-1",name:"Lisa Brown",email:"technician@pharmacy.com",phone:"(555) 444-4444",role:"technician",status:"active",branchId:"main",organizationId:"org-1",permissions:["manage_inventory","process_orders"],lastLogin:"2024-01-11",collectionAmount:28e3,targets:{sales:3e4,collection:29e3,monthly:2400},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-11T00:00:00Z"},{id:"cashier-1",name:"John Smith",email:"cashier@pharmacy.com",phone:"(555) 555-5555",role:"cashier",status:"active",branchId:"main",organizationId:"org-1",permissions:["process_sales","handle_returns"],lastLogin:"2024-01-10",collectionAmount:15e3,targets:{sales:2e4,collection:18e3,monthly:1500},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-10T00:00:00Z"},{id:"supplier-admin-1",name:"Robert Davis",email:"supplier@admin.com",phone:"(555) 666-6666",role:"supplier",status:"active",permissions:["all_supplier"],lastLogin:"2024-01-13",collectionAmount:85e3,targets:{sales:1e5,collection:9e4,monthly:7500},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-13T00:00:00Z"},{id:"sales-rep-1",name:"Anna Garcia",email:"sales@supplier.com",phone:"(555) 777-7777",role:"supplier",status:"active",permissions:["sales","clients"],lastLogin:"2024-01-12",collectionAmount:42e3,targets:{sales:5e4,collection:45e3,monthly:3500},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-12T00:00:00Z"}];function t1(e){return M0.find(r=>r.id===e)}function cq(e){return KR.find(r=>r.id===e)}function XR(e){const n=KR.filter(s=>s.organizationId===e).map(s=>s.id);return GR.filter(s=>s.branchId&&n.includes(s.branchId))}function bc(e){return GR.filter(r=>r.branchId===e)}function dq(e){return{super_admin:"Super Administrator",owner:"Pharmacy Owner",manager:"Branch Manager",pharmacist:"Pharmacist",technician:"Pharmacy Technician",cashier:"Cashier",supplier:"Supplier"}[e]||e}const uq=[{name:"Dr. Sarah Johnson",email:"sarah.johnson@pharmacy.com",phone:"(555) 123-4567",role:"manager",status:"active",branchId:"main",organizationId:"org-1",permissions:["manage_inventory","manage_users","view_reports","manage_prescriptions"],lastLogin:"2024-01-13",collectionAmount:45e3,targets:{sales:5e4,collection:48e3,monthly:4e3}},{name:"Mike Wilson",email:"mike.wilson@pharmacy.com",phone:"(555) 234-5678",role:"pharmacist",status:"active",branchId:"main",organizationId:"org-1",permissions:["dispense_medication","manage_prescriptions","view_reports"],lastLogin:"2024-01-12",collectionAmount:32e3,targets:{sales:35e3,collection:33e3,monthly:2800}},{name:"Lisa Brown",email:"lisa.brown@pharmacy.com",phone:"(555) 345-6789",role:"technician",status:"active",branchId:"branch1",organizationId:"org-1",permissions:["manage_inventory","process_orders"],lastLogin:"2024-01-11",collectionAmount:28e3,targets:{sales:3e4,collection:29e3,monthly:2400}},{name:"John Doe",email:"john.doe@pharmacy.com",phone:"(555) 456-7890",role:"cashier",status:"active",branchId:"main",organizationId:"org-1",permissions:["process_sales","handle_returns"],lastLogin:"2024-01-10",collectionAmount:15e3,targets:{sales:2e4,collection:18e3,monthly:1500}}],mq=[{name:"Ibuprofen 400mg",genericName:"Ibuprofen",category:"Pain Relief",manufacturer:"Generic Pharma",strength:"400mg",dosageForm:"Tablet",barcode:"123456789012",cost:5.99,sellingPrice:8.99,currentStock:150,minStockLevel:20,maxStockLevel:500,expiryDate:"2025-12-31",batchNumber:"IBU2024001",isControlled:!1,requiresPrescription:!1},{name:"Metformin 500mg",genericName:"Metformin HCl",category:"Diabetes",manufacturer:"DiaCare Labs",strength:"500mg",dosageForm:"Tablet",barcode:"234567890123",cost:12.5,sellingPrice:18.75,currentStock:89,minStockLevel:15,maxStockLevel:300,expiryDate:"2025-08-15",batchNumber:"MET2024002",isControlled:!1,requiresPrescription:!0},{name:"Vitamin D3 1000IU",genericName:"Cholecalciferol",category:"Vitamins",manufacturer:"NutriHealth",strength:"1000IU",dosageForm:"Capsule",barcode:"345678901234",cost:8.99,sellingPrice:15.99,currentStock:67,minStockLevel:25,maxStockLevel:200,expiryDate:"2026-03-20",batchNumber:"VIT2024003",isControlled:!1,requiresPrescription:!1},{name:"Lisinopril 10mg",genericName:"Lisinopril",category:"Cardiovascular",manufacturer:"CardioMed",strength:"10mg",dosageForm:"Tablet",barcode:"456789012345",cost:15,sellingPrice:22.5,currentStock:45,minStockLevel:10,maxStockLevel:150,expiryDate:"2025-11-30",batchNumber:"LIS2024004",isControlled:!1,requiresPrescription:!0},{name:"Amoxicillin 500mg",genericName:"Amoxicillin",category:"Antibiotics",manufacturer:"AntiBio Corp",strength:"500mg",dosageForm:"Capsule",barcode:"567890123456",cost:18.75,sellingPrice:28.99,currentStock:23,minStockLevel:15,maxStockLevel:100,expiryDate:"2025-06-15",batchNumber:"AMO2024005",isControlled:!1,requiresPrescription:!0}],hq=[{name:"John Doe",email:"john.doe@email.com",phone:"(555) 123-4567",address:"123 Main St, City, State 12345",dateOfBirth:"1985-06-15",lastVisit:"2024-01-12",status:"active",allergies:["Penicillin","Sulfa drugs"],insurance:"Blue Cross Blue Shield",preferredContact:"email"},{name:"Jane Smith",email:"jane.smith@email.com",phone:"(555) 234-5678",address:"456 Oak Ave, City, State 12345",dateOfBirth:"1978-09-22",lastVisit:"2024-01-13",status:"vip",allergies:["None known"],insurance:"Aetna",preferredContact:"phone"},{name:"Bob Wilson",email:"bob.wilson@email.com",phone:"(555) 345-6789",address:"789 Pine St, City, State 12345",dateOfBirth:"1965-12-03",lastVisit:"2024-01-10",status:"active",allergies:["Aspirin"],insurance:"Medicare",preferredContact:"phone"},{name:"Alice Brown",email:"alice.brown@email.com",phone:"(555) 456-7890",address:"321 Elm Dr, City, State 12345",dateOfBirth:"1992-03-18",lastVisit:"2024-01-11",status:"new",allergies:["None known"],insurance:"United Healthcare",preferredContact:"email"}],fq=[{supplierId:"SUP001",supplierName:"MedSupply Co",orderDate:"2024-01-10",expectedDelivery:"2024-01-12",actualDelivery:"2024-01-12",status:"delivered",priority:"normal",items:[{id:"item1",productId:"prod1",productName:"Ibuprofen 400mg",quantity:100,unitCost:5.99,totalCost:599},{id:"item2",productId:"prod2",productName:"Vitamin D3 1000IU",quantity:50,unitCost:8.99,totalCost:449.5}],subtotal:1048.5,tax:83.88,shipping:25,total:1157.38,notes:"Regular monthly order"},{supplierId:"SUP002",supplierName:"PharmaDist",orderDate:"2024-01-11",expectedDelivery:"2024-01-13",status:"shipped",priority:"high",items:[{id:"item3",productId:"prod3",productName:"Metformin 500mg",quantity:75,unitCost:12.5,totalCost:937.5}],subtotal:937.5,tax:75,shipping:15,total:1027.5,notes:"Urgent restock needed"},{supplierId:"SUP003",supplierName:"HealthWare",orderDate:"2024-01-11",expectedDelivery:"2024-01-14",status:"processing",priority:"normal",items:[{id:"item4",productId:"prod4",productName:"Lisinopril 10mg",quantity:60,unitCost:15,totalCost:900},{id:"item5",productId:"prod5",productName:"Amoxicillin 500mg",quantity:40,unitCost:18.75,totalCost:750}],subtotal:1650,tax:132,shipping:30,total:1812}];function pq(){const{users:e,products:r,customers:n,orders:s,createUser:a,createProduct:i,createCustomer:o,createOrder:l}=Ag();return{initializeMockData:async()=>{try{if(e.length===0){console.log("Initializing mock users...");for(const d of uq)await a(d)}if(r.length===0){console.log("Initializing mock products...");for(const d of mq)await i(d)}if(n.length===0){console.log("Initializing mock customers...");for(const d of hq)await o(d)}if(s.length===0){console.log("Initializing mock orders...");for(const d of fq)await l(d)}console.log("Mock data initialization complete")}catch(d){console.error("Failed to initialize mock data:",d)}},hasData:e.length>0||r.length>0||n.length>0||s.length>0}}const xq={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};function gq({size:e="md",className:r,text:n}){return t.jsxs("div",{className:ke("flex items-center justify-center",r),children:[t.jsx(Zt,{className:ke("animate-spin text-primary",xq[e])}),n&&t.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:n})]})}function YR({isLoading:e,text:r="Loading...",className:n,children:s}){return t.jsxs("div",{className:ke("relative",n),children:[s,e&&t.jsx("div",{className:"absolute inset-0 bg-background/50 backdrop-blur-sm flex items-center justify-center z-50 rounded-lg",children:t.jsx("div",{className:"bg-card border border-border rounded-lg p-6 shadow-lg",children:t.jsx(gq,{size:"lg",text:r})})})]})}function vq({children:e}){const{isLoading:r}=Ag(),{initializeMockData:n,hasData:s}=pq();return g.useEffect(()=>{s||n()},[s,n]),t.jsx(YR,{isLoading:r,text:"Initializing application...",children:e})}function yq({children:e}){const[r,n]=g.useState(null),[s,a]=g.useState(!0),i=Vs(),o=Ri();Tt();const l=async()=>{try{const c=localStorage.getItem("access_token"),d=localStorage.getItem("currentUser");if(!c||!d){n(!1),a(!1);return}n(!0)}catch(c){console.error("Auth validation error:",c),n(!1)}finally{a(!1)}};return g.useEffect(()=>{if(o.pathname==="/login"){n(!1),a(!1);return}l()},[o.pathname]),g.useEffect(()=>{r===!1&&o.pathname!=="/login"&&i("/login",{replace:!0})},[r,o.pathname,i]),s?t.jsx(YR,{isLoading:!0,text:"Verifying authentication...",children:t.jsx("div",{className:"min-h-screen"})}):o.pathname==="/login"?t.jsx(t.Fragment,{children:e}):r?t.jsx(t.Fragment,{children:e}):null}const QR=g.createContext(void 0);function jq({children:e}){const{toast:r}=Tt(),[n,s]=g.useState([]),a=g.useCallback(y=>{const f={...y,id:Math.random().toString(36).substr(2,9),timestamp:new Date,read:!1};return s(v=>[f,...v]),f},[]),i=g.useCallback((y,f="Success",v)=>{a({type:"success",title:f,message:y,action:v}),r({title:f,description:y,variant:"default",action:v?t.jsx("button",{onClick:v.onClick,children:v.label}):void 0})},[r,a]),o=g.useCallback((y,f="Error",v)=>{a({type:"error",title:f,message:y,action:v}),r({title:f,description:y,variant:"destructive",action:v?t.jsx("button",{onClick:v.onClick,children:v.label}):void 0})},[r,a]),l=g.useCallback((y,f="Warning",v)=>{a({type:"warning",title:f,message:y,action:v}),r({title:f,description:y,variant:"default",action:v?t.jsx("button",{onClick:v.onClick,children:v.label}):void 0})},[r,a]),c=g.useCallback((y,f="Info",v)=>{a({type:"info",title:f,message:y,action:v}),r({title:f,description:y,variant:"default",action:v?t.jsx("button",{onClick:v.onClick,children:v.label}):void 0})},[r,a]),d=g.useCallback(y=>{s(f=>f.map(v=>v.id===y?{...v,read:!0}:v))},[]),u=g.useCallback(y=>{s(f=>f.filter(v=>v.id!==y))},[]),m=g.useCallback(()=>{s([])},[]),h=n.filter(y=>!y.read).length,p={showSuccess:i,showError:o,showWarning:l,showInfo:c,notifications:n,markAsRead:d,clearNotification:u,clearAllNotifications:m,unreadCount:h};return t.jsx(QR.Provider,{value:p,children:e})}function bq(){const e=g.useContext(QR);if(e===void 0)throw new Error("useNotification must be used within a NotificationProvider");return e}const _y=768;function Nq(){const[e,r]=g.useState(void 0);return g.useEffect(()=>{const n=window.matchMedia(`(max-width: ${_y-1}px)`),s=()=>{r(window.innerWidth<_y)};return n.addEventListener("change",s),r(window.innerWidth<_y),()=>n.removeEventListener("change",s)},[]),!!e}const wq=Bl("inline-flex items-center justify-center gap-1 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary-hover",destructive:"bg-destructive text-destructive-foreground hover:opacity-90",outline:"border border-input bg-card hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary-hover",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",admin:"bg-header text-header-foreground hover:opacity-90"},size:{default:"h-8 px-3 py-1",sm:"h-7 px-2",lg:"h-9 px-6",icon:"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),O=g.forwardRef(({className:e,variant:r,size:n,asChild:s=!1,...a},i)=>{const o=s?Id:"button";return t.jsx(o,{className:ke(wq({variant:r,size:n,className:e})),ref:i,...a})});O.displayName="Button";const Z=g.forwardRef(({className:e,type:r,...n},s)=>t.jsx("input",{type:r,className:ke("flex h-8 w-full border border-gray-300 bg-transparent px-2 py-1 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));Z.displayName="Input";var Sq="Separator",OP="horizontal",Pq=["horizontal","vertical"],ZR=g.forwardRef((e,r)=>{const{decorative:n,orientation:s=OP,...a}=e,i=Cq(s)?s:OP,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx(Je.div,{"data-orientation":i,...l,...a,ref:r})});ZR.displayName=Sq;function Cq(e){return Pq.includes(e)}var JR=ZR;const $a=g.forwardRef(({className:e,orientation:r="horizontal",decorative:n=!0,...s},a)=>t.jsx(JR,{ref:a,decorative:n,orientation:r,className:ke("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));$a.displayName=JR.displayName;var Ay="focusScope.autoFocusOnMount",Ty="focusScope.autoFocusOnUnmount",RP={bubbles:!1,cancelable:!0},_q="FocusScope",Tg=g.forwardRef((e,r)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=g.useState(null),d=Xr(a),u=Xr(i),m=g.useRef(null),h=Rt(r,f=>c(f)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let f=function(b){if(p.paused||!l)return;const S=b.target;l.contains(S)?m.current=S:Ui(m.current,{select:!0})},v=function(b){if(p.paused||!l)return;const S=b.relatedTarget;S!==null&&(l.contains(S)||Ui(m.current,{select:!0}))},j=function(b){if(document.activeElement===document.body)for(const w of b)w.removedNodes.length>0&&Ui(l)};document.addEventListener("focusin",f),document.addEventListener("focusout",v);const x=new MutationObserver(j);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",v),x.disconnect()}}},[s,l,p.paused]),g.useEffect(()=>{if(l){MP.add(p);const f=document.activeElement;if(!l.contains(f)){const j=new CustomEvent(Ay,RP);l.addEventListener(Ay,d),l.dispatchEvent(j),j.defaultPrevented||(Aq(Rq(eD(l)),{select:!0}),document.activeElement===f&&Ui(l))}return()=>{l.removeEventListener(Ay,d),setTimeout(()=>{const j=new CustomEvent(Ty,RP);l.addEventListener(Ty,u),l.dispatchEvent(j),j.defaultPrevented||Ui(f??document.body,{select:!0}),l.removeEventListener(Ty,u),MP.remove(p)},0)}}},[l,d,u,p]);const y=g.useCallback(f=>{if(!n&&!s||p.paused)return;const v=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,j=document.activeElement;if(v&&j){const x=f.currentTarget,[b,S]=Tq(x);b&&S?!f.shiftKey&&j===S?(f.preventDefault(),n&&Ui(b,{select:!0})):f.shiftKey&&j===b&&(f.preventDefault(),n&&Ui(S,{select:!0})):j===x&&f.preventDefault()}},[n,s,p.paused]);return t.jsx(Je.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});Tg.displayName=_q;function Aq(e,{select:r=!1}={}){const n=document.activeElement;for(const s of e)if(Ui(s,{select:r}),document.activeElement!==n)return}function Tq(e){const r=eD(e),n=DP(r,e),s=DP(r.reverse(),e);return[n,s]}function eD(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function DP(e,r){for(const n of e)if(!kq(n,{upTo:r}))return n}function kq(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Eq(e){return e instanceof HTMLInputElement&&"select"in e}function Ui(e,{select:r=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Eq(e)&&r&&e.select()}}var MP=Oq();function Oq(){let e=[];return{add(r){const n=e[0];r!==n&&(n==null||n.pause()),e=IP(e,r),e.unshift(r)},remove(r){var n;e=IP(e,r),(n=e[0])==null||n.resume()}}}function IP(e,r){const n=[...e],s=n.indexOf(r);return s!==-1&&n.splice(s,1),n}function Rq(e){return e.filter(r=>r.tagName!=="A")}var ky=0;function r1(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$P()),document.body.insertAdjacentElement("beforeend",e[1]??$P()),ky++,()=>{ky===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),ky--}},[])}function $P(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ra=function(){return Ra=Object.assign||function(r){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Ra.apply(this,arguments)};function tD(e,r){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function Dq(e,r,n){if(n||arguments.length===2)for(var s=0,a=r.length,i;s<a;s++)(i||!(s in r))&&(i||(i=Array.prototype.slice.call(r,0,s)),i[s]=r[s]);return e.concat(i||Array.prototype.slice.call(r))}var Jf="right-scroll-bar-position",ep="width-before-scroll-bar",Mq="with-scroll-bars-hidden",Iq="--removed-body-scroll-bar-size";function Ey(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function $q(e,r){var n=g.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=r,n.facade}var Lq=typeof window<"u"?g.useLayoutEffect:g.useEffect,LP=new WeakMap;function Fq(e,r){var n=$q(null,function(s){return e.forEach(function(a){return Ey(a,s)})});return Lq(function(){var s=LP.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||Ey(l,null)}),i.forEach(function(l){a.has(l)||Ey(l,o)})}LP.set(n,e)},[e]),n}function zq(e){return e}function Bq(e,r){r===void 0&&(r=zq);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=r(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function Uq(e){e===void 0&&(e={});var r=Bq(null);return r.options=Ra({async:!0,ssr:!1},e),r}var rD=function(e){var r=e.sideCar,n=tD(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return g.createElement(s,Ra({},n))};rD.isSideCarExport=!0;function Vq(e,r){return e.useMedium(r),rD}var nD=Uq(),Oy=function(){},kg=g.forwardRef(function(e,r){var n=g.useRef(null),s=g.useState({onScrollCapture:Oy,onWheelCapture:Oy,onTouchMoveCapture:Oy}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,f=e.inert,v=e.allowPinchZoom,j=e.as,x=j===void 0?"div":j,b=e.gapMode,S=tD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,N=Fq([n,r]),P=Ra(Ra({},S),a);return g.createElement(g.Fragment,null,u&&g.createElement(w,{sideCar:nD,removeScrollBar:d,shards:m,noRelative:p,noIsolation:y,inert:f,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:b}),o?g.cloneElement(g.Children.only(l),Ra(Ra({},P),{ref:N})):g.createElement(x,Ra({},P,{className:c,ref:N}),l))});kg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kg.classNames={fullWidth:ep,zeroRight:Jf};var qq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Wq(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=qq();return r&&e.setAttribute("nonce",r),e}function Hq(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function Kq(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var Gq=function(){var e=0,r=null;return{add:function(n){e==0&&(r=Wq())&&(Hq(r,n),Kq(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},Xq=function(){var e=Gq();return function(r,n){g.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}},sD=function(){var e=Xq(),r=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return r},Yq={left:0,top:0,right:0,gap:0},Ry=function(e){return parseInt(e||"",10)||0},Qq=function(e){var r=window.getComputedStyle(document.body),n=r[e==="padding"?"paddingLeft":"marginLeft"],s=r[e==="padding"?"paddingTop":"marginTop"],a=r[e==="padding"?"paddingRight":"marginRight"];return[Ry(n),Ry(s),Ry(a)]},Zq=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Yq;var r=Qq(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-n+r[2]-r[0])}},Jq=sD(),Mc="data-scroll-locked",eW=function(e,r,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Mq,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Mc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jf,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(ep,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Jf," .").concat(Jf,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ep," .").concat(ep,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Mc,`] {
    `).concat(Iq,": ").concat(l,`px;
  }
`)},FP=function(){var e=parseInt(document.body.getAttribute(Mc)||"0",10);return isFinite(e)?e:0},tW=function(){g.useEffect(function(){return document.body.setAttribute(Mc,(FP()+1).toString()),function(){var e=FP()-1;e<=0?document.body.removeAttribute(Mc):document.body.setAttribute(Mc,e.toString())}},[])},rW=function(e){var r=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;tW();var i=g.useMemo(function(){return Zq(a)},[a]);return g.createElement(Jq,{styles:eW(i,!r,a,n?"":"!important")})},I0=!1;if(typeof window<"u")try{var hf=Object.defineProperty({},"passive",{get:function(){return I0=!0,!0}});window.addEventListener("test",hf,hf),window.removeEventListener("test",hf,hf)}catch{I0=!1}var Yl=I0?{passive:!1}:!1,nW=function(e){return e.tagName==="TEXTAREA"},aD=function(e,r){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!nW(e)&&n[r]==="visible")},sW=function(e){return aD(e,"overflowY")},aW=function(e){return aD(e,"overflowX")},zP=function(e,r){var n=r.ownerDocument,s=r;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=iD(e,s);if(a){var i=oD(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},iW=function(e){var r=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[r,n,s]},oW=function(e){var r=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[r,n,s]},iD=function(e,r){return e==="v"?sW(r):aW(r)},oD=function(e,r){return e==="v"?iW(r):oW(r)},lW=function(e,r){return e==="h"&&r==="rtl"?-1:1},cW=function(e,r,n,s,a){var i=lW(e,window.getComputedStyle(r).direction),o=i*s,l=n.target,c=r.contains(l),d=!1,u=o>0,m=0,h=0;do{if(!l)break;var p=oD(e,l),y=p[0],f=p[1],v=p[2],j=f-v-i*y;(y||j)&&iD(e,l)&&(m+=j,h+=y);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(r.contains(l)||r===l));return(u&&(Math.abs(m)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(d=!0),d},ff=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},BP=function(e){return[e.deltaX,e.deltaY]},UP=function(e){return e&&"current"in e?e.current:e},dW=function(e,r){return e[0]===r[0]&&e[1]===r[1]},uW=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mW=0,Ql=[];function hW(e){var r=g.useRef([]),n=g.useRef([0,0]),s=g.useRef(),a=g.useState(mW++)[0],i=g.useState(sD)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var f=Dq([e.lockRef.current],(e.shards||[]).map(UP),!0).filter(Boolean);return f.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),f.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(f,v){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!o.current.allowPinchZoom;var j=ff(f),x=n.current,b="deltaX"in f?f.deltaX:x[0]-j[0],S="deltaY"in f?f.deltaY:x[1]-j[1],w,N=f.target,P=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in f&&P==="h"&&N.type==="range")return!1;var _=zP(P,N);if(!_)return!0;if(_?w=P:(w=P==="v"?"h":"v",_=zP(P,N)),!_)return!1;if(!s.current&&"changedTouches"in f&&(b||S)&&(s.current=w),!w)return!0;var C=s.current||w;return cW(C,v,f,C==="h"?b:S,!0)},[]),c=g.useCallback(function(f){var v=f;if(!(!Ql.length||Ql[Ql.length-1]!==i)){var j="deltaY"in v?BP(v):ff(v),x=r.current.filter(function(w){return w.name===v.type&&(w.target===v.target||v.target===w.shadowParent)&&dW(w.delta,j)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(UP).filter(Boolean).filter(function(w){return w.contains(v.target)}),S=b.length>0?l(v,b[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),d=g.useCallback(function(f,v,j,x){var b={name:f,delta:v,target:j,should:x,shadowParent:fW(j)};r.current.push(b),setTimeout(function(){r.current=r.current.filter(function(S){return S!==b})},1)},[]),u=g.useCallback(function(f){n.current=ff(f),s.current=void 0},[]),m=g.useCallback(function(f){d(f.type,BP(f),f.target,l(f,e.lockRef.current))},[]),h=g.useCallback(function(f){d(f.type,ff(f),f.target,l(f,e.lockRef.current))},[]);g.useEffect(function(){return Ql.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Yl),document.addEventListener("touchmove",c,Yl),document.addEventListener("touchstart",u,Yl),function(){Ql=Ql.filter(function(f){return f!==i}),document.removeEventListener("wheel",c,Yl),document.removeEventListener("touchmove",c,Yl),document.removeEventListener("touchstart",u,Yl)}},[]);var p=e.removeScrollBar,y=e.inert;return g.createElement(g.Fragment,null,y?g.createElement(i,{styles:uW(a)}):null,p?g.createElement(rW,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function fW(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const pW=Vq(nD,hW);var Eg=g.forwardRef(function(e,r){return g.createElement(kg,Ra({},e,{ref:r,sideCar:pW}))});Eg.classNames=kg.classNames;var xW=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},Zl=new WeakMap,pf=new WeakMap,xf={},Dy=0,lD=function(e){return e&&(e.host||lD(e.parentNode))},gW=function(e,r){return r.map(function(n){if(e.contains(n))return n;var s=lD(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},vW=function(e,r,n,s){var a=gW(r,Array.isArray(e)?e:[e]);xf[n]||(xf[n]=new WeakMap);var i=xf[n],o=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(l.has(h))u(h);else try{var p=h.getAttribute(s),y=p!==null&&p!=="false",f=(Zl.get(h)||0)+1,v=(i.get(h)||0)+1;Zl.set(h,f),i.set(h,v),o.push(h),f===1&&y&&pf.set(h,!0),v===1&&h.setAttribute(n,"true"),y||h.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",h,j)}})};return u(r),l.clear(),Dy++,function(){o.forEach(function(m){var h=Zl.get(m)-1,p=i.get(m)-1;Zl.set(m,h),i.set(m,p),h||(pf.has(m)||m.removeAttribute(s),pf.delete(m)),p||m.removeAttribute(n)}),Dy--,Dy||(Zl=new WeakMap,Zl=new WeakMap,pf=new WeakMap,xf={})}},n1=function(e,r,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=xW(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),vW(s,a,n,"aria-hidden")):function(){return null}},Og="Dialog",[cD,uPe]=Gn(Og),[yW,Na]=cD(Og),dD=e=>{const{__scopeDialog:r,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),c=g.useRef(null),[d,u]=xa({prop:s,defaultProp:a??!1,onChange:i,caller:Og});return t.jsx(yW,{scope:r,triggerRef:l,contentRef:c,contentId:ua(),titleId:ua(),descriptionId:ua(),open:d,onOpenChange:u,onOpenToggle:g.useCallback(()=>u(m=>!m),[u]),modal:o,children:n})};dD.displayName=Og;var uD="DialogTrigger",mD=g.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=Na(uD,n),i=Rt(r,a.triggerRef);return t.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":i1(a.open),...s,ref:i,onClick:Ye(e.onClick,a.onOpenToggle)})});mD.displayName=uD;var s1="DialogPortal",[jW,hD]=cD(s1,{forceMount:void 0}),fD=e=>{const{__scopeDialog:r,forceMount:n,children:s,container:a}=e,i=Na(s1,r);return t.jsx(jW,{scope:r,forceMount:n,children:g.Children.map(s,o=>t.jsx(Xn,{present:n||i.open,children:t.jsx(Nh,{asChild:!0,container:a,children:o})}))})};fD.displayName=s1;var Up="DialogOverlay",pD=g.forwardRef((e,r)=>{const n=hD(Up,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Na(Up,e.__scopeDialog);return i.modal?t.jsx(Xn,{present:s||i.open,children:t.jsx(NW,{...a,ref:r})}):null});pD.displayName=Up;var bW=wl("DialogOverlay.RemoveScroll"),NW=g.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=Na(Up,n);return t.jsx(Eg,{as:bW,allowPinchZoom:!0,shards:[a.contentRef],children:t.jsx(Je.div,{"data-state":i1(a.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),Cl="DialogContent",xD=g.forwardRef((e,r)=>{const n=hD(Cl,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Na(Cl,e.__scopeDialog);return t.jsx(Xn,{present:s||i.open,children:i.modal?t.jsx(wW,{...a,ref:r}):t.jsx(SW,{...a,ref:r})})});xD.displayName=Cl;var wW=g.forwardRef((e,r)=>{const n=Na(Cl,e.__scopeDialog),s=g.useRef(null),a=Rt(r,n.contentRef,s);return g.useEffect(()=>{const i=s.current;if(i)return n1(i)},[]),t.jsx(gD,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ye(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ye(e.onFocusOutside,i=>i.preventDefault())})}),SW=g.forwardRef((e,r)=>{const n=Na(Cl,e.__scopeDialog),s=g.useRef(!1),a=g.useRef(!1);return t.jsx(gD,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),gD=g.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Na(Cl,n),c=g.useRef(null),d=Rt(r,c);return r1(),t.jsxs(t.Fragment,{children:[t.jsx(Tg,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:t.jsx($d,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":i1(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(PW,{titleId:l.titleId}),t.jsx(_W,{contentRef:c,descriptionId:l.descriptionId})]})]})}),a1="DialogTitle",vD=g.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=Na(a1,n);return t.jsx(Je.h2,{id:a.titleId,...s,ref:r})});vD.displayName=a1;var yD="DialogDescription",jD=g.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=Na(yD,n);return t.jsx(Je.p,{id:a.descriptionId,...s,ref:r})});jD.displayName=yD;var bD="DialogClose",ND=g.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=Na(bD,n);return t.jsx(Je.button,{type:"button",...s,ref:r,onClick:Ye(e.onClick,()=>a.onOpenChange(!1))})});ND.displayName=bD;function i1(e){return e?"open":"closed"}var wD="DialogTitleWarning",[mPe,SD]=rz(wD,{contentName:Cl,titleName:a1,docsSlug:"dialog"}),PW=({titleId:e})=>{const r=SD(wD),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},CW="DialogDescriptionWarning",_W=({contentRef:e,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${SD(CW).contentName}}.`;return g.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&a&&(document.getElementById(r)||console.warn(s))},[s,e,r]),null},PD=dD,AW=mD,CD=fD,Rg=pD,Dg=xD,Mg=vD,Ig=jD,_D=ND;const TW=PD,kW=CD,AD=g.forwardRef(({className:e,...r},n)=>t.jsx(Rg,{className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:n}));AD.displayName=Rg.displayName;const EW=Bl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),TD=g.forwardRef(({side:e="right",className:r,children:n,...s},a)=>t.jsxs(kW,{children:[t.jsx(AD,{}),t.jsxs(Dg,{ref:a,className:ke(EW({side:e}),r),...s,children:[n,t.jsxs(_D,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[t.jsx(Fd,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));TD.displayName=Dg.displayName;const OW=g.forwardRef(({className:e,...r},n)=>t.jsx(Mg,{ref:n,className:ke("text-lg font-semibold text-foreground",e),...r}));OW.displayName=Mg.displayName;const RW=g.forwardRef(({className:e,...r},n)=>t.jsx(Ig,{ref:n,className:ke("text-sm text-muted-foreground",e),...r}));RW.displayName=Ig.displayName;function VP({className:e,...r}){return t.jsx("div",{className:ke("animate-pulse rounded-md bg-muted",e),...r})}const DW="sidebar:state",MW=60*60*24*7,IW="16rem",$W="18rem",LW="3rem",FW="b",kD=g.createContext(null);function _h(){const e=g.useContext(kD);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const ED=g.forwardRef(({defaultOpen:e=!0,open:r,onOpenChange:n,className:s,style:a,children:i,...o},l)=>{const c=Nq(),[d,u]=g.useState(!1),[m,h]=g.useState(e),p=r??m,y=g.useCallback(x=>{const b=typeof x=="function"?x(p):x;n?n(b):h(b),document.cookie=`${DW}=${b}; path=/; max-age=${MW}`},[n,p]),f=g.useCallback(()=>c?u(x=>!x):y(x=>!x),[c,y,u]);g.useEffect(()=>{const x=b=>{b.key===FW&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),f())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[f]);const v=p?"expanded":"collapsed",j=g.useMemo(()=>({state:v,open:p,setOpen:y,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:f}),[v,p,y,c,d,u,f]);return t.jsx(kD.Provider,{value:j,children:t.jsx(CR,{delayDuration:0,children:t.jsx("div",{style:{"--sidebar-width":IW,"--sidebar-width-icon":LW,...a},className:ke("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",s),ref:l,...o,children:i})})})});ED.displayName="SidebarProvider";const OD=g.forwardRef(({side:e="left",variant:r="sidebar",collapsible:n="offcanvas",className:s,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=_h();return n==="none"?t.jsx("div",{className:ke("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",s),ref:o,...i,children:a}):l?t.jsx(TW,{open:d,onOpenChange:u,...i,children:t.jsx(TD,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":$W},side:e,children:t.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):t.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":r,"data-side":e,children:[t.jsx("div",{className:ke("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),t.jsx("div",{className:ke("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...i,children:t.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});OD.displayName="Sidebar";const RD=g.forwardRef(({className:e,onClick:r,...n},s)=>{const{toggleSidebar:a}=_h();return t.jsxs(O,{ref:s,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ke("h-7 w-7",e),onClick:i=>{r==null||r(i),a()},...n,children:[t.jsx(pB,{}),t.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});RD.displayName="SidebarTrigger";const zW=g.forwardRef(({className:e,...r},n)=>{const{toggleSidebar:s}=_h();return t.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:ke("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...r})});zW.displayName="SidebarRail";const DD=g.forwardRef(({className:e,...r},n)=>t.jsx("main",{ref:n,className:ke("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...r}));DD.displayName="SidebarInset";const BW=g.forwardRef(({className:e,...r},n)=>t.jsx(Z,{ref:n,"data-sidebar":"input",className:ke("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...r}));BW.displayName="SidebarInput";const UW=g.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,"data-sidebar":"header",className:ke("flex flex-col gap-2 p-2",e),...r}));UW.displayName="SidebarHeader";const VW=g.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,"data-sidebar":"footer",className:ke("flex flex-col gap-2 p-2",e),...r}));VW.displayName="SidebarFooter";const qW=g.forwardRef(({className:e,...r},n)=>t.jsx($a,{ref:n,"data-sidebar":"separator",className:ke("mx-2 w-auto bg-sidebar-border",e),...r}));qW.displayName="SidebarSeparator";const MD=g.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,"data-sidebar":"content",className:ke("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...r}));MD.displayName="SidebarContent";const ID=g.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,"data-sidebar":"group",className:ke("relative flex w-full min-w-0 flex-col p-2",e),...r}));ID.displayName="SidebarGroup";const WW=g.forwardRef(({className:e,asChild:r=!1,...n},s)=>{const a=r?Id:"div";return t.jsx(a,{ref:s,"data-sidebar":"group-label",className:ke("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});WW.displayName="SidebarGroupLabel";const HW=g.forwardRef(({className:e,asChild:r=!1,...n},s)=>{const a=r?Id:"button";return t.jsx(a,{ref:s,"data-sidebar":"group-action",className:ke("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});HW.displayName="SidebarGroupAction";const KW=g.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,"data-sidebar":"group-content",className:ke("w-full text-sm",e),...r}));KW.displayName="SidebarGroupContent";const $D=g.forwardRef(({className:e,...r},n)=>t.jsx("ul",{ref:n,"data-sidebar":"menu",className:ke("flex w-full min-w-0 flex-col gap-1",e),...r}));$D.displayName="SidebarMenu";const $0=g.forwardRef(({className:e,...r},n)=>t.jsx("li",{ref:n,"data-sidebar":"menu-item",className:ke("group/menu-item relative",e),...r}));$0.displayName="SidebarMenuItem";const GW=Bl("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),L0=g.forwardRef(({asChild:e=!1,isActive:r=!1,variant:n="default",size:s="default",tooltip:a,className:i,...o},l)=>{const c=e?Id:"button",{isMobile:d,state:u}=_h(),m=t.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":s,"data-active":r,className:ke(GW({variant:n,size:s}),i),...o});return a?(typeof a=="string"&&(a={children:a}),t.jsxs(b9,{children:[t.jsx(N9,{asChild:!0,children:m}),t.jsx(_R,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):m});L0.displayName="SidebarMenuButton";const XW=g.forwardRef(({className:e,asChild:r=!1,showOnHover:n=!1,...s},a)=>{const i=r?Id:"button";return t.jsx(i,{ref:a,"data-sidebar":"menu-action",className:ke("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...s})});XW.displayName="SidebarMenuAction";const YW=g.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:ke("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...r}));YW.displayName="SidebarMenuBadge";const QW=g.forwardRef(({className:e,showIcon:r=!1,...n},s)=>{const a=g.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return t.jsxs("div",{ref:s,"data-sidebar":"menu-skeleton",className:ke("flex h-8 items-center gap-2 rounded-md px-2",e),...n,children:[r&&t.jsx(VP,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),t.jsx(VP,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});QW.displayName="SidebarMenuSkeleton";const LD=g.forwardRef(({className:e,...r},n)=>t.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:ke("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...r}));LD.displayName="SidebarMenuSub";const FD=g.forwardRef(({...e},r)=>t.jsx("li",{ref:r,...e}));FD.displayName="SidebarMenuSubItem";const zD=g.forwardRef(({asChild:e=!1,size:r="md",isActive:n,className:s,...a},i)=>{const o=e?Id:"a";return t.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":r,"data-active":n,className:ke("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",r==="sm"&&"text-xs",r==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",s),...a})});zD.displayName="SidebarMenuSubButton";function BD(e,r){return function(){return e.apply(r,arguments)}}const{toString:ZW}=Object.prototype,{getPrototypeOf:o1}=Object,{iterator:$g,toStringTag:UD}=Symbol,Lg=(e=>r=>{const n=ZW.call(r);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),wa=e=>(e=e.toLowerCase(),r=>Lg(r)===e),Fg=e=>r=>typeof r===e,{isArray:Wd}=Array,nd=Fg("undefined");function Ah(e){return e!==null&&!nd(e)&&e.constructor!==null&&!nd(e.constructor)&&as(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const VD=wa("ArrayBuffer");function JW(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&VD(e.buffer),r}const eH=Fg("string"),as=Fg("function"),qD=Fg("number"),Th=e=>e!==null&&typeof e=="object",tH=e=>e===!0||e===!1,tp=e=>{if(Lg(e)!=="object")return!1;const r=o1(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(UD in e)&&!($g in e)},rH=e=>{if(!Th(e)||Ah(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},nH=wa("Date"),sH=wa("File"),aH=wa("Blob"),iH=wa("FileList"),oH=e=>Th(e)&&as(e.pipe),lH=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||as(e.append)&&((r=Lg(e))==="formdata"||r==="object"&&as(e.toString)&&e.toString()==="[object FormData]"))},cH=wa("URLSearchParams"),[dH,uH,mH,hH]=["ReadableStream","Request","Response","Headers"].map(wa),fH=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kh(e,r,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Wd(e))for(s=0,a=e.length;s<a;s++)r.call(null,e[s],s,e);else{if(Ah(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],r.call(null,e[l],l,e)}}function WD(e,r){if(Ah(e))return null;r=r.toLowerCase();const n=Object.keys(e);let s=n.length,a;for(;s-- >0;)if(a=n[s],r===a.toLowerCase())return a;return null}const el=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HD=e=>!nd(e)&&e!==el;function F0(){const{caseless:e,skipUndefined:r}=HD(this)&&this||{},n={},s=(a,i)=>{const o=e&&WD(n,i)||i;tp(n[o])&&tp(a)?n[o]=F0(n[o],a):tp(a)?n[o]=F0({},a):Wd(a)?n[o]=a.slice():(!r||!nd(a))&&(n[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&kh(arguments[a],s);return n}const pH=(e,r,n,{allOwnKeys:s}={})=>(kh(r,(a,i)=>{n&&as(a)?e[i]=BD(a,n):e[i]=a},{allOwnKeys:s}),e),xH=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gH=(e,r,n,s)=>{e.prototype=Object.create(r.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),n&&Object.assign(e.prototype,n)},vH=(e,r,n,s)=>{let a,i,o;const l={};if(r=r||{},e==null)return r;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,r))&&!l[o]&&(r[o]=e[o],l[o]=!0);e=n!==!1&&o1(e)}while(e&&(!n||n(e,r))&&e!==Object.prototype);return r},yH=(e,r,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=r.length;const s=e.indexOf(r,n);return s!==-1&&s===n},jH=e=>{if(!e)return null;if(Wd(e))return e;let r=e.length;if(!qD(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=e[r];return n},bH=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&o1(Uint8Array)),NH=(e,r)=>{const s=(e&&e[$g]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;r.call(e,i[0],i[1])}},wH=(e,r)=>{let n;const s=[];for(;(n=e.exec(r))!==null;)s.push(n);return s},SH=wa("HTMLFormElement"),PH=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),qP=(({hasOwnProperty:e})=>(r,n)=>e.call(r,n))(Object.prototype),CH=wa("RegExp"),KD=(e,r)=>{const n=Object.getOwnPropertyDescriptors(e),s={};kh(n,(a,i)=>{let o;(o=r(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},_H=e=>{KD(e,(r,n)=>{if(as(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(as(s)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},AH=(e,r)=>{const n={},s=a=>{a.forEach(i=>{n[i]=!0})};return Wd(e)?s(e):s(String(e).split(r)),n},TH=()=>{},kH=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function EH(e){return!!(e&&as(e.append)&&e[UD]==="FormData"&&e[$g])}const OH=e=>{const r=new Array(10),n=(s,a)=>{if(Th(s)){if(r.indexOf(s)>=0)return;if(Ah(s))return s;if(!("toJSON"in s)){r[a]=s;const i=Wd(s)?[]:{};return kh(s,(o,l)=>{const c=n(o,a+1);!nd(c)&&(i[l]=c)}),r[a]=void 0,i}}return s};return n(e,0)},RH=wa("AsyncFunction"),DH=e=>e&&(Th(e)||as(e))&&as(e.then)&&as(e.catch),GD=((e,r)=>e?setImmediate:r?((n,s)=>(el.addEventListener("message",({source:a,data:i})=>{a===el&&i===n&&s.length&&s.shift()()},!1),a=>{s.push(a),el.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",as(el.postMessage)),MH=typeof queueMicrotask<"u"?queueMicrotask.bind(el):typeof process<"u"&&process.nextTick||GD,IH=e=>e!=null&&as(e[$g]),ue={isArray:Wd,isArrayBuffer:VD,isBuffer:Ah,isFormData:lH,isArrayBufferView:JW,isString:eH,isNumber:qD,isBoolean:tH,isObject:Th,isPlainObject:tp,isEmptyObject:rH,isReadableStream:dH,isRequest:uH,isResponse:mH,isHeaders:hH,isUndefined:nd,isDate:nH,isFile:sH,isBlob:aH,isRegExp:CH,isFunction:as,isStream:oH,isURLSearchParams:cH,isTypedArray:bH,isFileList:iH,forEach:kh,merge:F0,extend:pH,trim:fH,stripBOM:xH,inherits:gH,toFlatObject:vH,kindOf:Lg,kindOfTest:wa,endsWith:yH,toArray:jH,forEachEntry:NH,matchAll:wH,isHTMLForm:SH,hasOwnProperty:qP,hasOwnProp:qP,reduceDescriptors:KD,freezeMethods:_H,toObjectSet:AH,toCamelCase:PH,noop:TH,toFiniteNumber:kH,findKey:WD,global:el,isContextDefined:HD,isSpecCompliantForm:EH,toJSONObject:OH,isAsyncFn:RH,isThenable:DH,setImmediate:GD,asap:MH,isIterable:IH};function Nt(e,r,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}ue.inherits(Nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const XD=Nt.prototype,YD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{YD[e]={value:e}});Object.defineProperties(Nt,YD);Object.defineProperty(XD,"isAxiosError",{value:!0});Nt.from=(e,r,n,s,a,i)=>{const o=Object.create(XD);ue.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=r==null&&e?e.code:r;return Nt.call(o,l,c,n,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const $H=null;function z0(e){return ue.isPlainObject(e)||ue.isArray(e)}function QD(e){return ue.endsWith(e,"[]")?e.slice(0,-2):e}function WP(e,r,n){return e?e.concat(r).map(function(a,i){return a=QD(a),!n&&i?"["+a+"]":a}).join(n?".":""):r}function LH(e){return ue.isArray(e)&&!e.some(z0)}const FH=ue.toFlatObject(ue,{},null,function(r){return/^is[A-Z]/.test(r)});function zg(e,r,n){if(!ue.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,n=ue.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,v){return!ue.isUndefined(v[f])});const s=n.metaTokens,a=n.visitor||u,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(r);if(!ue.isFunction(a))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(ue.isDate(y))return y.toISOString();if(ue.isBoolean(y))return y.toString();if(!c&&ue.isBlob(y))throw new Nt("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(y)||ue.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,f,v){let j=y;if(y&&!v&&typeof y=="object"){if(ue.endsWith(f,"{}"))f=s?f:f.slice(0,-2),y=JSON.stringify(y);else if(ue.isArray(y)&&LH(y)||(ue.isFileList(y)||ue.endsWith(f,"[]"))&&(j=ue.toArray(y)))return f=QD(f),j.forEach(function(b,S){!(ue.isUndefined(b)||b===null)&&r.append(o===!0?WP([f],S,i):o===null?f:f+"[]",d(b))}),!1}return z0(y)?!0:(r.append(WP(v,f,i),d(y)),!1)}const m=[],h=Object.assign(FH,{defaultVisitor:u,convertValue:d,isVisitable:z0});function p(y,f){if(!ue.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+f.join("."));m.push(y),ue.forEach(y,function(j,x){(!(ue.isUndefined(j)||j===null)&&a.call(r,j,ue.isString(x)?x.trim():x,f,h))===!0&&p(j,f?f.concat(x):[x])}),m.pop()}}if(!ue.isObject(e))throw new TypeError("data must be an object");return p(e),r}function HP(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return r[s]})}function l1(e,r){this._pairs=[],e&&zg(e,this,r)}const ZD=l1.prototype;ZD.append=function(r,n){this._pairs.push([r,n])};ZD.toString=function(r){const n=r?function(s){return r.call(this,s,HP)}:HP;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function zH(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function JD(e,r,n){if(!r)return e;const s=n&&n.encode||zH;ue.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(r,n):i=ue.isURLSearchParams(r)?r.toString():new l1(r,n).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class KP{constructor(){this.handlers=[]}use(r,n,s){return this.handlers.push({fulfilled:r,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ue.forEach(this.handlers,function(s){s!==null&&r(s)})}}const eM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BH=typeof URLSearchParams<"u"?URLSearchParams:l1,UH=typeof FormData<"u"?FormData:null,VH=typeof Blob<"u"?Blob:null,qH={isBrowser:!0,classes:{URLSearchParams:BH,FormData:UH,Blob:VH},protocols:["http","https","file","blob","url","data"]},c1=typeof window<"u"&&typeof document<"u",B0=typeof navigator=="object"&&navigator||void 0,WH=c1&&(!B0||["ReactNative","NativeScript","NS"].indexOf(B0.product)<0),HH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KH=c1&&window.location.href||"http://localhost",GH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:c1,hasStandardBrowserEnv:WH,hasStandardBrowserWebWorkerEnv:HH,navigator:B0,origin:KH},Symbol.toStringTag,{value:"Module"})),En={...GH,...qH};function XH(e,r){return zg(e,new En.classes.URLSearchParams,{visitor:function(n,s,a,i){return En.isNode&&ue.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function YH(e){return ue.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function QH(e){const r={},n=Object.keys(e);let s;const a=n.length;let i;for(s=0;s<a;s++)i=n[s],r[i]=e[i];return r}function tM(e){function r(n,s,a,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&ue.isArray(a)?a.length:o,c?(ue.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!ue.isObject(a[o]))&&(a[o]=[]),r(n,s,a[o],i)&&ue.isArray(a[o])&&(a[o]=QH(a[o])),!l)}if(ue.isFormData(e)&&ue.isFunction(e.entries)){const n={};return ue.forEachEntry(e,(s,a)=>{r(YH(s),a,n,0)}),n}return null}function ZH(e,r,n){if(ue.isString(e))try{return(r||JSON.parse)(e),ue.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(e)}const Eh={transitional:eM,adapter:["xhr","http","fetch"],transformRequest:[function(r,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,i=ue.isObject(r);if(i&&ue.isHTMLForm(r)&&(r=new FormData(r)),ue.isFormData(r))return a?JSON.stringify(tM(r)):r;if(ue.isArrayBuffer(r)||ue.isBuffer(r)||ue.isStream(r)||ue.isFile(r)||ue.isBlob(r)||ue.isReadableStream(r))return r;if(ue.isArrayBufferView(r))return r.buffer;if(ue.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return XH(r,this.formSerializer).toString();if((l=ue.isFileList(r))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return zg(l?{"files[]":r}:r,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),ZH(r)):r}],transformResponse:[function(r){const n=this.transitional||Eh.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(ue.isResponse(r)||ue.isReadableStream(r))return r;if(r&&ue.isString(r)&&(s&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(r,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Nt.from(l,Nt.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:En.classes.FormData,Blob:En.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],e=>{Eh.headers[e]={}});const JH=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eK=e=>{const r={};let n,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!n||r[n]&&JH[n])&&(n==="set-cookie"?r[n]?r[n].push(s):r[n]=[s]:r[n]=r[n]?r[n]+", "+s:s)}),r},GP=Symbol("internals");function ju(e){return e&&String(e).trim().toLowerCase()}function rp(e){return e===!1||e==null?e:ue.isArray(e)?e.map(rp):String(e)}function tK(e){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)r[s[1]]=s[2];return r}const rK=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function My(e,r,n,s,a){if(ue.isFunction(s))return s.call(this,r,n);if(a&&(r=n),!!ue.isString(r)){if(ue.isString(s))return r.indexOf(s)!==-1;if(ue.isRegExp(s))return s.test(r)}}function nK(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,s)=>n.toUpperCase()+s)}function sK(e,r){const n=ue.toCamelCase(" "+r);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(a,i,o){return this[s].call(this,r,a,i,o)},configurable:!0})})}class is{constructor(r){r&&this.set(r)}set(r,n,s){const a=this;function i(l,c,d){const u=ju(c);if(!u)throw new Error("header name must be a non-empty string");const m=ue.findKey(a,u);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=rp(l))}const o=(l,c)=>ue.forEach(l,(d,u)=>i(d,u,c));if(ue.isPlainObject(r)||r instanceof this.constructor)o(r,n);else if(ue.isString(r)&&(r=r.trim())&&!rK(r))o(eK(r),n);else if(ue.isObject(r)&&ue.isIterable(r)){let l={},c,d;for(const u of r){if(!ue.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?ue.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,n)}else r!=null&&i(n,r,s);return this}get(r,n){if(r=ju(r),r){const s=ue.findKey(this,r);if(s){const a=this[s];if(!n)return a;if(n===!0)return tK(a);if(ue.isFunction(n))return n.call(this,a,s);if(ue.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=ju(r),r){const s=ue.findKey(this,r);return!!(s&&this[s]!==void 0&&(!n||My(this,this[s],s,n)))}return!1}delete(r,n){const s=this;let a=!1;function i(o){if(o=ju(o),o){const l=ue.findKey(s,o);l&&(!n||My(s,s[l],l,n))&&(delete s[l],a=!0)}}return ue.isArray(r)?r.forEach(i):i(r),a}clear(r){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const i=n[s];(!r||My(this,this[i],i,r,!0))&&(delete this[i],a=!0)}return a}normalize(r){const n=this,s={};return ue.forEach(this,(a,i)=>{const o=ue.findKey(s,i);if(o){n[o]=rp(a),delete n[i];return}const l=r?nK(i):String(i).trim();l!==i&&delete n[i],n[l]=rp(a),s[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return ue.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=r&&ue.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const s=new this(r);return n.forEach(a=>s.set(a)),s}static accessor(r){const s=(this[GP]=this[GP]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=ju(o);s[l]||(sK(a,o),s[l]=!0)}return ue.isArray(r)?r.forEach(i):i(r),this}}is.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(is.prototype,({value:e},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(s){this[n]=s}}});ue.freezeMethods(is);function Iy(e,r){const n=this||Eh,s=r||n,a=is.from(s.headers);let i=s.data;return ue.forEach(e,function(l){i=l.call(n,i,a.normalize(),r?r.status:void 0)}),a.normalize(),i}function rM(e){return!!(e&&e.__CANCEL__)}function Hd(e,r,n){Nt.call(this,e??"canceled",Nt.ERR_CANCELED,r,n),this.name="CanceledError"}ue.inherits(Hd,Nt,{__CANCEL__:!0});function nM(e,r,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):r(new Nt("Request failed with status code "+n.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function aK(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function iK(e,r){e=e||10;const n=new Array(e),s=new Array(e);let a=0,i=0,o;return r=r!==void 0?r:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),n[a]=c,s[a]=d;let m=i,h=0;for(;m!==a;)h+=n[m++],m=m%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<r)return;const p=u&&d-u;return p?Math.round(h*1e3/p):void 0}}function oK(e,r){let n=0,s=1e3/r,a,i;const o=(d,u=Date.now())=>{n=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),m=u-n;m>=s?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},s-m)))},()=>a&&o(a)]}const Vp=(e,r,n=3)=>{let s=0;const a=iK(50,250);return oK(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=a(c),u=o<=l;s=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[r?"download":"upload"]:!0};e(m)},n)},XP=(e,r)=>{const n=e!=null;return[s=>r[0]({lengthComputable:n,total:e,loaded:s}),r[1]]},YP=e=>(...r)=>ue.asap(()=>e(...r)),lK=En.hasStandardBrowserEnv?((e,r)=>n=>(n=new URL(n,En.origin),e.protocol===n.protocol&&e.host===n.host&&(r||e.port===n.port)))(new URL(En.origin),En.navigator&&/(msie|trident)/i.test(En.navigator.userAgent)):()=>!0,cK=En.hasStandardBrowserEnv?{write(e,r,n,s,a,i){const o=[e+"="+encodeURIComponent(r)];ue.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ue.isString(s)&&o.push("path="+s),ue.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dK(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function uK(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function sM(e,r,n){let s=!dK(r);return e&&(s||n==!1)?uK(e,r):r}const QP=e=>e instanceof is?{...e}:e;function _l(e,r){r=r||{};const n={};function s(d,u,m,h){return ue.isPlainObject(d)&&ue.isPlainObject(u)?ue.merge.call({caseless:h},d,u):ue.isPlainObject(u)?ue.merge({},u):ue.isArray(u)?u.slice():u}function a(d,u,m,h){if(ue.isUndefined(u)){if(!ue.isUndefined(d))return s(void 0,d,m,h)}else return s(d,u,m,h)}function i(d,u){if(!ue.isUndefined(u))return s(void 0,u)}function o(d,u){if(ue.isUndefined(u)){if(!ue.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,m){if(m in r)return s(d,u);if(m in e)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,m)=>a(QP(d),QP(u),m,!0)};return ue.forEach(Object.keys({...e,...r}),function(u){const m=c[u]||a,h=m(e[u],r[u],u);ue.isUndefined(h)&&m!==l||(n[u]=h)}),n}const aM=e=>{const r=_l({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=r;if(r.headers=o=is.from(o),r.url=JD(sM(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ue.isFormData(n)){if(En.hasStandardBrowserEnv||En.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ue.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&o.set(u,m)})}}if(En.hasStandardBrowserEnv&&(s&&ue.isFunction(s)&&(s=s(r)),s||s!==!1&&lK(r.url))){const c=a&&i&&cK.read(i);c&&o.set(a,c)}return r},mK=typeof XMLHttpRequest<"u",hK=mK&&function(e){return new Promise(function(n,s){const a=aM(e);let i=a.data;const o=is.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,m,h,p,y;function f(){p&&p(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function j(){if(!v)return;const b=is.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),w={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};nM(function(P){n(P),f()},function(P){s(P),f()},w),v=null}"onloadend"in v?v.onloadend=j:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(j)},v.onabort=function(){v&&(s(new Nt("Request aborted",Nt.ECONNABORTED,e,v)),v=null)},v.onerror=function(S){const w=S&&S.message?S.message:"Network Error",N=new Nt(w,Nt.ERR_NETWORK,e,v);N.event=S||null,s(N),v=null},v.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const w=a.transitional||eM;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),s(new Nt(S,w.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&ue.forEach(o.toJSON(),function(S,w){v.setRequestHeader(w,S)}),ue.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),d&&([h,y]=Vp(d,!0),v.addEventListener("progress",h)),c&&v.upload&&([m,p]=Vp(c),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(u=b=>{v&&(s(!b||b.type?new Hd(null,e,v):b),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const x=aK(a.url);if(x&&En.protocols.indexOf(x)===-1){s(new Nt("Unsupported protocol "+x+":",Nt.ERR_BAD_REQUEST,e));return}v.send(i||null)})},fK=(e,r)=>{const{length:n}=e=e?e.filter(Boolean):[];if(r||n){let s=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof Nt?u:new Hd(u instanceof Error?u.message:u))}};let o=r&&setTimeout(()=>{o=null,i(new Nt(`timeout ${r} of ms exceeded`,Nt.ETIMEDOUT))},r);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>ue.asap(l),c}},pK=function*(e,r){let n=e.byteLength;if(n<r){yield e;return}let s=0,a;for(;s<n;)a=s+r,yield e.slice(s,a),s=a},xK=async function*(e,r){for await(const n of gK(e))yield*pK(n,r)},gK=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:n,value:s}=await r.read();if(n)break;yield s}}finally{await r.cancel()}},ZP=(e,r,n,s)=>{const a=xK(e,r);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let m=u.byteLength;if(n){let h=i+=m;n(h)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},JP=64*1024,{isFunction:gf}=ue,iM=(({fetch:e,Request:r,Response:n})=>({fetch:e,Request:r,Response:n}))(ue.global),{ReadableStream:eC,TextEncoder:tC}=ue.global,rC=(e,...r)=>{try{return!!e(...r)}catch{return!1}},vK=e=>{const{fetch:r,Request:n,Response:s}=Object.assign({},iM,e),a=gf(r),i=gf(n),o=gf(s);if(!a)return!1;const l=a&&gf(eC),c=a&&(typeof tC=="function"?(y=>f=>y.encode(f))(new tC):async y=>new Uint8Array(await new n(y).arrayBuffer())),d=i&&l&&rC(()=>{let y=!1;const f=new n(En.origin,{body:new eC,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!f}),u=o&&l&&rC(()=>ue.isReadableStream(new s("").body)),m={stream:u&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!m[y]&&(m[y]=(f,v)=>{let j=f&&f[y];if(j)return j.call(f);throw new Nt(`Response type '${y}' is not supported`,Nt.ERR_NOT_SUPPORT,v)})});const h=async y=>{if(y==null)return 0;if(ue.isBlob(y))return y.size;if(ue.isSpecCompliantForm(y))return(await new n(En.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(y)||ue.isArrayBuffer(y))return y.byteLength;if(ue.isURLSearchParams(y)&&(y=y+""),ue.isString(y))return(await c(y)).byteLength},p=async(y,f)=>{const v=ue.toFiniteNumber(y.getContentLength());return v??h(f)};return async y=>{let{url:f,method:v,data:j,signal:x,cancelToken:b,timeout:S,onDownloadProgress:w,onUploadProgress:N,responseType:P,headers:_,withCredentials:C="same-origin",fetchOptions:A}=aM(y);P=P?(P+"").toLowerCase():"text";let M=fK([x,b&&b.toAbortSignal()],S),R=null;const E=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let F;try{if(N&&d&&v!=="get"&&v!=="head"&&(F=await p(_,j))!==0){let re=new n(f,{method:"POST",body:j,duplex:"half"}),he;if(ue.isFormData(j)&&(he=re.headers.get("content-type"))&&_.setContentType(he),re.body){const[ie,fe]=XP(F,Vp(YP(N)));j=ZP(re.body,JP,ie,fe)}}ue.isString(C)||(C=C?"include":"omit");const G=i&&"credentials"in n.prototype,D={...A,signal:M,method:v.toUpperCase(),headers:_.normalize().toJSON(),body:j,duplex:"half",credentials:G?C:void 0};R=i&&new n(f,D);let J=await(i?r(R,A):r(f,D));const q=u&&(P==="stream"||P==="response");if(u&&(w||q&&E)){const re={};["status","statusText","headers"].forEach(xe=>{re[xe]=J[xe]});const he=ue.toFiniteNumber(J.headers.get("content-length")),[ie,fe]=w&&XP(he,Vp(YP(w),!0))||[];J=new s(ZP(J.body,JP,ie,()=>{fe&&fe(),E&&E()}),re)}P=P||"text";let U=await m[ue.findKey(m,P)||"text"](J,y);return!q&&E&&E(),await new Promise((re,he)=>{nM(re,he,{data:U,headers:is.from(J.headers),status:J.status,statusText:J.statusText,config:y,request:R})})}catch(G){throw E&&E(),G&&G.name==="TypeError"&&/Load failed|fetch/i.test(G.message)?Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,y,R),{cause:G.cause||G}):Nt.from(G,G&&G.code,y,R)}}},yK=new Map,oM=e=>{let r=ue.merge.call({skipUndefined:!0},iM,e?e.env:null);const{fetch:n,Request:s,Response:a}=r,i=[s,a,n];let o=i.length,l=o,c,d,u=yK;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:vK(r)),u=d;return d};oM();const U0={http:$H,xhr:hK,fetch:{get:oM}};ue.forEach(U0,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const nC=e=>`- ${e}`,jK=e=>ue.isFunction(e)||e===null||e===!1,lM={getAdapter:(e,r)=>{e=ue.isArray(e)?e:[e];const{length:n}=e;let s,a;const i={};for(let o=0;o<n;o++){s=e[o];let l;if(a=s,!jK(s)&&(a=U0[(l=String(s)).toLowerCase()],a===void 0))throw new Nt(`Unknown adapter '${l}'`);if(a&&(ue.isFunction(a)||(a=a.get(r))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(nC).join(`
`):" "+nC(o[0]):"as no adapter specified";throw new Nt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:U0};function $y(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Hd(null,e)}function sC(e){return $y(e),e.headers=is.from(e.headers),e.data=Iy.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),lM.getAdapter(e.adapter||Eh.adapter,e)(e).then(function(s){return $y(e),s.data=Iy.call(e,e.transformResponse,s),s.headers=is.from(s.headers),s},function(s){return rM(s)||($y(e),s&&s.response&&(s.response.data=Iy.call(e,e.transformResponse,s.response),s.response.headers=is.from(s.response.headers))),Promise.reject(s)})}const cM="1.12.1",Bg={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{Bg[e]=function(s){return typeof s===e||"a"+(r<1?"n ":" ")+e}});const aC={};Bg.transitional=function(r,n,s){function a(i,o){return"[Axios v"+cM+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(r===!1)throw new Nt(a(o," has been removed"+(n?" in "+n:"")),Nt.ERR_DEPRECATED);return n&&!aC[o]&&(aC[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(i,o,l):!0}};Bg.spelling=function(r){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${r}`),!0)};function bK(e,r,n){if(typeof e!="object")throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=r[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new Nt("option "+i+" must be "+c,Nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Nt("Unknown option "+i,Nt.ERR_BAD_OPTION)}}const np={assertOptions:bK,validators:Bg},_a=np.validators;class fl{constructor(r){this.defaults=r||{},this.interceptors={request:new KP,response:new KP}}async request(r,n){try{return await this._request(r,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=_l(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:i}=n;s!==void 0&&np.assertOptions(s,{silentJSONParsing:_a.transitional(_a.boolean),forcedJSONParsing:_a.transitional(_a.boolean),clarifyTimeoutError:_a.transitional(_a.boolean)},!1),a!=null&&(ue.isFunction(a)?n.paramsSerializer={serialize:a}:np.assertOptions(a,{encode:_a.function,serialize:_a.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),np.assertOptions(n,{baseUrl:_a.spelling("baseURL"),withXsrfToken:_a.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&ue.merge(i.common,i[n.method]);i&&ue.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=is.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(n)===!1||(c=c&&f.synchronous,l.unshift(f.fulfilled,f.rejected))});const d=[];this.interceptors.response.forEach(function(f){d.push(f.fulfilled,f.rejected)});let u,m=0,h;if(!c){const y=[sC.bind(this),void 0];for(y.unshift(...l),y.push(...d),h=y.length,u=Promise.resolve(n);m<h;)u=u.then(y[m++],y[m++]);return u}h=l.length;let p=n;for(m=0;m<h;){const y=l[m++],f=l[m++];try{p=y(p)}catch(v){f.call(this,v);break}}try{u=sC.call(this,p)}catch(y){return Promise.reject(y)}for(m=0,h=d.length;m<h;)u=u.then(d[m++],d[m++]);return u}getUri(r){r=_l(this.defaults,r);const n=sM(r.baseURL,r.url,r.allowAbsoluteUrls);return JD(n,r.params,r.paramsSerializer)}}ue.forEach(["delete","get","head","options"],function(r){fl.prototype[r]=function(n,s){return this.request(_l(s||{},{method:r,url:n,data:(s||{}).data}))}});ue.forEach(["post","put","patch"],function(r){function n(s){return function(i,o,l){return this.request(_l(l||{},{method:r,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}fl.prototype[r]=n(),fl.prototype[r+"Form"]=n(!0)});class d1{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},r(function(i,o,l){s.reason||(s.reason=new Hd(i,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=s=>{r.abort(s)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new d1(function(a){r=a}),cancel:r}}}function NK(e){return function(n){return e.apply(null,n)}}function wK(e){return ue.isObject(e)&&e.isAxiosError===!0}const V0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(V0).forEach(([e,r])=>{V0[r]=e});function dM(e){const r=new fl(e),n=BD(fl.prototype.request,r);return ue.extend(n,fl.prototype,r,{allOwnKeys:!0}),ue.extend(n,r,null,{allOwnKeys:!0}),n.create=function(a){return dM(_l(e,a))},n}const Fr=dM(Eh);Fr.Axios=fl;Fr.CanceledError=Hd;Fr.CancelToken=d1;Fr.isCancel=rM;Fr.VERSION=cM;Fr.toFormData=zg;Fr.AxiosError=Nt;Fr.Cancel=Fr.CanceledError;Fr.all=function(r){return Promise.all(r)};Fr.spread=NK;Fr.isAxiosError=wK;Fr.mergeConfig=_l;Fr.AxiosHeaders=is;Fr.formToJSON=e=>tM(ue.isHTMLForm(e)?new FormData(e):e);Fr.getAdapter=lM.getAdapter;Fr.HttpStatusCode=V0;Fr.default=Fr;const SK=Object.freeze(Object.defineProperty({__proto__:null,default:Fr},Symbol.toStringTag,{value:"Module"})),qp="https://drpharmas.com/backend/backend",Xe=Fr.create({baseURL:qp,timeout:1e4,headers:{"Content-Type":"application/json"}});Xe.interceptors.request.use(e=>{const r=localStorage.getItem("access_token");return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e));Xe.interceptors.response.use(e=>e,async e=>{var n;const r=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!r._retry){r._retry=!0;try{const s=localStorage.getItem("refresh_token");if(s){const a=await Fr.post(`${qp}/auth/token/refresh/`,{refresh:s}),{access:i,refresh:o}=a.data;return localStorage.setItem("access_token",i),localStorage.setItem("refresh_token",o),r.headers.Authorization=`Bearer ${i}`,Xe(r)}}catch{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("currentUser"),window.location.href="/login"}}return Promise.reject(e)});const uM={login:async(e,r)=>{var s,a,i,o,l;console.log(" LOGIN DEBUG - Starting login process"),console.log(" Email:",e),console.log(" Password length:",r==null?void 0:r.length),console.log(" API Base URL:",qp),console.log(" Full URL:",`${qp}/auth/login/`);const n={email:e,password:r};console.log(" Request data:",n);try{const c=await Xe.post("/auth/login/",n);return console.log(" Response received:",c),console.log(" Response status:",c.status),console.log(" Response data:",c.data),c.data.user&&c.data.tokens?{success:!0,data:{user:c.data.user,tokens:c.data.tokens},message:c.data.message||"Login successful"}:c.data}catch(c){throw console.error(" LOGIN ERROR - Full error object:",c),console.error(" Error status:",(s=c.response)==null?void 0:s.status),console.error(" Error data:",(a=c.response)==null?void 0:a.data),console.error(" Error config:",c.config),console.error(" Request URL:",(i=c.config)==null?void 0:i.url),console.error(" Request data:",(o=c.config)==null?void 0:o.data),console.error(" Request headers:",(l=c.config)==null?void 0:l.headers),c}},register:async e=>(await Xe.post("/auth/register/",e)).data,logout:async()=>(await Xe.post("/auth/logout/")).data,refreshToken:async e=>(await Xe.post("/auth/token/refresh/",{refresh:e})).data,getProfile:async()=>(await Xe.get("/auth/profile/")).data,updateProfile:async e=>(await Xe.put("/auth/profile/",e)).data,changePassword:async(e,r)=>(await Xe.post("/auth/change-password/",{old_password:e,new_password:r,new_password_confirm:r})).data,validateToken:async()=>{var e,r;try{return{success:!0,data:(await Xe.get("/auth/profile/")).data,message:"Token is valid"}}catch(n){return{success:!1,message:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Token validation failed"}}}},un={getOrganizations:async e=>{const r=await Xe.get("/organizations/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} organizations`}:r.data},getOrganization:async e=>({success:!0,data:(await Xe.get(`/organizations/${e}/`)).data,message:"Organization retrieved successfully"}),createOrganization:async e=>{const r=await Xe.post("/organizations/",e);return r.data&&r.data.organization?{success:!0,data:r.data.organization,message:r.data.message||"Organization created successfully"}:r.data&&r.data.id?{success:!0,data:r.data,message:"Organization created successfully"}:r.data},updateOrganization:async(e,r)=>(await Xe.put(`/organizations/${e}/`,r)).data,deleteOrganization:async e=>(await Xe.delete(`/organizations/${e}/`)).data,createOrganizationWithOwner:async e=>(await Xe.post("/organizations/create-with-owner/",e)).data,getBranches:async e=>(await Xe.get("/organizations/branches/",{params:e})).data,getBranch:async e=>(await Xe.get(`/organizations/branches/${e}/`)).data,createBranch:async e=>(await Xe.post("/organizations/branches/",e)).data,updateBranch:async(e,r)=>(await Xe.put(`/organizations/branches/${e}/`,r)).data,deleteBranch:async e=>(await Xe.delete(`/organizations/branches/${e}/`)).data,getStats:async()=>(await Xe.get("/organizations/stats/")).data,getDashboardStats:async()=>(await Xe.get("/organizations/stats/")).data,createDefaultBranch:async()=>(await Xe.post("/organizations/create-default-branch/")).data},Mr={getUsers:async e=>{const r=await Xe.get("/auth/users/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} users`}:Array.isArray(r.data)?{success:!0,data:r.data,message:`Found ${r.data.length} users`}:r.data},getUser:async e=>(await Xe.get(`/auth/users/${e}/`)).data,createUser:async e=>{const r=await Xe.post("/auth/users/",e);return r.data&&r.data.user&&r.data.user.id?{success:!0,data:r.data.user,message:r.data.message||"User created successfully"}:r.data&&r.data.id?{success:!0,data:r.data,message:"User created successfully"}:r.data},updateUser:async(e,r)=>({success:!0,data:(await Xe.put(`/auth/users/${e}/`,r)).data,message:"User updated successfully"}),deleteUser:async e=>(await Xe.delete(`/auth/users/${e}/`)).data,getPermissions:async()=>(await Xe.get("/auth/permissions/")).data,getStats:async()=>(await Xe.get("/auth/stats/")).data,getAvailableModules:async()=>({success:!0,data:(await Xe.get("/auth/modules/")).data,message:"Available modules retrieved successfully"}),getUserModulePermissions:async e=>({success:!0,data:(await Xe.get(`/auth/users/${e}/module-permissions/`)).data,message:"User permissions retrieved successfully"}),updateUserModulePermissions:async(e,r)=>({success:!0,data:(await Xe.post(`/auth/users/${e}/update-permissions/`,{permissions:r})).data,message:"Permissions updated successfully"}),changeUserPassword:async(e,r)=>({success:!0,data:(await Xe.post(`/auth/users/${e}/change-password/`,r)).data,message:"Password changed successfully"})},hs={getMedications:async e=>{const r=await Xe.get("/inventory/medications/",{params:e});return r.data&&r.data.results?{success:!0,data:{results:r.data.results,count:r.data.count,next:r.data.next,previous:r.data.previous},message:`Found ${r.data.count} medications`}:r.data},getMedication:async e=>({success:!0,data:(await Xe.get(`/inventory/products/${e}/`)).data,message:"Medication retrieved successfully"}),createMedication:async e=>({success:!0,data:(await Xe.post("/inventory/products/",e)).data,message:"Medication created successfully"}),updateMedication:async(e,r)=>({success:!0,data:(await Xe.put(`/inventory/products/${e}/`,r)).data,message:"Medication updated successfully"}),deleteMedication:async e=>(await Xe.delete(`/inventory/products/${e}/`),{success:!0,data:null,message:"Medication deleted successfully"}),bulkCreateMedications:async e=>({success:!0,data:(await Xe.post("/inventory/products/bulk_create/",{medications:e})).data,message:`${e.length} medications created successfully`}),bulkUploadMedications:async e=>{const r=new FormData;r.append("file",e);const n=await Xe.post("/inventory/medications/bulk-upload/",r,{headers:{"Content-Type":"multipart/form-data"}});return{success:!0,data:n.data,message:n.data.message||"File uploaded successfully"}},getMedicationStats:async()=>({success:!0,data:(await Xe.get("/inventory/medications/stats/")).data,message:"Statistics retrieved successfully"}),getCategories:async e=>{const r=await Xe.get("/inventory/categories/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} categories`}:Array.isArray(r.data)?{success:!0,data:r.data,message:`Found ${r.data.length} categories`}:r.data},createCategory:async e=>({success:!0,data:(await Xe.post("/inventory/categories/",e)).data,message:"Category created successfully"}),updateCategory:async(e,r)=>({success:!0,data:(await Xe.put(`/inventory/categories/${e}/`,r)).data,message:"Category updated successfully"}),deleteCategory:async e=>(await Xe.delete(`/inventory/categories/${e}/`),{success:!0,message:"Category deleted successfully"}),getManufacturers:async e=>{const r=await Xe.get("/inventory/manufacturers/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} manufacturers`}:Array.isArray(r.data)?{success:!0,data:r.data,message:`Found ${r.data.length} manufacturers`}:r.data},createManufacturer:async e=>({success:!0,data:(await Xe.post("/inventory/manufacturers/",e)).data,message:"Manufacturer created successfully"})},Ly={getPatients:async e=>{const r=await Xe.get("/patients/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} patients`}:Array.isArray(r.data)?{success:!0,data:r.data,message:`Found ${r.data.length} patients`}:r.data},getPatient:async e=>({success:!0,data:(await Xe.get(`/patients/${e}/`)).data,message:"Patient retrieved successfully"}),createPatient:async e=>({success:!0,data:(await Xe.post("/patients/",e)).data,message:"Patient created successfully"}),updatePatient:async(e,r)=>({success:!0,data:(await Xe.put(`/patients/${e}/`,r)).data,message:"Patient updated successfully"}),deletePatient:async e=>(await Xe.delete(`/patients/${e}/`),{success:!0,message:"Patient deleted successfully"}),searchPatients:async e=>({success:!0,data:(await Xe.get("/patients/search/",{params:{q:e}})).data.patients||[],message:"Search completed successfully"}),getPatientSummary:async e=>({success:!0,data:(await Xe.get(`/patients/${e}/summary/`)).data,message:"Patient summary retrieved successfully"}),getPatientStats:async()=>({success:!0,data:(await Xe.get("/patients/stats/")).data,message:"Patient statistics retrieved successfully"}),getMedicalRecords:async e=>{const r=await Xe.get("/patients/medical-records/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} medical records`}:Array.isArray(r.data)?{success:!0,data:r.data,message:`Found ${r.data.length} medical records`}:r.data},createMedicalRecord:async e=>({success:!0,data:(await Xe.post("/patients/medical-records/",e)).data,message:"Medical record created successfully"}),getPrescriptions:async e=>{const r=await Xe.get("/patients/prescriptions/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} prescriptions`}:Array.isArray(r.data)?{success:!0,data:r.data,message:`Found ${r.data.length} prescriptions`}:r.data},createPrescription:async e=>({success:!0,data:(await Xe.post("/patients/prescriptions/",e)).data,message:"Prescription created successfully"}),getVisits:async e=>{const r=await Xe.get("/patients/visits/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} visits`}:Array.isArray(r.data)?{success:!0,data:r.data,message:`Found ${r.data.length} visits`}:r.data},createVisit:async e=>({success:!0,data:(await Xe.post("/patients/visits/",e)).data,message:"Visit recorded successfully"})};var Ug="Collapsible",[PK,hPe]=Gn(Ug),[CK,u1]=PK(Ug),mM=g.forwardRef((e,r)=>{const{__scopeCollapsible:n,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,d]=xa({prop:s,defaultProp:a??!1,onChange:o,caller:Ug});return t.jsx(CK,{scope:n,disabled:i,contentId:ua(),open:c,onOpenToggle:g.useCallback(()=>d(u=>!u),[d]),children:t.jsx(Je.div,{"data-state":h1(c),"data-disabled":i?"":void 0,...l,ref:r})})});mM.displayName=Ug;var hM="CollapsibleTrigger",fM=g.forwardRef((e,r)=>{const{__scopeCollapsible:n,...s}=e,a=u1(hM,n);return t.jsx(Je.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":h1(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:r,onClick:Ye(e.onClick,a.onOpenToggle)})});fM.displayName=hM;var m1="CollapsibleContent",pM=g.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=u1(m1,e.__scopeCollapsible);return t.jsx(Xn,{present:n||a.open,children:({present:i})=>t.jsx(_K,{...s,ref:r,present:i})})});pM.displayName=m1;var _K=g.forwardRef((e,r)=>{const{__scopeCollapsible:n,present:s,children:a,...i}=e,o=u1(m1,n),[l,c]=g.useState(s),d=g.useRef(null),u=Rt(r,d),m=g.useRef(0),h=m.current,p=g.useRef(0),y=p.current,f=o.open||l,v=g.useRef(f),j=g.useRef(void 0);return g.useEffect(()=>{const x=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(x)},[]),Lr(()=>{const x=d.current;if(x){j.current=j.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const b=x.getBoundingClientRect();m.current=b.height,p.current=b.width,v.current||(x.style.transitionDuration=j.current.transitionDuration,x.style.animationName=j.current.animationName),c(s)}},[o.open,s]),t.jsx(Je.div,{"data-state":h1(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!f,...i,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:f&&a})});function h1(e){return e?"open":"closed"}var AK=mM;const TK=AK,kK=fM,EK=pM;function OK(){const{state:e}=_h(),r=e==="collapsed",n=Ri(),s=Vs(),a=n.pathname,i=JSON.parse(localStorage.getItem("currentUser")||"{}"),o=(i==null?void 0:i.role)||"",l=()=>o==="super_admin"?{dashboard:!0,organizations:!1,users:!1,subscriptions:!1,reports:!1}:{dashboard:!0,pos:!1,inventory:!1,suppliers:!1,compliance:!1,network:!1,customers:!1,reports:!1,admin:!1,expenses:!1},[c,d]=g.useState(l()),[u,m]=g.useState({}),[h,p]=g.useState(!1),y=_=>{d(C=>({...C,[_]:!C[_]}))},f=_=>{var C,A;if(o==="super_admin")return!0;if(_.permissionKey)return u[_.permissionKey]===!0;if(_.roles&&_.roles.length>0){const R={super_admin:"SUPER_ADMIN",owner:"PHARMACY_OWNER",manager:"BRANCH_MANAGER",pharmacist:"PHARMACIST",technician:"PHARMACY_TECHNICIAN",cashier:"CASHIER",supplier:"SUPPLIER_ADMIN"}[o]||((C=o==null?void 0:o.toUpperCase)==null?void 0:C.call(o))||"";return _.roles.includes(R)||_.roles.includes(o)||_.roles.includes((A=o==null?void 0:o.toUpperCase)==null?void 0:A.call(o))}return!0},v=_=>a===_,j=_=>_?_.some(C=>C.url&&v(C.url)):!1,x=_=>{_&&s(_)},b=async()=>{var _;if(i!=null&&i.id)try{p(!0);const C=await Mr.getUserModulePermissions(i.id);if(C.success&&C.data){const A=((_=C.data.data)==null?void 0:_.modules)||C.data.modules||[];if(A.length>0){const M={};A.forEach(R=>{M[R.id]=R.has_access,R.sub_modules&&R.sub_modules.forEach(E=>{M[E.id]=E.has_access})}),m(M)}}}catch(C){console.error("Failed to load user permissions:",C)}finally{p(!1)}};g.useEffect(()=>{i!=null&&i.id&&o!=="super_admin"&&b()},[i==null?void 0:i.id,o]);const N=o==="super_admin"?[{title:"Dashboard",url:"/admin/dashboard",icon:ir},{title:"Organizations",url:"/admin/organizations",icon:qr},{title:"Users",url:"/admin/users",icon:it},{title:"Subscriptions",url:"/admin/subscriptions",icon:Wn},{title:"Reports",url:"/admin/reports",icon:ci}]:[{title:"Dashboard",url:"/",icon:dB},{title:"Patients",icon:Mw,permissionKey:"patients",items:[{title:"Directory",url:"/patients/directory",icon:it,permissionKey:"pat_directory"},{title:"Medical Records",url:"/patients/records",icon:$t,permissionKey:"pat_records"},{title:"Prescriptions",url:"/patients/prescriptions",icon:Ua,permissionKey:"pat_prescriptions"},{title:"Purchase History",url:"/patients/history",icon:la,permissionKey:"pat_history"},{title:"Reports",url:"/patients/reports",icon:ir,permissionKey:"pat_reports"},{title:"Settings",url:"/patients/settings",icon:cn,permissionKey:"pat_settings"}]},{title:"Point of Sale",icon:Fn,permissionKey:"pos",items:[{title:"Billing",url:"/pos/billing",icon:Wn,permissionKey:"pos_billing"},{title:"Reports",url:"/pos/reports",icon:ir,permissionKey:"pos_reports"},{title:"Settings",url:"/pos/settings",icon:cn,permissionKey:"pos_settings"}]},{title:"Inventory",icon:vt,permissionKey:"inventory",items:[{title:"Stock Entry",url:"/inventory/stock-management",icon:vt,permissionKey:"inv_stock_mgmt"},{title:"Manage Orders",url:"/inventory/manage-orders",icon:$t,permissionKey:"inv_manage_orders"},{title:"Purchase Orders",url:"/inventory/purchase-orders",icon:$t,permissionKey:"inv_purchase_orders"},{title:"Medication List",url:"/inventory/medication-list",icon:Ua,permissionKey:"inv_medication_list"},{title:"Reports",url:"/inventory/reports",icon:ci,permissionKey:"inv_reports"},{title:"Settings",url:"/inventory/settings",icon:cn,permissionKey:"inv_settings"}]},{title:"Expenses",icon:Op,permissionKey:"expenses",items:[{title:"Tracking",url:"/expenses/tracking",icon:ft,permissionKey:"exp_tracking"},{title:"Categories",url:"/expenses/categories",icon:E4,permissionKey:"exp_categories"},{title:"Approval",url:"/expenses/approval",icon:tP,permissionKey:"exp_approval"},{title:"Reports",url:"/expenses/reports",icon:ir,permissionKey:"exp_reports"},{title:"Settings",url:"/expenses/settings",icon:cn,permissionKey:"exp_settings"}]},{title:"Suppliers",icon:fn,permissionKey:"suppliers",items:[{title:"Dashboard",url:"/suppliers/dashboard",icon:ir,permissionKey:"sup_dashboard"},{title:"Supplier Management",url:"/suppliers/management",icon:F4,permissionKey:"sup_management"},{title:"Reports",url:"/suppliers/reports",icon:ci,permissionKey:"sup_reports"}]},{title:"Compliance",icon:Ss,permissionKey:"compliance",items:[{title:"Dashboard",url:"/compliance/dashboard",icon:ir,permissionKey:"comp_dashboard"},{title:"Licenses",url:"/compliance/licenses",icon:tP,permissionKey:"comp_licenses"},{title:"DDA Reporting",url:"/compliance/dda-reporting",icon:$t,permissionKey:"comp_dda_reporting"},{title:"Inspections",url:"/compliance/inspections",icon:Xt,permissionKey:"comp_inspections"},{title:"Drug Registers",url:"/compliance/drug-registers",icon:eB,permissionKey:"comp_drug_registers"},{title:"Tracking",url:"/compliance/tracking",icon:di,permissionKey:"comp_tracking"}]},{title:"Network",icon:fB,permissionKey:"network",items:[{title:"Branches",url:"/network/branches",icon:Bs,permissionKey:"net_branches"},{title:"Users",url:"/network/users",icon:it,permissionKey:"net_users"},{title:"Reports",url:"/network/reports",icon:ir,permissionKey:"net_reports"},{title:"Settings",url:"/network/settings",icon:cn,permissionKey:"net_settings"}]},{title:"Customers",icon:it,permissionKey:"customers",items:[{title:"Directory",url:"/customers/directory",icon:it,permissionKey:"cust_directory"},{title:"Prescriptions",url:"/customers/prescriptions",icon:Ua,permissionKey:"cust_prescriptions"},{title:"Loyalty Program",url:"/customers/loyalty",icon:On,permissionKey:"cust_loyalty"},{title:"Reports",url:"/customers/reports",icon:ir,permissionKey:"cust_reports"},{title:"Settings",url:"/customers/settings",icon:cn,permissionKey:"cust_settings"}]},{title:"Reports",icon:ir,permissionKey:"reports",items:[{title:"Overview",url:"/reports",icon:ci,permissionKey:"rep_overview"},{title:"Sales",url:"/reports/sales",icon:ht,permissionKey:"rep_sales"},{title:"Inventory",url:"/reports/inventory",icon:vt,permissionKey:"rep_inventory"},{title:"Financial",url:"/reports/financial",icon:Op,permissionKey:"rep_financial"},{title:"Compliance",url:"/reports/compliance",icon:Ss,permissionKey:"rep_compliance"},{title:"Custom Reports",url:"/reports/custom",icon:sB,permissionKey:"rep_custom"}]}],P=o==="super_admin"?N:N.filter(_=>f(_));return t.jsx(OD,{className:"bg-white border-r border-slate-200",collapsible:"icon",children:t.jsxs(MD,{className:"bg-white",children:[t.jsx("div",{className:"p-3 border-b border-slate-200",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-6 h-6 bg-primary flex items-center justify-center",children:t.jsx(Rw,{className:"w-3 h-3 text-primary-foreground"})}),!r&&t.jsx("span",{className:"text-sm font-semibold text-foreground",children:"MediCare Pro"})]})}),t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsx(ID,{children:t.jsx($D,{children:P.map(_=>{var R;const C=_.url?v(_.url):j(_.items),A=_.items&&_.items.length>0,M=_.title.toLowerCase().replace(" ","");return A?t.jsx(TK,{open:c[M],onOpenChange:()=>y(M),children:t.jsxs($0,{children:[t.jsx(kK,{asChild:!0,children:t.jsxs(L0,{className:`${C?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"} cursor-pointer`,children:[_.icon&&t.jsx(_.icon,{className:"w-4 h-4"}),!r&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-xs flex-1 text-left",children:_.title}),t.jsx(Ow,{className:`w-3 h-3 transition-transform duration-200 ${c[M]?"rotate-90":""}`})]})]})}),!r&&t.jsx(EK,{className:"transition-all duration-200",children:t.jsx(LD,{children:(R=_.items)==null?void 0:R.filter(E=>f(E)).map(E=>t.jsx(FD,{children:t.jsxs(zD,{onClick:()=>x(E.url),className:`${E.url&&v(E.url)?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"} cursor-pointer`,children:[E.icon&&t.jsx(E.icon,{className:"w-3 h-3"}),t.jsx("span",{className:"text-xs",children:E.title})]})},E.title))})})]})},_.title):t.jsx($0,{children:t.jsxs(L0,{onClick:()=>x(_.url),className:`${C?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"} cursor-pointer`,children:[_.icon&&t.jsx(_.icon,{className:"w-4 h-4"}),!r&&t.jsx("span",{className:"text-xs",children:_.title})]})},_.title)})})})})]})})}function q0(e,[r,n]){return Math.min(n,Math.max(r,e))}var RK=g.createContext(void 0);function Vg(e){const r=g.useContext(RK);return e||r||"ltr"}function f1(e){const r=g.useRef({value:e,previous:e});return g.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var DK=[" ","Enter","ArrowUp","ArrowDown"],MK=[" ","Enter"],Al="Select",[qg,Wg,IK]=Aw(Al),[Kd,fPe]=Gn(Al,[IK,Vd]),Hg=Vd(),[$K,ko]=Kd(Al),[LK,FK]=Kd(Al),xM=e=>{const{__scopeSelect:r,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:h,required:p,form:y}=e,f=Hg(r),[v,j]=g.useState(null),[x,b]=g.useState(null),[S,w]=g.useState(!1),N=Vg(d),[P,_]=xa({prop:s,defaultProp:a??!1,onChange:i,caller:Al}),[C,A]=xa({prop:o,defaultProp:l,onChange:c,caller:Al}),M=g.useRef(null),R=v?y||!!v.closest("form"):!0,[E,F]=g.useState(new Set),G=Array.from(E).map(D=>D.props.value).join(";");return t.jsx(Gw,{...f,children:t.jsxs($K,{required:p,scope:r,trigger:v,onTriggerChange:j,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:w,contentId:ua(),value:C,onValueChange:A,open:P,onOpenChange:_,dir:N,triggerPointerDownPosRef:M,disabled:h,children:[t.jsx(qg.Provider,{scope:r,children:t.jsx(LK,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(D=>{F(J=>new Set(J).add(D))},[]),onNativeOptionRemove:g.useCallback(D=>{F(J=>{const q=new Set(J);return q.delete(D),q})},[]),children:n})}),R?t.jsxs(zM,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:m,value:C,onChange:D=>A(D.target.value),disabled:h,form:y,children:[C===void 0?t.jsx("option",{value:""}):null,Array.from(E)]},G):null]})})};xM.displayName=Al;var gM="SelectTrigger",vM=g.forwardRef((e,r)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=Hg(n),o=ko(gM,n),l=o.disabled||s,c=Rt(r,o.onTriggerChange),d=Wg(n),u=g.useRef("touch"),[m,h,p]=UM(f=>{const v=d().filter(b=>!b.disabled),j=v.find(b=>b.value===o.value),x=VM(v,f,j);x!==void 0&&o.onValueChange(x.value)}),y=f=>{l||(o.onOpenChange(!0),p()),f&&(o.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return t.jsx(yg,{asChild:!0,...i,children:t.jsx(Je.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":BM(o.value)?"":void 0,...a,ref:c,onClick:Ye(a.onClick,f=>{f.currentTarget.focus(),u.current!=="mouse"&&y(f)}),onPointerDown:Ye(a.onPointerDown,f=>{u.current=f.pointerType;const v=f.target;v.hasPointerCapture(f.pointerId)&&v.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(y(f),f.preventDefault())}),onKeyDown:Ye(a.onKeyDown,f=>{const v=m.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&h(f.key),!(v&&f.key===" ")&&DK.includes(f.key)&&(y(),f.preventDefault())})})})});vM.displayName=gM;var yM="SelectValue",jM=g.forwardRef((e,r)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=e,c=ko(yM,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=Rt(r,c.onValueNodeChange);return Lr(()=>{d(u)},[d,u]),t.jsx(Je.span,{...l,ref:m,style:{pointerEvents:"none"},children:BM(c.value)?t.jsx(t.Fragment,{children:o}):i})});jM.displayName=yM;var zK="SelectIcon",bM=g.forwardRef((e,r)=>{const{__scopeSelect:n,children:s,...a}=e;return t.jsx(Je.span,{"aria-hidden":!0,...a,ref:r,children:s||""})});bM.displayName=zK;var BK="SelectPortal",NM=e=>t.jsx(Nh,{asChild:!0,...e});NM.displayName=BK;var Tl="SelectContent",wM=g.forwardRef((e,r)=>{const n=ko(Tl,e.__scopeSelect),[s,a]=g.useState();if(Lr(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?zl.createPortal(t.jsx(SM,{scope:e.__scopeSelect,children:t.jsx(qg.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),i):null}return t.jsx(PM,{...e,ref:r})});wM.displayName=Tl;var Zs=10,[SM,Eo]=Kd(Tl),UK="SelectContentImpl",VK=wl("SelectContent.RemoveScroll"),PM=g.forwardRef((e,r)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:f,avoidCollisions:v,...j}=e,x=ko(Tl,n),[b,S]=g.useState(null),[w,N]=g.useState(null),P=Rt(r,Se=>S(Se)),[_,C]=g.useState(null),[A,M]=g.useState(null),R=Wg(n),[E,F]=g.useState(!1),G=g.useRef(!1);g.useEffect(()=>{if(b)return n1(b)},[b]),r1();const D=g.useCallback(Se=>{const[Ue,...be]=R().map(oe=>oe.ref.current),[Q]=be.slice(-1),pe=document.activeElement;for(const oe of Se)if(oe===pe||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===Ue&&w&&(w.scrollTop=0),oe===Q&&w&&(w.scrollTop=w.scrollHeight),oe==null||oe.focus(),document.activeElement!==pe))return},[R,w]),J=g.useCallback(()=>D([_,b]),[D,_,b]);g.useEffect(()=>{E&&J()},[E,J]);const{onOpenChange:q,triggerPointerDownPosRef:U}=x;g.useEffect(()=>{if(b){let Se={x:0,y:0};const Ue=Q=>{var pe,oe;Se={x:Math.abs(Math.round(Q.pageX)-(((pe=U.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((oe=U.current)==null?void 0:oe.y)??0))}},be=Q=>{Se.x<=10&&Se.y<=10?Q.preventDefault():b.contains(Q.target)||q(!1),document.removeEventListener("pointermove",Ue),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",be,{capture:!0})}}},[b,q,U]),g.useEffect(()=>{const Se=()=>q(!1);return window.addEventListener("blur",Se),window.addEventListener("resize",Se),()=>{window.removeEventListener("blur",Se),window.removeEventListener("resize",Se)}},[q]);const[re,he]=UM(Se=>{const Ue=R().filter(pe=>!pe.disabled),be=Ue.find(pe=>pe.ref.current===document.activeElement),Q=VM(Ue,Se,be);Q&&setTimeout(()=>Q.ref.current.focus())}),ie=g.useCallback((Se,Ue,be)=>{const Q=!G.current&&!be;(x.value!==void 0&&x.value===Ue||Q)&&(C(Se),Q&&(G.current=!0))},[x.value]),fe=g.useCallback(()=>b==null?void 0:b.focus(),[b]),xe=g.useCallback((Se,Ue,be)=>{const Q=!G.current&&!be;(x.value!==void 0&&x.value===Ue||Q)&&M(Se)},[x.value]),ge=s==="popper"?W0:CM,Te=ge===W0?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:f,avoidCollisions:v}:{};return t.jsx(SM,{scope:n,content:b,viewport:w,onViewportChange:N,itemRefCallback:ie,selectedItem:_,onItemLeave:fe,itemTextRefCallback:xe,focusSelectedItem:J,selectedItemText:A,position:s,isPositioned:E,searchRef:re,children:t.jsx(Eg,{as:VK,allowPinchZoom:!0,children:t.jsx(Tg,{asChild:!0,trapped:x.open,onMountAutoFocus:Se=>{Se.preventDefault()},onUnmountAutoFocus:Ye(a,Se=>{var Ue;(Ue=x.trigger)==null||Ue.focus({preventScroll:!0}),Se.preventDefault()}),children:t.jsx($d,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Se=>Se.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:t.jsx(ge,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Se=>Se.preventDefault(),...j,...Te,onPlaced:()=>F(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Ye(j.onKeyDown,Se=>{const Ue=Se.ctrlKey||Se.altKey||Se.metaKey;if(Se.key==="Tab"&&Se.preventDefault(),!Ue&&Se.key.length===1&&he(Se.key),["ArrowUp","ArrowDown","Home","End"].includes(Se.key)){let Q=R().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(Se.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(Se.key)){const pe=Se.target,oe=Q.indexOf(pe);Q=Q.slice(oe+1)}setTimeout(()=>D(Q)),Se.preventDefault()}})})})})})})});PM.displayName=UK;var qK="SelectItemAlignedPosition",CM=g.forwardRef((e,r)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=ko(Tl,n),o=Eo(Tl,n),[l,c]=g.useState(null),[d,u]=g.useState(null),m=Rt(r,P=>u(P)),h=Wg(n),p=g.useRef(!1),y=g.useRef(!0),{viewport:f,selectedItem:v,selectedItemText:j,focusSelectedItem:x}=o,b=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&f&&v&&j){const P=i.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),A=j.getBoundingClientRect();if(i.dir!=="rtl"){const pe=A.left-_.left,oe=C.left-pe,ze=P.left-oe,Fe=P.width+ze,tt=Math.max(Fe,_.width),lt=window.innerWidth-Zs,me=q0(oe,[Zs,Math.max(Zs,lt-tt)]);l.style.minWidth=Fe+"px",l.style.left=me+"px"}else{const pe=_.right-A.right,oe=window.innerWidth-C.right-pe,ze=window.innerWidth-P.right-oe,Fe=P.width+ze,tt=Math.max(Fe,_.width),lt=window.innerWidth-Zs,me=q0(oe,[Zs,Math.max(Zs,lt-tt)]);l.style.minWidth=Fe+"px",l.style.right=me+"px"}const M=h(),R=window.innerHeight-Zs*2,E=f.scrollHeight,F=window.getComputedStyle(d),G=parseInt(F.borderTopWidth,10),D=parseInt(F.paddingTop,10),J=parseInt(F.borderBottomWidth,10),q=parseInt(F.paddingBottom,10),U=G+D+E+q+J,re=Math.min(v.offsetHeight*5,U),he=window.getComputedStyle(f),ie=parseInt(he.paddingTop,10),fe=parseInt(he.paddingBottom,10),xe=P.top+P.height/2-Zs,ge=R-xe,Te=v.offsetHeight/2,Se=v.offsetTop+Te,Ue=G+D+Se,be=U-Ue;if(Ue<=xe){const pe=M.length>0&&v===M[M.length-1].ref.current;l.style.bottom="0px";const oe=d.clientHeight-f.offsetTop-f.offsetHeight,ze=Math.max(ge,Te+(pe?fe:0)+oe+J),Fe=Ue+ze;l.style.height=Fe+"px"}else{const pe=M.length>0&&v===M[0].ref.current;l.style.top="0px";const ze=Math.max(xe,G+f.offsetTop+(pe?ie:0)+Te)+be;l.style.height=ze+"px",f.scrollTop=Ue-xe+f.offsetTop}l.style.margin=`${Zs}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=R+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,d,f,v,j,i.dir,s]);Lr(()=>b(),[b]);const[S,w]=g.useState();Lr(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const N=g.useCallback(P=>{P&&y.current===!0&&(b(),x==null||x(),y.current=!1)},[b,x]);return t.jsx(HK,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:t.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:t.jsx(Je.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});CM.displayName=qK;var WK="SelectPopperPosition",W0=g.forwardRef((e,r)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=Zs,...i}=e,o=Hg(n);return t.jsx(Xw,{...o,...i,ref:r,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});W0.displayName=WK;var[HK,p1]=Kd(Tl,{}),H0="SelectViewport",_M=g.forwardRef((e,r)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=Eo(H0,n),o=p1(H0,n),l=Rt(r,i.onViewportChange),c=g.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),t.jsx(qg.Slot,{scope:n,children:t.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ye(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&m){const p=Math.abs(c.current-u.scrollTop);if(p>0){const y=window.innerHeight-Zs*2,f=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),j=Math.max(f,v);if(j<y){const x=j+p,b=Math.min(y,x),S=x-b;m.style.height=b+"px",m.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});_M.displayName=H0;var AM="SelectGroup",[KK,GK]=Kd(AM),XK=g.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e,a=ua();return t.jsx(KK,{scope:n,id:a,children:t.jsx(Je.div,{role:"group","aria-labelledby":a,...s,ref:r})})});XK.displayName=AM;var TM="SelectLabel",kM=g.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e,a=GK(TM,n);return t.jsx(Je.div,{id:a.id,...s,ref:r})});kM.displayName=TM;var Wp="SelectItem",[YK,EM]=Kd(Wp),OM=g.forwardRef((e,r)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=ko(Wp,n),c=Eo(Wp,n),d=l.value===s,[u,m]=g.useState(i??""),[h,p]=g.useState(!1),y=Rt(r,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,s,a)}),f=ua(),v=g.useRef("touch"),j=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(YK,{scope:n,value:s,disabled:a,textId:f,isSelected:d,onItemTextChange:g.useCallback(x=>{m(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:t.jsx(qg.ItemSlot,{scope:n,value:s,disabled:a,textValue:u,children:t.jsx(Je.div,{role:"option","aria-labelledby":f,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:Ye(o.onFocus,()=>p(!0)),onBlur:Ye(o.onBlur,()=>p(!1)),onClick:Ye(o.onClick,()=>{v.current!=="mouse"&&j()}),onPointerUp:Ye(o.onPointerUp,()=>{v.current==="mouse"&&j()}),onPointerDown:Ye(o.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:Ye(o.onPointerMove,x=>{var b;v.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ye(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ye(o.onKeyDown,x=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(MK.includes(x.key)&&j(),x.key===" "&&x.preventDefault())})})})})});OM.displayName=Wp;var Uu="SelectItemText",RM=g.forwardRef((e,r)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=ko(Uu,n),l=Eo(Uu,n),c=EM(Uu,n),d=FK(Uu,n),[u,m]=g.useState(null),h=Rt(r,j=>m(j),c.onItemTextChange,j=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,j,c.value,c.disabled)}),p=u==null?void 0:u.textContent,y=g.useMemo(()=>t.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:f,onNativeOptionRemove:v}=d;return Lr(()=>(f(y),()=>v(y)),[f,v,y]),t.jsxs(t.Fragment,{children:[t.jsx(Je.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?zl.createPortal(i.children,o.valueNode):null]})});RM.displayName=Uu;var DM="SelectItemIndicator",MM=g.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e;return EM(DM,n).isSelected?t.jsx(Je.span,{"aria-hidden":!0,...s,ref:r}):null});MM.displayName=DM;var K0="SelectScrollUpButton",IM=g.forwardRef((e,r)=>{const n=Eo(K0,e.__scopeSelect),s=p1(K0,e.__scopeSelect),[a,i]=g.useState(!1),o=Rt(r,s.onScrollButtonChange);return Lr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?t.jsx(LM,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});IM.displayName=K0;var G0="SelectScrollDownButton",$M=g.forwardRef((e,r)=>{const n=Eo(G0,e.__scopeSelect),s=p1(G0,e.__scopeSelect),[a,i]=g.useState(!1),o=Rt(r,s.onScrollButtonChange);return Lr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?t.jsx(LM,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});$M.displayName=G0;var LM=g.forwardRef((e,r)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=Eo("SelectScrollButton",n),o=g.useRef(null),l=Wg(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Lr(()=>{var u;const d=l().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),t.jsx(Je.div,{"aria-hidden":!0,...a,ref:r,style:{flexShrink:0,...a.style},onPointerDown:Ye(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Ye(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Ye(a.onPointerLeave,()=>{c()})})}),QK="SelectSeparator",FM=g.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e;return t.jsx(Je.div,{"aria-hidden":!0,...s,ref:r})});FM.displayName=QK;var X0="SelectArrow",ZK=g.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e,a=Hg(n),i=ko(X0,n),o=Eo(X0,n);return i.open&&o.position==="popper"?t.jsx(Yw,{...a,...s,ref:r}):null});ZK.displayName=X0;var JK="SelectBubbleInput",zM=g.forwardRef(({__scopeSelect:e,value:r,...n},s)=>{const a=g.useRef(null),i=Rt(s,a),o=f1(r);return g.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const m=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(m)}},[o,r]),t.jsx(Je.select,{...n,style:{...c4,...n.style},ref:i,defaultValue:r})});zM.displayName=JK;function BM(e){return e===""||e===void 0}function UM(e){const r=Xr(e),n=g.useRef(""),s=g.useRef(0),a=g.useCallback(o=>{const l=n.current+o;r(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[r]),i=g.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function VM(e,r,n){const a=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=n?e.indexOf(n):-1;let o=eG(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function eG(e,r){return e.map((n,s)=>e[(r+s)%e.length])}var tG=xM,qM=vM,rG=jM,nG=bM,sG=NM,WM=wM,aG=_M,HM=kM,KM=OM,iG=RM,oG=MM,GM=IM,XM=$M,YM=FM;const _e=tG,Ae=rG,Pe=g.forwardRef(({className:e,children:r,...n},s)=>t.jsxs(qM,{ref:s,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:border-primary disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[r,t.jsx(nG,{asChild:!0,children:t.jsx(D4,{className:"h-4 w-4 opacity-50"})})]}));Pe.displayName=qM.displayName;const QM=g.forwardRef(({className:e,...r},n)=>t.jsx(GM,{ref:n,className:ke("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(Jz,{className:"h-4 w-4"})}));QM.displayName=GM.displayName;const ZM=g.forwardRef(({className:e,...r},n)=>t.jsx(XM,{ref:n,className:ke("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(D4,{className:"h-4 w-4"})}));ZM.displayName=XM.displayName;const Ce=g.forwardRef(({className:e,children:r,position:n="popper",...s},a)=>t.jsx(sG,{children:t.jsxs(WM,{ref:a,className:ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[t.jsx(QM,{}),t.jsx(aG,{className:ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),t.jsx(ZM,{})]})}));Ce.displayName=WM.displayName;const lG=g.forwardRef(({className:e,...r},n)=>t.jsx(HM,{ref:n,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));lG.displayName=HM.displayName;const $=g.forwardRef(({className:e,children:r,...n},s)=>t.jsxs(KM,{ref:s,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(oG,{children:t.jsx(R4,{className:"h-4 w-4"})})}),t.jsx(iG,{children:r})]}));$.displayName=KM.displayName;const cG=g.forwardRef(({className:e,...r},n)=>t.jsx(YM,{ref:n,className:ke("-mx-1 my-1 h-px bg-muted",e),...r}));cG.displayName=YM.displayName;const dG=Bl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",primary:"border-transparent bg-blue-500 text-white hover:bg-blue-600"}},defaultVariants:{variant:"default"}});function te({className:e,variant:r,...n}){return t.jsx("div",{className:ke(dG({variant:r}),e),...n})}function uG({timeout:e=30*60*1e3,warningTime:r=5*60*1e3,onTimeout:n,onWarning:s}={}){const a=Vs(),{toast:i}=Tt(),o=g.useRef(),l=g.useRef(),c=g.useRef(Date.now()),d=g.useCallback(()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("currentUser"),localStorage.removeItem("userEmail"),localStorage.removeItem("selectedOrganization")},[]),u=g.useCallback(()=>{d(),i({title:"Session Expired",description:"Your session has expired due to inactivity. Please log in again.",variant:"destructive"}),n?n():a("/login",{replace:!0})},[d,a,n,i]),m=g.useCallback(()=>{i({title:"Session Warning",description:`Your session will expire in ${Math.ceil(r/6e4)} minutes due to inactivity.`,variant:"destructive"}),s&&s()},[s,i,r]),h=g.useCallback(()=>{const f=Date.now();c.current=f,o.current&&clearTimeout(o.current),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{m()},e-r),o.current=setTimeout(()=>{u()},e)},[e,r,u,m]),p=g.useCallback(()=>{h(),i({title:"Session Extended",description:"Your session has been extended."})},[h,i]),y=g.useCallback(()=>{const f=Date.now()-c.current;return Math.max(0,e-f)},[e]);return g.useEffect(()=>{if(!localStorage.getItem("currentUser"))return;const v=["mousedown","mousemove","keypress","scroll","touchstart","click"],j=()=>{h()};return v.forEach(x=>{document.addEventListener(x,j,!0)}),h(),()=>{v.forEach(x=>{document.removeEventListener(x,j,!0)}),o.current&&clearTimeout(o.current),l.current&&clearTimeout(l.current)}},[h]),{extendSession:p,getRemainingTime:y,resetTimer:h}}function mG({refreshInterval:e=15*60*1e3,enabled:r=!0}={}){Tt();const n=g.useRef(),s=async()=>{try{const i=localStorage.getItem("refresh_token");if(!i){console.log("No refresh token available");return}const o=await uM.refreshToken(i);o.success&&o.data?(localStorage.setItem("access_token",o.data.access),o.data.refresh&&localStorage.setItem("refresh_token",o.data.refresh),console.log("Token refreshed successfully")):console.log("Token refresh failed:",o.message)}catch(i){console.error("Token refresh error:",i)}};return g.useEffect(()=>{if(!r)return;const i=localStorage.getItem("currentUser"),o=localStorage.getItem("access_token");if(!(!i||!o))return n.current=setInterval(()=>{s()},e),()=>{n.current&&clearInterval(n.current)}},[e,r]),{refreshToken:async()=>{await s()}}}const T=g.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:ke("border bg-card text-card-foreground",e),...r}));T.displayName="Card";const z=g.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:ke("flex flex-col space-y-1.5 p-6",e),...r}));z.displayName="CardHeader";const B=g.forwardRef(({className:e,...r},n)=>t.jsx("h3",{ref:n,className:ke("text-2xl font-semibold leading-none tracking-tight",e),...r}));B.displayName="CardTitle";const Et=g.forwardRef(({className:e,...r},n)=>t.jsx("p",{ref:n,className:ke("text-sm text-muted-foreground",e),...r}));Et.displayName="CardDescription";const k=g.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:ke("p-6 pt-0",e),...r}));k.displayName="CardContent";const hG=g.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:ke("flex items-center p-6 pt-0",e),...r}));hG.displayName="CardFooter";function fG({user:e}){var a,i;const r=t1(e.organizationId),n={totalRevenue:2456e3,monthlyGrowth:12.5,totalBranches:(r==null?void 0:r.branches.length)||1,activeUsers:XR(e.organizationId).length,avgCollectionPerUser:25e3,complianceScore:94},s=(r==null?void 0:r.branches.map(o=>{const l=bc(o.id),c=l.reduce((d,u)=>d+(u.collectionAmount||0),0);return{branchId:o.id,branchName:o.name,userCount:l.length,totalCollection:c,target:5e4,compliance:Math.floor(Math.random()*20)+80}}))||[];return e.role==="super_admin"?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"System-Wide Analytics"}),t.jsx("p",{className:"text-muted-foreground",children:"Centralized reporting across all organizations"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{variant:"outline",size:"sm",children:[t.jsx(ba,{className:"w-4 h-4 mr-2"}),"Filter"]}),t.jsxs(O,{variant:"outline",size:"sm",children:[t.jsx(Ot,{className:"w-4 h-4 mr-2"}),"Date Range"]}),t.jsxs(O,{variant:"outline",size:"sm",children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4"}),"Organizations"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"24"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"+3 this month"})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ht,{className:"w-4 h-4"}),"Total Revenue"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"12.4M"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"+15.2% growth"})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),"Active Users"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"1,247"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all orgs"})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ft,{className:"w-4 h-4"}),"Avg Performance"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"89%"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Target achievement"})]})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Organization Performance"})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:["MediCare Hospital Network","HealthPlus Pharmacy Chain","CityMed Group","WellCare Clinics"].map((o,l)=>t.jsxs("div",{className:"flex items-center justify-between p-4 border",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(qr,{className:"w-8 h-8 p-1.5 bg-primary/10 text-primary"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:o}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[Math.floor(Math.random()*5)+2," branches  ",Math.floor(Math.random()*50)+20," users"]})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium",children:["",(Math.random()*5e5+2e5).toLocaleString()]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Monthly revenue"})]}),t.jsx(te,{variant:Math.random()>.3?"default":"secondary",children:Math.random()>.3?"Active":"Trial"}),t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(yt,{className:"w-4 h-4"})})]})]},l))})})]})]}):e.role==="owner"?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Multi-Branch Analytics"}),t.jsxs("p",{className:"text-muted-foreground",children:["Centralized reporting for ",r==null?void 0:r.name]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{variant:"outline",size:"sm",children:[t.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Refresh"]}),t.jsxs(O,{variant:"outline",size:"sm",children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4"}),"Total Branches"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:n.totalBranches}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"All active locations"})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ht,{className:"w-4 h-4"}),"Total Revenue"]})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["",n.totalRevenue.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",n.monthlyGrowth,"% this month"]})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),"Total Staff"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:n.activeUsers}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all branches"})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(di,{className:"w-4 h-4"}),"Avg Collection"]})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["",n.avgCollectionPerUser.toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Per staff member"})]})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Branch Performance Comparison"})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:s.map(o=>t.jsxs("div",{className:"flex items-center justify-between p-4 border",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(qr,{className:"w-8 h-8 p-1.5 bg-secondary/10 text-secondary-foreground"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:o.branchName}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.userCount," staff members"]})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium",children:["",o.totalCollection.toLocaleString()]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Monthly collection"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium",children:[Math.round(o.totalCollection/o.target*100),"%"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Target achieved"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium",children:[o.compliance,"%"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Compliance"})]}),t.jsx(te,{variant:o.totalCollection>o.target*.8?"default":"secondary",children:o.totalCollection>o.target*.8?"On Track":"Needs Attention"})]})]},o.branchId))})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Quick Reports"})}),t.jsx(k,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(O,{variant:"outline",className:"h-auto p-4 flex-col gap-2",children:[t.jsx(ir,{className:"w-6 h-6"}),t.jsx("span",{children:"Sales Comparison"})]}),t.jsxs(O,{variant:"outline",className:"h-auto p-4 flex-col gap-2",children:[t.jsx(vt,{className:"w-6 h-6"}),t.jsx("span",{children:"Inventory Status"})]}),t.jsxs(O,{variant:"outline",className:"h-auto p-4 flex-col gap-2",children:[t.jsx(it,{className:"w-6 h-6"}),t.jsx("span",{children:"Staff Performance"})]}),t.jsxs(O,{variant:"outline",className:"h-auto p-4 flex-col gap-2",children:[t.jsx(ft,{className:"w-6 h-6"}),t.jsx("span",{children:"Growth Analysis"})]})]})})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Branch Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Performance analytics for your branch"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{variant:"outline",size:"sm",children:[t.jsx(Ot,{className:"w-4 h-4 mr-2"}),"This Month"]}),t.jsxs(O,{variant:"outline",size:"sm",children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsx(B,{className:"text-sm font-medium",children:"Branch Revenue"})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["",(a=e.collectionAmount)==null?void 0:a.toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsx(B,{className:"text-sm font-medium",children:"Target Achievement"})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[Math.round((e.collectionAmount||0)/(((i=e.targets)==null?void 0:i.monthly)||1)*100),"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly target"})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsx(B,{className:"text-sm font-medium",children:"Team Size"})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:bc(e.branchId).length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active staff"})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsx(B,{className:"text-sm font-medium",children:"Avg per Staff"})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["",Math.round((e.collectionAmount||0)/bc(e.branchId).length).toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly avg"})]})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Staff Performance"})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:bc(e.branchId).filter(o=>o.id!==e.id).map(o=>{var l,c,d,u;return t.jsxs("div",{className:"flex items-center justify-between p-4 border",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 bg-primary text-primary-foreground flex items-center justify-center text-sm font-semibold",children:o.name.split(" ").map(m=>m[0]).join("")}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:o.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:o.role.replace("_"," ")})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium",children:["",(l=o.collectionAmount)==null?void 0:l.toLocaleString()]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Monthly collection"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium",children:[Math.round((o.collectionAmount||0)/(((c=o.targets)==null?void 0:c.monthly)||1)*100),"%"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Target achieved"})]}),t.jsx(te,{variant:(o.collectionAmount||0)>(((d=o.targets)==null?void 0:d.monthly)||0)*.8?"default":"secondary",children:(o.collectionAmount||0)>(((u=o.targets)==null?void 0:u.monthly)||0)*.8?"On Track":"Behind"})]})]},o.id)})})})]})]})}function pG({user:e}){var n,s,a,i,o,l,c,d,u,m,h;const r=window.location.pathname;if(r.includes("/reports")||r.includes("/admin/reports"))return t.jsx(fG,{user:e});if(e.role==="super_admin")return t.jsxs("div",{className:"w-full max-w-none space-y-6 overflow-x-hidden",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ss,{className:"w-8 h-8 text-warning"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"System Administration"}),t.jsx("p",{className:"text-muted-foreground",children:"Multi-tenant pharmacy network overview"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 w-full",children:[t.jsxs(T,{className:"border-warning/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4"}),"Organizations"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"12"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active pharmacy networks"})]})]}),t.jsxs(T,{className:"border-primary/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),"Total Users"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"1,247"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all organizations"})]})]}),t.jsxs(T,{className:"border-success/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ht,{className:"w-4 h-4"}),"Revenue"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"2.4M"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly recurring"})]})]}),t.jsxs(T,{className:"border-accent/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(la,{className:"w-4 h-4"}),"Uptime"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"99.9%"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"System availability"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Recent Organizations"})}),t.jsx(k,{className:"space-y-3",children:["MediCare Hospital Network","HealthPlus Pharmacy Chain","CityMed Group"].map((p,y)=>t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:p}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Enterprise  45 users"})]}),t.jsx(te,{variant:"outline",children:"Active"})]},y))})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"System Health"})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Database Performance"}),t.jsx(te,{variant:"outline",className:"text-success border-success",children:"Excellent"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"API Response Time"}),t.jsx(te,{variant:"outline",className:"text-success border-success",children:"120ms"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Active Sessions"}),t.jsx(te,{variant:"outline",children:"1,247"})]})]})]})]})]});if(e.role==="owner"){const p=t1(e.organizationId),y=XR(e.organizationId);return t.jsxs("div",{className:"w-full max-w-full space-y-6 overflow-x-hidden",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(cB,{className:"w-8 h-8 text-primary"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:p==null?void 0:p.name}),t.jsx("p",{className:"text-muted-foreground",children:"Multi-branch pharmacy network management"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 w-full",children:[t.jsxs(T,{className:"border-primary/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4"}),"Branches"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:p==null?void 0:p.branches.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active locations"})]})]}),t.jsxs(T,{className:"border-success/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),"Staff"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:y.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total employees"})]})]}),t.jsxs(T,{className:"border-warning/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ht,{className:"w-4 h-4"}),"Revenue"]})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["",(n=e.collectionAmount)==null?void 0:n.toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),t.jsxs(T,{className:"border-accent/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(di,{className:"w-4 h-4"}),"Target"]})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[Math.round((e.collectionAmount||0)/(((s=e.targets)==null?void 0:s.monthly)||1)*100),"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly achievement"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full",children:[t.jsxs(T,{className:"min-w-0",children:[t.jsx(z,{children:t.jsx(B,{children:"Branch Performance"})}),t.jsx(k,{className:"space-y-3",children:p==null?void 0:p.branches.map(f=>{const v=bc(f.id);return t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded min-w-0",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"font-medium truncate",children:f.name}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.length," staff  ",f.status]})]}),t.jsx(te,{variant:f.status==="active"?"default":"secondary",className:"ml-2 flex-shrink-0",children:f.status})]},f.id)})})]}),t.jsxs(T,{className:"min-w-0",children:[t.jsx(z,{children:t.jsx(B,{children:"Staff Performance"})}),t.jsx(k,{className:"space-y-3",children:y.slice(0,5).map(f=>{var v;return t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded min-w-0",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"font-medium truncate",children:f.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:f.role.replace("_"," ")})]}),t.jsxs("div",{className:"text-sm font-medium text-success flex-shrink-0 ml-2",children:["",(v=f.collectionAmount)==null?void 0:v.toLocaleString()]})]},f.id)})})]})]})]})}if(e.role==="manager"){const p=cq(e.branchId),y=bc(e.branchId);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(qr,{className:"w-8 h-8 text-secondary-foreground"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:p==null?void 0:p.name}),t.jsx("p",{className:"text-muted-foreground",children:"Branch operations and team management"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(T,{className:"border-primary/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),"Team"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:y.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active staff"})]})]}),t.jsxs(T,{className:"border-success/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(vt,{className:"w-4 h-4"}),"Inventory"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"2,847"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Items in stock"})]})]}),t.jsxs(T,{className:"border-warning/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ht,{className:"w-4 h-4"}),"Sales"]})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["",(a=e.collectionAmount)==null?void 0:a.toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),t.jsxs(T,{className:"border-accent/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(di,{className:"w-4 h-4"}),"Target"]})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[Math.round((e.collectionAmount||0)/(((i=e.targets)==null?void 0:i.monthly)||1)*100),"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Achievement"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Team Performance"})}),t.jsx(k,{className:"space-y-3",children:y.filter(f=>f.id!==e.id).map(f=>{var v;return t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:f.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:f.role.replace("_"," ")})]}),t.jsxs("div",{className:"text-sm font-medium text-success",children:["",(v=f.collectionAmount)==null?void 0:v.toLocaleString()]})]},f.id)})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Quick Actions"})}),t.jsxs(k,{className:"space-y-3",children:[t.jsxs(O,{className:"w-full justify-start",variant:"outline",children:[t.jsx(vt,{className:"w-4 h-4 mr-2"}),"Inventory Management"]}),t.jsxs(O,{className:"w-full justify-start",variant:"outline",children:[t.jsx(ir,{className:"w-4 h-4 mr-2"}),"Sales Reports"]}),t.jsxs(O,{className:"w-full justify-start",variant:"outline",children:[t.jsx(it,{className:"w-4 h-4 mr-2"}),"Staff Management"]}),t.jsxs(O,{className:"w-full justify-start",variant:"outline",children:[t.jsx(cn,{className:"w-4 h-4 mr-2"}),"Branch Settings"]})]})]})]})]})}return["SENIOR_PHARMACIST","PHARMACIST","PHARMACY_TECHNICIAN","CASHIER"].includes(e.role)?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ua,{className:"w-8 h-8 text-accent-foreground"}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",e.name]}),t.jsxs("p",{className:"text-muted-foreground",children:[e.role.replace("_"," ")," Dashboard"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(T,{className:"border-primary/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ht,{className:"w-4 h-4"}),"My Sales"]})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["",(o=e.collectionAmount)==null?void 0:o.toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),t.jsxs(T,{className:"border-success/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(di,{className:"w-4 h-4"}),"Target"]})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[Math.round((e.collectionAmount||0)/(((l=e.targets)==null?void 0:l.monthly)||1)*100),"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Achievement"})]})]}),t.jsxs(T,{className:"border-warning/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(Fn,{className:"w-4 h-4"}),"Prescriptions"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"124"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Processed today"})]})]}),t.jsxs(T,{className:"border-accent/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(la,{className:"w-4 h-4"}),"Status"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"Active"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently on duty"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Today's Tasks"})}),t.jsxs(k,{className:"space-y-3",children:[e.permissions.includes("prescriptions")&&t.jsxs(O,{className:"w-full justify-start",variant:"outline",children:[t.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Process Prescriptions"]}),e.permissions.includes("inventory")&&t.jsxs(O,{className:"w-full justify-start",variant:"outline",children:[t.jsx(vt,{className:"w-4 h-4 mr-2"}),"Check Inventory"]}),e.permissions.includes("pos")&&t.jsxs(O,{className:"w-full justify-start",variant:"outline",children:[t.jsx(ht,{className:"w-4 h-4 mr-2"}),"Point of Sale"]}),t.jsxs(O,{className:"w-full justify-start",variant:"outline",children:[t.jsx(ir,{className:"w-4 h-4 mr-2"}),"My Performance"]})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Performance Metrics"})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Monthly Target"}),t.jsxs("span",{className:"font-medium",children:["",(c=e.targets)==null?void 0:c.monthly.toLocaleString()]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Achieved"}),t.jsxs("span",{className:"font-medium text-success",children:["",(d=e.collectionAmount)==null?void 0:d.toLocaleString()]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Remaining"}),t.jsxs("span",{className:"font-medium text-warning",children:["",((((u=e.targets)==null?void 0:u.monthly)||0)-(e.collectionAmount||0)).toLocaleString()]})]})]})]})]})]}):["SUPPLIER_ADMIN","SALES_REPRESENTATIVE"].includes(e.role)?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(fn,{className:"w-8 h-8 text-warning-foreground"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Supplier Dashboard"}),t.jsxs("p",{className:"text-muted-foreground",children:[e.role.replace("_"," ")," Operations"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(T,{className:"border-primary/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ht,{className:"w-4 h-4"}),"Sales"]})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["",(m=e.collectionAmount)==null?void 0:m.toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),t.jsxs(T,{className:"border-success/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4"}),"Clients"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"34"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active pharmacies"})]})]}),t.jsxs(T,{className:"border-warning/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(vt,{className:"w-4 h-4"}),"Orders"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"156"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending delivery"})]})]}),t.jsxs(T,{className:"border-accent/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(di,{className:"w-4 h-4"}),"Target"]})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[Math.round((e.collectionAmount||0)/(((h=e.targets)==null?void 0:h.monthly)||1)*100),"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Achievement"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Recent Orders"})}),t.jsx(k,{className:"space-y-3",children:["MediCare Hospital Network","HealthPlus Pharmacy Chain","CityMed Group"].map((p,y)=>t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:p}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Order #",1e3+y]})]}),t.jsx(te,{variant:"outline",className:"text-warning border-warning",children:"Pending"})]},y))})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Quick Actions"})}),t.jsxs(k,{className:"space-y-3",children:[t.jsxs(O,{className:"w-full justify-start",variant:"outline",children:[t.jsx(vt,{className:"w-4 h-4 mr-2"}),"Manage Inventory"]}),t.jsxs(O,{className:"w-full justify-start",variant:"outline",children:[t.jsx(it,{className:"w-4 h-4 mr-2"}),"Client Management"]}),t.jsxs(O,{className:"w-full justify-start",variant:"outline",children:[t.jsx(fn,{className:"w-4 h-4 mr-2"}),"Delivery Schedule"]}),t.jsxs(O,{className:"w-full justify-start",variant:"outline",children:[t.jsx(ir,{className:"w-4 h-4 mr-2"}),"Sales Reports"]})]})]})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Si,{className:"w-8 h-8 text-muted-foreground"}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",e.name]}),t.jsx("p",{className:"text-muted-foreground",children:"Your personalized dashboard"})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Getting Started"})}),t.jsx(k,{children:t.jsx("p",{children:"Welcome to your dashboard. Your role-specific features will be available here."})})]})]})}function xG(){const[e,r]=g.useState(null),[n,s]=g.useState(""),a=Vs(),i=Ri(),{toast:o}=Tt();uG({timeout:30*60*1e3,warningTime:5*60*1e3}),mG({refreshInterval:15*60*1e3,enabled:!0}),g.useEffect(()=>{const u=localStorage.getItem("currentUser"),m=localStorage.getItem("selectedOrganization");if(u){const h=JSON.parse(u);r(h),m?s(m):h.organizationId&&s(h.organizationId)}},[]);const l=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("currentUser"),localStorage.removeItem("userEmail"),localStorage.removeItem("selectedOrganization"),o({title:"Logged Out",description:"You have been successfully logged out."}),a("/login",{replace:!0})},c=u=>{var m;s(u),localStorage.setItem("selectedOrganization",u),o({title:"Organization Changed",description:`Switched to ${(m=t1(u))==null?void 0:m.name}`})},d=u=>({super_admin:"bg-warning text-warning-foreground",owner:"bg-primary text-primary-foreground",manager:"bg-secondary text-secondary-foreground",pharmacist:"bg-accent text-accent-foreground",technician:"bg-muted text-muted-foreground",cashier:"bg-muted text-muted-foreground",supplier:"bg-destructive text-destructive-foreground"})[u]||"bg-muted text-muted-foreground";return e?t.jsxs("div",{className:"min-h-screen flex flex-col w-full",children:[t.jsxs("header",{className:"fixed top-0 left-0 right-0 h-16 bg-gradient-to-r from-blue-50 to-indigo-100/80 backdrop-blur-sm border-b border-blue-200 z-50 flex items-center px-4",children:[t.jsxs("div",{className:"flex items-center gap-3 ml-12",children:[t.jsx(Rw,{className:"w-6 h-6 text-primary"}),t.jsx("div",{children:t.jsx("h1",{className:"text-lg font-bold",children:"Pharmacy Pro"})})]}),t.jsxs("div",{className:"ml-auto flex items-center gap-4",children:[(e.role==="super_admin"||e.role==="owner"&&M0.length>1)&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4"}),t.jsxs(_e,{value:n,onValueChange:c,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Select Organization..."})}),t.jsx(Ce,{children:M0.map(u=>t.jsx($,{value:u.id,children:u.name},u.id))})]})]}),t.jsx(O,{variant:"ghost",size:"icon",children:t.jsx(Xt,{className:"w-4 h-4"})}),t.jsxs(O,{variant:"ghost",size:"icon",className:"relative",children:[t.jsx(Sl,{className:"w-4 h-4"}),t.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-destructive rounded-full"})]}),t.jsxs("div",{className:"flex items-center gap-3 border-l border-border pl-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Si,{className:"w-6 h-6 bg-primary text-primary-foreground p-1 rounded"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",children:e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.name||"User"}),t.jsx(te,{className:`text-xs ${d(e.role)}`,children:dq(e.role)})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(O,{variant:"ghost",size:"icon",children:t.jsx(cn,{className:"w-4 h-4"})}),t.jsx(O,{variant:"ghost",size:"icon",onClick:l,children:t.jsx(mB,{className:"w-4 h-4"})})]})]})]})]}),t.jsx("div",{className:"flex pt-16 min-h-screen",children:t.jsxs(ED,{children:[t.jsx("div",{className:"fixed top-4 left-4 z-50",children:t.jsx(RD,{className:"bg-white/80 hover:bg-white border border-slate-200 shadow-sm"})}),t.jsx(OK,{}),t.jsx(DD,{className:"flex-1 min-w-0",children:t.jsx("main",{className:"p-6 w-full",children:t.jsx("div",{className:"animate-in slide-in-from-top-4 fade-in duration-700 ease-out",children:i.pathname==="/"?t.jsx(pG,{user:e}):t.jsx(IV,{})},i.pathname)})})]})})]}):t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."})}var gG=Array.isArray,os=gG,vG=typeof Vh=="object"&&Vh&&Vh.Object===Object&&Vh,JM=vG,yG=JM,jG=typeof self=="object"&&self&&self.Object===Object&&self,bG=yG||jG||Function("return this")(),Qa=bG,NG=Qa,wG=NG.Symbol,Oh=wG,iC=Oh,e3=Object.prototype,SG=e3.hasOwnProperty,PG=e3.toString,bu=iC?iC.toStringTag:void 0;function CG(e){var r=SG.call(e,bu),n=e[bu];try{e[bu]=void 0;var s=!0}catch{}var a=PG.call(e);return s&&(r?e[bu]=n:delete e[bu]),a}var _G=CG,AG=Object.prototype,TG=AG.toString;function kG(e){return TG.call(e)}var EG=kG,oC=Oh,OG=_G,RG=EG,DG="[object Null]",MG="[object Undefined]",lC=oC?oC.toStringTag:void 0;function IG(e){return e==null?e===void 0?MG:DG:lC&&lC in Object(e)?OG(e):RG(e)}var Di=IG;function $G(e){return e!=null&&typeof e=="object"}var Mi=$G,LG=Di,FG=Mi,zG="[object Symbol]";function BG(e){return typeof e=="symbol"||FG(e)&&LG(e)==zG}var Gd=BG,UG=os,VG=Gd,qG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,WG=/^\w*$/;function HG(e,r){if(UG(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||VG(e)?!0:WG.test(e)||!qG.test(e)||r!=null&&e in Object(r)}var x1=HG;function KG(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Oo=KG;const Xd=Jt(Oo);var GG=Di,XG=Oo,YG="[object AsyncFunction]",QG="[object Function]",ZG="[object GeneratorFunction]",JG="[object Proxy]";function eX(e){if(!XG(e))return!1;var r=GG(e);return r==QG||r==ZG||r==YG||r==JG}var g1=eX;const dt=Jt(g1);var tX=Qa,rX=tX["__core-js_shared__"],nX=rX,Fy=nX,cC=function(){var e=/[^.]+$/.exec(Fy&&Fy.keys&&Fy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function sX(e){return!!cC&&cC in e}var aX=sX,iX=Function.prototype,oX=iX.toString;function lX(e){if(e!=null){try{return oX.call(e)}catch{}try{return e+""}catch{}}return""}var t3=lX,cX=g1,dX=aX,uX=Oo,mX=t3,hX=/[\\^$.*+?()[\]{}|]/g,fX=/^\[object .+?Constructor\]$/,pX=Function.prototype,xX=Object.prototype,gX=pX.toString,vX=xX.hasOwnProperty,yX=RegExp("^"+gX.call(vX).replace(hX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jX(e){if(!uX(e)||dX(e))return!1;var r=cX(e)?yX:fX;return r.test(mX(e))}var bX=jX;function NX(e,r){return e==null?void 0:e[r]}var wX=NX,SX=bX,PX=wX;function CX(e,r){var n=PX(e,r);return SX(n)?n:void 0}var Vl=CX,_X=Vl,AX=_X(Object,"create"),Kg=AX,dC=Kg;function TX(){this.__data__=dC?dC(null):{},this.size=0}var kX=TX;function EX(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var OX=EX,RX=Kg,DX="__lodash_hash_undefined__",MX=Object.prototype,IX=MX.hasOwnProperty;function $X(e){var r=this.__data__;if(RX){var n=r[e];return n===DX?void 0:n}return IX.call(r,e)?r[e]:void 0}var LX=$X,FX=Kg,zX=Object.prototype,BX=zX.hasOwnProperty;function UX(e){var r=this.__data__;return FX?r[e]!==void 0:BX.call(r,e)}var VX=UX,qX=Kg,WX="__lodash_hash_undefined__";function HX(e,r){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=qX&&r===void 0?WX:r,this}var KX=HX,GX=kX,XX=OX,YX=LX,QX=VX,ZX=KX;function Yd(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var s=e[r];this.set(s[0],s[1])}}Yd.prototype.clear=GX;Yd.prototype.delete=XX;Yd.prototype.get=YX;Yd.prototype.has=QX;Yd.prototype.set=ZX;var JX=Yd;function eY(){this.__data__=[],this.size=0}var tY=eY;function rY(e,r){return e===r||e!==e&&r!==r}var v1=rY,nY=v1;function sY(e,r){for(var n=e.length;n--;)if(nY(e[n][0],r))return n;return-1}var Gg=sY,aY=Gg,iY=Array.prototype,oY=iY.splice;function lY(e){var r=this.__data__,n=aY(r,e);if(n<0)return!1;var s=r.length-1;return n==s?r.pop():oY.call(r,n,1),--this.size,!0}var cY=lY,dY=Gg;function uY(e){var r=this.__data__,n=dY(r,e);return n<0?void 0:r[n][1]}var mY=uY,hY=Gg;function fY(e){return hY(this.__data__,e)>-1}var pY=fY,xY=Gg;function gY(e,r){var n=this.__data__,s=xY(n,e);return s<0?(++this.size,n.push([e,r])):n[s][1]=r,this}var vY=gY,yY=tY,jY=cY,bY=mY,NY=pY,wY=vY;function Qd(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var s=e[r];this.set(s[0],s[1])}}Qd.prototype.clear=yY;Qd.prototype.delete=jY;Qd.prototype.get=bY;Qd.prototype.has=NY;Qd.prototype.set=wY;var Xg=Qd,SY=Vl,PY=Qa,CY=SY(PY,"Map"),y1=CY,uC=JX,_Y=Xg,AY=y1;function TY(){this.size=0,this.__data__={hash:new uC,map:new(AY||_Y),string:new uC}}var kY=TY;function EY(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var OY=EY,RY=OY;function DY(e,r){var n=e.__data__;return RY(r)?n[typeof r=="string"?"string":"hash"]:n.map}var Yg=DY,MY=Yg;function IY(e){var r=MY(this,e).delete(e);return this.size-=r?1:0,r}var $Y=IY,LY=Yg;function FY(e){return LY(this,e).get(e)}var zY=FY,BY=Yg;function UY(e){return BY(this,e).has(e)}var VY=UY,qY=Yg;function WY(e,r){var n=qY(this,e),s=n.size;return n.set(e,r),this.size+=n.size==s?0:1,this}var HY=WY,KY=kY,GY=$Y,XY=zY,YY=VY,QY=HY;function Zd(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var s=e[r];this.set(s[0],s[1])}}Zd.prototype.clear=KY;Zd.prototype.delete=GY;Zd.prototype.get=XY;Zd.prototype.has=YY;Zd.prototype.set=QY;var j1=Zd,r3=j1,ZY="Expected a function";function b1(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(ZY);var n=function(){var s=arguments,a=r?r.apply(this,s):s[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return n.cache=i.set(a,o)||i,o};return n.cache=new(b1.Cache||r3),n}b1.Cache=r3;var n3=b1;const JY=Jt(n3);var eQ=n3,tQ=500;function rQ(e){var r=eQ(e,function(s){return n.size===tQ&&n.clear(),s}),n=r.cache;return r}var nQ=rQ,sQ=nQ,aQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iQ=/\\(\\)?/g,oQ=sQ(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(aQ,function(n,s,a,i){r.push(a?i.replace(iQ,"$1"):s||n)}),r}),lQ=oQ;function cQ(e,r){for(var n=-1,s=e==null?0:e.length,a=Array(s);++n<s;)a[n]=r(e[n],n,e);return a}var N1=cQ,mC=Oh,dQ=N1,uQ=os,mQ=Gd,hQ=1/0,hC=mC?mC.prototype:void 0,fC=hC?hC.toString:void 0;function s3(e){if(typeof e=="string")return e;if(uQ(e))return dQ(e,s3)+"";if(mQ(e))return fC?fC.call(e):"";var r=e+"";return r=="0"&&1/e==-hQ?"-0":r}var fQ=s3,pQ=fQ;function xQ(e){return e==null?"":pQ(e)}var a3=xQ,gQ=os,vQ=x1,yQ=lQ,jQ=a3;function bQ(e,r){return gQ(e)?e:vQ(e,r)?[e]:yQ(jQ(e))}var i3=bQ,NQ=Gd,wQ=1/0;function SQ(e){if(typeof e=="string"||NQ(e))return e;var r=e+"";return r=="0"&&1/e==-wQ?"-0":r}var Qg=SQ,PQ=i3,CQ=Qg;function _Q(e,r){r=PQ(r,e);for(var n=0,s=r.length;e!=null&&n<s;)e=e[CQ(r[n++])];return n&&n==s?e:void 0}var w1=_Q,AQ=w1;function TQ(e,r,n){var s=e==null?void 0:AQ(e,r);return s===void 0?n:s}var o3=TQ;const bs=Jt(o3);function kQ(e){return e==null}var EQ=kQ;const pt=Jt(EQ);var OQ=Di,RQ=os,DQ=Mi,MQ="[object String]";function IQ(e){return typeof e=="string"||!RQ(e)&&DQ(e)&&OQ(e)==MQ}var $Q=IQ;const kl=Jt($Q);var l3={exports:{}},nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1=Symbol.for("react.element"),P1=Symbol.for("react.portal"),Zg=Symbol.for("react.fragment"),Jg=Symbol.for("react.strict_mode"),ev=Symbol.for("react.profiler"),tv=Symbol.for("react.provider"),rv=Symbol.for("react.context"),LQ=Symbol.for("react.server_context"),nv=Symbol.for("react.forward_ref"),sv=Symbol.for("react.suspense"),av=Symbol.for("react.suspense_list"),iv=Symbol.for("react.memo"),ov=Symbol.for("react.lazy"),FQ=Symbol.for("react.offscreen"),c3;c3=Symbol.for("react.module.reference");function qs(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case S1:switch(e=e.type,e){case Zg:case ev:case Jg:case sv:case av:return e;default:switch(e=e&&e.$$typeof,e){case LQ:case rv:case nv:case ov:case iv:case tv:return e;default:return r}}case P1:return r}}}nr.ContextConsumer=rv;nr.ContextProvider=tv;nr.Element=S1;nr.ForwardRef=nv;nr.Fragment=Zg;nr.Lazy=ov;nr.Memo=iv;nr.Portal=P1;nr.Profiler=ev;nr.StrictMode=Jg;nr.Suspense=sv;nr.SuspenseList=av;nr.isAsyncMode=function(){return!1};nr.isConcurrentMode=function(){return!1};nr.isContextConsumer=function(e){return qs(e)===rv};nr.isContextProvider=function(e){return qs(e)===tv};nr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===S1};nr.isForwardRef=function(e){return qs(e)===nv};nr.isFragment=function(e){return qs(e)===Zg};nr.isLazy=function(e){return qs(e)===ov};nr.isMemo=function(e){return qs(e)===iv};nr.isPortal=function(e){return qs(e)===P1};nr.isProfiler=function(e){return qs(e)===ev};nr.isStrictMode=function(e){return qs(e)===Jg};nr.isSuspense=function(e){return qs(e)===sv};nr.isSuspenseList=function(e){return qs(e)===av};nr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Zg||e===ev||e===Jg||e===sv||e===av||e===FQ||typeof e=="object"&&e!==null&&(e.$$typeof===ov||e.$$typeof===iv||e.$$typeof===tv||e.$$typeof===rv||e.$$typeof===nv||e.$$typeof===c3||e.getModuleId!==void 0)};nr.typeOf=qs;l3.exports=nr;var zQ=l3.exports,BQ=Di,UQ=Mi,VQ="[object Number]";function qQ(e){return typeof e=="number"||UQ(e)&&BQ(e)==VQ}var d3=qQ;const WQ=Jt(d3);var HQ=d3;function KQ(e){return HQ(e)&&e!=+e}var GQ=KQ;const Jd=Jt(GQ);var zn=function(r){return r===0?0:r>0?1:-1},tl=function(r){return kl(r)&&r.indexOf("%")===r.length-1},Re=function(r){return WQ(r)&&!Jd(r)},XQ=function(r){return pt(r)},nn=function(r){return Re(r)||kl(r)},YQ=0,ql=function(r){var n=++YQ;return"".concat(r||"").concat(n)},Bn=function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(r)&&!kl(r))return s;var i;if(tl(r)){var o=r.indexOf("%");i=n*parseFloat(r.slice(0,o))/100}else i=+r;return Jd(i)&&(i=s),a&&i>n&&(i=n),i},Xi=function(r){if(!r)return null;var n=Object.keys(r);return n&&n.length?r[n[0]]:null},QQ=function(r){if(!Array.isArray(r))return!1;for(var n=r.length,s={},a=0;a<n;a++)if(!s[r[a]])s[r[a]]=!0;else return!0;return!1},tn=function(r,n){return Re(r)&&Re(n)?function(s){return r+s*(n-r)}:function(){return n}};function Hp(e,r,n){return!e||!e.length?null:e.find(function(s){return s&&(typeof r=="function"?r(s):bs(s,r))===n})}var ZQ=function(r,n){return Re(r)&&Re(n)?r-n:kl(r)&&kl(n)?r.localeCompare(n):r instanceof Date&&n instanceof Date?r.getTime()-n.getTime():String(r).localeCompare(String(n))};function Ic(e,r){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(r,n)||e[n]!==r[n]))return!1;for(var s in r)if({}.hasOwnProperty.call(r,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Y0(e)}var JQ=["viewBox","children"],eZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pC=["points","pathLength"],zy={svg:JQ,polygon:pC,polyline:pC},C1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Kp=function(r,n){if(!r||typeof r=="function"||typeof r=="boolean")return null;var s=r;if(g.isValidElement(r)&&(s=r.props),!Xd(s))return null;var a={};return Object.keys(s).forEach(function(i){C1.includes(i)&&(a[i]=n||function(o){return s[i](s,o)})}),a},tZ=function(r,n,s){return function(a){return r(n,s,a),null}},El=function(r,n,s){if(!Xd(r)||Y0(r)!=="object")return null;var a=null;return Object.keys(r).forEach(function(i){var o=r[i];C1.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=tZ(o,n,s))}),a},rZ=["children"],nZ=["children"];function xC(e,r){if(e==null)return{};var n=sZ(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function sZ(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Q0(e)}var gC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},pi=function(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},vC=null,By=null,_1=function e(r){if(r===vC&&Array.isArray(By))return By;var n=[];return g.Children.forEach(r,function(s){pt(s)||(zQ.isFragment(s)?n=n.concat(e(s.props.children)):n.push(s))}),By=n,vC=r,n};function Ns(e,r){var n=[],s=[];return Array.isArray(r)?s=r.map(function(a){return pi(a)}):s=[pi(r)],_1(e).forEach(function(a){var i=bs(a,"type.displayName")||bs(a,"type.name");s.indexOf(i)!==-1&&n.push(a)}),n}function ms(e,r){var n=Ns(e,r);return n&&n[0]}var yC=function(r){if(!r||!r.props)return!1;var n=r.props,s=n.width,a=n.height;return!(!Re(s)||s<=0||!Re(a)||a<=0)},aZ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],iZ=function(r){return r&&r.type&&kl(r.type)&&aZ.indexOf(r.type)>=0},u3=function(r){return r&&Q0(r)==="object"&&"clipDot"in r},oZ=function(r,n,s,a){var i,o=(i=zy==null?void 0:zy[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!dt(r)&&(a&&o.includes(n)||eZ.includes(n))||s&&C1.includes(n)},et=function(r,n,s){if(!r||typeof r=="function"||typeof r=="boolean")return null;var a=r;if(g.isValidElement(r)&&(a=r.props),!Xd(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;oZ((l=a)===null||l===void 0?void 0:l[o],o,n,s)&&(i[o]=a[o])}),i},Z0=function e(r,n){if(r===n)return!0;var s=g.Children.count(r);if(s!==g.Children.count(n))return!1;if(s===0)return!0;if(s===1)return jC(Array.isArray(r)?r[0]:r,Array.isArray(n)?n[0]:n);for(var a=0;a<s;a++){var i=r[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!jC(i,o))return!1}return!0},jC=function(r,n){if(pt(r)&&pt(n))return!0;if(!pt(r)&&!pt(n)){var s=r.props||{},a=s.children,i=xC(s,rZ),o=n.props||{},l=o.children,c=xC(o,nZ);return a&&l?Ic(i,c)&&Z0(a,l):!a&&!l?Ic(i,c):!1}return!1},bC=function(r,n){var s=[],a={};return _1(r).forEach(function(i,o){if(iZ(i))s.push(i);else if(i){var l=pi(i.type),c=n[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var m=d(i,l,o);s.push(m),a[l]=!0}}}),s},lZ=function(r){var n=r&&r.type;return n&&gC[n]?gC[n]:null},cZ=function(r,n){return _1(n).indexOf(r)},dZ=["children","width","height","viewBox","className","style","title","desc"];function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},J0.apply(this,arguments)}function uZ(e,r){if(e==null)return{};var n=mZ(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function mZ(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function eb(e){var r=e.children,n=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=uZ(e,dZ),u=a||{width:n,height:s,x:0,y:0},m=gt("recharts-surface",i);return L.createElement("svg",J0({},et(d,!0,"svg"),{className:m,width:n,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),r)}var hZ=["children","className"];function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tb.apply(this,arguments)}function fZ(e,r){if(e==null)return{};var n=pZ(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function pZ(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}var It=L.forwardRef(function(e,r){var n=e.children,s=e.className,a=fZ(e,hZ),i=gt("recharts-layer",s);return L.createElement("g",tb({className:i},et(a,!0),{ref:r}),n)}),ma=function(r,n){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function xZ(e,r,n){var s=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+r];return i}var gZ=xZ,vZ=gZ;function yZ(e,r,n){var s=e.length;return n=n===void 0?s:n,!r&&n>=s?e:vZ(e,r,n)}var jZ=yZ,bZ="\\ud800-\\udfff",NZ="\\u0300-\\u036f",wZ="\\ufe20-\\ufe2f",SZ="\\u20d0-\\u20ff",PZ=NZ+wZ+SZ,CZ="\\ufe0e\\ufe0f",_Z="\\u200d",AZ=RegExp("["+_Z+bZ+PZ+CZ+"]");function TZ(e){return AZ.test(e)}var m3=TZ;function kZ(e){return e.split("")}var EZ=kZ,h3="\\ud800-\\udfff",OZ="\\u0300-\\u036f",RZ="\\ufe20-\\ufe2f",DZ="\\u20d0-\\u20ff",MZ=OZ+RZ+DZ,IZ="\\ufe0e\\ufe0f",$Z="["+h3+"]",rb="["+MZ+"]",nb="\\ud83c[\\udffb-\\udfff]",LZ="(?:"+rb+"|"+nb+")",f3="[^"+h3+"]",p3="(?:\\ud83c[\\udde6-\\uddff]){2}",x3="[\\ud800-\\udbff][\\udc00-\\udfff]",FZ="\\u200d",g3=LZ+"?",v3="["+IZ+"]?",zZ="(?:"+FZ+"(?:"+[f3,p3,x3].join("|")+")"+v3+g3+")*",BZ=v3+g3+zZ,UZ="(?:"+[f3+rb+"?",rb,p3,x3,$Z].join("|")+")",VZ=RegExp(nb+"(?="+nb+")|"+UZ+BZ,"g");function qZ(e){return e.match(VZ)||[]}var WZ=qZ,HZ=EZ,KZ=m3,GZ=WZ;function XZ(e){return KZ(e)?GZ(e):HZ(e)}var YZ=XZ,QZ=jZ,ZZ=m3,JZ=YZ,eJ=a3;function tJ(e){return function(r){r=eJ(r);var n=ZZ(r)?JZ(r):void 0,s=n?n[0]:r.charAt(0),a=n?QZ(n,1).join(""):r.slice(1);return s[e]()+a}}var rJ=tJ,nJ=rJ,sJ=nJ("toUpperCase"),aJ=sJ;const lv=Jt(aJ);function dr(e){return function(){return e}}const y3=Math.cos,Gp=Math.sin,Sa=Math.sqrt,Xp=Math.PI,cv=2*Xp,sb=Math.PI,ab=2*sb,Ho=1e-6,iJ=ab-Ho;function j3(e){this._+=e[0];for(let r=1,n=e.length;r<n;++r)this._+=arguments[r]+e[r]}function oJ(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return j3;const n=10**r;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+s[a]}}class lJ{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?j3:oJ(r)}moveTo(r,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,n){this._append`L${this._x1=+r},${this._y1=+n}`}quadraticCurveTo(r,n,s,a){this._append`Q${+r},${+n},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(r,n,s,a,i,o){this._append`C${+r},${+n},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(r,n,s,a,i){if(r=+r,n=+n,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-r,d=a-n,u=o-r,m=l-n,h=u*u+m*m;if(this._x1===null)this._append`M${this._x1=r},${this._y1=n}`;else if(h>Ho)if(!(Math.abs(m*c-d*u)>Ho)||!i)this._append`L${this._x1=r},${this._y1=n}`;else{let p=s-o,y=a-l,f=c*c+d*d,v=p*p+y*y,j=Math.sqrt(f),x=Math.sqrt(h),b=i*Math.tan((sb-Math.acos((f+h-v)/(2*j*x)))/2),S=b/x,w=b/j;Math.abs(S-1)>Ho&&this._append`L${r+S*u},${n+S*m}`,this._append`A${i},${i},0,0,${+(m*p>u*y)},${this._x1=r+w*c},${this._y1=n+w*d}`}}arc(r,n,s,a,i,o){if(r=+r,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=r+l,u=n+c,m=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Ho||Math.abs(this._y1-u)>Ho)&&this._append`L${d},${u}`,s&&(h<0&&(h=h%ab+ab),h>iJ?this._append`A${s},${s},0,1,${m},${r-l},${n-c}A${s},${s},0,1,${m},${this._x1=d},${this._y1=u}`:h>Ho&&this._append`A${s},${s},0,${+(h>=sb)},${m},${this._x1=r+s*Math.cos(i)},${this._y1=n+s*Math.sin(i)}`)}rect(r,n,s,a){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function A1(e){let r=3;return e.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);r=s}return e},()=>new lJ(r)}function T1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function b3(e){this._context=e}b3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function dv(e){return new b3(e)}function N3(e){return e[0]}function w3(e){return e[1]}function S3(e,r){var n=dr(!0),s=null,a=dv,i=null,o=A1(l);e=typeof e=="function"?e:e===void 0?N3:dr(e),r=typeof r=="function"?r:r===void 0?w3:dr(r);function l(c){var d,u=(c=T1(c)).length,m,h=!1,p;for(s==null&&(i=a(p=o())),d=0;d<=u;++d)!(d<u&&n(m=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(m,d,c),+r(m,d,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:dr(+c),l):e},l.y=function(c){return arguments.length?(r=typeof c=="function"?c:dr(+c),l):r},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:dr(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function vf(e,r,n){var s=null,a=dr(!0),i=null,o=dv,l=null,c=A1(d);e=typeof e=="function"?e:e===void 0?N3:dr(+e),r=typeof r=="function"?r:dr(r===void 0?0:+r),n=typeof n=="function"?n:n===void 0?w3:dr(+n);function d(m){var h,p,y,f=(m=T1(m)).length,v,j=!1,x,b=new Array(f),S=new Array(f);for(i==null&&(l=o(x=c())),h=0;h<=f;++h){if(!(h<f&&a(v=m[h],h,m))===j)if(j=!j)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(b[y],S[y]);l.lineEnd(),l.areaEnd()}j&&(b[h]=+e(v,h,m),S[h]=+r(v,h,m),l.point(s?+s(v,h,m):b[h],n?+n(v,h,m):S[h]))}if(x)return l=null,x+""||null}function u(){return S3().defined(a).curve(o).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:dr(+m),s=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:dr(+m),d):e},d.x1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:dr(+m),d):s},d.y=function(m){return arguments.length?(r=typeof m=="function"?m:dr(+m),n=null,d):r},d.y0=function(m){return arguments.length?(r=typeof m=="function"?m:dr(+m),d):r},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:dr(+m),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(r)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(s).y(r)},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:dr(!!m),d):a},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class P3{constructor(r,n){this._context=r,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,n){switch(r=+r,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,n,r,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,r,this._y0,r,n);break}}this._x0=r,this._y0=n}}function cJ(e){return new P3(e,!0)}function dJ(e){return new P3(e,!1)}const k1={draw(e,r){const n=Sa(r/Xp);e.moveTo(n,0),e.arc(0,0,n,0,cv)}},uJ={draw(e,r){const n=Sa(r/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},C3=Sa(1/3),mJ=C3*2,hJ={draw(e,r){const n=Sa(r/mJ),s=n*C3;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},fJ={draw(e,r){const n=Sa(r),s=-n/2;e.rect(s,s,n,n)}},pJ=.8908130915292852,_3=Gp(Xp/10)/Gp(7*Xp/10),xJ=Gp(cv/10)*_3,gJ=-y3(cv/10)*_3,vJ={draw(e,r){const n=Sa(r*pJ),s=xJ*n,a=gJ*n;e.moveTo(0,-n),e.lineTo(s,a);for(let i=1;i<5;++i){const o=cv*i/5,l=y3(o),c=Gp(o);e.lineTo(c*n,-l*n),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},Uy=Sa(3),yJ={draw(e,r){const n=-Sa(r/(Uy*3));e.moveTo(0,n*2),e.lineTo(-Uy*n,-n),e.lineTo(Uy*n,-n),e.closePath()}},Ts=-.5,ks=Sa(3)/2,ib=1/Sa(12),jJ=(ib/2+1)*3,bJ={draw(e,r){const n=Sa(r/jJ),s=n/2,a=n*ib,i=s,o=n*ib+n,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ts*s-ks*a,ks*s+Ts*a),e.lineTo(Ts*i-ks*o,ks*i+Ts*o),e.lineTo(Ts*l-ks*c,ks*l+Ts*c),e.lineTo(Ts*s+ks*a,Ts*a-ks*s),e.lineTo(Ts*i+ks*o,Ts*o-ks*i),e.lineTo(Ts*l+ks*c,Ts*c-ks*l),e.closePath()}};function NJ(e,r){let n=null,s=A1(a);e=typeof e=="function"?e:dr(e||k1),r=typeof r=="function"?r:dr(r===void 0?64:+r);function a(){let i;if(n||(n=i=s()),e.apply(this,arguments).draw(n,+r.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:dr(i),a):e},a.size=function(i){return arguments.length?(r=typeof i=="function"?i:dr(+i),a):r},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Yp(){}function Qp(e,r,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+n)/6)}function A3(e){this._context=e}A3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qp(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function wJ(e){return new A3(e)}function T3(e){this._context=e}T3.prototype={areaStart:Yp,areaEnd:Yp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:Qp(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function SJ(e){return new T3(e)}function k3(e){this._context=e}k3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:Qp(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function PJ(e){return new k3(e)}function E3(e){this._context=e}E3.prototype={areaStart:Yp,areaEnd:Yp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function CJ(e){return new E3(e)}function NC(e){return e<0?-1:1}function wC(e,r,n){var s=e._x1-e._x0,a=r-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(n-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(NC(i)+NC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function SC(e,r){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-r)/2:r}function Vy(e,r,n){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*r,i-l,o-l*n,i,o)}function Zp(e){this._context=e}Zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vy(this,this._t0,SC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var n=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,Vy(this,SC(this,n=wC(this,e,r)),n);break;default:Vy(this,this._t0,n=wC(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=n}}};function O3(e){this._context=new R3(e)}(O3.prototype=Object.create(Zp.prototype)).point=function(e,r){Zp.prototype.point.call(this,r,e)};function R3(e){this._context=e}R3.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,n,s,a,i){this._context.bezierCurveTo(r,e,s,n,i,a)}};function _J(e){return new Zp(e)}function AJ(e){return new O3(e)}function D3(e){this._context=e}D3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),n===2)this._context.lineTo(e[1],r[1]);else for(var s=PC(e),a=PC(r),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],r[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function PC(e){var r,n=e.length-1,s,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],r=1;r<n-1;++r)a[r]=1,i[r]=4,o[r]=4*e[r]+2*e[r+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],r=1;r<n;++r)s=a[r]/i[r-1],i[r]-=s,o[r]-=s*o[r-1];for(a[n-1]=o[n-1]/i[n-1],r=n-2;r>=0;--r)a[r]=(o[r]-a[r+1])/i[r];for(i[n-1]=(e[n]+a[n-1])/2,r=0;r<n-1;++r)i[r]=2*e[r+1]-a[r+1];return[a,i]}function TJ(e){return new D3(e)}function uv(e,r){this._context=e,this._t=r}uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,r)}break}}this._x=e,this._y=r}};function kJ(e){return new uv(e,.5)}function EJ(e){return new uv(e,0)}function OJ(e){return new uv(e,1)}function sd(e,r){if((o=e.length)>1)for(var n=1,s,a,i=e[r[0]],o,l=i.length;n<o;++n)for(a=i,i=e[r[n]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function ob(e){for(var r=e.length,n=new Array(r);--r>=0;)n[r]=r;return n}function RJ(e,r){return e[r]}function DJ(e){const r=[];return r.key=e,r}function MJ(){var e=dr([]),r=ob,n=sd,s=RJ;function a(i){var o=Array.from(e.apply(this,arguments),DJ),l,c=o.length,d=-1,u;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(m,o[l].key,d,i)]).data=m;for(l=0,u=T1(r(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:dr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:dr(+i),a):s},a.order=function(i){return arguments.length?(r=i==null?ob:typeof i=="function"?i:dr(Array.from(i)),a):r},a.offset=function(i){return arguments.length?(n=i??sd,a):n},a}function IJ(e,r){if((s=e.length)>0){for(var n,s,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<s;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<s;++n)e[n][a][1]/=o}sd(e,r)}}function $J(e,r){if((a=e.length)>0){for(var n=0,s=e[r[0]],a,i=s.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}sd(e,r)}}function LJ(e,r){if(!(!((o=e.length)>0)||!((i=(a=e[r[0]]).length)>0))){for(var n=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[r[l]],m=u[s][1]||0,h=u[s-1][1]||0,p=(m-h)/2,y=0;y<l;++y){var f=e[r[y]],v=f[s][1]||0,j=f[s-1][1]||0;p+=v-j}c+=m,d+=p*m}a[s-1][1]+=a[s-1][0]=n,c&&(n-=d/c)}a[s-1][1]+=a[s-1][0]=n,sd(e,r)}}function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dm(e)}var FJ=["type","size","sizeType"];function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lb.apply(this,arguments)}function CC(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function _C(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?CC(Object(n),!0).forEach(function(s){zJ(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function zJ(e,r,n){return r=BJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function BJ(e){var r=UJ(e,"string");return Dm(r)=="symbol"?r:r+""}function UJ(e,r){if(Dm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Dm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function VJ(e,r){if(e==null)return{};var n=qJ(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function qJ(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}var M3={symbolCircle:k1,symbolCross:uJ,symbolDiamond:hJ,symbolSquare:fJ,symbolStar:vJ,symbolTriangle:yJ,symbolWye:bJ},WJ=Math.PI/180,HJ=function(r){var n="symbol".concat(lv(r));return M3[n]||k1},KJ=function(r,n,s){if(n==="area")return r;switch(s){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var a=18*WJ;return 1.25*r*r*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},GJ=function(r,n){M3["symbol".concat(lv(r))]=n},E1=function(r){var n=r.type,s=n===void 0?"circle":n,a=r.size,i=a===void 0?64:a,o=r.sizeType,l=o===void 0?"area":o,c=VJ(r,FJ),d=_C(_C({},c),{},{type:s,size:i,sizeType:l}),u=function(){var v=HJ(s),j=NJ().type(v).size(KJ(i,l,s));return j()},m=d.className,h=d.cx,p=d.cy,y=et(d,!0);return h===+h&&p===+p&&i===+i?L.createElement("path",lb({},y,{className:gt("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};E1.registerSymbol=GJ;function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ad(e)}function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cb.apply(this,arguments)}function AC(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function XJ(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?AC(Object(n),!0).forEach(function(s){Mm(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function YJ(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function QJ(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,$3(s.key),s)}}function ZJ(e,r,n){return r&&QJ(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JJ(e,r,n){return r=Jp(r),eee(e,I3()?Reflect.construct(r,n||[],Jp(e).constructor):r.apply(e,n))}function eee(e,r){if(r&&(ad(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tee(e)}function tee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I3=function(){return!!e})()}function Jp(e){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(e)}function ree(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&db(e,r)}function db(e,r){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},db(e,r)}function Mm(e,r,n){return r=$3(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function $3(e){var r=nee(e,"string");return ad(r)=="symbol"?r:r+""}function nee(e,r){if(ad(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(ad(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Es=32,O1=function(e){function r(){return YJ(this,r),JJ(this,r,arguments)}return ree(r,e),ZJ(r,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=Es/2,o=Es/6,l=Es/3,c=s.inactive?a:s.color;if(s.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:Es,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Es,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Es/8,"h").concat(Es,"v").concat(Es*3/4,"h").concat(-Es,"z"),className:"recharts-legend-icon"});if(L.isValidElement(s.legendIcon)){var d=XJ({},s);return delete d.legendIcon,L.cloneElement(s.legendIcon,d)}return L.createElement(E1,{fill:c,cx:i,cy:i,size:Es,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Es,height:Es},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var f=p.formatter||c,v=gt(Mm(Mm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var j=dt(p.value)?null:p.value;ma(!dt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?d:p.color;return L.createElement("li",cb({className:v,style:m,key:"legend-item-".concat(y)},El(s.props,p,y)),L.createElement(eb,{width:o,height:o,viewBox:u,style:h},s.renderIcon(p)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},f?f(j,p,y):j))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(g.PureComponent);Mm(O1,"displayName","Legend");Mm(O1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var see=Xg;function aee(){this.__data__=new see,this.size=0}var iee=aee;function oee(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}var lee=oee;function cee(e){return this.__data__.get(e)}var dee=cee;function uee(e){return this.__data__.has(e)}var mee=uee,hee=Xg,fee=y1,pee=j1,xee=200;function gee(e,r){var n=this.__data__;if(n instanceof hee){var s=n.__data__;if(!fee||s.length<xee-1)return s.push([e,r]),this.size=++n.size,this;n=this.__data__=new pee(s)}return n.set(e,r),this.size=n.size,this}var vee=gee,yee=Xg,jee=iee,bee=lee,Nee=dee,wee=mee,See=vee;function eu(e){var r=this.__data__=new yee(e);this.size=r.size}eu.prototype.clear=jee;eu.prototype.delete=bee;eu.prototype.get=Nee;eu.prototype.has=wee;eu.prototype.set=See;var L3=eu,Pee="__lodash_hash_undefined__";function Cee(e){return this.__data__.set(e,Pee),this}var _ee=Cee;function Aee(e){return this.__data__.has(e)}var Tee=Aee,kee=j1,Eee=_ee,Oee=Tee;function ex(e){var r=-1,n=e==null?0:e.length;for(this.__data__=new kee;++r<n;)this.add(e[r])}ex.prototype.add=ex.prototype.push=Eee;ex.prototype.has=Oee;var F3=ex;function Ree(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(e[n],n,e))return!0;return!1}var z3=Ree;function Dee(e,r){return e.has(r)}var B3=Dee,Mee=F3,Iee=z3,$ee=B3,Lee=1,Fee=2;function zee(e,r,n,s,a,i){var o=n&Lee,l=e.length,c=r.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(r);if(d&&u)return d==r&&u==e;var m=-1,h=!0,p=n&Fee?new Mee:void 0;for(i.set(e,r),i.set(r,e);++m<l;){var y=e[m],f=r[m];if(s)var v=o?s(f,y,m,r,e,i):s(y,f,m,e,r,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Iee(r,function(j,x){if(!$ee(p,x)&&(y===j||a(y,j,n,s,i)))return p.push(x)})){h=!1;break}}else if(!(y===f||a(y,f,n,s,i))){h=!1;break}}return i.delete(e),i.delete(r),h}var U3=zee,Bee=Qa,Uee=Bee.Uint8Array,Vee=Uee;function qee(e){var r=-1,n=Array(e.size);return e.forEach(function(s,a){n[++r]=[a,s]}),n}var Wee=qee;function Hee(e){var r=-1,n=Array(e.size);return e.forEach(function(s){n[++r]=s}),n}var R1=Hee,TC=Oh,kC=Vee,Kee=v1,Gee=U3,Xee=Wee,Yee=R1,Qee=1,Zee=2,Jee="[object Boolean]",ete="[object Date]",tte="[object Error]",rte="[object Map]",nte="[object Number]",ste="[object RegExp]",ate="[object Set]",ite="[object String]",ote="[object Symbol]",lte="[object ArrayBuffer]",cte="[object DataView]",EC=TC?TC.prototype:void 0,qy=EC?EC.valueOf:void 0;function dte(e,r,n,s,a,i,o){switch(n){case cte:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case lte:return!(e.byteLength!=r.byteLength||!i(new kC(e),new kC(r)));case Jee:case ete:case nte:return Kee(+e,+r);case tte:return e.name==r.name&&e.message==r.message;case ste:case ite:return e==r+"";case rte:var l=Xee;case ate:var c=s&Qee;if(l||(l=Yee),e.size!=r.size&&!c)return!1;var d=o.get(e);if(d)return d==r;s|=Zee,o.set(e,r);var u=Gee(l(e),l(r),s,a,i,o);return o.delete(e),u;case ote:if(qy)return qy.call(e)==qy.call(r)}return!1}var ute=dte;function mte(e,r){for(var n=-1,s=r.length,a=e.length;++n<s;)e[a+n]=r[n];return e}var V3=mte,hte=V3,fte=os;function pte(e,r,n){var s=r(e);return fte(e)?s:hte(s,n(e))}var xte=pte;function gte(e,r){for(var n=-1,s=e==null?0:e.length,a=0,i=[];++n<s;){var o=e[n];r(o,n,e)&&(i[a++]=o)}return i}var vte=gte;function yte(){return[]}var jte=yte,bte=vte,Nte=jte,wte=Object.prototype,Ste=wte.propertyIsEnumerable,OC=Object.getOwnPropertySymbols,Pte=OC?function(e){return e==null?[]:(e=Object(e),bte(OC(e),function(r){return Ste.call(e,r)}))}:Nte,Cte=Pte;function _te(e,r){for(var n=-1,s=Array(e);++n<e;)s[n]=r(n);return s}var Ate=_te,Tte=Di,kte=Mi,Ete="[object Arguments]";function Ote(e){return kte(e)&&Tte(e)==Ete}var Rte=Ote,RC=Rte,Dte=Mi,q3=Object.prototype,Mte=q3.hasOwnProperty,Ite=q3.propertyIsEnumerable,$te=RC(function(){return arguments}())?RC:function(e){return Dte(e)&&Mte.call(e,"callee")&&!Ite.call(e,"callee")},D1=$te,tx={exports:{}};function Lte(){return!1}var Fte=Lte;tx.exports;(function(e,r){var n=Qa,s=Fte,a=r&&!r.nodeType&&r,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;e.exports=d})(tx,tx.exports);var W3=tx.exports,zte=9007199254740991,Bte=/^(?:0|[1-9]\d*)$/;function Ute(e,r){var n=typeof e;return r=r??zte,!!r&&(n=="number"||n!="symbol"&&Bte.test(e))&&e>-1&&e%1==0&&e<r}var M1=Ute,Vte=9007199254740991;function qte(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Vte}var I1=qte,Wte=Di,Hte=I1,Kte=Mi,Gte="[object Arguments]",Xte="[object Array]",Yte="[object Boolean]",Qte="[object Date]",Zte="[object Error]",Jte="[object Function]",ere="[object Map]",tre="[object Number]",rre="[object Object]",nre="[object RegExp]",sre="[object Set]",are="[object String]",ire="[object WeakMap]",ore="[object ArrayBuffer]",lre="[object DataView]",cre="[object Float32Array]",dre="[object Float64Array]",ure="[object Int8Array]",mre="[object Int16Array]",hre="[object Int32Array]",fre="[object Uint8Array]",pre="[object Uint8ClampedArray]",xre="[object Uint16Array]",gre="[object Uint32Array]",xr={};xr[cre]=xr[dre]=xr[ure]=xr[mre]=xr[hre]=xr[fre]=xr[pre]=xr[xre]=xr[gre]=!0;xr[Gte]=xr[Xte]=xr[ore]=xr[Yte]=xr[lre]=xr[Qte]=xr[Zte]=xr[Jte]=xr[ere]=xr[tre]=xr[rre]=xr[nre]=xr[sre]=xr[are]=xr[ire]=!1;function vre(e){return Kte(e)&&Hte(e.length)&&!!xr[Wte(e)]}var yre=vre;function jre(e){return function(r){return e(r)}}var H3=jre,rx={exports:{}};rx.exports;(function(e,r){var n=JM,s=r&&!r.nodeType&&r,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(rx,rx.exports);var bre=rx.exports,Nre=yre,wre=H3,DC=bre,MC=DC&&DC.isTypedArray,Sre=MC?wre(MC):Nre,K3=Sre,Pre=Ate,Cre=D1,_re=os,Are=W3,Tre=M1,kre=K3,Ere=Object.prototype,Ore=Ere.hasOwnProperty;function Rre(e,r){var n=_re(e),s=!n&&Cre(e),a=!n&&!s&&Are(e),i=!n&&!s&&!a&&kre(e),o=n||s||a||i,l=o?Pre(e.length,String):[],c=l.length;for(var d in e)(r||Ore.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Tre(d,c)))&&l.push(d);return l}var Dre=Rre,Mre=Object.prototype;function Ire(e){var r=e&&e.constructor,n=typeof r=="function"&&r.prototype||Mre;return e===n}var $re=Ire;function Lre(e,r){return function(n){return e(r(n))}}var G3=Lre,Fre=G3,zre=Fre(Object.keys,Object),Bre=zre,Ure=$re,Vre=Bre,qre=Object.prototype,Wre=qre.hasOwnProperty;function Hre(e){if(!Ure(e))return Vre(e);var r=[];for(var n in Object(e))Wre.call(e,n)&&n!="constructor"&&r.push(n);return r}var Kre=Hre,Gre=g1,Xre=I1;function Yre(e){return e!=null&&Xre(e.length)&&!Gre(e)}var Rh=Yre,Qre=Dre,Zre=Kre,Jre=Rh;function ene(e){return Jre(e)?Qre(e):Zre(e)}var mv=ene,tne=xte,rne=Cte,nne=mv;function sne(e){return tne(e,nne,rne)}var ane=sne,IC=ane,ine=1,one=Object.prototype,lne=one.hasOwnProperty;function cne(e,r,n,s,a,i){var o=n&ine,l=IC(e),c=l.length,d=IC(r),u=d.length;if(c!=u&&!o)return!1;for(var m=c;m--;){var h=l[m];if(!(o?h in r:lne.call(r,h)))return!1}var p=i.get(e),y=i.get(r);if(p&&y)return p==r&&y==e;var f=!0;i.set(e,r),i.set(r,e);for(var v=o;++m<c;){h=l[m];var j=e[h],x=r[h];if(s)var b=o?s(x,j,h,r,e,i):s(j,x,h,e,r,i);if(!(b===void 0?j===x||a(j,x,n,s,i):b)){f=!1;break}v||(v=h=="constructor")}if(f&&!v){var S=e.constructor,w=r.constructor;S!=w&&"constructor"in e&&"constructor"in r&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(f=!1)}return i.delete(e),i.delete(r),f}var dne=cne,une=Vl,mne=Qa,hne=une(mne,"DataView"),fne=hne,pne=Vl,xne=Qa,gne=pne(xne,"Promise"),vne=gne,yne=Vl,jne=Qa,bne=yne(jne,"Set"),X3=bne,Nne=Vl,wne=Qa,Sne=Nne(wne,"WeakMap"),Pne=Sne,ub=fne,mb=y1,hb=vne,fb=X3,pb=Pne,Y3=Di,tu=t3,$C="[object Map]",Cne="[object Object]",LC="[object Promise]",FC="[object Set]",zC="[object WeakMap]",BC="[object DataView]",_ne=tu(ub),Ane=tu(mb),Tne=tu(hb),kne=tu(fb),Ene=tu(pb),Ko=Y3;(ub&&Ko(new ub(new ArrayBuffer(1)))!=BC||mb&&Ko(new mb)!=$C||hb&&Ko(hb.resolve())!=LC||fb&&Ko(new fb)!=FC||pb&&Ko(new pb)!=zC)&&(Ko=function(e){var r=Y3(e),n=r==Cne?e.constructor:void 0,s=n?tu(n):"";if(s)switch(s){case _ne:return BC;case Ane:return $C;case Tne:return LC;case kne:return FC;case Ene:return zC}return r});var One=Ko,Wy=L3,Rne=U3,Dne=ute,Mne=dne,UC=One,VC=os,qC=W3,Ine=K3,$ne=1,WC="[object Arguments]",HC="[object Array]",yf="[object Object]",Lne=Object.prototype,KC=Lne.hasOwnProperty;function Fne(e,r,n,s,a,i){var o=VC(e),l=VC(r),c=o?HC:UC(e),d=l?HC:UC(r);c=c==WC?yf:c,d=d==WC?yf:d;var u=c==yf,m=d==yf,h=c==d;if(h&&qC(e)){if(!qC(r))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new Wy),o||Ine(e)?Rne(e,r,n,s,a,i):Dne(e,r,c,n,s,a,i);if(!(n&$ne)){var p=u&&KC.call(e,"__wrapped__"),y=m&&KC.call(r,"__wrapped__");if(p||y){var f=p?e.value():e,v=y?r.value():r;return i||(i=new Wy),a(f,v,n,s,i)}}return h?(i||(i=new Wy),Mne(e,r,n,s,a,i)):!1}var zne=Fne,Bne=zne,GC=Mi;function Q3(e,r,n,s,a){return e===r?!0:e==null||r==null||!GC(e)&&!GC(r)?e!==e&&r!==r:Bne(e,r,n,s,Q3,a)}var $1=Q3,Une=L3,Vne=$1,qne=1,Wne=2;function Hne(e,r,n,s){var a=n.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var m=new Une;if(s)var h=s(d,u,c,e,r,m);if(!(h===void 0?Vne(u,d,qne|Wne,s,m):h))return!1}}return!0}var Kne=Hne,Gne=Oo;function Xne(e){return e===e&&!Gne(e)}var Z3=Xne,Yne=Z3,Qne=mv;function Zne(e){for(var r=Qne(e),n=r.length;n--;){var s=r[n],a=e[s];r[n]=[s,a,Yne(a)]}return r}var Jne=Zne;function ese(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}var J3=ese,tse=Kne,rse=Jne,nse=J3;function sse(e){var r=rse(e);return r.length==1&&r[0][2]?nse(r[0][0],r[0][1]):function(n){return n===e||tse(n,e,r)}}var ase=sse;function ise(e,r){return e!=null&&r in Object(e)}var ose=ise,lse=i3,cse=D1,dse=os,use=M1,mse=I1,hse=Qg;function fse(e,r,n){r=lse(r,e);for(var s=-1,a=r.length,i=!1;++s<a;){var o=hse(r[s]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&mse(a)&&use(o,a)&&(dse(e)||cse(e)))}var pse=fse,xse=ose,gse=pse;function vse(e,r){return e!=null&&gse(e,r,xse)}var yse=vse,jse=$1,bse=o3,Nse=yse,wse=x1,Sse=Z3,Pse=J3,Cse=Qg,_se=1,Ase=2;function Tse(e,r){return wse(e)&&Sse(r)?Pse(Cse(e),r):function(n){var s=bse(n,e);return s===void 0&&s===r?Nse(n,e):jse(r,s,_se|Ase)}}var kse=Tse;function Ese(e){return e}var ru=Ese;function Ose(e){return function(r){return r==null?void 0:r[e]}}var Rse=Ose,Dse=w1;function Mse(e){return function(r){return Dse(r,e)}}var Ise=Mse,$se=Rse,Lse=Ise,Fse=x1,zse=Qg;function Bse(e){return Fse(e)?$se(zse(e)):Lse(e)}var Use=Bse,Vse=ase,qse=kse,Wse=ru,Hse=os,Kse=Use;function Gse(e){return typeof e=="function"?e:e==null?Wse:typeof e=="object"?Hse(e)?qse(e[0],e[1]):Vse(e):Kse(e)}var Za=Gse;function Xse(e,r,n,s){for(var a=e.length,i=n+(s?1:-1);s?i--:++i<a;)if(r(e[i],i,e))return i;return-1}var eI=Xse;function Yse(e){return e!==e}var Qse=Yse;function Zse(e,r,n){for(var s=n-1,a=e.length;++s<a;)if(e[s]===r)return s;return-1}var Jse=Zse,eae=eI,tae=Qse,rae=Jse;function nae(e,r,n){return r===r?rae(e,r,n):eae(e,tae,n)}var sae=nae,aae=sae;function iae(e,r){var n=e==null?0:e.length;return!!n&&aae(e,r,0)>-1}var oae=iae;function lae(e,r,n){for(var s=-1,a=e==null?0:e.length;++s<a;)if(n(r,e[s]))return!0;return!1}var cae=lae;function dae(){}var uae=dae,Hy=X3,mae=uae,hae=R1,fae=1/0,pae=Hy&&1/hae(new Hy([,-0]))[1]==fae?function(e){return new Hy(e)}:mae,xae=pae,gae=F3,vae=oae,yae=cae,jae=B3,bae=xae,Nae=R1,wae=200;function Sae(e,r,n){var s=-1,a=vae,i=e.length,o=!0,l=[],c=l;if(n)o=!1,a=yae;else if(i>=wae){var d=r?null:bae(e);if(d)return Nae(d);o=!1,a=jae,c=new gae}else c=r?[]:l;e:for(;++s<i;){var u=e[s],m=r?r(u):u;if(u=n||u!==0?u:0,o&&m===m){for(var h=c.length;h--;)if(c[h]===m)continue e;r&&c.push(m),l.push(u)}else a(c,m,n)||(c!==l&&c.push(m),l.push(u))}return l}var Pae=Sae,Cae=Za,_ae=Pae;function Aae(e,r){return e&&e.length?_ae(e,Cae(r)):[]}var Tae=Aae;const XC=Jt(Tae);function tI(e,r,n){return r===!0?XC(e,n):dt(r)?XC(e,r):e}function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},id(e)}var kae=["ref"];function YC(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ti(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?YC(Object(n),!0).forEach(function(s){hv(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Eae(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function QC(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,nI(s.key),s)}}function Oae(e,r,n){return r&&QC(e.prototype,r),n&&QC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rae(e,r,n){return r=nx(r),Dae(e,rI()?Reflect.construct(r,n||[],nx(e).constructor):r.apply(e,n))}function Dae(e,r){if(r&&(id(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mae(e)}function Mae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rI=function(){return!!e})()}function nx(e){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nx(e)}function Iae(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&xb(e,r)}function xb(e,r){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},xb(e,r)}function hv(e,r,n){return r=nI(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function nI(e){var r=$ae(e,"string");return id(r)=="symbol"?r:r+""}function $ae(e,r){if(id(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(id(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Lae(e,r){if(e==null)return{};var n=Fae(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Fae(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function zae(e){return e.value}function Bae(e,r){if(L.isValidElement(e))return L.cloneElement(e,r);if(typeof e=="function")return L.createElement(e,r);r.ref;var n=Lae(r,kae);return L.createElement(O1,n)}var ZC=1,qa=function(e){function r(){var n;Eae(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Rae(this,r,[].concat(a)),hv(n,"lastBoundingBox",{width:-1,height:-1}),n}return Iae(r,e),Oae(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>ZC||Math.abs(a.height-this.lastBoundingBox.height)>ZC)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ti({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,m,h;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();m={left:((d||0)-p.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((u||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ti(ti({},m),h)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,m=ti(ti({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(p){s.wrapperNode=p}},Bae(i,ti(ti({},this.props),{},{payload:tI(u,d,zae)})))}}],[{key:"getWithHeight",value:function(s,a){var i=ti(ti({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Re(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(g.PureComponent);hv(qa,"displayName","Legend");hv(qa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var JC=Oh,Uae=D1,Vae=os,e_=JC?JC.isConcatSpreadable:void 0;function qae(e){return Vae(e)||Uae(e)||!!(e_&&e&&e[e_])}var Wae=qae,Hae=V3,Kae=Wae;function sI(e,r,n,s,a){var i=-1,o=e.length;for(n||(n=Kae),a||(a=[]);++i<o;){var l=e[i];r>0&&n(l)?r>1?sI(l,r-1,n,s,a):Hae(a,l):s||(a[a.length]=l)}return a}var aI=sI;function Gae(e){return function(r,n,s){for(var a=-1,i=Object(r),o=s(r),l=o.length;l--;){var c=o[e?l:++a];if(n(i[c],c,i)===!1)break}return r}}var Xae=Gae,Yae=Xae,Qae=Yae(),Zae=Qae,Jae=Zae,eie=mv;function tie(e,r){return e&&Jae(e,r,eie)}var iI=tie,rie=Rh;function nie(e,r){return function(n,s){if(n==null)return n;if(!rie(n))return e(n,s);for(var a=n.length,i=r?a:-1,o=Object(n);(r?i--:++i<a)&&s(o[i],i,o)!==!1;);return n}}var sie=nie,aie=iI,iie=sie,oie=iie(aie),L1=oie,lie=L1,cie=Rh;function die(e,r){var n=-1,s=cie(e)?Array(e.length):[];return lie(e,function(a,i,o){s[++n]=r(a,i,o)}),s}var oI=die;function uie(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}var mie=uie,t_=Gd;function hie(e,r){if(e!==r){var n=e!==void 0,s=e===null,a=e===e,i=t_(e),o=r!==void 0,l=r===null,c=r===r,d=t_(r);if(!l&&!d&&!i&&e>r||i&&o&&c&&!l&&!d||s&&o&&c||!n&&c||!a)return 1;if(!s&&!i&&!d&&e<r||d&&n&&a&&!s&&!i||l&&n&&a||!o&&a||!c)return-1}return 0}var fie=hie,pie=fie;function xie(e,r,n){for(var s=-1,a=e.criteria,i=r.criteria,o=a.length,l=n.length;++s<o;){var c=pie(a[s],i[s]);if(c){if(s>=l)return c;var d=n[s];return c*(d=="desc"?-1:1)}}return e.index-r.index}var gie=xie,Ky=N1,vie=w1,yie=Za,jie=oI,bie=mie,Nie=H3,wie=gie,Sie=ru,Pie=os;function Cie(e,r,n){r.length?r=Ky(r,function(i){return Pie(i)?function(o){return vie(o,i.length===1?i[0]:i)}:i}):r=[Sie];var s=-1;r=Ky(r,Nie(yie));var a=jie(e,function(i,o,l){var c=Ky(r,function(d){return d(i)});return{criteria:c,index:++s,value:i}});return bie(a,function(i,o){return wie(i,o,n)})}var _ie=Cie;function Aie(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}var Tie=Aie,kie=Tie,r_=Math.max;function Eie(e,r,n){return r=r_(r===void 0?e.length-1:r,0),function(){for(var s=arguments,a=-1,i=r_(s.length-r,0),o=Array(i);++a<i;)o[a]=s[r+a];a=-1;for(var l=Array(r+1);++a<r;)l[a]=s[a];return l[r]=n(o),kie(e,this,l)}}var Oie=Eie;function Rie(e){return function(){return e}}var Die=Rie,Mie=Vl,Iie=function(){try{var e=Mie(Object,"defineProperty");return e({},"",{}),e}catch{}}(),lI=Iie,$ie=Die,n_=lI,Lie=ru,Fie=n_?function(e,r){return n_(e,"toString",{configurable:!0,enumerable:!1,value:$ie(r),writable:!0})}:Lie,zie=Fie,Bie=800,Uie=16,Vie=Date.now;function qie(e){var r=0,n=0;return function(){var s=Vie(),a=Uie-(s-n);if(n=s,a>0){if(++r>=Bie)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var Wie=qie,Hie=zie,Kie=Wie,Gie=Kie(Hie),Xie=Gie,Yie=ru,Qie=Oie,Zie=Xie;function Jie(e,r){return Zie(Qie(e,r,Yie),e+"")}var eoe=Jie,toe=v1,roe=Rh,noe=M1,soe=Oo;function aoe(e,r,n){if(!soe(n))return!1;var s=typeof r;return(s=="number"?roe(n)&&noe(r,n.length):s=="string"&&r in n)?toe(n[r],e):!1}var fv=aoe,ioe=aI,ooe=_ie,loe=eoe,s_=fv,coe=loe(function(e,r){if(e==null)return[];var n=r.length;return n>1&&s_(e,r[0],r[1])?r=[]:n>2&&s_(r[0],r[1],r[2])&&(r=[r[0]]),ooe(e,ioe(r,1),[])}),doe=coe;const F1=Jt(doe);function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Im(e)}function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gb.apply(this,arguments)}function uoe(e,r){return poe(e)||foe(e,r)||hoe(e,r)||moe()}function moe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hoe(e,r){if(e){if(typeof e=="string")return a_(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(e,r)}}function a_(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function foe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function poe(e){if(Array.isArray(e))return e}function i_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Gy(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?i_(Object(n),!0).forEach(function(s){xoe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xoe(e,r,n){return r=goe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function goe(e){var r=voe(e,"string");return Im(r)=="symbol"?r:r+""}function voe(e,r){if(Im(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Im(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function yoe(e){return Array.isArray(e)&&nn(e[0])&&nn(e[1])?e.join(" ~ "):e}var joe=function(r){var n=r.separator,s=n===void 0?" : ":n,a=r.contentStyle,i=a===void 0?{}:a,o=r.itemStyle,l=o===void 0?{}:o,c=r.labelStyle,d=c===void 0?{}:c,u=r.payload,m=r.formatter,h=r.itemSorter,p=r.wrapperClassName,y=r.labelClassName,f=r.label,v=r.labelFormatter,j=r.accessibilityLayer,x=j===void 0?!1:j,b=function(){if(u&&u.length){var R={padding:0,margin:0},E=(h?F1(u,h):u).map(function(F,G){if(F.type==="none")return null;var D=Gy({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),J=F.formatter||m||yoe,q=F.value,U=F.name,re=q,he=U;if(J&&re!=null&&he!=null){var ie=J(q,U,F,G,u);if(Array.isArray(ie)){var fe=uoe(ie,2);re=fe[0],he=fe[1]}else re=ie}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:D},nn(he)?L.createElement("span",{className:"recharts-tooltip-item-name"},he):null,nn(he)?L.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,L.createElement("span",{className:"recharts-tooltip-item-value"},re),L.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:R},E)}return null},S=Gy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Gy({margin:0},d),N=!pt(f),P=N?f:"",_=gt("recharts-default-tooltip",p),C=gt("recharts-tooltip-label",y);N&&v&&u!==void 0&&u!==null&&(P=v(f,u));var A=x?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",gb({className:_,style:S},A),L.createElement("p",{className:C,style:w},L.isValidElement(P)?P:"".concat(P)),b())};function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$m(e)}function jf(e,r,n){return r=boe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function boe(e){var r=Noe(e,"string");return $m(r)=="symbol"?r:r+""}function Noe(e,r){if($m(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if($m(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Nu="recharts-tooltip-wrapper",woe={visibility:"hidden"};function Soe(e){var r=e.coordinate,n=e.translateX,s=e.translateY;return gt(Nu,jf(jf(jf(jf({},"".concat(Nu,"-right"),Re(n)&&r&&Re(r.x)&&n>=r.x),"".concat(Nu,"-left"),Re(n)&&r&&Re(r.x)&&n<r.x),"".concat(Nu,"-bottom"),Re(s)&&r&&Re(r.y)&&s>=r.y),"".concat(Nu,"-top"),Re(s)&&r&&Re(r.y)&&s<r.y))}function o_(e){var r=e.allowEscapeViewBox,n=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Re(i[s]))return i[s];var u=n[s]-l-a,m=n[s]+a;if(r[s])return o[s]?u:m;if(o[s]){var h=u,p=c[s];return h<p?Math.max(m,c[s]):Math.max(u,c[s])}var y=m+l,f=c[s]+d;return y>f?Math.max(u,c[s]):Math.max(m,c[s])}function Poe(e){var r=e.translateX,n=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(r,"px, ").concat(n,"px, 0)"):"translate(".concat(r,"px, ").concat(n,"px)")}}function Coe(e){var r=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,m;return o.height>0&&o.width>0&&n?(u=o_({allowEscapeViewBox:r,coordinate:n,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=o_({allowEscapeViewBox:r,coordinate:n,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Poe({translateX:u,translateY:m,useTranslate3d:l})):d=woe,{cssProperties:d,cssClasses:Soe({translateX:u,translateY:m,coordinate:n})}}function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},od(e)}function l_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function c_(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?l_(Object(n),!0).forEach(function(s){yb(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function _oe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Aoe(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,dI(s.key),s)}}function Toe(e,r,n){return r&&Aoe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function koe(e,r,n){return r=sx(r),Eoe(e,cI()?Reflect.construct(r,n||[],sx(e).constructor):r.apply(e,n))}function Eoe(e,r){if(r&&(od(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ooe(e)}function Ooe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cI=function(){return!!e})()}function sx(e){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(e)}function Roe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&vb(e,r)}function vb(e,r){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},vb(e,r)}function yb(e,r,n){return r=dI(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function dI(e){var r=Doe(e,"string");return od(r)=="symbol"?r:r+""}function Doe(e,r){if(od(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(od(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var d_=1,Moe=function(e){function r(){var n;_oe(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=koe(this,r,[].concat(a)),yb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),yb(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return Roe(r,e),Toe(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>d_||Math.abs(s.height-this.state.lastBoundingBox.height)>d_)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,m=a.hasPayload,h=a.isAnimationActive,p=a.offset,y=a.position,f=a.reverseDirection,v=a.useTranslate3d,j=a.viewBox,x=a.wrapperStyle,b=Coe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:y,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:j}),S=b.cssClasses,w=b.cssProperties,N=c_(c_({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},x);return L.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(_){s.wrapperNode=_}},d)}}])}(g.PureComponent),Ioe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ha={isSsr:Ioe(),get:function(r){return ha[r]},set:function(r,n){if(typeof r=="string")ha[r]=n;else{var s=Object.keys(r);s&&s.length&&s.forEach(function(a){ha[a]=r[a]})}}};function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ld(e)}function u_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function m_(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?u_(Object(n),!0).forEach(function(s){z1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function $oe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Loe(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,mI(s.key),s)}}function Foe(e,r,n){return r&&Loe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zoe(e,r,n){return r=ax(r),Boe(e,uI()?Reflect.construct(r,n||[],ax(e).constructor):r.apply(e,n))}function Boe(e,r){if(r&&(ld(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uoe(e)}function Uoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uI=function(){return!!e})()}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(e)}function Voe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&jb(e,r)}function jb(e,r){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},jb(e,r)}function z1(e,r,n){return r=mI(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function mI(e){var r=qoe(e,"string");return ld(r)=="symbol"?r:r+""}function qoe(e,r){if(ld(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(ld(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Woe(e){return e.dataKey}function Hoe(e,r){return L.isValidElement(e)?L.cloneElement(e,r):typeof e=="function"?L.createElement(e,r):L.createElement(joe,r)}var Br=function(e){function r(){return $oe(this,r),zoe(this,r,arguments)}return Voe(r,e),Foe(r,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,m=a.filterNull,h=a.isAnimationActive,p=a.offset,y=a.payload,f=a.payloadUniqBy,v=a.position,j=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,w=y??[];m&&w.length&&(w=tI(y.filter(function(P){return P.value!=null&&(P.hide!==!0||s.props.includeHidden)}),f,Woe));var N=w.length>0;return L.createElement(Moe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:u,hasPayload:N,offset:p,position:v,reverseDirection:j,useTranslate3d:x,viewBox:b,wrapperStyle:S},Hoe(d,m_(m_({},this.props),{},{payload:w})))}}])}(g.PureComponent);z1(Br,"displayName","Tooltip");z1(Br,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ha.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Koe=Qa,Goe=function(){return Koe.Date.now()},Xoe=Goe,Yoe=/\s/;function Qoe(e){for(var r=e.length;r--&&Yoe.test(e.charAt(r)););return r}var Zoe=Qoe,Joe=Zoe,ele=/^\s+/;function tle(e){return e&&e.slice(0,Joe(e)+1).replace(ele,"")}var rle=tle,nle=rle,h_=Oo,sle=Gd,f_=NaN,ale=/^[-+]0x[0-9a-f]+$/i,ile=/^0b[01]+$/i,ole=/^0o[0-7]+$/i,lle=parseInt;function cle(e){if(typeof e=="number")return e;if(sle(e))return f_;if(h_(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=h_(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=nle(e);var n=ile.test(e);return n||ole.test(e)?lle(e.slice(2),n?2:8):ale.test(e)?f_:+e}var hI=cle,dle=Oo,Xy=Xoe,p_=hI,ule="Expected a function",mle=Math.max,hle=Math.min;function fle(e,r,n){var s,a,i,o,l,c,d=0,u=!1,m=!1,h=!0;if(typeof e!="function")throw new TypeError(ule);r=p_(r)||0,dle(n)&&(u=!!n.leading,m="maxWait"in n,i=m?mle(p_(n.maxWait)||0,r):i,h="trailing"in n?!!n.trailing:h);function p(N){var P=s,_=a;return s=a=void 0,d=N,o=e.apply(_,P),o}function y(N){return d=N,l=setTimeout(j,r),u?p(N):o}function f(N){var P=N-c,_=N-d,C=r-P;return m?hle(C,i-_):C}function v(N){var P=N-c,_=N-d;return c===void 0||P>=r||P<0||m&&_>=i}function j(){var N=Xy();if(v(N))return x(N);l=setTimeout(j,f(N))}function x(N){return l=void 0,h&&s?p(N):(s=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),d=0,s=c=a=l=void 0}function S(){return l===void 0?o:x(Xy())}function w(){var N=Xy(),P=v(N);if(s=arguments,a=this,c=N,P){if(l===void 0)return y(c);if(m)return clearTimeout(l),l=setTimeout(j,r),p(c)}return l===void 0&&(l=setTimeout(j,r)),o}return w.cancel=b,w.flush=S,w}var ple=fle,xle=ple,gle=Oo,vle="Expected a function";function yle(e,r,n){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(vle);return gle(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),xle(e,r,{leading:s,maxWait:r,trailing:a})}var jle=yle;const fI=Jt(jle);function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lm(e)}function x_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function bf(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?x_(Object(n),!0).forEach(function(s){ble(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ble(e,r,n){return r=Nle(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Nle(e){var r=wle(e,"string");return Lm(r)=="symbol"?r:r+""}function wle(e,r){if(Lm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Lm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Sle(e,r){return Ale(e)||_le(e,r)||Cle(e,r)||Ple()}function Ple(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cle(e,r){if(e){if(typeof e=="string")return g_(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(e,r)}}function g_(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function _le(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Ale(e){if(Array.isArray(e))return e}var ur=g.forwardRef(function(e,r){var n=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,m=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,f=y===void 0?0:y,v=e.id,j=e.className,x=e.onResize,b=e.style,S=b===void 0?{}:b,w=g.useRef(null),N=g.useRef();N.current=x,g.useImperativeHandle(r,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var P=g.useState({containerWidth:a.width,containerHeight:a.height}),_=Sle(P,2),C=_[0],A=_[1],M=g.useCallback(function(E,F){A(function(G){var D=Math.round(E),J=Math.round(F);return G.containerWidth===D&&G.containerHeight===J?G:{containerWidth:D,containerHeight:J}})},[]);g.useEffect(function(){var E=function(U){var re,he=U[0].contentRect,ie=he.width,fe=he.height;M(ie,fe),(re=N.current)===null||re===void 0||re.call(N,ie,fe)};f>0&&(E=fI(E,f,{trailing:!0,leading:!1}));var F=new ResizeObserver(E),G=w.current.getBoundingClientRect(),D=G.width,J=G.height;return M(D,J),F.observe(w.current),function(){F.disconnect()}},[M,f]);var R=g.useMemo(function(){var E=C.containerWidth,F=C.containerHeight;if(E<0||F<0)return null;ma(tl(o)||tl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ma(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=tl(o)?E:o,D=tl(c)?F:c;n&&n>0&&(G?D=G/n:D&&(G=D*n),h&&D>h&&(D=h)),ma(G>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,D,o,c,u,m,n);var J=!Array.isArray(p)&&pi(p.type).endsWith("Chart");return L.Children.map(p,function(q){return L.isValidElement(q)?g.cloneElement(q,bf({width:G,height:D},J?{style:bf({height:"100%",width:"100%",maxHeight:D,maxWidth:G},q.props.style)}:{})):q})},[n,p,c,h,m,u,C,o]);return L.createElement("div",{id:v?"".concat(v):void 0,className:gt("recharts-responsive-container",j),style:bf(bf({},S),{},{width:o,height:c,minWidth:u,minHeight:m,maxHeight:h}),ref:w},R)}),Ii=function(r){return null};Ii.displayName="Cell";function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fm(e)}function v_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function bb(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?v_(Object(n),!0).forEach(function(s){Tle(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Tle(e,r,n){return r=kle(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function kle(e){var r=Ele(e,"string");return Fm(r)=="symbol"?r:r+""}function Ele(e,r){if(Fm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Fm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Jl={widthCache:{},cacheCount:0},Ole=2e3,Rle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},y_="recharts_measurement_span";function Dle(e){var r=bb({},e);return Object.keys(r).forEach(function(n){r[n]||delete r[n]}),r}var em=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||ha.isSsr)return{width:0,height:0};var s=Dle(n),a=JSON.stringify({text:r,copyStyle:s});if(Jl.widthCache[a])return Jl.widthCache[a];try{var i=document.getElementById(y_);i||(i=document.createElement("span"),i.setAttribute("id",y_),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=bb(bb({},Rle),s);Object.assign(i.style,o),i.textContent="".concat(r);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Jl.widthCache[a]=c,++Jl.cacheCount>Ole&&(Jl.cacheCount=0,Jl.widthCache={}),c}catch{return{width:0,height:0}}},Mle=function(r){return{top:r.top+window.scrollY-document.documentElement.clientTop,left:r.left+window.scrollX-document.documentElement.clientLeft}};function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zm(e)}function ix(e,r){return Fle(e)||Lle(e,r)||$le(e,r)||Ile()}function Ile(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $le(e,r){if(e){if(typeof e=="string")return j_(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j_(e,r)}}function j_(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Lle(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Fle(e){if(Array.isArray(e))return e}function zle(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function b_(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Ule(s.key),s)}}function Ble(e,r,n){return r&&b_(e.prototype,r),n&&b_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ule(e){var r=Vle(e,"string");return zm(r)=="symbol"?r:r+""}function Vle(e,r){if(zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(zm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var N_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,w_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Wle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Hle=Object.keys(pI),Nc="NaN";function Kle(e,r){return e*pI[r]}var Nf=function(){function e(r,n){zle(this,e),this.num=r,this.unit=n,this.num=r,this.unit=n,Number.isNaN(r)&&(this.unit=""),n!==""&&!qle.test(n)&&(this.num=NaN,this.unit=""),Hle.includes(n)&&(this.num=Kle(r,n),this.unit="px")}return Ble(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,a=(s=Wle.exec(n))!==null&&s!==void 0?s:[],i=ix(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function xI(e){if(e.includes(Nc))return Nc;for(var r=e;r.includes("*")||r.includes("/");){var n,s=(n=N_.exec(r))!==null&&n!==void 0?n:[],a=ix(s,4),i=a[1],o=a[2],l=a[3],c=Nf.parse(i??""),d=Nf.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Nc;r=r.replace(N_,u.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var m,h=(m=w_.exec(r))!==null&&m!==void 0?m:[],p=ix(h,4),y=p[1],f=p[2],v=p[3],j=Nf.parse(y??""),x=Nf.parse(v??""),b=f==="+"?j.add(x):j.subtract(x);if(b.isNaN())return Nc;r=r.replace(w_,b.toString())}return r}var S_=/\(([^()]*)\)/;function Gle(e){for(var r=e;r.includes("(");){var n=S_.exec(r),s=ix(n,2),a=s[1];r=r.replace(S_,xI(a))}return r}function Xle(e){var r=e.replace(/\s+/g,"");return r=Gle(r),r=xI(r),r}function Yle(e){try{return Xle(e)}catch{return Nc}}function Yy(e){var r=Yle(e.slice(5,-1));return r===Nc?"":r}var Qle=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Zle=["dx","dy","angle","className","breakAll"];function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nb.apply(this,arguments)}function P_(e,r){if(e==null)return{};var n=Jle(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jle(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function C_(e,r){return nce(e)||rce(e,r)||tce(e,r)||ece()}function ece(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tce(e,r){if(e){if(typeof e=="string")return __(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(e,r)}}function __(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function rce(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function nce(e){if(Array.isArray(e))return e}var gI=/[ \f\n\r\t\v\u2028\u2029]+/,vI=function(r){var n=r.children,s=r.breakAll,a=r.style;try{var i=[];pt(n)||(s?i=n.toString().split(""):i=n.toString().split(gI));var o=i.map(function(c){return{word:c,width:em(c,a).width}}),l=s?0:em("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},sce=function(r,n,s,a,i){var o=r.maxLines,l=r.children,c=r.style,d=r.breakAll,u=Re(o),m=l,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(D,J){var q=J.word,U=J.width,re=D[D.length-1];if(re&&(a==null||i||re.width+U+s<Number(a)))re.words.push(q),re.width+=U+s;else{var he={words:[q],width:U};D.push(he)}return D},[])},p=h(n),y=function(G){return G.reduce(function(D,J){return D.width>J.width?D:J})};if(!u)return p;for(var f="",v=function(G){var D=m.slice(0,G),J=vI({breakAll:d,style:c,children:D+f}).wordsWithComputedWidth,q=h(J),U=q.length>o||y(q).width>Number(a);return[U,q]},j=0,x=m.length-1,b=0,S;j<=x&&b<=m.length-1;){var w=Math.floor((j+x)/2),N=w-1,P=v(N),_=C_(P,2),C=_[0],A=_[1],M=v(w),R=C_(M,1),E=R[0];if(!C&&!E&&(j=w+1),C&&E&&(x=w-1),!C&&E){S=A;break}b++}return S||p},A_=function(r){var n=pt(r)?[]:r.toString().split(gI);return[{words:n}]},ace=function(r){var n=r.width,s=r.scaleToFit,a=r.children,i=r.style,o=r.breakAll,l=r.maxLines;if((n||s)&&!ha.isSsr){var c,d,u=vI({breakAll:o,children:a,style:i});if(u){var m=u.wordsWithComputedWidth,h=u.spaceWidth;c=m,d=h}else return A_(a);return sce({breakAll:o,children:a,maxLines:l,style:i},c,d,n,s)}return A_(a)},T_="#808080",Ol=function(r){var n=r.x,s=n===void 0?0:n,a=r.y,i=a===void 0?0:a,o=r.lineHeight,l=o===void 0?"1em":o,c=r.capHeight,d=c===void 0?"0.71em":c,u=r.scaleToFit,m=u===void 0?!1:u,h=r.textAnchor,p=h===void 0?"start":h,y=r.verticalAnchor,f=y===void 0?"end":y,v=r.fill,j=v===void 0?T_:v,x=P_(r,Qle),b=g.useMemo(function(){return ace({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:m,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,m,x.style,x.width]),S=x.dx,w=x.dy,N=x.angle,P=x.className,_=x.breakAll,C=P_(x,Zle);if(!nn(s)||!nn(i))return null;var A=s+(Re(S)?S:0),M=i+(Re(w)?w:0),R;switch(f){case"start":R=Yy("calc(".concat(d,")"));break;case"middle":R=Yy("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:R=Yy("calc(".concat(b.length-1," * -").concat(l,")"));break}var E=[];if(m){var F=b[0].width,G=x.width;E.push("scale(".concat((Re(G)?G/F:1)/F,")"))}return N&&E.push("rotate(".concat(N,", ").concat(A,", ").concat(M,")")),E.length&&(C.transform=E.join(" ")),L.createElement("text",Nb({},et(C,!0),{x:A,y:M,className:gt("recharts-text",P),textAnchor:p,fill:j.includes("url")?T_:j}),b.map(function(D,J){var q=D.words.join(_?"":" ");return L.createElement("tspan",{x:A,dy:J===0?R:l,key:"".concat(q,"-").concat(J)},q)}))};function go(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function ice(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function B1(e){let r,n,s;e.length!==2?(r=go,n=(l,c)=>go(e(l),c),s=(l,c)=>e(l)-c):(r=e===go||e===ice?e:oce,n=e,s=e);function a(l,c,d=0,u=l.length){if(d<u){if(r(c,c)!==0)return u;do{const m=d+u>>>1;n(l[m],c)<0?d=m+1:u=m}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(r(c,c)!==0)return u;do{const m=d+u>>>1;n(l[m],c)<=0?d=m+1:u=m}while(d<u)}return d}function o(l,c,d=0,u=l.length){const m=a(l,c,d,u-1);return m>d&&s(l[m-1],c)>-s(l[m],c)?m-1:m}return{left:a,center:o,right:i}}function oce(){return 0}function yI(e){return e===null?NaN:+e}function*lce(e,r){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const cce=B1(go),Dh=cce.right;B1(yI).center;class k_ extends Map{constructor(r,n=mce){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[s,a]of r)this.set(s,a)}get(r){return super.get(E_(this,r))}has(r){return super.has(E_(this,r))}set(r,n){return super.set(dce(this,r),n)}delete(r){return super.delete(uce(this,r))}}function E_({_intern:e,_key:r},n){const s=r(n);return e.has(s)?e.get(s):n}function dce({_intern:e,_key:r},n){const s=r(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function uce({_intern:e,_key:r},n){const s=r(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function mce(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hce(e=go){if(e===go)return jI;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,n)=>{const s=e(r,n);return s||s===0?s:(e(n,n)===0)-(e(r,r)===0)}}function jI(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const fce=Math.sqrt(50),pce=Math.sqrt(10),xce=Math.sqrt(2);function ox(e,r,n){const s=(r-e)/Math.max(0,n),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=fce?10:i>=pce?5:i>=xce?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(r*d),l/d<e&&++l,c/d>r&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(r/d),l*d<e&&++l,c*d>r&&--c),c<l&&.5<=n&&n<2?ox(e,r,n*2):[l,c,d]}function wb(e,r,n){if(r=+r,e=+e,n=+n,!(n>0))return[];if(e===r)return[e];const s=r<e,[a,i,o]=s?ox(r,e,n):ox(e,r,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function Sb(e,r,n){return r=+r,e=+e,n=+n,ox(e,r,n)[2]}function Pb(e,r,n){r=+r,e=+e,n=+n;const s=r<e,a=s?Sb(r,e,n):Sb(e,r,n);return(s?-1:1)*(a<0?1/-a:a)}function O_(e,r){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function R_(e,r){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function bI(e,r,n=0,s=1/0,a){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=r&&r<=s))return e;for(a=a===void 0?jI:hce(a);s>n;){if(s-n>600){const c=s-n+1,d=r-n+1,u=Math.log(c),m=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*m*(c-m)/c)*(d-c/2<0?-1:1),p=Math.max(n,Math.floor(r-d*m/c+h)),y=Math.min(s,Math.floor(r+(c-d)*m/c+h));bI(e,r,p,y,a)}const i=e[r];let o=n,l=s;for(wu(e,n,r),a(e[s],i)>0&&wu(e,n,s);o<l;){for(wu(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?wu(e,n,l):(++l,wu(e,l,s)),l<=r&&(n=l+1),r<=l&&(s=l-1)}return e}function wu(e,r,n){const s=e[r];e[r]=e[n],e[n]=s}function gce(e,r,n){if(e=Float64Array.from(lce(e)),!(!(s=e.length)||isNaN(r=+r))){if(r<=0||s<2)return R_(e);if(r>=1)return O_(e);var s,a=(s-1)*r,i=Math.floor(a),o=O_(bI(e,i).subarray(0,i+1)),l=R_(e.subarray(i+1));return o+(l-o)*(a-i)}}function vce(e,r,n=yI){if(!(!(s=e.length)||isNaN(r=+r))){if(r<=0||s<2)return+n(e[0],0,e);if(r>=1)return+n(e[s-1],s-1,e);var s,a=(s-1)*r,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function yce(e,r,n){e=+e,r=+r,n=(a=arguments.length)<2?(r=e,e=0,1):a<3?1:+n;for(var s=-1,a=Math.max(0,Math.ceil((r-e)/n))|0,i=new Array(a);++s<a;)i[s]=e+s*n;return i}function Ws(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function $i(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const Cb=Symbol("implicit");function U1(){var e=new k_,r=[],n=[],s=Cb;function a(i){let o=e.get(i);if(o===void 0){if(s!==Cb)return s;e.set(i,o=r.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new k_;for(const o of i)e.has(o)||e.set(o,r.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return U1(r,n).unknown(s)},Ws.apply(a,arguments),a}function Bm(){var e=U1().unknown(void 0),r=e.domain,n=e.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function m(){var h=r().length,p=a<s,y=p?a:s,f=p?s:a;i=(f-y)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),y+=(f-y-i*(h-c))*u,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=yce(h).map(function(j){return y+i*j});return n(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(r(h),m()):r()},e.range=function(h){return arguments.length?([s,a]=h,s=+s,a=+a,m()):[s,a]},e.rangeRound=function(h){return[s,a]=h,s=+s,a=+a,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,m()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),m()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),m()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,m()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),m()):u},e.copy=function(){return Bm(r(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Ws.apply(m(),arguments)}function NI(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return NI(r())},e}function tm(){return NI(Bm.apply(null,arguments).paddingInner(1))}function V1(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function wI(e,r){var n=Object.create(e.prototype);for(var s in r)n[s]=r[s];return n}function Mh(){}var Um=.7,lx=1/Um,$c="\\s*([+-]?\\d+)\\s*",Vm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jce=/^#([0-9a-f]{3,8})$/,bce=new RegExp(`^rgb\\(${$c},${$c},${$c}\\)$`),Nce=new RegExp(`^rgb\\(${Wa},${Wa},${Wa}\\)$`),wce=new RegExp(`^rgba\\(${$c},${$c},${$c},${Vm}\\)$`),Sce=new RegExp(`^rgba\\(${Wa},${Wa},${Wa},${Vm}\\)$`),Pce=new RegExp(`^hsl\\(${Vm},${Wa},${Wa}\\)$`),Cce=new RegExp(`^hsla\\(${Vm},${Wa},${Wa},${Vm}\\)$`),D_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};V1(Mh,qm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:M_,formatHex:M_,formatHex8:_ce,formatHsl:Ace,formatRgb:I_,toString:I_});function M_(){return this.rgb().formatHex()}function _ce(){return this.rgb().formatHex8()}function Ace(){return SI(this).formatHsl()}function I_(){return this.rgb().formatRgb()}function qm(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=jce.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?$_(r):n===3?new es(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?wf(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?wf(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=bce.exec(e))?new es(r[1],r[2],r[3],1):(r=Nce.exec(e))?new es(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=wce.exec(e))?wf(r[1],r[2],r[3],r[4]):(r=Sce.exec(e))?wf(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Pce.exec(e))?z_(r[1],r[2]/100,r[3]/100,1):(r=Cce.exec(e))?z_(r[1],r[2]/100,r[3]/100,r[4]):D_.hasOwnProperty(e)?$_(D_[e]):e==="transparent"?new es(NaN,NaN,NaN,0):null}function $_(e){return new es(e>>16&255,e>>8&255,e&255,1)}function wf(e,r,n,s){return s<=0&&(e=r=n=NaN),new es(e,r,n,s)}function Tce(e){return e instanceof Mh||(e=qm(e)),e?(e=e.rgb(),new es(e.r,e.g,e.b,e.opacity)):new es}function _b(e,r,n,s){return arguments.length===1?Tce(e):new es(e,r,n,s??1)}function es(e,r,n,s){this.r=+e,this.g=+r,this.b=+n,this.opacity=+s}V1(es,_b,wI(Mh,{brighter(e){return e=e==null?lx:Math.pow(lx,e),new es(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Um:Math.pow(Um,e),new es(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new es(pl(this.r),pl(this.g),pl(this.b),cx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L_,formatHex:L_,formatHex8:kce,formatRgb:F_,toString:F_}));function L_(){return`#${rl(this.r)}${rl(this.g)}${rl(this.b)}`}function kce(){return`#${rl(this.r)}${rl(this.g)}${rl(this.b)}${rl((isNaN(this.opacity)?1:this.opacity)*255)}`}function F_(){const e=cx(this.opacity);return`${e===1?"rgb(":"rgba("}${pl(this.r)}, ${pl(this.g)}, ${pl(this.b)}${e===1?")":`, ${e})`}`}function cx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rl(e){return e=pl(e),(e<16?"0":"")+e.toString(16)}function z_(e,r,n,s){return s<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new oa(e,r,n,s)}function SI(e){if(e instanceof oa)return new oa(e.h,e.s,e.l,e.opacity);if(e instanceof Mh||(e=qm(e)),!e)return new oa;if(e instanceof oa)return e;e=e.rgb();var r=e.r/255,n=e.g/255,s=e.b/255,a=Math.min(r,n,s),i=Math.max(r,n,s),o=NaN,l=i-a,c=(i+a)/2;return l?(r===i?o=(n-s)/l+(n<s)*6:n===i?o=(s-r)/l+2:o=(r-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new oa(o,l,c,e.opacity)}function Ece(e,r,n,s){return arguments.length===1?SI(e):new oa(e,r,n,s??1)}function oa(e,r,n,s){this.h=+e,this.s=+r,this.l=+n,this.opacity=+s}V1(oa,Ece,wI(Mh,{brighter(e){return e=e==null?lx:Math.pow(lx,e),new oa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Um:Math.pow(Um,e),new oa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*r,a=2*n-s;return new es(Qy(e>=240?e-240:e+120,a,s),Qy(e,a,s),Qy(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new oa(B_(this.h),Sf(this.s),Sf(this.l),cx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cx(this.opacity);return`${e===1?"hsl(":"hsla("}${B_(this.h)}, ${Sf(this.s)*100}%, ${Sf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function B_(e){return e=(e||0)%360,e<0?e+360:e}function Sf(e){return Math.max(0,Math.min(1,e||0))}function Qy(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}const q1=e=>()=>e;function Oce(e,r){return function(n){return e+n*r}}function Rce(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(s){return Math.pow(e+s*r,n)}}function Dce(e){return(e=+e)==1?PI:function(r,n){return n-r?Rce(r,n,e):q1(isNaN(r)?n:r)}}function PI(e,r){var n=r-e;return n?Oce(e,n):q1(isNaN(e)?r:e)}const U_=function e(r){var n=Dce(r);function s(a,i){var o=n((a=_b(a)).r,(i=_b(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),d=PI(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=e,s}(1);function Mce(e,r){r||(r=[]);var n=e?Math.min(r.length,e.length):0,s=r.slice(),a;return function(i){for(a=0;a<n;++a)s[a]=e[a]*(1-i)+r[a]*i;return s}}function Ice(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $ce(e,r){var n=r?r.length:0,s=e?Math.min(n,e.length):0,a=new Array(s),i=new Array(n),o;for(o=0;o<s;++o)a[o]=nu(e[o],r[o]);for(;o<n;++o)i[o]=r[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function Lce(e,r){var n=new Date;return e=+e,r=+r,function(s){return n.setTime(e*(1-s)+r*s),n}}function dx(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}function Fce(e,r){var n={},s={},a;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in e?n[a]=nu(e[a],r[a]):s[a]=r[a];return function(i){for(a in n)s[a]=n[a](i);return s}}var Ab=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zy=new RegExp(Ab.source,"g");function zce(e){return function(){return e}}function Bce(e){return function(r){return e(r)+""}}function Uce(e,r){var n=Ab.lastIndex=Zy.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",r=r+"";(s=Ab.exec(e))&&(a=Zy.exec(r));)(i=a.index)>n&&(i=r.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:dx(s,a)})),n=Zy.lastIndex;return n<r.length&&(i=r.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Bce(c[0].x):zce(r):(r=c.length,function(d){for(var u=0,m;u<r;++u)l[(m=c[u]).i]=m.x(d);return l.join("")})}function nu(e,r){var n=typeof r,s;return r==null||n==="boolean"?q1(r):(n==="number"?dx:n==="string"?(s=qm(r))?(r=s,U_):Uce:r instanceof qm?U_:r instanceof Date?Lce:Ice(r)?Mce:Array.isArray(r)?$ce:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Fce:dx)(e,r)}function W1(e,r){return e=+e,r=+r,function(n){return Math.round(e*(1-n)+r*n)}}function Vce(e,r){r===void 0&&(r=e,e=nu);for(var n=0,s=r.length-1,a=r[0],i=new Array(s<0?0:s);n<s;)i[n]=e(a,a=r[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function qce(e){return function(){return e}}function ux(e){return+e}var V_=[0,1];function Un(e){return e}function Tb(e,r){return(r-=e=+e)?function(n){return(n-e)/r}:qce(isNaN(r)?NaN:.5)}function Wce(e,r){var n;return e>r&&(n=e,e=r,r=n),function(s){return Math.max(e,Math.min(r,s))}}function Hce(e,r,n){var s=e[0],a=e[1],i=r[0],o=r[1];return a<s?(s=Tb(a,s),i=n(o,i)):(s=Tb(s,a),i=n(i,o)),function(l){return i(s(l))}}function Kce(e,r,n){var s=Math.min(e.length,r.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<s;)a[o]=Tb(e[o],e[o+1]),i[o]=n(r[o],r[o+1]);return function(l){var c=Dh(e,l,1,s)-1;return i[c](a[c](l))}}function Ih(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function pv(){var e=V_,r=V_,n=nu,s,a,i,o=Un,l,c,d;function u(){var h=Math.min(e.length,r.length);return o!==Un&&(o=Wce(e[0],e[h-1])),l=h>2?Kce:Hce,c=d=null,m}function m(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(s),r,n)))(s(o(h)))}return m.invert=function(h){return o(a((d||(d=l(r,e.map(s),dx)))(h)))},m.domain=function(h){return arguments.length?(e=Array.from(h,ux),u()):e.slice()},m.range=function(h){return arguments.length?(r=Array.from(h),u()):r.slice()},m.rangeRound=function(h){return r=Array.from(h),n=W1,u()},m.clamp=function(h){return arguments.length?(o=h?!0:Un,u()):o!==Un},m.interpolate=function(h){return arguments.length?(n=h,u()):n},m.unknown=function(h){return arguments.length?(i=h,m):i},function(h,p){return s=h,a=p,u()}}function H1(){return pv()(Un,Un)}function Gce(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mx(e,r){if((n=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function cd(e){return e=mx(Math.abs(e)),e?e[1]:NaN}function Xce(e,r){return function(n,s){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(r)}}function Yce(e){return function(r){return r.replace(/[0-9]/g,function(n){return e[+n]})}}var Qce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wm(e){if(!(r=Qce.exec(e)))throw new Error("invalid format: "+e);var r;return new K1({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Wm.prototype=K1.prototype;function K1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}K1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zce(e){e:for(var r=e.length,n=1,s=-1,a;n<r;++n)switch(e[n]){case".":s=a=n;break;case"0":s===0&&(s=n),a=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var CI;function Jce(e,r){var n=mx(e,r);if(!n)return e+"";var s=n[0],a=n[1],i=a-(CI=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+mx(e,Math.max(0,r+i-1))[0]}function q_(e,r){var n=mx(e,r);if(!n)return e+"";var s=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const W_={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Gce,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>q_(e*100,r),r:q_,s:Jce,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function H_(e){return e}var K_=Array.prototype.map,G_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ede(e){var r=e.grouping===void 0||e.thousands===void 0?H_:Xce(K_.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?H_:Yce(K_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=Wm(m);var h=m.fill,p=m.align,y=m.sign,f=m.symbol,v=m.zero,j=m.width,x=m.comma,b=m.precision,S=m.trim,w=m.type;w==="n"?(x=!0,w="g"):W_[w]||(b===void 0&&(b=12),S=!0,w="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var N=f==="$"?n:f==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",P=f==="$"?s:/[%p]/.test(w)?o:"",_=W_[w],C=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(M){var R=N,E=P,F,G,D;if(w==="c")E=_(M)+E,M="";else{M=+M;var J=M<0||1/M<0;if(M=isNaN(M)?c:_(Math.abs(M),b),S&&(M=Zce(M)),J&&+M==0&&y!=="+"&&(J=!1),R=(J?y==="("?y:l:y==="-"||y==="("?"":y)+R,E=(w==="s"?G_[8+CI/3]:"")+E+(J&&y==="("?")":""),C){for(F=-1,G=M.length;++F<G;)if(D=M.charCodeAt(F),48>D||D>57){E=(D===46?a+M.slice(F+1):M.slice(F))+E,M=M.slice(0,F);break}}}x&&!v&&(M=r(M,1/0));var q=R.length+M.length+E.length,U=q<j?new Array(j-q+1).join(h):"";switch(x&&v&&(M=r(U+M,U.length?j-E.length:1/0),U=""),p){case"<":M=R+M+E+U;break;case"=":M=R+U+M+E;break;case"^":M=U.slice(0,q=U.length>>1)+R+M+E+U.slice(q);break;default:M=U+R+M+E;break}return i(M)}return A.toString=function(){return m+""},A}function u(m,h){var p=d((m=Wm(m),m.type="f",m)),y=Math.max(-8,Math.min(8,Math.floor(cd(h)/3)))*3,f=Math.pow(10,-y),v=G_[8+y/3];return function(j){return p(f*j)+v}}return{format:d,formatPrefix:u}}var Pf,G1,_I;tde({thousands:",",grouping:[3],currency:["$",""]});function tde(e){return Pf=ede(e),G1=Pf.format,_I=Pf.formatPrefix,Pf}function rde(e){return Math.max(0,-cd(Math.abs(e)))}function nde(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cd(r)/3)))*3-cd(Math.abs(e)))}function sde(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,cd(r)-cd(e))+1}function AI(e,r,n,s){var a=Pb(e,r,n),i;switch(s=Wm(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return s.precision==null&&!isNaN(i=nde(a,o))&&(s.precision=i),_I(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=sde(a,Math.max(Math.abs(e),Math.abs(r))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=rde(a))&&(s.precision=i-(s.type==="%")*2);break}}return G1(s)}function Ro(e){var r=e.domain;return e.ticks=function(n){var s=r();return wb(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var a=r();return AI(a[0],a[a.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=r(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=Sb(o,l,n),d===c)return s[a]=o,s[i]=l,r(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function hx(){var e=H1();return e.copy=function(){return Ih(e,hx())},Ws.apply(e,arguments),Ro(e)}function TI(e){var r;function n(s){return s==null||isNaN(s=+s)?r:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,ux),n):e.slice()},n.unknown=function(s){return arguments.length?(r=s,n):r},n.copy=function(){return TI(e).unknown(r)},e=arguments.length?Array.from(e,ux):[0,1],Ro(n)}function kI(e,r){e=e.slice();var n=0,s=e.length-1,a=e[n],i=e[s],o;return i<a&&(o=n,n=s,s=o,o=a,a=i,i=o),e[n]=r.floor(a),e[s]=r.ceil(i),e}function X_(e){return Math.log(e)}function Y_(e){return Math.exp(e)}function ade(e){return-Math.log(-e)}function ide(e){return-Math.exp(-e)}function ode(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lde(e){return e===10?ode:e===Math.E?Math.exp:r=>Math.pow(e,r)}function cde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function Q_(e){return(r,n)=>-e(-r,n)}function X1(e){const r=e(X_,Y_),n=r.domain;let s=10,a,i;function o(){return a=cde(s),i=lde(s),n()[0]<0?(a=Q_(a),i=Q_(i),e(ade,ide)):e(X_,Y_),r}return r.base=function(l){return arguments.length?(s=+l,o()):s},r.domain=function(l){return arguments.length?(n(l),o()):n()},r.ticks=l=>{const c=n();let d=c[0],u=c[c.length-1];const m=u<d;m&&([d,u]=[u,d]);let h=a(d),p=a(u),y,f;const v=l==null?10:+l;let j=[];if(!(s%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),d>0){for(;h<=p;++h)for(y=1;y<s;++y)if(f=h<0?y/i(-h):y*i(h),!(f<d)){if(f>u)break;j.push(f)}}else for(;h<=p;++h)for(y=s-1;y>=1;--y)if(f=h>0?y/i(-h):y*i(h),!(f<d)){if(f>u)break;j.push(f)}j.length*2<v&&(j=wb(d,u,v))}else j=wb(h,p,Math.min(p-h,v)).map(i);return m?j.reverse():j},r.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=Wm(c)).precision==null&&(c.trim=!0),c=G1(c)),l===1/0)return c;const d=Math.max(1,s*l/r.ticks().length);return u=>{let m=u/i(Math.round(a(u)));return m*s<s-.5&&(m*=s),m<=d?c(u):""}},r.nice=()=>n(kI(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),r}function EI(){const e=X1(pv()).domain([1,10]);return e.copy=()=>Ih(e,EI()).base(e.base()),Ws.apply(e,arguments),e}function Z_(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function J_(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function Y1(e){var r=1,n=e(Z_(r),J_(r));return n.constant=function(s){return arguments.length?e(Z_(r=+s),J_(r)):r},Ro(n)}function OI(){var e=Y1(pv());return e.copy=function(){return Ih(e,OI()).constant(e.constant())},Ws.apply(e,arguments)}function eA(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function dde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ude(e){return e<0?-e*e:e*e}function Q1(e){var r=e(Un,Un),n=1;function s(){return n===1?e(Un,Un):n===.5?e(dde,ude):e(eA(n),eA(1/n))}return r.exponent=function(a){return arguments.length?(n=+a,s()):n},Ro(r)}function Z1(){var e=Q1(pv());return e.copy=function(){return Ih(e,Z1()).exponent(e.exponent())},Ws.apply(e,arguments),e}function mde(){return Z1.apply(null,arguments).exponent(.5)}function tA(e){return Math.sign(e)*e*e}function hde(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function RI(){var e=H1(),r=[0,1],n=!1,s;function a(i){var o=hde(e(i));return isNaN(o)?s:n?Math.round(o):o}return a.invert=function(i){return e.invert(tA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((r=Array.from(i,ux)).map(tA)),a):r.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return RI(e.domain(),r).round(n).clamp(e.clamp()).unknown(s)},Ws.apply(a,arguments),Ro(a)}function DI(){var e=[],r=[],n=[],s;function a(){var o=0,l=Math.max(1,r.length);for(n=new Array(l-1);++o<l;)n[o-1]=vce(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:r[Dh(n,o)]}return i.invertExtent=function(o){var l=r.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(go),a()},i.range=function(o){return arguments.length?(r=Array.from(o),a()):r.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return n.slice()},i.copy=function(){return DI().domain(e).range(r).unknown(s)},Ws.apply(i,arguments)}function MI(){var e=0,r=1,n=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Dh(s,c,0,n)]:i}function l(){var c=-1;for(s=new Array(n);++c<n;)s[c]=((c+1)*r-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,r]=c,e=+e,r=+r,l()):[e,r]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,s[0]]:d>=n?[s[n-1],r]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return MI().domain([e,r]).range(a).unknown(i)},Ws.apply(Ro(o),arguments)}function II(){var e=[.5],r=[0,1],n,s=1;function a(i){return i!=null&&i<=i?r[Dh(e,i,0,s)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,r.length-1),a):e.slice()},a.range=function(i){return arguments.length?(r=Array.from(i),s=Math.min(e.length,r.length-1),a):r.slice()},a.invertExtent=function(i){var o=r.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return II().domain(e).range(r).unknown(n)},Ws.apply(a,arguments)}const Jy=new Date,ej=new Date;function sn(e,r,n,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),r(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>sn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;r(o,-1),!i(o););else for(;--l>=0;)for(;r(o,1),!i(o););}),n&&(a.count=(i,o)=>(Jy.setTime(+i),ej.setTime(+o),e(Jy),e(ej),Math.floor(n(Jy,ej))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const fx=sn(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);fx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?sn(r=>{r.setTime(Math.floor(r/e)*e)},(r,n)=>{r.setTime(+r+n*e)},(r,n)=>(n-r)/e):fx);fx.range;const ui=1e3,$s=ui*60,mi=$s*60,_i=mi*24,J1=_i*7,rA=_i*30,tj=_i*365,nl=sn(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*ui)},(e,r)=>(r-e)/ui,e=>e.getUTCSeconds());nl.range;const e2=sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ui)},(e,r)=>{e.setTime(+e+r*$s)},(e,r)=>(r-e)/$s,e=>e.getMinutes());e2.range;const t2=sn(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*$s)},(e,r)=>(r-e)/$s,e=>e.getUTCMinutes());t2.range;const r2=sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ui-e.getMinutes()*$s)},(e,r)=>{e.setTime(+e+r*mi)},(e,r)=>(r-e)/mi,e=>e.getHours());r2.range;const n2=sn(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*mi)},(e,r)=>(r-e)/mi,e=>e.getUTCHours());n2.range;const $h=sn(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*$s)/_i,e=>e.getDate()-1);$h.range;const xv=sn(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/_i,e=>e.getUTCDate()-1);xv.range;const $I=sn(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/_i,e=>Math.floor(e/_i));$I.range;function Wl(e){return sn(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,n)=>{r.setDate(r.getDate()+n*7)},(r,n)=>(n-r-(n.getTimezoneOffset()-r.getTimezoneOffset())*$s)/J1)}const gv=Wl(0),px=Wl(1),fde=Wl(2),pde=Wl(3),dd=Wl(4),xde=Wl(5),gde=Wl(6);gv.range;px.range;fde.range;pde.range;dd.range;xde.range;gde.range;function Hl(e){return sn(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCDate(r.getUTCDate()+n*7)},(r,n)=>(n-r)/J1)}const vv=Hl(0),xx=Hl(1),vde=Hl(2),yde=Hl(3),ud=Hl(4),jde=Hl(5),bde=Hl(6);vv.range;xx.range;vde.range;yde.range;ud.range;jde.range;bde.range;const s2=sn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());s2.range;const a2=sn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());a2.range;const Ai=sn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sn(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,n)=>{r.setFullYear(r.getFullYear()+n*e)});Ai.range;const Ti=sn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sn(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCFullYear(r.getUTCFullYear()+n*e)});Ti.range;function LI(e,r,n,s,a,i){const o=[[nl,1,ui],[nl,5,5*ui],[nl,15,15*ui],[nl,30,30*ui],[i,1,$s],[i,5,5*$s],[i,15,15*$s],[i,30,30*$s],[a,1,mi],[a,3,3*mi],[a,6,6*mi],[a,12,12*mi],[s,1,_i],[s,2,2*_i],[n,1,J1],[r,1,rA],[r,3,3*rA],[e,1,tj]];function l(d,u,m){const h=u<d;h&&([d,u]=[u,d]);const p=m&&typeof m.range=="function"?m:c(d,u,m),y=p?p.range(d,+u+1):[];return h?y.reverse():y}function c(d,u,m){const h=Math.abs(u-d)/m,p=B1(([,,v])=>v).right(o,h);if(p===o.length)return e.every(Pb(d/tj,u/tj,m));if(p===0)return fx.every(Math.max(Pb(d,u,m),1));const[y,f]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(f)}return[l,c]}const[Nde,wde]=LI(Ti,a2,vv,$I,n2,t2),[Sde,Pde]=LI(Ai,s2,gv,$h,r2,e2);function rj(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function nj(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Su(e,r,n){return{y:e,m:r,d:n,H:0,M:0,S:0,L:0}}function Cde(e){var r=e.dateTime,n=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Pu(a),u=Cu(a),m=Pu(i),h=Cu(i),p=Pu(o),y=Cu(o),f=Pu(l),v=Cu(l),j=Pu(c),x=Cu(c),b={a:J,A:q,b:U,B:re,c:null,d:lA,e:lA,f:Xde,g:aue,G:oue,H:Hde,I:Kde,j:Gde,L:FI,m:Yde,M:Qde,p:he,q:ie,Q:uA,s:mA,S:Zde,u:Jde,U:eue,V:tue,w:rue,W:nue,x:null,X:null,y:sue,Y:iue,Z:lue,"%":dA},S={a:fe,A:xe,b:ge,B:Te,c:null,d:cA,e:cA,f:mue,g:Nue,G:Sue,H:cue,I:due,j:uue,L:BI,m:hue,M:fue,p:Se,q:Ue,Q:uA,s:mA,S:pue,u:xue,U:gue,V:vue,w:yue,W:jue,x:null,X:null,y:bue,Y:wue,Z:Pue,"%":dA},w={a:A,A:M,b:R,B:E,c:F,d:iA,e:iA,f:Ude,g:aA,G:sA,H:oA,I:oA,j:Lde,L:Bde,m:$de,M:Fde,p:C,q:Ide,Q:qde,s:Wde,S:zde,u:Ede,U:Ode,V:Rde,w:kde,W:Dde,x:G,X:D,y:aA,Y:sA,Z:Mde,"%":Vde};b.x=N(n,b),b.X=N(s,b),b.c=N(r,b),S.x=N(n,S),S.X=N(s,S),S.c=N(r,S);function N(be,Q){return function(pe){var oe=[],ze=-1,Fe=0,tt=be.length,lt,me,He;for(pe instanceof Date||(pe=new Date(+pe));++ze<tt;)be.charCodeAt(ze)===37&&(oe.push(be.slice(Fe,ze)),(me=nA[lt=be.charAt(++ze)])!=null?lt=be.charAt(++ze):me=lt==="e"?" ":"0",(He=Q[lt])&&(lt=He(pe,me)),oe.push(lt),Fe=ze+1);return oe.push(be.slice(Fe,ze)),oe.join("")}}function P(be,Q){return function(pe){var oe=Su(1900,void 0,1),ze=_(oe,be,pe+="",0),Fe,tt;if(ze!=pe.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(Q&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Fe=nj(Su(oe.y,0,1)),tt=Fe.getUTCDay(),Fe=tt>4||tt===0?xx.ceil(Fe):xx(Fe),Fe=xv.offset(Fe,(oe.V-1)*7),oe.y=Fe.getUTCFullYear(),oe.m=Fe.getUTCMonth(),oe.d=Fe.getUTCDate()+(oe.w+6)%7):(Fe=rj(Su(oe.y,0,1)),tt=Fe.getDay(),Fe=tt>4||tt===0?px.ceil(Fe):px(Fe),Fe=$h.offset(Fe,(oe.V-1)*7),oe.y=Fe.getFullYear(),oe.m=Fe.getMonth(),oe.d=Fe.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),tt="Z"in oe?nj(Su(oe.y,0,1)).getUTCDay():rj(Su(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(tt+5)%7:oe.w+oe.U*7-(tt+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,nj(oe)):rj(oe)}}function _(be,Q,pe,oe){for(var ze=0,Fe=Q.length,tt=pe.length,lt,me;ze<Fe;){if(oe>=tt)return-1;if(lt=Q.charCodeAt(ze++),lt===37){if(lt=Q.charAt(ze++),me=w[lt in nA?Q.charAt(ze++):lt],!me||(oe=me(be,pe,oe))<0)return-1}else if(lt!=pe.charCodeAt(oe++))return-1}return oe}function C(be,Q,pe){var oe=d.exec(Q.slice(pe));return oe?(be.p=u.get(oe[0].toLowerCase()),pe+oe[0].length):-1}function A(be,Q,pe){var oe=p.exec(Q.slice(pe));return oe?(be.w=y.get(oe[0].toLowerCase()),pe+oe[0].length):-1}function M(be,Q,pe){var oe=m.exec(Q.slice(pe));return oe?(be.w=h.get(oe[0].toLowerCase()),pe+oe[0].length):-1}function R(be,Q,pe){var oe=j.exec(Q.slice(pe));return oe?(be.m=x.get(oe[0].toLowerCase()),pe+oe[0].length):-1}function E(be,Q,pe){var oe=f.exec(Q.slice(pe));return oe?(be.m=v.get(oe[0].toLowerCase()),pe+oe[0].length):-1}function F(be,Q,pe){return _(be,r,Q,pe)}function G(be,Q,pe){return _(be,n,Q,pe)}function D(be,Q,pe){return _(be,s,Q,pe)}function J(be){return o[be.getDay()]}function q(be){return i[be.getDay()]}function U(be){return c[be.getMonth()]}function re(be){return l[be.getMonth()]}function he(be){return a[+(be.getHours()>=12)]}function ie(be){return 1+~~(be.getMonth()/3)}function fe(be){return o[be.getUTCDay()]}function xe(be){return i[be.getUTCDay()]}function ge(be){return c[be.getUTCMonth()]}function Te(be){return l[be.getUTCMonth()]}function Se(be){return a[+(be.getUTCHours()>=12)]}function Ue(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Q=N(be+="",b);return Q.toString=function(){return be},Q},parse:function(be){var Q=P(be+="",!1);return Q.toString=function(){return be},Q},utcFormat:function(be){var Q=N(be+="",S);return Q.toString=function(){return be},Q},utcParse:function(be){var Q=P(be+="",!0);return Q.toString=function(){return be},Q}}}var nA={"-":"",_:" ",0:"0"},pn=/^\s*\d+/,_de=/^%/,Ade=/[\\^$*+?|[\]().{}]/g;function Yt(e,r,n){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<n?new Array(n-i+1).join(r)+a:a)}function Tde(e){return e.replace(Ade,"\\$&")}function Pu(e){return new RegExp("^(?:"+e.map(Tde).join("|")+")","i")}function Cu(e){return new Map(e.map((r,n)=>[r.toLowerCase(),n]))}function kde(e,r,n){var s=pn.exec(r.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function Ede(e,r,n){var s=pn.exec(r.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function Ode(e,r,n){var s=pn.exec(r.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function Rde(e,r,n){var s=pn.exec(r.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function Dde(e,r,n){var s=pn.exec(r.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function sA(e,r,n){var s=pn.exec(r.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function aA(e,r,n){var s=pn.exec(r.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function Mde(e,r,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function Ide(e,r,n){var s=pn.exec(r.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function $de(e,r,n){var s=pn.exec(r.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function iA(e,r,n){var s=pn.exec(r.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function Lde(e,r,n){var s=pn.exec(r.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function oA(e,r,n){var s=pn.exec(r.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function Fde(e,r,n){var s=pn.exec(r.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function zde(e,r,n){var s=pn.exec(r.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function Bde(e,r,n){var s=pn.exec(r.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function Ude(e,r,n){var s=pn.exec(r.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function Vde(e,r,n){var s=_de.exec(r.slice(n,n+1));return s?n+s[0].length:-1}function qde(e,r,n){var s=pn.exec(r.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function Wde(e,r,n){var s=pn.exec(r.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function lA(e,r){return Yt(e.getDate(),r,2)}function Hde(e,r){return Yt(e.getHours(),r,2)}function Kde(e,r){return Yt(e.getHours()%12||12,r,2)}function Gde(e,r){return Yt(1+$h.count(Ai(e),e),r,3)}function FI(e,r){return Yt(e.getMilliseconds(),r,3)}function Xde(e,r){return FI(e,r)+"000"}function Yde(e,r){return Yt(e.getMonth()+1,r,2)}function Qde(e,r){return Yt(e.getMinutes(),r,2)}function Zde(e,r){return Yt(e.getSeconds(),r,2)}function Jde(e){var r=e.getDay();return r===0?7:r}function eue(e,r){return Yt(gv.count(Ai(e)-1,e),r,2)}function zI(e){var r=e.getDay();return r>=4||r===0?dd(e):dd.ceil(e)}function tue(e,r){return e=zI(e),Yt(dd.count(Ai(e),e)+(Ai(e).getDay()===4),r,2)}function rue(e){return e.getDay()}function nue(e,r){return Yt(px.count(Ai(e)-1,e),r,2)}function sue(e,r){return Yt(e.getFullYear()%100,r,2)}function aue(e,r){return e=zI(e),Yt(e.getFullYear()%100,r,2)}function iue(e,r){return Yt(e.getFullYear()%1e4,r,4)}function oue(e,r){var n=e.getDay();return e=n>=4||n===0?dd(e):dd.ceil(e),Yt(e.getFullYear()%1e4,r,4)}function lue(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+Yt(r/60|0,"0",2)+Yt(r%60,"0",2)}function cA(e,r){return Yt(e.getUTCDate(),r,2)}function cue(e,r){return Yt(e.getUTCHours(),r,2)}function due(e,r){return Yt(e.getUTCHours()%12||12,r,2)}function uue(e,r){return Yt(1+xv.count(Ti(e),e),r,3)}function BI(e,r){return Yt(e.getUTCMilliseconds(),r,3)}function mue(e,r){return BI(e,r)+"000"}function hue(e,r){return Yt(e.getUTCMonth()+1,r,2)}function fue(e,r){return Yt(e.getUTCMinutes(),r,2)}function pue(e,r){return Yt(e.getUTCSeconds(),r,2)}function xue(e){var r=e.getUTCDay();return r===0?7:r}function gue(e,r){return Yt(vv.count(Ti(e)-1,e),r,2)}function UI(e){var r=e.getUTCDay();return r>=4||r===0?ud(e):ud.ceil(e)}function vue(e,r){return e=UI(e),Yt(ud.count(Ti(e),e)+(Ti(e).getUTCDay()===4),r,2)}function yue(e){return e.getUTCDay()}function jue(e,r){return Yt(xx.count(Ti(e)-1,e),r,2)}function bue(e,r){return Yt(e.getUTCFullYear()%100,r,2)}function Nue(e,r){return e=UI(e),Yt(e.getUTCFullYear()%100,r,2)}function wue(e,r){return Yt(e.getUTCFullYear()%1e4,r,4)}function Sue(e,r){var n=e.getUTCDay();return e=n>=4||n===0?ud(e):ud.ceil(e),Yt(e.getUTCFullYear()%1e4,r,4)}function Pue(){return"+0000"}function dA(){return"%"}function uA(e){return+e}function mA(e){return Math.floor(+e/1e3)}var ec,VI,qI;Cue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Cue(e){return ec=Cde(e),VI=ec.format,ec.parse,qI=ec.utcFormat,ec.utcParse,ec}function _ue(e){return new Date(e)}function Aue(e){return e instanceof Date?+e:+new Date(+e)}function i2(e,r,n,s,a,i,o,l,c,d){var u=H1(),m=u.invert,h=u.domain,p=d(".%L"),y=d(":%S"),f=d("%I:%M"),v=d("%I %p"),j=d("%a %d"),x=d("%b %d"),b=d("%B"),S=d("%Y");function w(N){return(c(N)<N?p:l(N)<N?y:o(N)<N?f:i(N)<N?v:s(N)<N?a(N)<N?j:x:n(N)<N?b:S)(N)}return u.invert=function(N){return new Date(m(N))},u.domain=function(N){return arguments.length?h(Array.from(N,Aue)):h().map(_ue)},u.ticks=function(N){var P=h();return e(P[0],P[P.length-1],N??10)},u.tickFormat=function(N,P){return P==null?w:d(P)},u.nice=function(N){var P=h();return(!N||typeof N.range!="function")&&(N=r(P[0],P[P.length-1],N??10)),N?h(kI(P,N)):u},u.copy=function(){return Ih(u,i2(e,r,n,s,a,i,o,l,c,d))},u}function Tue(){return Ws.apply(i2(Sde,Pde,Ai,s2,gv,$h,r2,e2,nl,VI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kue(){return Ws.apply(i2(Nde,wde,Ti,a2,vv,xv,n2,t2,nl,qI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yv(){var e=0,r=1,n,s,a,i,o=Un,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(a===0?.5:(m=(i(m)-n)*a,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,r]=m,n=i(e=+e),s=i(r=+r),a=n===s?0:1/(s-n),d):[e,r]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function u(m){return function(h){var p,y;return arguments.length?([p,y]=h,o=m(p,y),d):[o(0),o(1)]}}return d.range=u(nu),d.rangeRound=u(W1),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,n=m(e),s=m(r),a=n===s?0:1/(s-n),d}}function Do(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function WI(){var e=Ro(yv()(Un));return e.copy=function(){return Do(e,WI())},$i.apply(e,arguments)}function HI(){var e=X1(yv()).domain([1,10]);return e.copy=function(){return Do(e,HI()).base(e.base())},$i.apply(e,arguments)}function KI(){var e=Y1(yv());return e.copy=function(){return Do(e,KI()).constant(e.constant())},$i.apply(e,arguments)}function o2(){var e=Q1(yv());return e.copy=function(){return Do(e,o2()).exponent(e.exponent())},$i.apply(e,arguments)}function Eue(){return o2.apply(null,arguments).exponent(.5)}function GI(){var e=[],r=Un;function n(s){if(s!=null&&!isNaN(s=+s))return r((Dh(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(go),n},n.interpolator=function(s){return arguments.length?(r=s,n):r},n.range=function(){return e.map((s,a)=>r(a/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(a,i)=>gce(e,i/s))},n.copy=function(){return GI(r).domain(e)},$i.apply(n,arguments)}function jv(){var e=0,r=.5,n=1,s=1,a,i,o,l,c,d=Un,u,m=!1,h;function p(f){return isNaN(f=+f)?h:(f=.5+((f=+u(f))-i)*(s*f<s*i?l:c),d(m?Math.max(0,Math.min(1,f)):f))}p.domain=function(f){return arguments.length?([e,r,n]=f,a=u(e=+e),i=u(r=+r),o=u(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,p):[e,r,n]},p.clamp=function(f){return arguments.length?(m=!!f,p):m},p.interpolator=function(f){return arguments.length?(d=f,p):d};function y(f){return function(v){var j,x,b;return arguments.length?([j,x,b]=v,d=Vce(f,[j,x,b]),p):[d(0),d(.5),d(1)]}}return p.range=y(nu),p.rangeRound=y(W1),p.unknown=function(f){return arguments.length?(h=f,p):h},function(f){return u=f,a=f(e),i=f(r),o=f(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,p}}function XI(){var e=Ro(jv()(Un));return e.copy=function(){return Do(e,XI())},$i.apply(e,arguments)}function YI(){var e=X1(jv()).domain([.1,1,10]);return e.copy=function(){return Do(e,YI()).base(e.base())},$i.apply(e,arguments)}function QI(){var e=Y1(jv());return e.copy=function(){return Do(e,QI()).constant(e.constant())},$i.apply(e,arguments)}function l2(){var e=Q1(jv());return e.copy=function(){return Do(e,l2()).exponent(e.exponent())},$i.apply(e,arguments)}function Oue(){return l2.apply(null,arguments).exponent(.5)}const hA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bm,scaleDiverging:XI,scaleDivergingLog:YI,scaleDivergingPow:l2,scaleDivergingSqrt:Oue,scaleDivergingSymlog:QI,scaleIdentity:TI,scaleImplicit:Cb,scaleLinear:hx,scaleLog:EI,scaleOrdinal:U1,scalePoint:tm,scalePow:Z1,scaleQuantile:DI,scaleQuantize:MI,scaleRadial:RI,scaleSequential:WI,scaleSequentialLog:HI,scaleSequentialPow:o2,scaleSequentialQuantile:GI,scaleSequentialSqrt:Eue,scaleSequentialSymlog:KI,scaleSqrt:mde,scaleSymlog:OI,scaleThreshold:II,scaleTime:Tue,scaleUtc:kue,tickFormat:AI},Symbol.toStringTag,{value:"Module"}));var Rue=Gd;function Due(e,r,n){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=r(i);if(o!=null&&(l===void 0?o===o&&!Rue(o):n(o,l)))var l=o,c=i}return c}var bv=Due;function Mue(e,r){return e>r}var ZI=Mue,Iue=bv,$ue=ZI,Lue=ru;function Fue(e){return e&&e.length?Iue(e,Lue,$ue):void 0}var zue=Fue;const ao=Jt(zue);function Bue(e,r){return e<r}var JI=Bue,Uue=bv,Vue=JI,que=ru;function Wue(e){return e&&e.length?Uue(e,que,Vue):void 0}var Hue=Wue;const Nv=Jt(Hue);var Kue=N1,Gue=Za,Xue=oI,Yue=os;function Que(e,r){var n=Yue(e)?Kue:Xue;return n(e,Gue(r))}var Zue=Que,Jue=aI,eme=Zue;function tme(e,r){return Jue(eme(e,r),1)}var rme=tme;const nme=Jt(rme);var sme=$1;function ame(e,r){return sme(e,r)}var ime=ame;const Rl=Jt(ime);var su=1e9,ome={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},d2,_r=!0,Us="[DecimalError] ",xl=Us+"Invalid argument: ",c2=Us+"Exponent out of range: ",au=Math.floor,Go=Math.pow,lme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ps,on=1e7,gr=7,e$=9007199254740991,gx=au(e$/gr),Qe={};Qe.absoluteValue=Qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Qe.comparedTo=Qe.cmp=function(e){var r,n,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,r=0,n=s<a?s:a;r<n;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var e=this,r=e.d.length-1,n=(r-e.e)*gr;if(r=e.d[r],r)for(;r%10==0;r/=10)n--;return n<0?0:n};Qe.dividedBy=Qe.div=function(e){return xi(this,new this.constructor(e))};Qe.dividedToIntegerBy=Qe.idiv=function(e){var r=this,n=r.constructor;return lr(xi(r,new n(e),0,1),n.precision)};Qe.equals=Qe.eq=function(e){return!this.cmp(e)};Qe.exponent=function(){return Qr(this)};Qe.greaterThan=Qe.gt=function(e){return this.cmp(e)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(e){return this.cmp(e)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(e){return this.cmp(e)<0};Qe.lessThanOrEqualTo=Qe.lte=function(e){return this.cmp(e)<1};Qe.logarithm=Qe.log=function(e){var r,n=this,s=n.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(ps))throw Error(Us+"NaN");if(n.s<1)throw Error(Us+(n.s?"NaN":"-Infinity"));return n.eq(ps)?new s(0):(_r=!1,r=xi(Hm(n,i),Hm(e,i),i),_r=!0,lr(r,a))};Qe.minus=Qe.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?n$(r,e):t$(r,(e.s=-e.s,e))};Qe.modulo=Qe.mod=function(e){var r,n=this,s=n.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(Us+"NaN");return n.s?(_r=!1,r=xi(n,e,0,1).times(e),_r=!0,n.minus(r)):lr(new s(n),a)};Qe.naturalExponential=Qe.exp=function(){return r$(this)};Qe.naturalLogarithm=Qe.ln=function(){return Hm(this)};Qe.negated=Qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Qe.plus=Qe.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?t$(r,e):n$(r,(e.s=-e.s,e))};Qe.precision=Qe.sd=function(e){var r,n,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xl+e);if(r=Qr(a)+1,s=a.d.length-1,n=s*gr+1,s=a.d[s],s){for(;s%10==0;s/=10)n--;for(s=a.d[0];s>=10;s/=10)n++}return e&&r>n?r:n};Qe.squareRoot=Qe.sqrt=function(){var e,r,n,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Us+"NaN")}for(e=Qr(l),_r=!1,a=Math.sqrt(+l),a==0||a==1/0?(r=La(l.d),(r.length+e)%2==0&&(r+="0"),a=Math.sqrt(r),e=au((e+1)/2)-(e<0||e%2),a==1/0?r="5e"+e:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),s=new c(r)):s=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=s,s=i.plus(xi(l,i,o+2)).times(.5),La(i.d).slice(0,o)===(r=La(s.d)).slice(0,o)){if(r=r.slice(o-3,o+1),a==o&&r=="4999"){if(lr(i,n+1,0),i.times(i).eq(l)){s=i;break}}else if(r!="9999")break;o+=4}return _r=!0,lr(s,n)};Qe.times=Qe.mul=function(e){var r,n,s,a,i,o,l,c,d,u=this,m=u.constructor,h=u.d,p=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,n=u.e+e.e,c=h.length,d=p.length,c<d&&(i=h,h=p,p=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(r=0,a=c+s;a>s;)l=i[a]+p[s]*h[a-s-1]+r,i[a--]=l%on|0,r=l/on|0;i[a]=(i[a]+r)%on|0}for(;!i[--o];)i.pop();return r?++n:i.shift(),e.d=i,e.e=n,_r?lr(e,m.precision):e};Qe.toDecimalPlaces=Qe.todp=function(e,r){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(Xa(e,0,su),r===void 0?r=s.rounding:Xa(r,0,8),lr(n,e+Qr(n)+1,r))};Qe.toExponential=function(e,r){var n,s=this,a=s.constructor;return e===void 0?n=Dl(s,!0):(Xa(e,0,su),r===void 0?r=a.rounding:Xa(r,0,8),s=lr(new a(s),e+1,r),n=Dl(s,!0,e+1)),n};Qe.toFixed=function(e,r){var n,s,a=this,i=a.constructor;return e===void 0?Dl(a):(Xa(e,0,su),r===void 0?r=i.rounding:Xa(r,0,8),s=lr(new i(a),e+Qr(a)+1,r),n=Dl(s.abs(),!1,e+Qr(s)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Qe.toInteger=Qe.toint=function(){var e=this,r=e.constructor;return lr(new r(e),Qr(e)+1,r.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(e){var r,n,s,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(ps);if(l=new c(l),!l.s){if(e.s<1)throw Error(Us+"Infinity");return l}if(l.eq(ps))return l;if(s=c.precision,e.eq(ps))return lr(l,s);if(r=e.e,n=e.d.length-1,o=r>=n,i=l.s,o){if((n=u<0?-u:u)<=e$){for(a=new c(ps),r=Math.ceil(s/gr+4),_r=!1;n%2&&(a=a.times(l),pA(a.d,r)),n=au(n/2),n!==0;)l=l.times(l),pA(l.d,r);return _r=!0,e.s<0?new c(ps).div(a):lr(a,s)}}else if(i<0)throw Error(Us+"NaN");return i=i<0&&e.d[Math.max(r,n)]&1?-1:1,l.s=1,_r=!1,a=e.times(Hm(l,s+d)),_r=!0,a=r$(a),a.s=i,a};Qe.toPrecision=function(e,r){var n,s,a=this,i=a.constructor;return e===void 0?(n=Qr(a),s=Dl(a,n<=i.toExpNeg||n>=i.toExpPos)):(Xa(e,1,su),r===void 0?r=i.rounding:Xa(r,0,8),a=lr(new i(a),e,r),n=Qr(a),s=Dl(a,e<=n||n<=i.toExpNeg,e)),s};Qe.toSignificantDigits=Qe.tosd=function(e,r){var n=this,s=n.constructor;return e===void 0?(e=s.precision,r=s.rounding):(Xa(e,1,su),r===void 0?r=s.rounding:Xa(r,0,8)),lr(new s(n),e,r)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=Qr(e),n=e.constructor;return Dl(e,r<=n.toExpNeg||r>=n.toExpPos)};function t$(e,r){var n,s,a,i,o,l,c,d,u=e.constructor,m=u.precision;if(!e.s||!r.s)return r.s||(r=new u(e)),_r?lr(r,m):r;if(c=e.d,d=r.d,o=e.e,a=r.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(m/gr),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/on|0,c[i]%=on;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return r.d=c,r.e=a,_r?lr(r,m):r}function Xa(e,r,n){if(e!==~~e||e<r||e>n)throw Error(xl+e)}function La(e){var r,n,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,r=1;r<a;r++)s=e[r]+"",n=gr-s.length,n&&(i+=Hi(n)),i+=s;o=e[r],s=o+"",n=gr-s.length,n&&(i+=Hi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var xi=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%on|0,o=i/on|0;return o&&s.unshift(o),s}function r(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function n(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*on+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,m,h,p,y,f,v,j,x,b,S,w,N,P,_,C=s.constructor,A=s.s==a.s?1:-1,M=s.d,R=a.d;if(!s.s)return new C(s);if(!a.s)throw Error(Us+"Division by zero");for(c=s.e-a.e,P=R.length,w=M.length,p=new C(A),y=p.d=[],d=0;R[d]==(M[d]||0);)++d;if(R[d]>(M[d]||0)&&--c,i==null?x=i=C.precision:o?x=i+(Qr(s)-Qr(a))+1:x=i,x<0)return new C(0);if(x=x/gr+2|0,d=0,P==1)for(u=0,R=R[0],x++;(d<w||u)&&x--;d++)b=u*on+(M[d]||0),y[d]=b/R|0,u=b%R|0;else{for(u=on/(R[0]+1)|0,u>1&&(R=e(R,u),M=e(M,u),P=R.length,w=M.length),S=P,f=M.slice(0,P),v=f.length;v<P;)f[v++]=0;_=R.slice(),_.unshift(0),N=R[0],R[1]>=on/2&&++N;do u=0,l=r(R,f,P,v),l<0?(j=f[0],P!=v&&(j=j*on+(f[1]||0)),u=j/N|0,u>1?(u>=on&&(u=on-1),m=e(R,u),h=m.length,v=f.length,l=r(m,f,h,v),l==1&&(u--,n(m,P<h?_:R,h))):(u==0&&(l=u=1),m=R.slice()),h=m.length,h<v&&m.unshift(0),n(f,m,v),l==-1&&(v=f.length,l=r(R,f,P,v),l<1&&(u++,n(f,P<v?_:R,v))),v=f.length):l===0&&(u++,f=[0]),y[d++]=u,l&&f[0]?f[v++]=M[S]||0:(f=[M[S]],v=1);while((S++<w||f[0]!==void 0)&&x--)}return y[0]||y.shift(),p.e=c,lr(p,o?i+Qr(p)+1:i)}}();function r$(e,r){var n,s,a,i,o,l,c=0,d=0,u=e.constructor,m=u.precision;if(Qr(e)>16)throw Error(c2+Qr(e));if(!e.s)return new u(ps);for(r==null?(_r=!1,l=m):l=r,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(s=Math.log(Go(2,d))/Math.LN10*2+5|0,l+=s,n=a=i=new u(ps),u.precision=l;;){if(a=lr(a.times(e),l),n=n.times(++c),o=i.plus(xi(a,n,l)),La(o.d).slice(0,l)===La(i.d).slice(0,l)){for(;d--;)i=lr(i.times(i),l);return u.precision=m,r==null?(_r=!0,lr(i,m)):i}i=o}}function Qr(e){for(var r=e.e*gr,n=e.d[0];n>=10;n/=10)r++;return r}function sj(e,r,n){if(r>e.LN10.sd())throw _r=!0,n&&(e.precision=n),Error(Us+"LN10 precision limit exceeded");return lr(new e(e.LN10),r)}function Hi(e){for(var r="";e--;)r+="0";return r}function Hm(e,r){var n,s,a,i,o,l,c,d,u,m=1,h=10,p=e,y=p.d,f=p.constructor,v=f.precision;if(p.s<1)throw Error(Us+(p.s?"NaN":"-Infinity"));if(p.eq(ps))return new f(0);if(r==null?(_r=!1,d=v):d=r,p.eq(10))return r==null&&(_r=!0),sj(f,d);if(d+=h,f.precision=d,n=La(y),s=n.charAt(0),i=Qr(p),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)p=p.times(e),n=La(p.d),s=n.charAt(0),m++;i=Qr(p),s>1?(p=new f("0."+n),i++):p=new f(s+"."+n.slice(1))}else return c=sj(f,d+2,v).times(i+""),p=Hm(new f(s+"."+n.slice(1)),d-h).plus(c),f.precision=v,r==null?(_r=!0,lr(p,v)):p;for(l=o=p=xi(p.minus(ps),p.plus(ps),d),u=lr(p.times(p),d),a=3;;){if(o=lr(o.times(u),d),c=l.plus(xi(o,new f(a),d)),La(c.d).slice(0,d)===La(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(sj(f,d+2,v).times(i+""))),l=xi(l,new f(m),d),f.precision=v,r==null?(_r=!0,lr(l,v)):l;l=c,a+=2}}function fA(e,r){var n,s,a;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(s=r.search(/e/i))>0?(n<0&&(n=s),n+=+r.slice(s+1),r=r.substring(0,s)):n<0&&(n=r.length),s=0;r.charCodeAt(s)===48;)++s;for(a=r.length;r.charCodeAt(a-1)===48;)--a;if(r=r.slice(s,a),r){if(a-=s,n=n-s-1,e.e=au(n/gr),e.d=[],s=(n+1)%gr,n<0&&(s+=gr),s<a){for(s&&e.d.push(+r.slice(0,s)),a-=gr;s<a;)e.d.push(+r.slice(s,s+=gr));r=r.slice(s),s=gr-r.length}else s-=a;for(;s--;)r+="0";if(e.d.push(+r),_r&&(e.e>gx||e.e<-gx))throw Error(c2+n)}else e.s=0,e.e=0,e.d=[0];return e}function lr(e,r,n){var s,a,i,o,l,c,d,u,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(s=r-o,s<0)s+=gr,a=r,d=m[u=0];else{if(u=Math.ceil((s+1)/gr),i=m.length,u>=i)return e;for(d=i=m[u],o=1;i>=10;i/=10)o++;s%=gr,a=s-gr+o}if(n!==void 0&&(i=Go(10,o-a-1),l=d/i%10|0,c=r<0||m[u+1]!==void 0||d%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(s>0?a>0?d/Go(10,o-a):0:m[u-1])%10&1||n==(e.s<0?8:7))),r<1||!m[0])return c?(i=Qr(e),m.length=1,r=r-i-1,m[0]=Go(10,(gr-r%gr)%gr),e.e=au(-r/gr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(s==0?(m.length=u,i=1,u--):(m.length=u+1,i=Go(10,gr-s),m[u]=a>0?(d/Go(10,o-a)%Go(10,a)|0)*i:0),c)for(;;)if(u==0){(m[0]+=i)==on&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=on)break;m[u--]=0,i=1}for(s=m.length;m[--s]===0;)m.pop();if(_r&&(e.e>gx||e.e<-gx))throw Error(c2+Qr(e));return e}function n$(e,r){var n,s,a,i,o,l,c,d,u,m,h=e.constructor,p=h.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new h(e),_r?lr(r,p):r;if(c=e.d,m=r.d,s=r.e,d=e.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(n=c,o=-o,l=m.length):(n=m,s=d,l=c.length),a=Math.max(Math.ceil(p/gr),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=m.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=m[a]){u=c[a]<m[a];break}o=0}for(u&&(n=c,c=m,m=n,r.s=-r.s),l=c.length,a=m.length-l;a>0;--a)c[l++]=0;for(a=m.length;a>o;){if(c[--a]<m[a]){for(i=a;i&&c[--i]===0;)c[i]=on-1;--c[i],c[a]+=on}c[a]-=m[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(r.d=c,r.e=s,_r?lr(r,p):r):new h(0)}function Dl(e,r,n){var s,a=Qr(e),i=La(e.d),o=i.length;return r?(n&&(s=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Hi(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Hi(-a-1)+i,n&&(s=n-o)>0&&(i+=Hi(s))):a>=o?(i+=Hi(a+1-o),n&&(s=n-a-1)>0&&(i=i+"."+Hi(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),n&&(s=n-o)>0&&(a+1===o&&(i+="."),i+=Hi(s))),e.s<0?"-"+i:i}function pA(e,r){if(e.length>r)return e.length=r,!0}function s$(e){var r,n,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(xl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return fA(o,i.toString())}else if(typeof i!="string")throw Error(xl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,lme.test(i))fA(o,i);else throw Error(xl+i)}if(a.prototype=Qe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=s$,a.config=a.set=cme,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<s.length;)e.hasOwnProperty(n=s[r++])||(e[n]=this[n]);return a.config(e),a}function cme(e){if(!e||typeof e!="object")throw Error(Us+"Object expected");var r,n,s,a=["precision",1,su,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<a.length;r+=3)if((s=e[n=a[r]])!==void 0)if(au(s)===s&&s>=a[r+1]&&s<=a[r+2])this[n]=s;else throw Error(xl+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(xl+n+": "+s);return this}var d2=s$(ome);ps=new d2(1);const ar=d2;function dme(e){return fme(e)||hme(e)||mme(e)||ume()}function ume(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mme(e,r){if(e){if(typeof e=="string")return kb(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kb(e,r)}}function hme(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fme(e){if(Array.isArray(e))return kb(e)}function kb(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}var pme=function(r){return r},a$={"@@functional/placeholder":!0},i$=function(r){return r===a$},xA=function(r){return function n(){return arguments.length===0||arguments.length===1&&i$(arguments.length<=0?void 0:arguments[0])?n:r.apply(void 0,arguments)}},xme=function e(r,n){return r===1?n:xA(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==a$}).length;return o>=r?n.apply(void 0,a):e(r-o,xA(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(m){return i$(m)?c.shift():m});return n.apply(void 0,dme(u).concat(c))}))})},wv=function(r){return xme(r.length,r)},Eb=function(r,n){for(var s=[],a=r;a<n;++a)s[a-r]=a;return s},gme=wv(function(e,r){return Array.isArray(r)?r.map(e):Object.keys(r).map(function(n){return r[n]}).map(e)}),vme=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];if(!n.length)return pme;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Ob=function(r){return Array.isArray(r)?r.reverse():r.split("").reverse.join("")},o$=function(r){var n=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,s=r.apply(void 0,i)),s}};function yme(e){var r;return e===0?r=1:r=Math.floor(new ar(e).abs().log(10).toNumber())+1,r}function jme(e,r,n){for(var s=new ar(e),a=0,i=[];s.lt(r)&&a<1e5;)i.push(s.toNumber()),s=s.add(n),a++;return i}var bme=wv(function(e,r,n){var s=+e,a=+r;return s+n*(a-s)}),Nme=wv(function(e,r,n){var s=r-+e;return s=s||1/0,(n-e)/s}),wme=wv(function(e,r,n){var s=r-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});const Sv={rangeStep:jme,getDigitCount:yme,interpolateNumber:bme,uninterpolateNumber:Nme,uninterpolateTruncation:wme};function Rb(e){return Cme(e)||Pme(e)||l$(e)||Sme()}function Sme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pme(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Cme(e){if(Array.isArray(e))return Db(e)}function Km(e,r){return Tme(e)||Ame(e,r)||l$(e,r)||_me()}function _me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l$(e,r){if(e){if(typeof e=="string")return Db(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Db(e,r)}}function Db(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Ame(e,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(r&&n.length===r));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function Tme(e){if(Array.isArray(e))return e}function c$(e){var r=Km(e,2),n=r[0],s=r[1],a=n,i=s;return n>s&&(a=s,i=n),[a,i]}function d$(e,r,n){if(e.lte(0))return new ar(0);var s=Sv.getDigitCount(e.toNumber()),a=new ar(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new ar(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return r?c:new ar(Math.ceil(c))}function kme(e,r,n){var s=1,a=new ar(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(s=new ar(10).pow(Sv.getDigitCount(e)-1),a=new ar(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new ar(Math.floor(e)))}else e===0?a=new ar(Math.floor((r-1)/2)):n||(a=new ar(Math.floor(e)));var o=Math.floor((r-1)/2),l=vme(gme(function(c){return a.add(new ar(c-o).mul(s)).toNumber()}),Eb);return l(0,r)}function u$(e,r,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new ar(0),tickMin:new ar(0),tickMax:new ar(0)};var i=d$(new ar(r).sub(e).div(n-1),s,a),o;e<=0&&r>=0?o=new ar(0):(o=new ar(e).add(r).div(2),o=o.sub(new ar(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new ar(r).sub(o).div(i).toNumber()),d=l+c+1;return d>n?u$(e,r,n,s,a+1):(d<n&&(c=r>0?c+(n-d):c,l=r>0?l:l+(n-d)),{step:i,tickMin:o.sub(new ar(l).mul(i)),tickMax:o.add(new ar(c).mul(i))})}function Eme(e){var r=Km(e,2),n=r[0],s=r[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=c$([n,s]),c=Km(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var m=u===1/0?[d].concat(Rb(Eb(0,a-1).map(function(){return 1/0}))):[].concat(Rb(Eb(0,a-1).map(function(){return-1/0})),[u]);return n>s?Ob(m):m}if(d===u)return kme(d,a,i);var h=u$(d,u,o,i),p=h.step,y=h.tickMin,f=h.tickMax,v=Sv.rangeStep(y,f.add(new ar(.1).mul(p)),p);return n>s?Ob(v):v}function Ome(e,r){var n=Km(e,2),s=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=c$([s,a]),l=Km(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(r,2),m=d$(new ar(d).sub(c).div(u-1),i,0),h=[].concat(Rb(Sv.rangeStep(new ar(c),new ar(d).sub(new ar(.99).mul(m)),m)),[d]);return s>a?Ob(h):h}var Rme=o$(Eme),Dme=o$(Ome),Mme="Invariant failed";function Ml(e,r){throw new Error(Mme)}var Ime=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},md(e)}function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vx.apply(this,arguments)}function $me(e,r){return Bme(e)||zme(e,r)||Fme(e,r)||Lme()}function Lme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fme(e,r){if(e){if(typeof e=="string")return gA(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gA(e,r)}}function gA(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function zme(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Bme(e){if(Array.isArray(e))return e}function Ume(e,r){if(e==null)return{};var n=Vme(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Vme(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function qme(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Wme(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,f$(s.key),s)}}function Hme(e,r,n){return r&&Wme(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kme(e,r,n){return r=yx(r),Gme(e,m$()?Reflect.construct(r,n||[],yx(e).constructor):r.apply(e,n))}function Gme(e,r){if(r&&(md(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xme(e)}function Xme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!e})()}function yx(e){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yx(e)}function Yme(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Mb(e,r)}function Mb(e,r){return Mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Mb(e,r)}function h$(e,r,n){return r=f$(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function f$(e){var r=Qme(e,"string");return md(r)=="symbol"?r:r+""}function Qme(e,r){if(md(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(md(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Lh=function(e){function r(){return qme(this,r),Kme(this,r,arguments)}return Yme(r,e),Hme(r,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,m=s.yAxis,h=Ume(s,Ime),p=et(h,!1);this.props.direction==="x"&&u.type!=="number"&&Ml();var y=c.map(function(f){var v=d(f,l),j=v.x,x=v.y,b=v.value,S=v.errorVal;if(!S)return null;var w=[],N,P;if(Array.isArray(S)){var _=$me(S,2);N=_[0],P=_[1]}else N=P=S;if(i==="vertical"){var C=u.scale,A=x+a,M=A+o,R=A-o,E=C(b-N),F=C(b+P);w.push({x1:F,y1:M,x2:F,y2:R}),w.push({x1:E,y1:A,x2:F,y2:A}),w.push({x1:E,y1:M,x2:E,y2:R})}else if(i==="horizontal"){var G=m.scale,D=j+a,J=D-o,q=D+o,U=G(b-N),re=G(b+P);w.push({x1:J,y1:re,x2:q,y2:re}),w.push({x1:D,y1:U,x2:D,y2:re}),w.push({x1:J,y1:U,x2:q,y2:U})}return L.createElement(It,vx({className:"recharts-errorBar",key:"bar-".concat(w.map(function(he){return"".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))},p),w.map(function(he){return L.createElement("line",vx({},he,{key:"line-".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))}))});return L.createElement(It,{className:"recharts-errorBars"},y)}}])}(L.Component);h$(Lh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});h$(Lh,"displayName","ErrorBar");function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gm(e)}function vA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Lo(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?vA(Object(n),!0).forEach(function(s){Zme(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Zme(e,r,n){return r=Jme(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Jme(e){var r=ehe(e,"string");return Gm(r)=="symbol"?r:r+""}function ehe(e,r){if(Gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Gm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var p$=function(r){var n=r.children,s=r.formattedGraphicalItems,a=r.legendWidth,i=r.legendContent,o=ms(n,qa);if(!o)return null;var l=qa.defaultProps,c=l!==void 0?Lo(Lo({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,m){var h=m.item,p=m.props,y=p.sectors||p.data||[];return u.concat(y.map(function(f){return{type:o.props.iconType||h.props.legendType,value:f.name,color:f.fill,payload:f}}))},[]):d=(s||[]).map(function(u){var m=u.item,h=m.type.defaultProps,p=h!==void 0?Lo(Lo({},h),m.props):{},y=p.dataKey,f=p.name,v=p.legendType,j=p.hide;return{inactive:j,dataKey:y,type:c.iconType||v||"square",color:u2(m),value:f||y,payload:p}}),Lo(Lo(Lo({},c),qa.getWithHeight(o,a)),{},{payload:d,item:o})};function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xm(e)}function yA(e){return she(e)||nhe(e)||rhe(e)||the()}function the(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rhe(e,r){if(e){if(typeof e=="string")return Ib(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ib(e,r)}}function nhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function she(e){if(Array.isArray(e))return Ib(e)}function Ib(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function jA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ir(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?jA(Object(n),!0).forEach(function(s){Lc(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Lc(e,r,n){return r=ahe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ahe(e){var r=ihe(e,"string");return Xm(r)=="symbol"?r:r+""}function ihe(e,r){if(Xm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Xm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Vr(e,r,n){return pt(e)||pt(r)?n:nn(r)?bs(e,r,n):dt(r)?r(e):n}function rm(e,r,n,s){var a=nme(e,function(l){return Vr(l,r)});if(n==="number"){var i=a.filter(function(l){return Re(l)||parseFloat(l)});return i.length?[Nv(i),ao(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!pt(l)}):a;return o.map(function(l){return nn(l)||l instanceof Date?l:""})}var ohe=function(r){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s==null?void 0:s.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,m=a[d].coordinate,h=d>=l-1?a[0].coordinate:a[d+1].coordinate,p=void 0;if(zn(m-u)!==zn(h-m)){var y=[];if(zn(h-m)===zn(c[1]-c[0])){p=h;var f=m+c[1]-c[0];y[0]=Math.min(f,(f+u)/2),y[1]=Math.max(f,(f+u)/2)}else{p=u;var v=h+c[1]-c[0];y[0]=Math.min(m,(v+m)/2),y[1]=Math.max(m,(v+m)/2)}var j=[Math.min(m,(p+m)/2),Math.max(m,(p+m)/2)];if(r>j[0]&&r<=j[1]||r>=y[0]&&r<=y[1]){o=a[d].index;break}}else{var x=Math.min(u,h),b=Math.max(u,h);if(r>(x+m)/2&&r<=(b+m)/2){o=a[d].index;break}}}else for(var S=0;S<l;S++)if(S===0&&r<=(s[S].coordinate+s[S+1].coordinate)/2||S>0&&S<l-1&&r>(s[S].coordinate+s[S-1].coordinate)/2&&r<=(s[S].coordinate+s[S+1].coordinate)/2||S===l-1&&r>(s[S].coordinate+s[S-1].coordinate)/2){o=s[S].index;break}return o},u2=function(r){var n,s=r,a=s.type.displayName,i=(n=r.type)!==null&&n!==void 0&&n.defaultProps?Ir(Ir({},r.type.defaultProps),r.props):r.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},lhe=function(r){var n=r.barSize,s=r.totalSize,a=r.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,m=Object.keys(u),h=0,p=m.length;h<p;h++){var y=u[m[h]],f=y.items,v=y.cateAxisId,j=f.filter(function(P){return pi(P.type).indexOf("Bar")>=0});if(j&&j.length){var x=j[0].type.defaultProps,b=x!==void 0?Ir(Ir({},x),j[0].props):j[0].props,S=b.barSize,w=b[v];o[w]||(o[w]=[]);var N=pt(S)?n:S;o[w].push({item:j[0],stackList:j.slice(1),barSize:pt(N)?void 0:Bn(N,s,0)})}}return o},che=function(r){var n=r.barGap,s=r.barCategoryGap,a=r.bandSize,i=r.sizeList,o=i===void 0?[]:i,l=r.maxBarSize,c=o.length;if(c<1)return null;var d=Bn(n,a,0,!0),u,m=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,y=o.reduce(function(S,w){return S+w.barSize||0},0);y+=(c-1)*d,y>=a&&(y-=(c-1)*d,d=0),y>=a&&p>0&&(h=!0,p*=.9,y=c*p);var f=(a-y)/2>>0,v={offset:f-d,size:0};u=o.reduce(function(S,w){var N={item:w.item,position:{offset:v.offset+v.size+d,size:h?p:w.barSize}},P=[].concat(yA(S),[N]);return v=P[P.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){P.push({item:_,position:v})}),P},m)}else{var j=Bn(s,a,0,!0);a-2*j-(c-1)*d<=0&&(d=0);var x=(a-2*j-(c-1)*d)/c;x>1&&(x>>=0);var b=l===+l?Math.min(x,l):x;u=o.reduce(function(S,w,N){var P=[].concat(yA(S),[{item:w.item,position:{offset:j+(x+d)*N+(x-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){P.push({item:_,position:P[P.length-1].position})}),P},m)}return u},dhe=function(r,n,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=p$({children:i,legendWidth:c});if(d){var u=a||{},m=u.width,h=u.height,p=d.align,y=d.verticalAlign,f=d.layout;if((f==="vertical"||f==="horizontal"&&y==="middle")&&p!=="center"&&Re(r[p]))return Ir(Ir({},r),{},Lc({},p,r[p]+(m||0)));if((f==="horizontal"||f==="vertical"&&p==="center")&&y!=="middle"&&Re(r[y]))return Ir(Ir({},r),{},Lc({},y,r[y]+(h||0)))}return r},uhe=function(r,n,s){return pt(n)?!0:r==="horizontal"?n==="yAxis":r==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},x$=function(r,n,s,a,i){var o=n.props.children,l=Ns(o,Lh).filter(function(d){return uhe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return r.reduce(function(d,u){var m=Vr(u,s);if(pt(m))return d;var h=Array.isArray(m)?[Nv(m),ao(m)]:[m,m],p=c.reduce(function(y,f){var v=Vr(u,f,0),j=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(j,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},mhe=function(r,n,s,a,i){var o=n.map(function(l){return x$(r,l,s,i,a)}).filter(function(l){return!pt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},g$=function(r,n,s,a,i){var o=n.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&x$(r,c,d,a)||rm(r,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,m=d.length;u<m;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},v$=function(r,n){return r==="horizontal"&&n==="xAxis"||r==="vertical"&&n==="yAxis"||r==="centric"&&n==="angleAxis"||r==="radial"&&n==="radiusAxis"},y$=function(r,n,s,a){if(a)return r.map(function(c){return c.coordinate});var i,o,l=r.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(s),l},hi=function(r,n,s){if(!r)return null;var a=r.scale,i=r.duplicateDomain,o=r.type,l=r.range,c=r.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(n||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=r.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?zn(l[0]-l[1])*2*d:d,n&&(r.ticks||r.niceTicks)){var u=(r.ticks||r.niceTicks).map(function(m){var h=i?i.indexOf(m):m;return{coordinate:a(h)+d,value:m,offset:d}});return u.filter(function(m){return!Jd(m.coordinate)})}return r.isCategorical&&r.categoricalDomain?r.categoricalDomain.map(function(m,h){return{coordinate:a(m)+d,value:m,index:h,offset:d}}):a.ticks&&!s?a.ticks(r.tickCount).map(function(m){return{coordinate:a(m)+d,value:m,offset:d}}):a.domain().map(function(m,h){return{coordinate:a(m)+d,value:i?i[m]:m,index:h,offset:d}})},aj=new WeakMap,Cf=function(r,n){if(typeof n!="function")return r;aj.has(r)||aj.set(r,new WeakMap);var s=aj.get(r);if(s.has(n))return s.get(n);var a=function(){r.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,a),a},j$=function(r,n,s){var a=r.scale,i=r.type,o=r.layout,l=r.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Bm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:hx(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:tm(),realScaleType:"point"}:i==="category"?{scale:Bm(),realScaleType:"band"}:{scale:hx(),realScaleType:"linear"};if(kl(a)){var c="scale".concat(lv(a));return{scale:(hA[c]||tm)(),realScaleType:hA[c]?c:"point"}}return dt(a)?{scale:a}:{scale:tm(),realScaleType:"point"}},bA=1e-4,b$=function(r){var n=r.domain();if(!(!n||n.length<=2)){var s=n.length,a=r.range(),i=Math.min(a[0],a[1])-bA,o=Math.max(a[0],a[1])+bA,l=r(n[0]),c=r(n[s-1]);(l<i||l>o||c<i||c>o)&&r.domain([n[0],n[s-1]])}},hhe=function(r,n){if(!r)return null;for(var s=0,a=r.length;s<a;s++)if(r[s].item===n)return r[s].position;return null},fhe=function(r,n){if(!n||n.length!==2||!Re(n[0])||!Re(n[1]))return r;var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[r[0],r[1]];return(!Re(r[0])||r[0]<s)&&(i[0]=s),(!Re(r[1])||r[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},phe=function(r){var n=r.length;if(!(n<=0))for(var s=0,a=r[0].length;s<a;++s)for(var i=0,o=0,l=0;l<n;++l){var c=Jd(r[l][s][1])?r[l][s][0]:r[l][s][1];c>=0?(r[l][s][0]=i,r[l][s][1]=i+c,i=r[l][s][1]):(r[l][s][0]=o,r[l][s][1]=o+c,o=r[l][s][1])}},xhe=function(r){var n=r.length;if(!(n<=0))for(var s=0,a=r[0].length;s<a;++s)for(var i=0,o=0;o<n;++o){var l=Jd(r[o][s][1])?r[o][s][0]:r[o][s][1];l>=0?(r[o][s][0]=i,r[o][s][1]=i+l,i=r[o][s][1]):(r[o][s][0]=0,r[o][s][1]=0)}},ghe={sign:phe,expand:IJ,none:sd,silhouette:$J,wiggle:LJ,positive:xhe},vhe=function(r,n,s){var a=n.map(function(l){return l.props.dataKey}),i=ghe[s],o=MJ().keys(a).value(function(l,c){return+Vr(l,c,0)}).order(ob).offset(i);return o(r)},yhe=function(r,n,s,a,i,o){if(!r)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(m,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ir(Ir({},h.type.defaultProps),h.props):h.props,f=y.stackId,v=y.hide;if(v)return m;var j=y[s],x=m[j]||{hasStack:!1,stackGroups:{}};if(nn(f)){var b=x.stackGroups[f]||{numericAxisId:s,cateAxisId:a,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[f]=b}else x.stackGroups[ql("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[h]};return Ir(Ir({},m),{},Lc({},j,x))},c),u={};return Object.keys(d).reduce(function(m,h){var p=d[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(f,v){var j=p.stackGroups[v];return Ir(Ir({},f),{},Lc({},v,{numericAxisId:s,cateAxisId:a,items:j.items,stackedData:vhe(r,j.items,i)}))},y)}return Ir(Ir({},m),{},Lc({},h,p))},u)},N$=function(r,n){var s=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=s||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=r.domain();if(!d.length)return null;var u=Rme(d,i,l);return r.domain([Nv(u),ao(u)]),{niceTicks:u}}if(i&&a==="number"){var m=r.domain(),h=Dme(m,i,l);return{niceTicks:h}}return null};function jx(e){var r=e.axis,n=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!pt(a[r.dataKey])){var l=Hp(n,"value",a[r.dataKey]);if(l)return l.coordinate+s/2}return n[i]?n[i].coordinate+s/2:null}var c=Vr(a,pt(o)?r.dataKey:o);return pt(c)?null:r.scale(c)}var NA=function(r){var n=r.axis,s=r.ticks,a=r.offset,i=r.bandSize,o=r.entry,l=r.index;if(n.type==="category")return s[l]?s[l].coordinate+a:null;var c=Vr(o,n.dataKey,n.domain[l]);return pt(c)?null:n.scale(c)-i/2+a},jhe=function(r){var n=r.numericAxis,s=n.scale.domain();if(n.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},bhe=function(r,n){var s,a=(s=r.type)!==null&&s!==void 0&&s.defaultProps?Ir(Ir({},r.type.defaultProps),r.props):r.props,i=a.stackId;if(nn(i)){var o=n[i];if(o){var l=o.items.indexOf(r);return l>=0?o.stackedData[l]:null}}return null},Nhe=function(r){return r.reduce(function(n,s){return[Nv(s.concat([n[0]]).filter(Re)),ao(s.concat([n[1]]).filter(Re))]},[1/0,-1/0])},w$=function(r,n,s){return Object.keys(r).reduce(function(a,i){var o=r[i],l=o.stackedData,c=l.reduce(function(d,u){var m=Nhe(u.slice(n,s+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},wA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$b=function(r,n,s){if(dt(r))return r(n,s);if(!Array.isArray(r))return n;var a=[];if(Re(r[0]))a[0]=s?r[0]:Math.min(r[0],n[0]);else if(wA.test(r[0])){var i=+wA.exec(r[0])[1];a[0]=n[0]-i}else dt(r[0])?a[0]=r[0](n[0]):a[0]=n[0];if(Re(r[1]))a[1]=s?r[1]:Math.max(r[1],n[1]);else if(SA.test(r[1])){var o=+SA.exec(r[1])[1];a[1]=n[1]+o}else dt(r[1])?a[1]=r[1](n[1]):a[1]=n[1];return a},bx=function(r,n,s){if(r&&r.scale&&r.scale.bandwidth){var a=r.scale.bandwidth();if(!s||a>0)return a}if(r&&n&&n.length>=2){for(var i=F1(n,function(m){return m.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},PA=function(r,n,s){return!r||!r.length||Rl(r,bs(s,"type.defaultProps.domain"))?n:r},S$=function(r,n){var s=r.type.defaultProps?Ir(Ir({},r.type.defaultProps),r.props):r.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return Ir(Ir({},et(r,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:u2(r),value:Vr(n,a),type:c,payload:n,chartType:d,hide:u})};function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ym(e)}function CA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function si(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?CA(Object(n),!0).forEach(function(s){P$(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function P$(e,r,n){return r=whe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function whe(e){var r=She(e,"string");return Ym(r)=="symbol"?r:r+""}function She(e,r){if(Ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Ym(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Phe(e,r){return The(e)||Ahe(e,r)||_he(e,r)||Che()}function Che(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _he(e,r){if(e){if(typeof e=="string")return _A(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _A(e,r)}}function _A(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Ahe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function The(e){if(Array.isArray(e))return e}var Nx=Math.PI/180,khe=function(r){return r*180/Math.PI},hr=function(r,n,s,a){return{x:r+Math.cos(-Nx*a)*s,y:n+Math.sin(-Nx*a)*s}},C$=function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},Ehe=function(r,n,s,a,i){var o=r.width,l=r.height,c=r.startAngle,d=r.endAngle,u=Bn(r.cx,o,o/2),m=Bn(r.cy,l,l/2),h=C$(o,l,s),p=Bn(r.innerRadius,h,0),y=Bn(r.outerRadius,h,h*.8),f=Object.keys(n);return f.reduce(function(v,j){var x=n[j],b=x.domain,S=x.reversed,w;if(pt(x.range))a==="angleAxis"?w=[c,d]:a==="radiusAxis"&&(w=[p,y]),S&&(w=[w[1],w[0]]);else{w=x.range;var N=w,P=Phe(N,2);c=P[0],d=P[1]}var _=j$(x,i),C=_.realScaleType,A=_.scale;A.domain(b).range(w),b$(A);var M=N$(A,si(si({},x),{},{realScaleType:C})),R=si(si(si({},x),M),{},{range:w,radius:y,realScaleType:C,scale:A,cx:u,cy:m,innerRadius:p,outerRadius:y,startAngle:c,endAngle:d});return si(si({},v),{},P$({},j,R))},{})},Ohe=function(r,n){var s=r.x,a=r.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},Rhe=function(r,n){var s=r.x,a=r.y,i=n.cx,o=n.cy,l=Ohe({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:khe(d),angleInRadian:d}},Dhe=function(r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:s-o*360}},Mhe=function(r,n){var s=n.startAngle,a=n.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return r+l*360},AA=function(r,n){var s=r.x,a=r.y,i=Rhe({x:s,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=Dhe(n),m=u.startAngle,h=u.endAngle,p=l,y;if(m<=h){for(;p>h;)p-=360;for(;p<m;)p+=360;y=p>=m&&p<=h}else{for(;p>m;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=m}return y?si(si({},n),{},{radius:o,angle:Mhe(p,n)}):null},_$=function(r){return!g.isValidElement(r)&&!dt(r)&&typeof r!="boolean"?r.className:""};function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qm(e)}var Ihe=["offset"];function $he(e){return Bhe(e)||zhe(e)||Fhe(e)||Lhe()}function Lhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fhe(e,r){if(e){if(typeof e=="string")return Lb(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(e,r)}}function zhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bhe(e){if(Array.isArray(e))return Lb(e)}function Lb(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Uhe(e,r){if(e==null)return{};var n=Vhe(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Vhe(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function TA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Jr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?TA(Object(n),!0).forEach(function(s){qhe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qhe(e,r,n){return r=Whe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Whe(e){var r=Hhe(e,"string");return Qm(r)=="symbol"?r:r+""}function Hhe(e,r){if(Qm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Qm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zm.apply(this,arguments)}var Khe=function(r){var n=r.value,s=r.formatter,a=pt(r.children)?n:r.children;return dt(s)?s(a):a},Ghe=function(r,n){var s=zn(n-r),a=Math.min(Math.abs(n-r),360);return s*a},Xhe=function(r,n,s){var a=r.position,i=r.viewBox,o=r.offset,l=r.className,c=i,d=c.cx,u=c.cy,m=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,f=c.clockWise,v=(m+h)/2,j=Ghe(p,y),x=j>=0?1:-1,b,S;a==="insideStart"?(b=p+x*o,S=f):a==="insideEnd"?(b=y-x*o,S=!f):a==="end"&&(b=y+x*o,S=f),S=j<=0?S:!S;var w=hr(d,u,v,b),N=hr(d,u,v,b+(S?1:-1)*359),P="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),_=pt(r.id)?ql("recharts-radial-line-"):r.id;return L.createElement("text",Zm({},s,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:_,d:P})),L.createElement("textPath",{xlinkHref:"#".concat(_)},n))},Yhe=function(r){var n=r.viewBox,s=r.offset,a=r.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,m=i.endAngle,h=(u+m)/2;if(a==="outside"){var p=hr(o,l,d+s,h),y=p.x,f=p.y;return{x:y,y:f,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,j=hr(o,l,v,h),x=j.x,b=j.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Qhe=function(r){var n=r.viewBox,s=r.parentViewBox,a=r.offset,i=r.position,o=n,l=o.x,c=o.y,d=o.width,u=o.height,m=u>=0?1:-1,h=m*a,p=m>0?"end":"start",y=m>0?"start":"end",f=d>=0?1:-1,v=f*a,j=f>0?"end":"start",x=f>0?"start":"end";if(i==="top"){var b={x:l+d/2,y:c-m*a,textAnchor:"middle",verticalAnchor:p};return Jr(Jr({},b),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var S={x:l+d/2,y:c+u+h,textAnchor:"middle",verticalAnchor:y};return Jr(Jr({},S),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var w={x:l-v,y:c+u/2,textAnchor:j,verticalAnchor:"middle"};return Jr(Jr({},w),s?{width:Math.max(w.x-s.x,0),height:u}:{})}if(i==="right"){var N={x:l+d+v,y:c+u/2,textAnchor:x,verticalAnchor:"middle"};return Jr(Jr({},N),s?{width:Math.max(s.x+s.width-N.x,0),height:u}:{})}var P=s?{width:d,height:u}:{};return i==="insideLeft"?Jr({x:l+v,y:c+u/2,textAnchor:x,verticalAnchor:"middle"},P):i==="insideRight"?Jr({x:l+d-v,y:c+u/2,textAnchor:j,verticalAnchor:"middle"},P):i==="insideTop"?Jr({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:y},P):i==="insideBottom"?Jr({x:l+d/2,y:c+u-h,textAnchor:"middle",verticalAnchor:p},P):i==="insideTopLeft"?Jr({x:l+v,y:c+h,textAnchor:x,verticalAnchor:y},P):i==="insideTopRight"?Jr({x:l+d-v,y:c+h,textAnchor:j,verticalAnchor:y},P):i==="insideBottomLeft"?Jr({x:l+v,y:c+u-h,textAnchor:x,verticalAnchor:p},P):i==="insideBottomRight"?Jr({x:l+d-v,y:c+u-h,textAnchor:j,verticalAnchor:p},P):Xd(i)&&(Re(i.x)||tl(i.x))&&(Re(i.y)||tl(i.y))?Jr({x:l+Bn(i.x,d),y:c+Bn(i.y,u),textAnchor:"end",verticalAnchor:"end"},P):Jr({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Zhe=function(r){return"cx"in r&&Re(r.cx)};function dn(e){var r=e.offset,n=r===void 0?5:r,s=Uhe(e,Ihe),a=Jr({offset:n},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,m=u===void 0?"":u,h=a.textBreakAll;if(!i||pt(l)&&pt(c)&&!g.isValidElement(d)&&!dt(d))return null;if(g.isValidElement(d))return g.cloneElement(d,a);var p;if(dt(d)){if(p=g.createElement(d,a),g.isValidElement(p))return p}else p=Khe(a);var y=Zhe(i),f=et(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Xhe(a,p,f);var v=y?Yhe(a):Qhe(a);return L.createElement(Ol,Zm({className:gt("recharts-label",m)},f,v,{breakAll:h}),p)}dn.displayName="Label";var A$=function(r){var n=r.cx,s=r.cy,a=r.angle,i=r.startAngle,o=r.endAngle,l=r.r,c=r.radius,d=r.innerRadius,u=r.outerRadius,m=r.x,h=r.y,p=r.top,y=r.left,f=r.width,v=r.height,j=r.clockWise,x=r.labelViewBox;if(x)return x;if(Re(f)&&Re(v)){if(Re(m)&&Re(h))return{x:m,y:h,width:f,height:v};if(Re(p)&&Re(y))return{x:p,y,width:f,height:v}}return Re(m)&&Re(h)?{x:m,y:h,width:0,height:0}:Re(n)&&Re(s)?{cx:n,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:j}:r.viewBox?r.viewBox:{}},Jhe=function(r,n){return r?r===!0?L.createElement(dn,{key:"label-implicit",viewBox:n}):nn(r)?L.createElement(dn,{key:"label-implicit",viewBox:n,value:r}):g.isValidElement(r)?r.type===dn?g.cloneElement(r,{key:"label-implicit",viewBox:n}):L.createElement(dn,{key:"label-implicit",content:r,viewBox:n}):dt(r)?L.createElement(dn,{key:"label-implicit",content:r,viewBox:n}):Xd(r)?L.createElement(dn,Zm({viewBox:n},r,{key:"label-implicit"})):null:null},efe=function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&s&&!r.label)return null;var a=r.children,i=A$(r),o=Ns(a,dn).map(function(c,d){return g.cloneElement(c,{viewBox:n||i,key:"label-".concat(d)})});if(!s)return o;var l=Jhe(r.label,n||i);return[l].concat($he(o))};dn.parseViewBox=A$;dn.renderCallByParent=efe;function tfe(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var rfe=tfe;const nfe=Jt(rfe);function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jm(e)}var sfe=["valueAccessor"],afe=["data","dataKey","clockWise","id","textBreakAll"];function ife(e){return dfe(e)||cfe(e)||lfe(e)||ofe()}function ofe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lfe(e,r){if(e){if(typeof e=="string")return Fb(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fb(e,r)}}function cfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dfe(e){if(Array.isArray(e))return Fb(e)}function Fb(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wx.apply(this,arguments)}function kA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function EA(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?kA(Object(n),!0).forEach(function(s){ufe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ufe(e,r,n){return r=mfe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function mfe(e){var r=hfe(e,"string");return Jm(r)=="symbol"?r:r+""}function hfe(e,r){if(Jm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Jm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function OA(e,r){if(e==null)return{};var n=ffe(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ffe(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}var pfe=function(r){return Array.isArray(r.value)?nfe(r.value):r.value};function Ha(e){var r=e.valueAccessor,n=r===void 0?pfe:r,s=OA(e,sfe),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=OA(s,afe);return!a||!a.length?null:L.createElement(It,{className:"recharts-label-list"},a.map(function(u,m){var h=pt(i)?n(u,m):Vr(u&&u.payload,i),p=pt(l)?{}:{id:"".concat(l,"-").concat(m)};return L.createElement(dn,wx({},et(u,!0),d,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:dn.parseViewBox(pt(o)?u:EA(EA({},u),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Ha.displayName="LabelList";function xfe(e,r){return e?e===!0?L.createElement(Ha,{key:"labelList-implicit",data:r}):L.isValidElement(e)||dt(e)?L.createElement(Ha,{key:"labelList-implicit",data:r,content:e}):Xd(e)?L.createElement(Ha,wx({data:r},e,{key:"labelList-implicit"})):null:null}function gfe(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,a=Ns(s,Ha).map(function(o,l){return g.cloneElement(o,{data:r,key:"labelList-".concat(l)})});if(!n)return a;var i=xfe(e.label,r);return[i].concat(ife(a))}Ha.renderCallByParent=gfe;function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},eh(e)}function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zb.apply(this,arguments)}function RA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function DA(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?RA(Object(n),!0).forEach(function(s){vfe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function vfe(e,r,n){return r=yfe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function yfe(e){var r=jfe(e,"string");return eh(r)=="symbol"?r:r+""}function jfe(e,r){if(eh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(eh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var bfe=function(r,n){var s=zn(n-r),a=Math.min(Math.abs(n-r),359.999);return s*a},_f=function(r){var n=r.cx,s=r.cy,a=r.radius,i=r.angle,o=r.sign,l=r.isExternal,c=r.cornerRadius,d=r.cornerIsExternal,u=c*(l?1:-1)+a,m=Math.asin(c/u)/Nx,h=d?i:i+o*m,p=hr(n,s,u,h),y=hr(n,s,a,h),f=d?i-o*m:i,v=hr(n,s,u*Math.cos(m*Nx),f);return{center:p,circleTangency:y,lineTangency:v,theta:m}},T$=function(r){var n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,o=r.startAngle,l=r.endAngle,c=bfe(o,l),d=o+c,u=hr(n,s,i,o),m=hr(n,s,i,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var p=hr(n,s,a,o),y=hr(n,s,a,d);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(s," Z");return h},Nfe=function(r){var n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,u=r.endAngle,m=zn(u-d),h=_f({cx:n,cy:s,radius:i,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,f=h.theta,v=_f({cx:n,cy:s,radius:i,angle:u,sign:-m,cornerRadius:o,cornerIsExternal:c}),j=v.circleTangency,x=v.lineTangency,b=v.theta,S=c?Math.abs(d-u):Math.abs(d-u)-f-b;if(S<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):T$({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var w="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var N=_f({cx:n,cy:s,radius:a,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=N.circleTangency,_=N.lineTangency,C=N.theta,A=_f({cx:n,cy:s,radius:a,angle:u,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),M=A.circleTangency,R=A.lineTangency,E=A.theta,F=c?Math.abs(d-u):Math.abs(d-u)-C-E;if(F<0&&o===0)return"".concat(w,"L").concat(n,",").concat(s,"Z");w+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(n,",").concat(s,"Z");return w},wfe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},k$=function(r){var n=DA(DA({},wfe),r),s=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,m=n.endAngle,h=n.className;if(o<i||u===m)return null;var p=gt("recharts-sector",h),y=o-i,f=Bn(l,y,0,!0),v;return f>0&&Math.abs(u-m)<360?v=Nfe({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(f,y/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:m}):v=T$({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:m}),L.createElement("path",zb({},et(n,!0),{className:p,d:v,role:"img"}))};function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},th(e)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bb.apply(this,arguments)}function MA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function IA(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?MA(Object(n),!0).forEach(function(s){Sfe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Sfe(e,r,n){return r=Pfe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Pfe(e){var r=Cfe(e,"string");return th(r)=="symbol"?r:r+""}function Cfe(e,r){if(th(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(th(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var $A={curveBasisClosed:SJ,curveBasisOpen:PJ,curveBasis:wJ,curveBumpX:cJ,curveBumpY:dJ,curveLinearClosed:CJ,curveLinear:dv,curveMonotoneX:_J,curveMonotoneY:AJ,curveNatural:TJ,curveStep:kJ,curveStepAfter:OJ,curveStepBefore:EJ},Af=function(r){return r.x===+r.x&&r.y===+r.y},_u=function(r){return r.x},Au=function(r){return r.y},_fe=function(r,n){if(dt(r))return r;var s="curve".concat(lv(r));return(s==="curveMonotone"||s==="curveBump")&&n?$A["".concat(s).concat(n==="vertical"?"Y":"X")]:$A[s]||dv},Afe=function(r){var n=r.type,s=n===void 0?"linear":n,a=r.points,i=a===void 0?[]:a,o=r.baseLine,l=r.layout,c=r.connectNulls,d=c===void 0?!1:c,u=_fe(s,l),m=d?i.filter(function(f){return Af(f)}):i,h;if(Array.isArray(o)){var p=d?o.filter(function(f){return Af(f)}):o,y=m.map(function(f,v){return IA(IA({},f),{},{base:p[v]})});return l==="vertical"?h=vf().y(Au).x1(_u).x0(function(f){return f.base.x}):h=vf().x(_u).y1(Au).y0(function(f){return f.base.y}),h.defined(Af).curve(u),h(y)}return l==="vertical"&&Re(o)?h=vf().y(Au).x1(_u).x0(o):Re(o)?h=vf().x(_u).y1(Au).y0(o):h=S3().x(_u).y(Au),h.defined(Af).curve(u),h(m)},gl=function(r){var n=r.className,s=r.points,a=r.path,i=r.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?Afe(r):a;return g.createElement("path",Bb({},et(r,!1),Kp(r),{className:gt("recharts-curve",n),d:o,ref:i}))},E$={exports:{}},Tfe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kfe=Tfe,Efe=kfe;function O$(){}function R$(){}R$.resetWarningCache=O$;var Ofe=function(){function e(s,a,i,o,l,c){if(c!==Efe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function r(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:R$,resetWarningCache:O$};return n.PropTypes=n,n};E$.exports=Ofe();var Rfe=E$.exports;const Qt=Jt(Rfe);var Dfe=Object.getOwnPropertyNames,Mfe=Object.getOwnPropertySymbols,Ife=Object.prototype.hasOwnProperty;function LA(e,r){return function(s,a,i){return e(s,a,i)&&r(s,a,i)}}function Tf(e){return function(n,s,a){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,a);var i=a.cache,o=i.get(n),l=i.get(s);if(o&&l)return o===s&&l===n;i.set(n,s),i.set(s,n);var c=e(n,s,a);return i.delete(n),i.delete(s),c}}function FA(e){return Dfe(e).concat(Mfe(e))}var $fe=Object.hasOwn||function(e,r){return Ife.call(e,r)};function Kl(e,r){return e===r||!e&&!r&&e!==e&&r!==r}var Lfe="__v",Ffe="__o",zfe="_owner",zA=Object.getOwnPropertyDescriptor,BA=Object.keys;function Bfe(e,r,n){var s=e.length;if(r.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],r[s],s,s,e,r,n))return!1;return!0}function Ufe(e,r){return Kl(e.getTime(),r.getTime())}function Vfe(e,r){return e.name===r.name&&e.message===r.message&&e.cause===r.cause&&e.stack===r.stack}function qfe(e,r){return e===r}function UA(e,r,n){var s=e.size;if(s!==r.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=r.entries(),u=!1,m=0;(l=d.next())&&!l.done;){if(a[m]){m++;continue}var h=o.value,p=l.value;if(n.equals(h[0],p[0],c,m,e,r,n)&&n.equals(h[1],p[1],h[0],p[0],e,r,n)){u=a[m]=!0;break}m++}if(!u)return!1;c++}return!0}var Wfe=Kl;function Hfe(e,r,n){var s=BA(e),a=s.length;if(BA(r).length!==a)return!1;for(;a-- >0;)if(!D$(e,r,n,s[a]))return!1;return!0}function Tu(e,r,n){var s=FA(e),a=s.length;if(FA(r).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],!D$(e,r,n,i)||(o=zA(e,i),l=zA(r,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Kfe(e,r){return Kl(e.valueOf(),r.valueOf())}function Gfe(e,r){return e.source===r.source&&e.flags===r.flags}function VA(e,r,n){var s=e.size;if(s!==r.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=r.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&n.equals(o.value,l.value,o.value,l.value,e,r,n)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function Xfe(e,r){var n=e.length;if(r.length!==n)return!1;for(;n-- >0;)if(e[n]!==r[n])return!1;return!0}function Yfe(e,r){return e.hostname===r.hostname&&e.pathname===r.pathname&&e.protocol===r.protocol&&e.port===r.port&&e.hash===r.hash&&e.username===r.username&&e.password===r.password}function D$(e,r,n,s){return(s===zfe||s===Ffe||s===Lfe)&&(e.$$typeof||r.$$typeof)?!0:$fe(r,s)&&n.equals(e[s],r[s],s,s,e,r,n)}var Qfe="[object Arguments]",Zfe="[object Boolean]",Jfe="[object Date]",epe="[object Error]",tpe="[object Map]",rpe="[object Number]",npe="[object Object]",spe="[object RegExp]",ape="[object Set]",ipe="[object String]",ope="[object URL]",lpe=Array.isArray,qA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,WA=Object.assign,cpe=Object.prototype.toString.call.bind(Object.prototype.toString);function dpe(e){var r=e.areArraysEqual,n=e.areDatesEqual,s=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,m=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,f,v){if(y===f)return!0;if(y==null||f==null)return!1;var j=typeof y;if(j!==typeof f)return!1;if(j!=="object")return j==="number"?o(y,f,v):j==="function"?a(y,f,v):!1;var x=y.constructor;if(x!==f.constructor)return!1;if(x===Object)return l(y,f,v);if(lpe(y))return r(y,f,v);if(qA!=null&&qA(y))return m(y,f,v);if(x===Date)return n(y,f,v);if(x===RegExp)return d(y,f,v);if(x===Map)return i(y,f,v);if(x===Set)return u(y,f,v);var b=cpe(y);return b===Jfe?n(y,f,v):b===spe?d(y,f,v):b===tpe?i(y,f,v):b===ape?u(y,f,v):b===npe?typeof y.then!="function"&&typeof f.then!="function"&&l(y,f,v):b===ope?h(y,f,v):b===epe?s(y,f,v):b===Qfe?l(y,f,v):b===Zfe||b===rpe||b===ipe?c(y,f,v):!1}}function upe(e){var r=e.circular,n=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?Tu:Bfe,areDatesEqual:Ufe,areErrorsEqual:Vfe,areFunctionsEqual:qfe,areMapsEqual:s?LA(UA,Tu):UA,areNumbersEqual:Wfe,areObjectsEqual:s?Tu:Hfe,arePrimitiveWrappersEqual:Kfe,areRegExpsEqual:Gfe,areSetsEqual:s?LA(VA,Tu):VA,areTypedArraysEqual:s?Tu:Xfe,areUrlsEqual:Yfe};if(n&&(a=WA({},a,n(a))),r){var i=Tf(a.areArraysEqual),o=Tf(a.areMapsEqual),l=Tf(a.areObjectsEqual),c=Tf(a.areSetsEqual);a=WA({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function mpe(e){return function(r,n,s,a,i,o,l){return e(r,n,l)}}function hpe(e){var r=e.circular,n=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(c,d){var u=s(),m=u.cache,h=m===void 0?r?new WeakMap:void 0:m,p=u.meta;return n(c,d,{cache:h,equals:a,meta:p,strict:i})};if(r)return function(c,d){return n(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return n(c,d,o)}}var fpe=Mo();Mo({strict:!0});Mo({circular:!0});Mo({circular:!0,strict:!0});Mo({createInternalComparator:function(){return Kl}});Mo({strict:!0,createInternalComparator:function(){return Kl}});Mo({circular:!0,createInternalComparator:function(){return Kl}});Mo({circular:!0,createInternalComparator:function(){return Kl},strict:!0});function Mo(e){e===void 0&&(e={});var r=e.circular,n=r===void 0?!1:r,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=upe(e),c=dpe(l),d=s?s(c):mpe(c);return hpe({circular:n,comparator:c,createState:a,equals:d,strict:o})}function ppe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function HA(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function a(i){n<0&&(n=i),i-n>r?(e(i),n=-1):ppe(a)};requestAnimationFrame(s)}function Ub(e){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ub(e)}function xpe(e){return jpe(e)||ype(e)||vpe(e)||gpe()}function gpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vpe(e,r){if(e){if(typeof e=="string")return KA(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KA(e,r)}}function KA(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function ype(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jpe(e){if(Array.isArray(e))return e}function bpe(){var e={},r=function(){return null},n=!1,s=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=xpe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){HA(a.bind(null,d),c);return}a(c),HA(a.bind(null,d));return}Ub(i)==="object"&&(e=i,r(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,s(i)},subscribe:function(i){return r=i,function(){r=function(){return null}}}}}function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rh(e)}function GA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function XA(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?GA(Object(n),!0).forEach(function(s){M$(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function M$(e,r,n){return r=Npe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Npe(e){var r=wpe(e,"string");return rh(r)==="symbol"?r:String(r)}function wpe(e,r){if(rh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(rh(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Spe=function(r,n){return[Object.keys(r),Object.keys(n)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},Ppe=function(r){return r},Cpe=function(r){return r.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},nm=function(r,n){return Object.keys(n).reduce(function(s,a){return XA(XA({},s),{},M$({},a,r(a,n[a])))},{})},YA=function(r,n,s){return r.map(function(a){return"".concat(Cpe(a)," ").concat(n,"ms ").concat(s)}).join(",")};function _pe(e,r){return kpe(e)||Tpe(e,r)||I$(e,r)||Ape()}function Ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tpe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function kpe(e){if(Array.isArray(e))return e}function Epe(e){return Dpe(e)||Rpe(e)||I$(e)||Ope()}function Ope(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I$(e,r){if(e){if(typeof e=="string")return Vb(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vb(e,r)}}function Rpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dpe(e){if(Array.isArray(e))return Vb(e)}function Vb(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}var Sx=1e-4,$$=function(r,n){return[0,3*r,3*n-6*r,3*r-3*n+1]},L$=function(r,n){return r.map(function(s,a){return s*Math.pow(n,a)}).reduce(function(s,a){return s+a})},QA=function(r,n){return function(s){var a=$$(r,n);return L$(a,s)}},Mpe=function(r,n){return function(s){var a=$$(r,n),i=[].concat(Epe(a.map(function(o,l){return o*l}).slice(1)),[0]);return L$(i,s)}},ZA=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=_pe(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var m=QA(a,o),h=QA(i,l),p=Mpe(a,o),y=function(j){return j>1?1:j<0?0:j},f=function(j){for(var x=j>1?1:j,b=x,S=0;S<8;++S){var w=m(b)-x,N=p(b);if(Math.abs(w-x)<Sx||N<Sx)return h(b);b=y(b-w/N)}return h(b)};return f.isStepper=!1,f},Ipe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.stiff,s=n===void 0?100:n,a=r.damping,i=a===void 0?8:a,o=r.dt,l=o===void 0?17:o,c=function(u,m,h){var p=-(u-m)*s,y=h*i,f=h+(p-y)*l/1e3,v=h*l/1e3+u;return Math.abs(v-m)<Sx&&Math.abs(f)<Sx?[m,0]:[v,f]};return c.isStepper=!0,c.dt=l,c},$pe=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ZA(a);case"spring":return Ipe();default:if(a.split("(")[0]==="cubic-bezier")return ZA(a)}return typeof a=="function"?a:null};function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nh(e)}function JA(e){return zpe(e)||Fpe(e)||F$(e)||Lpe()}function Lpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zpe(e){if(Array.isArray(e))return Wb(e)}function eT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function gn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?eT(Object(n),!0).forEach(function(s){qb(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qb(e,r,n){return r=Bpe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Bpe(e){var r=Upe(e,"string");return nh(r)==="symbol"?r:String(r)}function Upe(e,r){if(nh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(nh(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Vpe(e,r){return Hpe(e)||Wpe(e,r)||F$(e,r)||qpe()}function qpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F$(e,r){if(e){if(typeof e=="string")return Wb(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wb(e,r)}}function Wb(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Wpe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Hpe(e){if(Array.isArray(e))return e}var Px=function(r,n,s){return r+(n-r)*s},Hb=function(r){var n=r.from,s=r.to;return n!==s},Kpe=function e(r,n,s){var a=nm(function(i,o){if(Hb(o)){var l=r(o.from,o.to,o.velocity),c=Vpe(l,2),d=c[0],u=c[1];return gn(gn({},o),{},{from:d,velocity:u})}return o},n);return s<1?nm(function(i,o){return Hb(o)?gn(gn({},o),{},{velocity:Px(o.velocity,a[i].velocity,s),from:Px(o.from,a[i].from,s)}):o},n):e(r,a,s-1)};const Gpe=function(e,r,n,s,a){var i=Spe(e,r),o=i.reduce(function(v,j){return gn(gn({},v),{},qb({},j,[e[j],r[j]]))},{}),l=i.reduce(function(v,j){return gn(gn({},v),{},qb({},j,{from:e[j],velocity:0,to:r[j]}))},{}),c=-1,d,u,m=function(){return null},h=function(){return nm(function(j,x){return x.from},l)},p=function(){return!Object.values(l).filter(Hb).length},y=function(j){d||(d=j);var x=j-d,b=x/n.dt;l=Kpe(n,l,b),a(gn(gn(gn({},e),r),h())),d=j,p()||(c=requestAnimationFrame(m))},f=function(j){u||(u=j);var x=(j-u)/s,b=nm(function(w,N){return Px.apply(void 0,JA(N).concat([n(x)]))},o);if(a(gn(gn(gn({},e),r),b)),x<1)c=requestAnimationFrame(m);else{var S=nm(function(w,N){return Px.apply(void 0,JA(N).concat([n(1)]))},o);a(gn(gn(gn({},e),r),S))}};return m=n.isStepper?y:f,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hd(e)}var Xpe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ype(e,r){if(e==null)return{};var n=Qpe(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Qpe(e,r){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(r.indexOf(a)>=0)&&(n[a]=e[a]);return n}function ij(e){return txe(e)||exe(e)||Jpe(e)||Zpe()}function Zpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jpe(e,r){if(e){if(typeof e=="string")return Kb(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kb(e,r)}}function exe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function txe(e){if(Array.isArray(e))return Kb(e)}function Kb(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function tT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Xs(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?tT(Object(n),!0).forEach(function(s){Vu(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Vu(e,r,n){return r=z$(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function rxe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function nxe(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,z$(s.key),s)}}function sxe(e,r,n){return r&&nxe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function z$(e){var r=axe(e,"string");return hd(r)==="symbol"?r:String(r)}function axe(e,r){if(hd(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(hd(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ixe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Gb(e,r)}function Gb(e,r){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Gb(e,r)}function oxe(e){var r=lxe();return function(){var s=Cx(e),a;if(r){var i=Cx(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return Xb(this,a)}}function Xb(e,r){if(r&&(hd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yb(e)}function Yb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cx(e){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cx(e)}var ja=function(e){ixe(n,e);var r=oxe(n);function n(s,a){var i;rxe(this,n),i=r.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,m=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Yb(i)),i.changeStyle=i.changeStyle.bind(Yb(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),Xb(i);if(m&&m.length)i.state={style:m[0].style};else if(d){if(typeof h=="function")return i.state={style:d},Xb(i);i.state={style:c?Vu({},c,d):d}}else i.state={style:{}};return i}return sxe(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,m=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Vu({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(p);return}if(!(fpe(a.to,u)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=y||d?m:a.to;if(this.state&&h){var v={style:c?Vu({},c,f):f};(c&&h[c]!==f||!c&&h!==f)&&this.setState(v)}this.runAnimation(Xs(Xs({},this.props),{},{from:f,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,m=a.onAnimationEnd,h=a.onAnimationStart,p=Gpe(o,l,$pe(d),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([h,u,y,c,m])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,m=d.duration,h=m===void 0?0:m,p=function(f,v,j){if(j===0)return f;var x=v.duration,b=v.easing,S=b===void 0?"ease":b,w=v.style,N=v.properties,P=v.onAnimationEnd,_=j>0?o[j-1]:v,C=N||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(ij(f),[i.runJSAnimation.bind(i,{from:_.style,to:w,duration:x,easing:S}),x]);var A=YA(C,x,S),M=Xs(Xs(Xs({},_.style),w),{},{transition:A});return[].concat(ij(f),[M,x,P]).filter(Ppe)};return this.manager.start([c].concat(ij(o.reduce(p,[u,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=bpe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,m=a.onAnimationEnd,h=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var f=l?Vu({},l,c):c,v=YA(Object.keys(f),o,d);y.start([u,i,Xs(Xs({},f),{},{transition:v}),o,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Ype(a,Xpe),d=g.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var m=function(p){var y=p.props,f=y.style,v=f===void 0?{}:f,j=y.className,x=g.cloneElement(p,Xs(Xs({},c),{},{style:Xs(Xs({},v),u),className:j}));return x};return d===1?m(g.Children.only(i)):L.createElement("div",null,g.Children.map(i,function(h){return m(h)}))}}]),n}(g.PureComponent);ja.displayName="Animate";ja.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ja.propTypes={from:Qt.oneOfType([Qt.object,Qt.string]),to:Qt.oneOfType([Qt.object,Qt.string]),attributeName:Qt.string,duration:Qt.number,begin:Qt.number,easing:Qt.oneOfType([Qt.string,Qt.func]),steps:Qt.arrayOf(Qt.shape({duration:Qt.number.isRequired,style:Qt.object.isRequired,easing:Qt.oneOfType([Qt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qt.func]),properties:Qt.arrayOf("string"),onAnimationEnd:Qt.func})),children:Qt.oneOfType([Qt.node,Qt.func]),isActive:Qt.bool,canBegin:Qt.bool,onAnimationEnd:Qt.func,shouldReAnimate:Qt.bool,onAnimationStart:Qt.func,onAnimationReStart:Qt.func};function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sh(e)}function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_x.apply(this,arguments)}function cxe(e,r){return hxe(e)||mxe(e,r)||uxe(e,r)||dxe()}function dxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uxe(e,r){if(e){if(typeof e=="string")return rT(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rT(e,r)}}function rT(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function mxe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function hxe(e){if(Array.isArray(e))return e}function nT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function sT(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?nT(Object(n),!0).forEach(function(s){fxe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function fxe(e,r,n){return r=pxe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function pxe(e){var r=xxe(e,"string");return sh(r)=="symbol"?r:r+""}function xxe(e,r){if(sh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(sh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var aT=function(r,n,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],h=0,p=4;h<p;h++)m[h]=i[h]>o?o:i[h];u="M".concat(r,",").concat(n+l*m[0]),m[0]>0&&(u+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(r+c*m[0],",").concat(n)),u+="L ".concat(r+s-c*m[1],",").concat(n),m[1]>0&&(u+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(r+s,",").concat(n+l*m[1])),u+="L ".concat(r+s,",").concat(n+a-l*m[2]),m[2]>0&&(u+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(r+s-c*m[2],",").concat(n+a)),u+="L ".concat(r+c*m[3],",").concat(n+a),m[3]>0&&(u+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(r,",").concat(n+a-l*m[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);u="M ".concat(r,",").concat(n+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(r+c*y,",").concat(n,`
            L `).concat(r+s-c*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(r+s,",").concat(n+l*y,`
            L `).concat(r+s,",").concat(n+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(r+s-c*y,",").concat(n+a,`
            L `).concat(r+c*y,",").concat(n+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(r,",").concat(n+a-l*y," Z")}else u="M ".concat(r,",").concat(n," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},gxe=function(r,n){if(!r||!n)return!1;var s=r.x,a=r.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),m=Math.min(o,o+c),h=Math.max(o,o+c);return s>=d&&s<=u&&a>=m&&a<=h}return!1},vxe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m2=function(r){var n=sT(sT({},vxe),r),s=g.useRef(),a=g.useState(-1),i=cxe(a,2),o=i[0],l=i[1];g.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var S=s.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,d=n.y,u=n.width,m=n.height,h=n.radius,p=n.className,y=n.animationEasing,f=n.animationDuration,v=n.animationBegin,j=n.isAnimationActive,x=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||m!==+m||u===0||m===0)return null;var b=gt("recharts-rectangle",p);return x?L.createElement(ja,{canBegin:o>0,from:{width:u,height:m,x:c,y:d},to:{width:u,height:m,x:c,y:d},duration:f,animationEasing:y,isActive:x},function(S){var w=S.width,N=S.height,P=S.x,_=S.y;return L.createElement(ja,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:f,isActive:j,easing:y},L.createElement("path",_x({},et(n,!0),{className:b,d:aT(P,_,w,N,h),ref:s})))}):L.createElement("path",_x({},et(n,!0),{className:b,d:aT(c,d,u,m,h)}))},yxe=["points","className","baseLinePoints","connectNulls"];function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wc.apply(this,arguments)}function jxe(e,r){if(e==null)return{};var n=bxe(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function bxe(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function iT(e){return Pxe(e)||Sxe(e)||wxe(e)||Nxe()}function Nxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wxe(e,r){if(e){if(typeof e=="string")return Qb(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qb(e,r)}}function Sxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pxe(e){if(Array.isArray(e))return Qb(e)}function Qb(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}var oT=function(r){return r&&r.x===+r.x&&r.y===+r.y},Cxe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return r.forEach(function(s){oT(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),oT(r[0])&&n[n.length-1].push(r[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},sm=function(r,n){var s=Cxe(r);n&&(s=[s.reduce(function(i,o){return[].concat(iT(i),iT(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},_xe=function(r,n,s){var a=sm(r,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(sm(n.reverse(),s).slice(1))},Axe=function(r){var n=r.points,s=r.className,a=r.baseLinePoints,i=r.connectNulls,o=jxe(r,yxe);if(!n||!n.length)return null;var l=gt("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=_xe(n,a,i);return L.createElement("g",{className:l},L.createElement("path",wc({},et(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?L.createElement("path",wc({},et(o,!0),{fill:"none",d:sm(n,i)})):null,c?L.createElement("path",wc({},et(o,!0),{fill:"none",d:sm(a,i)})):null)}var u=sm(n,i);return L.createElement("path",wc({},et(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zb.apply(this,arguments)}var Fh=function(r){var n=r.cx,s=r.cy,a=r.r,i=r.className,o=gt("recharts-dot",i);return n===+n&&s===+s&&a===+a?g.createElement("circle",Zb({},et(r,!1),Kp(r),{className:o,cx:n,cy:s,r:a})):null};function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ah(e)}var Txe=["x","y","top","left","width","height","className"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jb.apply(this,arguments)}function lT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function kxe(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?lT(Object(n),!0).forEach(function(s){Exe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Exe(e,r,n){return r=Oxe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Oxe(e){var r=Rxe(e,"string");return ah(r)=="symbol"?r:r+""}function Rxe(e,r){if(ah(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(ah(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Dxe(e,r){if(e==null)return{};var n=Mxe(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Mxe(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Ixe=function(r,n,s,a,i,o){return"M".concat(r,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(s)},$xe=function(r){var n=r.x,s=n===void 0?0:n,a=r.y,i=a===void 0?0:a,o=r.top,l=o===void 0?0:o,c=r.left,d=c===void 0?0:c,u=r.width,m=u===void 0?0:u,h=r.height,p=h===void 0?0:h,y=r.className,f=Dxe(r,Txe),v=kxe({x:s,y:i,top:l,left:d,width:m,height:p},f);return!Re(s)||!Re(i)||!Re(m)||!Re(p)||!Re(l)||!Re(d)?null:L.createElement("path",Jb({},et(v,!0),{className:gt("recharts-cross",y),d:Ixe(s,i,m,p,l,d)}))},Lxe=bv,Fxe=ZI,zxe=Za;function Bxe(e,r){return e&&e.length?Lxe(e,zxe(r),Fxe):void 0}var Uxe=Bxe;const Vxe=Jt(Uxe);var qxe=bv,Wxe=Za,Hxe=JI;function Kxe(e,r){return e&&e.length?qxe(e,Wxe(r),Hxe):void 0}var Gxe=Kxe;const Xxe=Jt(Gxe);var Yxe=["cx","cy","angle","ticks","axisLine"],Qxe=["ticks","tick","angle","tickFormatter","stroke"];function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fd(e)}function am(){return am=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},am.apply(this,arguments)}function cT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Fo(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?cT(Object(n),!0).forEach(function(s){Pv(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function dT(e,r){if(e==null)return{};var n=Zxe(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Zxe(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Jxe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function uT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,U$(s.key),s)}}function ege(e,r,n){return r&&uT(e.prototype,r),n&&uT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tge(e,r,n){return r=Ax(r),rge(e,B$()?Reflect.construct(r,n||[],Ax(e).constructor):r.apply(e,n))}function rge(e,r){if(r&&(fd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nge(e)}function nge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B$=function(){return!!e})()}function Ax(e){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ax(e)}function sge(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&eN(e,r)}function eN(e,r){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},eN(e,r)}function Pv(e,r,n){return r=U$(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function U$(e){var r=age(e,"string");return fd(r)=="symbol"?r:r+""}function age(e,r){if(fd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(fd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Cv=function(e){function r(){return Jxe(this,r),tge(this,r,arguments)}return sge(r,e),ege(r,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return hr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=Vxe(l,function(u){return u.coordinate||0}),d=Xxe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=dT(s,Yxe),u=l.reduce(function(y,f){return[Math.min(y[0],f.coordinate),Math.max(y[1],f.coordinate)]},[1/0,-1/0]),m=hr(a,i,u[0],o),h=hr(a,i,u[1],o),p=Fo(Fo(Fo({},et(d,!1)),{},{fill:"none"},et(c,!1)),{},{x1:m.x,y1:m.y,x2:h.x,y2:h.y});return L.createElement("line",am({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=dT(a,Qxe),m=this.getTickTextAnchor(),h=et(u,!1),p=et(o,!1),y=i.map(function(f,v){var j=s.getTickValueCoord(f),x=Fo(Fo(Fo(Fo({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},h),{},{stroke:"none",fill:d},p),{},{index:v},j),{},{payload:f});return L.createElement(It,am({className:gt("recharts-polar-radius-axis-tick",_$(o)),key:"tick-".concat(f.coordinate)},El(s.props,f,v)),r.renderTickItem(o,x,c?c(f.value,v):f.value))});return L.createElement(It,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:L.createElement(It,{className:gt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),dn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return L.isValidElement(s)?o=L.cloneElement(s,a):dt(s)?o=s(a):o=L.createElement(Ol,am({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(g.PureComponent);Pv(Cv,"displayName","PolarRadiusAxis");Pv(Cv,"axisType","radiusAxis");Pv(Cv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pd(e)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xo.apply(this,arguments)}function mT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function zo(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?mT(Object(n),!0).forEach(function(s){_v(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ige(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,q$(s.key),s)}}function oge(e,r,n){return r&&hT(e.prototype,r),n&&hT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lge(e,r,n){return r=Tx(r),cge(e,V$()?Reflect.construct(r,n||[],Tx(e).constructor):r.apply(e,n))}function cge(e,r){if(r&&(pd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dge(e)}function dge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V$=function(){return!!e})()}function Tx(e){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tx(e)}function uge(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&tN(e,r)}function tN(e,r){return tN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},tN(e,r)}function _v(e,r,n){return r=q$(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function q$(e){var r=mge(e,"string");return pd(r)=="symbol"?r:r+""}function mge(e,r){if(pd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(pd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var hge=Math.PI/180,fT=1e-5,Av=function(e){function r(){return ige(this,r),lge(this,r,arguments)}return uge(r,e),oge(r,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,m=hr(i,o,l,s.coordinate),h=hr(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:m.x,y1:m.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*hge),o;return i>fT?o=a==="outer"?"start":"end":i<-fT?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=zo(zo({},et(this.props,!1)),{},{fill:"none"},et(l,!1));if(c==="circle")return L.createElement(Fh,Xo({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,m=u.map(function(h){return hr(a,i,o,h.coordinate)});return L.createElement(Axe,Xo({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=et(this.props,!1),m=et(o,!1),h=zo(zo({},u),{},{fill:"none"},et(l,!1)),p=i.map(function(y,f){var v=s.getTickLineCoord(y),j=s.getTickTextAnchor(y),x=zo(zo(zo({textAnchor:j},u),{},{stroke:"none",fill:d},m),{},{index:f,payload:y,x:v.x2,y:v.y2});return L.createElement(It,Xo({className:gt("recharts-polar-angle-axis-tick",_$(o)),key:"tick-".concat(y.coordinate)},El(s.props,y,f)),l&&L.createElement("line",Xo({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&r.renderTickItem(o,x,c?c(y.value,f):y.value))});return L.createElement(It,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:L.createElement(It,{className:gt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return L.isValidElement(s)?o=L.cloneElement(s,a):dt(s)?o=s(a):o=L.createElement(Ol,Xo({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(g.PureComponent);_v(Av,"displayName","PolarAngleAxis");_v(Av,"axisType","angleAxis");_v(Av,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var fge=G3,pge=fge(Object.getPrototypeOf,Object),xge=pge,gge=Di,vge=xge,yge=Mi,jge="[object Object]",bge=Function.prototype,Nge=Object.prototype,W$=bge.toString,wge=Nge.hasOwnProperty,Sge=W$.call(Object);function Pge(e){if(!yge(e)||gge(e)!=jge)return!1;var r=vge(e);if(r===null)return!0;var n=wge.call(r,"constructor")&&r.constructor;return typeof n=="function"&&n instanceof n&&W$.call(n)==Sge}var Cge=Pge;const _ge=Jt(Cge);var Age=Di,Tge=Mi,kge="[object Boolean]";function Ege(e){return e===!0||e===!1||Tge(e)&&Age(e)==kge}var Oge=Ege;const Rge=Jt(Oge);function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ih(e)}function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kx.apply(this,arguments)}function Dge(e,r){return Lge(e)||$ge(e,r)||Ige(e,r)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ige(e,r){if(e){if(typeof e=="string")return pT(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pT(e,r)}}function pT(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function $ge(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Lge(e){if(Array.isArray(e))return e}function xT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function gT(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?xT(Object(n),!0).forEach(function(s){Fge(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Fge(e,r,n){return r=zge(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function zge(e){var r=Bge(e,"string");return ih(r)=="symbol"?r:r+""}function Bge(e,r){if(ih(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(ih(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var vT=function(r,n,s,a,i){var o=s-a,l;return l="M ".concat(r,",").concat(n),l+="L ".concat(r+s,",").concat(n),l+="L ".concat(r+s-o/2,",").concat(n+i),l+="L ".concat(r+s-o/2-a,",").concat(n+i),l+="L ".concat(r,",").concat(n," Z"),l},Uge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vge=function(r){var n=gT(gT({},Uge),r),s=g.useRef(),a=g.useState(-1),i=Dge(a,2),o=i[0],l=i[1];g.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,m=n.lowerWidth,h=n.height,p=n.className,y=n.animationEasing,f=n.animationDuration,v=n.animationBegin,j=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||m!==+m||h!==+h||u===0&&m===0||h===0)return null;var x=gt("recharts-trapezoid",p);return j?L.createElement(ja,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:u,lowerWidth:m,height:h,x:c,y:d},duration:f,animationEasing:y,isActive:j},function(b){var S=b.upperWidth,w=b.lowerWidth,N=b.height,P=b.x,_=b.y;return L.createElement(ja,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:f,easing:y},L.createElement("path",kx({},et(n,!0),{className:x,d:vT(P,_,S,w,N),ref:s})))}):L.createElement("g",null,L.createElement("path",kx({},et(n,!0),{className:x,d:vT(c,d,u,m,h)})))},qge=["option","shapeType","propTransformer","activeClassName","isActive"];function oh(e){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},oh(e)}function Wge(e,r){if(e==null)return{};var n=Hge(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Hge(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function yT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ex(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?yT(Object(n),!0).forEach(function(s){Kge(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Kge(e,r,n){return r=Gge(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Gge(e){var r=Xge(e,"string");return oh(r)=="symbol"?r:r+""}function Xge(e,r){if(oh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(oh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Yge(e,r){return Ex(Ex({},r),e)}function Qge(e,r){return e==="symbols"}function jT(e){var r=e.shapeType,n=e.elementProps;switch(r){case"rectangle":return L.createElement(m2,n);case"trapezoid":return L.createElement(Vge,n);case"sector":return L.createElement(k$,n);case"symbols":if(Qge(r))return L.createElement(E1,n);break;default:return null}}function Zge(e){return g.isValidElement(e)?e.props:e}function H$(e){var r=e.option,n=e.shapeType,s=e.propTransformer,a=s===void 0?Yge:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Wge(e,qge),d;if(g.isValidElement(r))d=g.cloneElement(r,Ex(Ex({},c),Zge(r)));else if(dt(r))d=r(c);else if(_ge(r)&&!Rge(r)){var u=a(r,c);d=L.createElement(jT,{shapeType:n,elementProps:u})}else{var m=c;d=L.createElement(jT,{shapeType:n,elementProps:m})}return l?L.createElement(It,{className:o},d):d}function Tv(e,r){return r!=null&&"trapezoids"in e.props}function kv(e,r){return r!=null&&"sectors"in e.props}function lh(e,r){return r!=null&&"points"in e.props}function Jge(e,r){var n,s,a=e.x===(r==null||(n=r.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===r.x,i=e.y===(r==null||(s=r.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===r.y;return a&&i}function eve(e,r){var n=e.endAngle===r.endAngle,s=e.startAngle===r.startAngle;return n&&s}function tve(e,r){var n=e.x===r.x,s=e.y===r.y,a=e.z===r.z;return n&&s&&a}function rve(e,r){var n;return Tv(e,r)?n=Jge:kv(e,r)?n=eve:lh(e,r)&&(n=tve),n}function nve(e,r){var n;return Tv(e,r)?n="trapezoids":kv(e,r)?n="sectors":lh(e,r)&&(n="points"),n}function sve(e,r){if(Tv(e,r)){var n;return(n=r.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(kv(e,r)){var s;return(s=r.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return lh(e,r)?r.payload:{}}function ave(e){var r=e.activeTooltipItem,n=e.graphicalItem,s=e.itemData,a=nve(n,r),i=sve(n,r),o=s.filter(function(c,d){var u=Rl(i,c),m=n.props[a].filter(function(y){var f=rve(n,r);return f(y,r)}),h=n.props[a].indexOf(m[m.length-1]),p=d===h;return u&&p}),l=s.indexOf(o[o.length-1]);return l}var sp;function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xd(e)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Sc.apply(this,arguments)}function bT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function cr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?bT(Object(n),!0).forEach(function(s){Ms(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ive(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function NT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,G$(s.key),s)}}function ove(e,r,n){return r&&NT(e.prototype,r),n&&NT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lve(e,r,n){return r=Ox(r),cve(e,K$()?Reflect.construct(r,n||[],Ox(e).constructor):r.apply(e,n))}function cve(e,r){if(r&&(xd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dve(e)}function dve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K$=function(){return!!e})()}function Ox(e){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ox(e)}function uve(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&rN(e,r)}function rN(e,r){return rN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},rN(e,r)}function Ms(e,r,n){return r=G$(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function G$(e){var r=mve(e,"string");return xd(r)=="symbol"?r:r+""}function mve(e,r){if(xd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(xd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ls=function(e){function r(n){var s;return ive(this,r),s=lve(this,r,[n]),Ms(s,"pieRef",null),Ms(s,"sectorRefs",[]),Ms(s,"id",ql("recharts-pie-")),Ms(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),dt(a)&&a()}),Ms(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),dt(a)&&a()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return uve(r,e),ove(r,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=et(this.props,!1),m=et(o,!1),h=et(l,!1),p=o&&o.offsetRadius||20,y=s.map(function(f,v){var j=(f.startAngle+f.endAngle)/2,x=hr(f.cx,f.cy,f.outerRadius+p,j),b=cr(cr(cr(cr({},u),f),{},{stroke:"none"},m),{},{index:v,textAnchor:r.getTextAnchor(x.x,f.cx)},x),S=cr(cr(cr(cr({},u),f),{},{fill:"none",stroke:f.fill},h),{},{index:v,points:[hr(f.cx,f.cy,f.outerRadius,j),x]}),w=c;return pt(c)&&pt(d)?w="value":pt(c)&&(w=d),L.createElement(It,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(v)},l&&r.renderLabelLineItem(l,S,"line"),r.renderLabelItem(o,b,Vr(f,w)))});return L.createElement(It,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&s.length!==1)return null;var m=a.isActiveIndex(u),h=c&&a.hasActiveIndex()?c:null,p=m?o:h,y=cr(cr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return L.createElement(It,Sc({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},El(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),L.createElement(H$,Sc({option:p,isActive:m,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,m=this.state,h=m.prevSectors,p=m.prevIsAnimationActive;return L.createElement(ja,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var f=y.t,v=[],j=i&&i[0],x=j.startAngle;return i.forEach(function(b,S){var w=h&&h[S],N=S>0?bs(b,"paddingAngle",0):0;if(w){var P=tn(w.endAngle-w.startAngle,b.endAngle-b.startAngle),_=cr(cr({},b),{},{startAngle:x+N,endAngle:x+P(f)+N});v.push(_),x=_.endAngle}else{var C=b.endAngle,A=b.startAngle,M=tn(0,C-A),R=M(f),E=cr(cr({},b),{},{startAngle:x+N,endAngle:x+R+N});v.push(E),x=E.endAngle}}),L.createElement(It,null,s.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Rl(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,m=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!Re(d)||!Re(u)||!Re(m)||!Re(h))return null;var f=gt("recharts-pie",l);return L.createElement(It,{tabIndex:this.props.rootTabIndex,className:f,ref:function(j){s.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),dn.renderCallByParent(this.props,null,!1),(!p||y)&&Ha.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(L.isValidElement(s))return L.cloneElement(s,a);if(dt(s))return s(a);var o=gt("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return L.createElement(gl,Sc({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(L.isValidElement(s))return L.cloneElement(s,a);var o=i;if(dt(s)&&(o=s(a),L.isValidElement(o)))return o;var l=gt("recharts-pie-label-text",typeof s!="boolean"&&!dt(s)?s.className:"");return L.createElement(Ol,Sc({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(g.PureComponent);sp=ls;Ms(ls,"displayName","Pie");Ms(ls,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ha.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ms(ls,"parseDeltaAngle",function(e,r){var n=zn(r-e),s=Math.min(Math.abs(r-e),360);return n*s});Ms(ls,"getRealPieData",function(e){var r=e.data,n=e.children,s=et(e,!1),a=Ns(n,Ii);return r&&r.length?r.map(function(i,o){return cr(cr(cr({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return cr(cr({},s),i.props)}):[]});Ms(ls,"parseCoordinateOfPie",function(e,r){var n=r.top,s=r.left,a=r.width,i=r.height,o=C$(a,i),l=s+Bn(e.cx,a,a/2),c=n+Bn(e.cy,i,i/2),d=Bn(e.innerRadius,o,0),u=Bn(e.outerRadius,o,o*.8),m=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:m}});Ms(ls,"getComposedData",function(e){var r=e.item,n=e.offset,s=r.type.defaultProps!==void 0?cr(cr({},r.type.defaultProps),r.props):r.props,a=sp.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,m=s.valueKey,h=s.tooltipType,p=Math.abs(s.minAngle),y=sp.parseCoordinateOfPie(s,n),f=sp.parseDeltaAngle(o,l),v=Math.abs(f),j=d;pt(d)&&pt(m)?(ma(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):pt(d)&&(ma(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=m);var x=a.filter(function(_){return Vr(_,j,0)!==0}).length,b=(v>=360?x:x-1)*c,S=v-x*p-b,w=a.reduce(function(_,C){var A=Vr(C,j,0);return _+(Re(A)?A:0)},0),N;if(w>0){var P;N=a.map(function(_,C){var A=Vr(_,j,0),M=Vr(_,u,C),R=(Re(A)?A:0)/w,E;C?E=P.endAngle+zn(f)*c*(A!==0?1:0):E=o;var F=E+zn(f)*((A!==0?p:0)+R*S),G=(E+F)/2,D=(y.innerRadius+y.outerRadius)/2,J=[{name:M,value:A,payload:_,dataKey:j,type:h}],q=hr(y.cx,y.cy,D,G);return P=cr(cr(cr({percent:R,cornerRadius:i,name:M,tooltipPayload:J,midAngle:G,middleRadius:D,tooltipPosition:q},_),y),{},{value:Vr(_,j),startAngle:E,endAngle:F,payload:_,paddingAngle:zn(f)*c}),P})}return cr(cr({},y),{},{sectors:N,data:a})});var hve=Math.ceil,fve=Math.max;function pve(e,r,n,s){for(var a=-1,i=fve(hve((r-e)/(n||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=n;return o}var xve=pve,gve=hI,wT=1/0,vve=17976931348623157e292;function yve(e){if(!e)return e===0?e:0;if(e=gve(e),e===wT||e===-wT){var r=e<0?-1:1;return r*vve}return e===e?e:0}var X$=yve,jve=xve,bve=fv,oj=X$;function Nve(e){return function(r,n,s){return s&&typeof s!="number"&&bve(r,n,s)&&(n=s=void 0),r=oj(r),n===void 0?(n=r,r=0):n=oj(n),s=s===void 0?r<n?1:-1:oj(s),jve(r,n,s,e)}}var wve=Nve,Sve=wve,Pve=Sve(),Cve=Pve;const Rx=Jt(Cve);function ch(e){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ch(e)}function ST(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function PT(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ST(Object(n),!0).forEach(function(s){Y$(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Y$(e,r,n){return r=_ve(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function _ve(e){var r=Ave(e,"string");return ch(r)=="symbol"?r:r+""}function Ave(e,r){if(ch(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(ch(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Tve=["Webkit","Moz","O","ms"],kve=function(r,n){var s=r.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Tve.reduce(function(i,o){return PT(PT({},i),{},Y$({},o+s,n))},{});return a[r]=n,a};function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gd(e)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dx.apply(this,arguments)}function CT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function lj(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?CT(Object(n),!0).forEach(function(s){ds(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Eve(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _T(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Z$(s.key),s)}}function Ove(e,r,n){return r&&_T(e.prototype,r),n&&_T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rve(e,r,n){return r=Mx(r),Dve(e,Q$()?Reflect.construct(r,n||[],Mx(e).constructor):r.apply(e,n))}function Dve(e,r){if(r&&(gd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mve(e)}function Mve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q$=function(){return!!e})()}function Mx(e){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mx(e)}function Ive(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&nN(e,r)}function nN(e,r){return nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},nN(e,r)}function ds(e,r,n){return r=Z$(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Z$(e){var r=$ve(e,"string");return gd(r)=="symbol"?r:r+""}function $ve(e,r){if(gd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(gd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Lve=function(r){var n=r.data,s=r.startIndex,a=r.endIndex,i=r.x,o=r.width,l=r.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=tm().domain(Rx(0,c)).range([i,i+o-l]),u=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},AT=function(r){return r.changedTouches&&!!r.changedTouches.length},vd=function(e){function r(n){var s;return Eve(this,r),s=Rve(this,r,[n]),ds(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),ds(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),ds(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),ds(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),ds(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),ds(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),ds(s,"handleSlideDragStart",function(a){var i=AT(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return Ive(r,e),Ove(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,m=Math.min(a,i),h=Math.max(a,i),p=r.getIndexInRange(o,m),y=r.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:y===u?u:y-y%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Vr(i[s],l,s);return dt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,m=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,f=s.pageX-i;f>0?f=Math.min(f,d+u-m-l,d+u-m-o):f<0&&(f=Math.max(f,d-o,d-l));var v=this.getIndex({startX:o+f,endX:l+f});(v.startIndex!==h||v.endIndex!==p)&&y&&y(v),this.setState({startX:o+f,endX:l+f,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=AT(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,m=u.x,h=u.width,p=u.travellerWidth,y=u.onChange,f=u.gap,v=u.data,j={startX:this.state.startX,endX:this.state.endX},x=s.pageX-i;x>0?x=Math.min(x,m+h-p-d):x<0&&(x=Math.max(x,m-d)),j[o]=d+x;var b=this.getIndex(j),S=b.startIndex,w=b.endIndex,N=function(){var _=v.length-1;return o==="startX"&&(l>c?S%f===0:w%f===0)||l<c&&w===_||o==="endX"&&(l>c?w%f===0:S%f===0)||l>c&&w===_};this.setState(ds(ds({},o,d+x),"brushMoveStartX",s.pageX),function(){y&&N()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],m=l.indexOf(u);if(m!==-1){var h=m+s;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=d||a==="endX"&&p<=c||this.setState(ds({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return L.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,m=g.Children.only(d);return m?L.cloneElement(m,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,m=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,f=c.startIndex,v=c.endIndex,j=Math.max(s,this.props.x),x=lj(lj({},et(this.props,!1)),{},{x:j,y:d,width:u,height:m}),b=p||"Min value: ".concat((i=y[f])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return L.createElement(It,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(h,x))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,m=Math.max(Math.abs(a-s)-d,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:m,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,m=u.startX,h=u.endX,p=5,y={pointerEvents:"none",fill:d};return L.createElement(It,{className:"recharts-brush-texts"},L.createElement(Ol,Dx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,h)-p,y:o+l/2},y),this.getTextOfTick(a)),L.createElement(Ol,Dx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,h)+c+p,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,m=s.alwaysShowText,h=this.state,p=h.startX,y=h.endX,f=h.isTextActive,v=h.isSlideMoving,j=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!Re(l)||!Re(c)||!Re(d)||!Re(u)||d<=0||u<=0)return null;var b=gt("recharts-brush",i),S=L.Children.count(o)===1,w=kve("userSelect","none");return L.createElement(It,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(f||v||j||x||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return L.isValidElement(s)?i=L.cloneElement(s,a):dt(s)?i=s(a):i=r.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,m=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return lj({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?Lve({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])}(g.PureComponent);ds(vd,"displayName","Brush");ds(vd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Fve=L1;function zve(e,r){var n;return Fve(e,function(s,a,i){return n=r(s,a,i),!n}),!!n}var Bve=zve,Uve=z3,Vve=Za,qve=Bve,Wve=os,Hve=fv;function Kve(e,r,n){var s=Wve(e)?Uve:qve;return n&&Hve(e,r,n)&&(r=void 0),s(e,Vve(r))}var Gve=Kve;const Xve=Jt(Gve);var Ka=function(r,n){var s=r.alwaysShow,a=r.ifOverflow;return s&&(a="extendDomain"),a===n},TT=lI;function Yve(e,r,n){r=="__proto__"&&TT?TT(e,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[r]=n}var Qve=Yve,Zve=Qve,Jve=iI,eye=Za;function tye(e,r){var n={};return r=eye(r),Jve(e,function(s,a,i){Zve(n,a,r(s,a,i))}),n}var rye=tye;const nye=Jt(rye);function sye(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!r(e[n],n,e))return!1;return!0}var aye=sye,iye=L1;function oye(e,r){var n=!0;return iye(e,function(s,a,i){return n=!!r(s,a,i),n}),n}var lye=oye,cye=aye,dye=lye,uye=Za,mye=os,hye=fv;function fye(e,r,n){var s=mye(e)?cye:dye;return n&&hye(e,r,n)&&(r=void 0),s(e,uye(r))}var pye=fye;const J$=Jt(pye);var xye=["x","y"];function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dh(e)}function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sN.apply(this,arguments)}function kT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ku(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?kT(Object(n),!0).forEach(function(s){gye(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function gye(e,r,n){return r=vye(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function vye(e){var r=yye(e,"string");return dh(r)=="symbol"?r:r+""}function yye(e,r){if(dh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(dh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function jye(e,r){if(e==null)return{};var n=bye(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function bye(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Nye(e,r){var n=e.x,s=e.y,a=jye(e,xye),i="".concat(n),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(r.height||a.height),u=parseInt(d,10),m="".concat(r.width||a.width),h=parseInt(m,10);return ku(ku(ku(ku(ku({},r),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:r.name,radius:r.radius})}function ET(e){return L.createElement(H$,sN({shapeType:"rectangle",propTransformer:Nye,activeClassName:"recharts-active-bar"},e))}var wye=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof r=="number")return r;var i=Re(s)||XQ(s);return i?r(s,a):(i||Ml(),n)}},Sye=["value","background"],e5;function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yd(e)}function Pye(e,r){if(e==null)return{};var n=Cye(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Cye(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ix.apply(this,arguments)}function OT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Kr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?OT(Object(n),!0).forEach(function(s){io(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function _ye(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function RT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,r5(s.key),s)}}function Aye(e,r,n){return r&&RT(e.prototype,r),n&&RT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tye(e,r,n){return r=$x(r),kye(e,t5()?Reflect.construct(r,n||[],$x(e).constructor):r.apply(e,n))}function kye(e,r){if(r&&(yd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eye(e)}function Eye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t5=function(){return!!e})()}function $x(e){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$x(e)}function Oye(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&aN(e,r)}function aN(e,r){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},aN(e,r)}function io(e,r,n){return r=r5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function r5(e){var r=Rye(e,"string");return yd(r)=="symbol"?r:r+""}function Rye(e,r){if(yd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(yd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var vr=function(e){function r(){var n;_ye(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Tye(this,r,[].concat(a)),io(n,"state",{isAnimationFinished:!1}),io(n,"id",ql("recharts-bar-")),io(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),io(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Oye(r,e),Aye(r,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=et(this.props,!1);return s&&s.map(function(m,h){var p=h===c,y=p?d:o,f=Kr(Kr(Kr({},u),m),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return L.createElement(It,Ix({className:"recharts-bar-rectangle"},El(a.props,m,h),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(h)}),L.createElement(ET,f))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,m=a.animationId,h=this.state.prevData;return L.createElement(ja,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,f=i.map(function(v,j){var x=h&&h[j];if(x){var b=tn(x.x,v.x),S=tn(x.y,v.y),w=tn(x.width,v.width),N=tn(x.height,v.height);return Kr(Kr({},v),{},{x:b(y),y:S(y),width:w(y),height:N(y)})}if(o==="horizontal"){var P=tn(0,v.height),_=P(y);return Kr(Kr({},v),{},{y:v.y+v.height-_,height:_})}var C=tn(0,v.width),A=C(y);return Kr(Kr({},v),{},{width:A})});return L.createElement(It,null,s.renderRectanglesStatically(f))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Rl(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=et(this.props.background,!1);return i.map(function(d,u){d.value;var m=d.background,h=Pye(d,Sye);if(!m)return null;var p=Kr(Kr(Kr(Kr(Kr({},h),{},{fill:"#eee"},m),c),El(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return L.createElement(ET,Ix({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},p))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,m=Ns(u,Lh);if(!m)return null;var h=d==="vertical"?o[0].height/2:o[0].width/2,p=function(v,j){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:Vr(v,j)}},y={clipPath:s?"url(#clipPath-".concat(a,")"):null};return L.createElement(It,y,m.map(function(f){return L.cloneElement(f,{key:"error-bar-".concat(a,"-").concat(f.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,m=s.width,h=s.height,p=s.isAnimationActive,y=s.background,f=s.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,j=gt("recharts-bar",o),x=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,S=x||b,w=pt(f)?this.id:f;return L.createElement(It,{className:j},x||b?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(w)},L.createElement("rect",{x:x?d:d-m/2,y:b?u:u-h/2,width:x?m:m*2,height:b?h:h*2}))):null,L.createElement(It,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||v)&&Ha.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(g.PureComponent);e5=vr;io(vr,"displayName","Bar");io(vr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ha.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});io(vr,"getComposedData",function(e){var r=e.props,n=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,m=e.displayedData,h=e.offset,p=hhe(s,n);if(!p)return null;var y=r.layout,f=n.type.defaultProps,v=f!==void 0?Kr(Kr({},f),n.props):n.props,j=v.dataKey,x=v.children,b=v.minPointSize,S=y==="horizontal"?o:i,w=d?S.scale.domain():null,N=jhe({numericAxis:S}),P=Ns(x,Ii),_=m.map(function(C,A){var M,R,E,F,G,D;d?M=fhe(d[u+A],w):(M=Vr(C,j),Array.isArray(M)||(M=[N,M]));var J=wye(b,e5.defaultProps.minPointSize)(M[1],A);if(y==="horizontal"){var q,U=[o.scale(M[0]),o.scale(M[1])],re=U[0],he=U[1];R=NA({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:C,index:A}),E=(q=he??re)!==null&&q!==void 0?q:void 0,F=p.size;var ie=re-he;if(G=Number.isNaN(ie)?0:ie,D={x:R,y:o.y,width:F,height:o.height},Math.abs(J)>0&&Math.abs(G)<Math.abs(J)){var fe=zn(G||J)*(Math.abs(J)-Math.abs(G));E-=fe,G+=fe}}else{var xe=[i.scale(M[0]),i.scale(M[1])],ge=xe[0],Te=xe[1];if(R=ge,E=NA({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:C,index:A}),F=Te-ge,G=p.size,D={x:i.x,y:E,width:i.width,height:G},Math.abs(J)>0&&Math.abs(F)<Math.abs(J)){var Se=zn(F||J)*(Math.abs(J)-Math.abs(F));F+=Se}}return Kr(Kr(Kr({},C),{},{x:R,y:E,width:F,height:G,value:d?M:M[1],payload:C,background:D},P&&P[A]&&P[A].props),{},{tooltipPayload:[S$(n,C)],tooltipPosition:{x:R+F/2,y:E+G/2}})});return Kr({data:_,layout:y},h)});function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},uh(e)}function Dye(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function DT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,n5(s.key),s)}}function Mye(e,r,n){return r&&DT(e.prototype,r),n&&DT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function MT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function sa(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?MT(Object(n),!0).forEach(function(s){Ev(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ev(e,r,n){return r=n5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function n5(e){var r=Iye(e,"string");return uh(r)=="symbol"?r:r+""}function Iye(e,r){if(uh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(uh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var h2=function(r,n,s,a,i){var o=r.width,l=r.height,c=r.layout,d=r.children,u=Object.keys(n),m={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},h=!!ms(d,vr);return u.reduce(function(p,y){var f=n[y],v=f.orientation,j=f.domain,x=f.padding,b=x===void 0?{}:x,S=f.mirror,w=f.reversed,N="".concat(v).concat(S?"Mirror":""),P,_,C,A,M;if(f.type==="number"&&(f.padding==="gap"||f.padding==="no-gap")){var R=j[1]-j[0],E=1/0,F=f.categoricalDomain.sort(ZQ);if(F.forEach(function(xe,ge){ge>0&&(E=Math.min((xe||0)-(F[ge-1]||0),E))}),Number.isFinite(E)){var G=E/R,D=f.layout==="vertical"?s.height:s.width;if(f.padding==="gap"&&(P=G*D/2),f.padding==="no-gap"){var J=Bn(r.barCategoryGap,G*D),q=G*D/2;P=q-J-(q-J)/D*J}}}a==="xAxis"?_=[s.left+(b.left||0)+(P||0),s.left+s.width-(b.right||0)-(P||0)]:a==="yAxis"?_=c==="horizontal"?[s.top+s.height-(b.bottom||0),s.top+(b.top||0)]:[s.top+(b.top||0)+(P||0),s.top+s.height-(b.bottom||0)-(P||0)]:_=f.range,w&&(_=[_[1],_[0]]);var U=j$(f,i,h),re=U.scale,he=U.realScaleType;re.domain(j).range(_),b$(re);var ie=N$(re,sa(sa({},f),{},{realScaleType:he}));a==="xAxis"?(M=v==="top"&&!S||v==="bottom"&&S,C=s.left,A=m[N]-M*f.height):a==="yAxis"&&(M=v==="left"&&!S||v==="right"&&S,C=m[N]-M*f.width,A=s.top);var fe=sa(sa(sa({},f),ie),{},{realScaleType:he,x:C,y:A,scale:re,width:a==="xAxis"?s.width:f.width,height:a==="yAxis"?s.height:f.height});return fe.bandSize=bx(fe,ie),!f.hide&&a==="xAxis"?m[N]+=(M?-1:1)*fe.height:f.hide||(m[N]+=(M?-1:1)*fe.width),sa(sa({},p),{},Ev({},y,fe))},{})},s5=function(r,n){var s=r.x,a=r.y,i=n.x,o=n.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},$ye=function(r){var n=r.x1,s=r.y1,a=r.x2,i=r.y2;return s5({x:n,y:s},{x:a,y:i})},a5=function(){function e(r){Dye(this,e),this.scale=r}return Mye(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();Ev(a5,"EPS",1e-4);var f2=function(r){var n=Object.keys(r).reduce(function(s,a){return sa(sa({},s),{},Ev({},a,a5.create(r[a])))},{});return sa(sa({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return nye(a,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return J$(a,function(i,o){return n[o].isInRange(i)})}})};function Lye(e){return(e%180+180)%180}var Fye=function(r){var n=r.width,s=r.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Lye(a),o=i*Math.PI/180,l=Math.atan(s/n),c=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(c)},zye=Za,Bye=Rh,Uye=mv;function Vye(e){return function(r,n,s){var a=Object(r);if(!Bye(r)){var i=zye(n);r=Uye(r),n=function(l){return i(a[l],l,a)}}var o=e(r,n,s);return o>-1?a[i?r[o]:o]:void 0}}var qye=Vye,Wye=X$;function Hye(e){var r=Wye(e),n=r%1;return r===r?n?r-n:r:0}var Kye=Hye,Gye=eI,Xye=Za,Yye=Kye,Qye=Math.max;function Zye(e,r,n){var s=e==null?0:e.length;if(!s)return-1;var a=n==null?0:Yye(n);return a<0&&(a=Qye(s+a,0)),Gye(e,Xye(r),a)}var Jye=Zye,eje=qye,tje=Jye,rje=eje(tje),nje=rje;const sje=Jt(nje);var aje=JY(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),p2=g.createContext(void 0),x2=g.createContext(void 0),i5=g.createContext(void 0),o5=g.createContext({}),l5=g.createContext(void 0),c5=g.createContext(0),d5=g.createContext(0),IT=function(r){var n=r.state,s=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=r.clipPathId,l=r.children,c=r.width,d=r.height,u=aje(i);return L.createElement(p2.Provider,{value:s},L.createElement(x2.Provider,{value:a},L.createElement(o5.Provider,{value:i},L.createElement(i5.Provider,{value:u},L.createElement(l5.Provider,{value:o},L.createElement(c5.Provider,{value:d},L.createElement(d5.Provider,{value:c},l)))))))},ije=function(){return g.useContext(l5)},u5=function(r){var n=g.useContext(p2);n==null&&Ml();var s=n[r];return s==null&&Ml(),s},oje=function(){var r=g.useContext(p2);return Xi(r)},lje=function(){var r=g.useContext(x2),n=sje(r,function(s){return J$(s.domain,Number.isFinite)});return n||Xi(r)},m5=function(r){var n=g.useContext(x2);n==null&&Ml();var s=n[r];return s==null&&Ml(),s},cje=function(){var r=g.useContext(i5);return r},dje=function(){return g.useContext(o5)},g2=function(){return g.useContext(d5)},v2=function(){return g.useContext(c5)};function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jd(e)}function uje(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mje(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,f5(s.key),s)}}function hje(e,r,n){return r&&mje(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fje(e,r,n){return r=Lx(r),pje(e,h5()?Reflect.construct(r,n||[],Lx(e).constructor):r.apply(e,n))}function pje(e,r){if(r&&(jd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xje(e)}function xje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h5=function(){return!!e})()}function Lx(e){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lx(e)}function gje(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&iN(e,r)}function iN(e,r){return iN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},iN(e,r)}function $T(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function LT(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?$T(Object(n),!0).forEach(function(s){y2(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function y2(e,r,n){return r=f5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function f5(e){var r=vje(e,"string");return jd(r)=="symbol"?r:r+""}function vje(e,r){if(jd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(jd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function yje(e,r){return wje(e)||Nje(e,r)||bje(e,r)||jje()}function jje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bje(e,r){if(e){if(typeof e=="string")return FT(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FT(e,r)}}function FT(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Nje(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function wje(e){if(Array.isArray(e))return e}function oN(){return oN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oN.apply(this,arguments)}var Sje=function(r,n){var s;return L.isValidElement(r)?s=L.cloneElement(r,n):dt(r)?s=r(n):s=L.createElement("line",oN({},n,{className:"recharts-reference-line-line"})),s},Pje=function(r,n,s,a,i,o,l,c,d){var u=i.x,m=i.y,h=i.width,p=i.height;if(s){var y=d.y,f=r.y.apply(y,{position:o});if(Ka(d,"discard")&&!r.y.isInRange(f))return null;var v=[{x:u+h,y:f},{x:u,y:f}];return c==="left"?v.reverse():v}if(n){var j=d.x,x=r.x.apply(j,{position:o});if(Ka(d,"discard")&&!r.x.isInRange(x))return null;var b=[{x,y:m+p},{x,y:m}];return l==="top"?b.reverse():b}if(a){var S=d.segment,w=S.map(function(N){return r.apply(N,{position:o})});return Ka(d,"discard")&&Xve(w,function(N){return!r.isInRange(N)})?null:w}return null};function Cje(e){var r=e.x,n=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=ije(),u=u5(a),m=m5(i),h=cje();if(!d||!h)return null;ma(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=f2({x:u.scale,y:m.scale}),y=nn(r),f=nn(n),v=s&&s.length===2,j=Pje(p,y,f,v,h,e.position,u.orientation,m.orientation,e);if(!j)return null;var x=yje(j,2),b=x[0],S=b.x,w=b.y,N=x[1],P=N.x,_=N.y,C=Ka(e,"hidden")?"url(#".concat(d,")"):void 0,A=LT(LT({clipPath:C},et(e,!0)),{},{x1:S,y1:w,x2:P,y2:_});return L.createElement(It,{className:gt("recharts-reference-line",l)},Sje(o,A),dn.renderCallByParent(e,$ye({x1:S,y1:w,x2:P,y2:_})))}var j2=function(e){function r(){return uje(this,r),fje(this,r,arguments)}return gje(r,e),hje(r,[{key:"render",value:function(){return L.createElement(Cje,this.props)}}])}(L.Component);y2(j2,"displayName","ReferenceLine");y2(j2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lN.apply(this,arguments)}function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bd(e)}function zT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function BT(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?zT(Object(n),!0).forEach(function(s){Ov(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function _je(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Aje(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,x5(s.key),s)}}function Tje(e,r,n){return r&&Aje(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kje(e,r,n){return r=Fx(r),Eje(e,p5()?Reflect.construct(r,n||[],Fx(e).constructor):r.apply(e,n))}function Eje(e,r){if(r&&(bd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oje(e)}function Oje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p5=function(){return!!e})()}function Fx(e){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fx(e)}function Rje(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&cN(e,r)}function cN(e,r){return cN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},cN(e,r)}function Ov(e,r,n){return r=x5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function x5(e){var r=Dje(e,"string");return bd(r)=="symbol"?r:r+""}function Dje(e,r){if(bd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(bd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Mje=function(r){var n=r.x,s=r.y,a=r.xAxis,i=r.yAxis,o=f2({x:a.scale,y:i.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return Ka(r,"discard")&&!o.isInRange(l)?null:l},Rv=function(e){function r(){return _je(this,r),kje(this,r,arguments)}return Rje(r,e),Tje(r,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=nn(a),u=nn(i);if(ma(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var m=Mje(this.props);if(!m)return null;var h=m.x,p=m.y,y=this.props,f=y.shape,v=y.className,j=Ka(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=BT(BT({clipPath:j},et(this.props,!0)),{},{cx:h,cy:p});return L.createElement(It,{className:gt("recharts-reference-dot",v)},r.renderDot(f,x),dn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(L.Component);Ov(Rv,"displayName","ReferenceDot");Ov(Rv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ov(Rv,"renderDot",function(e,r){var n;return L.isValidElement(e)?n=L.cloneElement(e,r):dt(e)?n=e(r):n=L.createElement(Fh,lN({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"})),n});function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dN.apply(this,arguments)}function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nd(e)}function UT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function VT(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?UT(Object(n),!0).forEach(function(s){Dv(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ije(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $je(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,v5(s.key),s)}}function Lje(e,r,n){return r&&$je(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fje(e,r,n){return r=zx(r),zje(e,g5()?Reflect.construct(r,n||[],zx(e).constructor):r.apply(e,n))}function zje(e,r){if(r&&(Nd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bje(e)}function Bje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g5=function(){return!!e})()}function zx(e){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zx(e)}function Uje(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&uN(e,r)}function uN(e,r){return uN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},uN(e,r)}function Dv(e,r,n){return r=v5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function v5(e){var r=Vje(e,"string");return Nd(r)=="symbol"?r:r+""}function Vje(e,r){if(Nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Nd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var qje=function(r,n,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,m=i.yAxis;if(!u||!m)return null;var h=f2({x:u.scale,y:m.scale}),p={x:r?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:s?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(d,{position:"end"}):h.y.rangeMax};return Ka(i,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:s5(p,y)},Mv=function(e){function r(){return Ije(this,r),Fje(this,r,arguments)}return Uje(r,e),Lje(r,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;ma(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=nn(a),h=nn(i),p=nn(o),y=nn(l),f=this.props.shape;if(!m&&!h&&!p&&!y&&!f)return null;var v=qje(m,h,p,y,this.props);if(!v&&!f)return null;var j=Ka(this.props,"hidden")?"url(#".concat(u,")"):void 0;return L.createElement(It,{className:gt("recharts-reference-area",c)},r.renderRect(f,VT(VT({clipPath:j},et(this.props,!0)),v)),dn.renderCallByParent(this.props,v))}}])}(L.Component);Dv(Mv,"displayName","ReferenceArea");Dv(Mv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dv(Mv,"renderRect",function(e,r){var n;return L.isValidElement(e)?n=L.cloneElement(e,r):dt(e)?n=e(r):n=L.createElement(m2,dN({},r,{className:"recharts-reference-area-rect"})),n});function y5(e,r,n){if(r<1)return[];if(r===1&&n===void 0)return e;for(var s=[],a=0;a<e.length;a+=r)s.push(e[a]);return s}function Wje(e,r,n){var s={width:e.width+r.width,height:e.height+r.height};return Fye(s,n)}function Hje(e,r,n){var s=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return r===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function Bx(e,r,n,s,a){if(e*r<e*s||e*r>e*a)return!1;var i=n();return e*(r-e*i/2-s)>=0&&e*(r+e*i/2-a)<=0}function Kje(e,r){return y5(e,r+1)}function Gje(e,r,n,s,a){for(var i=(s||[]).slice(),o=r.start,l=r.end,c=0,d=1,u=o,m=function(){var y=s==null?void 0:s[c];if(y===void 0)return{v:y5(s,d)};var f=c,v,j=function(){return v===void 0&&(v=n(y,f)),v},x=y.coordinate,b=c===0||Bx(e,x,j,u,l);b||(c=0,u=o,d+=1),b&&(u=x+e*(j()/2+a),c+=d)},h;d<=i.length;)if(h=m(),h)return h.v;return[]}function mh(e){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mh(e)}function qT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function An(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?qT(Object(n),!0).forEach(function(s){Xje(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Xje(e,r,n){return r=Yje(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Yje(e){var r=Qje(e,"string");return mh(r)=="symbol"?r:r+""}function Qje(e,r){if(mh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(mh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Zje(e,r,n,s,a){for(var i=(s||[]).slice(),o=i.length,l=r.start,c=r.end,d=function(h){var p=i[h],y,f=function(){return y===void 0&&(y=n(p,h)),y};if(h===o-1){var v=e*(p.coordinate+e*f()/2-c);i[h]=p=An(An({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=An(An({},p),{},{tickCoord:p.coordinate});var j=Bx(e,p.tickCoord,f,l,c);j&&(c=p.tickCoord-e*(f()/2+a),i[h]=An(An({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function Jje(e,r,n,s,a,i){var o=(s||[]).slice(),l=o.length,c=r.start,d=r.end;if(i){var u=s[l-1],m=n(u,l-1),h=e*(u.coordinate+e*m/2-d);o[l-1]=u=An(An({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=Bx(e,u.tickCoord,function(){return m},c,d);p&&(d=u.tickCoord-e*(m/2+a),o[l-1]=An(An({},u),{},{isShow:!0}))}for(var y=i?l-1:l,f=function(x){var b=o[x],S,w=function(){return S===void 0&&(S=n(b,x)),S};if(x===0){var N=e*(b.coordinate-e*w()/2-c);o[x]=b=An(An({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else o[x]=b=An(An({},b),{},{tickCoord:b.coordinate});var P=Bx(e,b.tickCoord,w,c,d);P&&(c=b.tickCoord+e*(w()/2+a),o[x]=An(An({},b),{},{isShow:!0}))},v=0;v<y;v++)f(v);return o}function b2(e,r,n){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,m=e.angle;if(!a||!a.length||!s)return[];if(Re(c)||ha.isSsr)return Kje(a,typeof c=="number"&&Re(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=u&&p==="width"?em(u,{fontSize:r,letterSpacing:n}):{width:0,height:0},f=function(b,S){var w=dt(d)?d(b.value,S):b.value;return p==="width"?Wje(em(w,{fontSize:r,letterSpacing:n}),y,m):em(w,{fontSize:r,letterSpacing:n})[p]},v=a.length>=2?zn(a[1].coordinate-a[0].coordinate):1,j=Hje(i,v,p);return c==="equidistantPreserveStart"?Gje(v,j,f,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Jje(v,j,f,a,o,c==="preserveStartEnd"):h=Zje(v,j,f,a,o),h.filter(function(x){return x.isShow}))}var e0e=["viewBox"],t0e=["viewBox"],r0e=["ticks"];function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wd(e)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pc.apply(this,arguments)}function WT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Zr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?WT(Object(n),!0).forEach(function(s){N2(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function cj(e,r){if(e==null)return{};var n=n0e(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function n0e(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function s0e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function HT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,b5(s.key),s)}}function a0e(e,r,n){return r&&HT(e.prototype,r),n&&HT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function i0e(e,r,n){return r=Ux(r),o0e(e,j5()?Reflect.construct(r,n||[],Ux(e).constructor):r.apply(e,n))}function o0e(e,r){if(r&&(wd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l0e(e)}function l0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j5=function(){return!!e})()}function Ux(e){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ux(e)}function c0e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&mN(e,r)}function mN(e,r){return mN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},mN(e,r)}function N2(e,r,n){return r=b5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function b5(e){var r=d0e(e,"string");return wd(r)=="symbol"?r:r+""}function d0e(e,r){if(wd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(wd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var iu=function(e){function r(n){var s;return s0e(this,r),s=i0e(this,r,[n]),s.state={fontSize:"",letterSpacing:""},s}return c0e(r,e),a0e(r,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=cj(s,e0e),l=this.props,c=l.viewBox,d=cj(l,t0e);return!Ic(i,c)||!Ic(o,d)||!Ic(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,m=a.mirror,h=a.tickMargin,p,y,f,v,j,x,b=m?-1:1,S=s.tickSize||u,w=Re(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":p=y=s.coordinate,v=o+ +!m*c,f=v-b*S,x=f-b*h,j=w;break;case"left":f=v=s.coordinate,y=i+ +!m*l,p=y-b*S,j=p-b*h,x=w;break;case"right":f=v=s.coordinate,y=i+ +m*l,p=y+b*S,j=p+b*h,x=w;break;default:p=y=s.coordinate,v=o+ +m*c,f=v+b*S,x=f+b*h,j=w;break}return{line:{x1:p,y1:f,x2:y,y2:v},tick:{x:j,y:x}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,m=Zr(Zr(Zr({},et(this.props,!1)),et(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);m=Zr(Zr({},m),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!d||c==="right"&&d);m=Zr(Zr({},m),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return L.createElement("line",Pc({},m,{className:gt("recharts-cartesian-axis-line",bs(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,m=l.tickFormatter,h=l.unit,p=b2(Zr(Zr({},this.props),{},{ticks:s}),a,i),y=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),v=et(this.props,!1),j=et(u,!1),x=Zr(Zr({},v),{},{fill:"none"},et(c,!1)),b=p.map(function(S,w){var N=o.getTickLineCoord(S),P=N.line,_=N.tick,C=Zr(Zr(Zr(Zr({textAnchor:y,verticalAnchor:f},v),{},{stroke:"none",fill:d},j),_),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:m});return L.createElement(It,Pc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},El(o.props,S,w)),c&&L.createElement("line",Pc({},x,P,{className:gt("recharts-cartesian-axis-tick-line",bs(c,"className"))})),u&&r.renderTickItem(u,C,"".concat(dt(m)?m(S.value,w):S.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var m=this.props,h=m.ticks,p=cj(m,r0e),y=h;return dt(c)&&(y=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:L.createElement(It,{className:gt("recharts-cartesian-axis",d),ref:function(v){s.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),dn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=gt(a.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(s)?o=L.cloneElement(s,Zr(Zr({},a),{},{className:l})):dt(s)?o=s(Zr(Zr({},a),{},{className:l})):o=L.createElement(Ol,Pc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(g.Component);N2(iu,"displayName","CartesianAxis");N2(iu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var u0e=["x1","y1","x2","y2","key"],m0e=["offset"];function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Il(e)}function KT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function kn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?KT(Object(n),!0).forEach(function(s){h0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function h0e(e,r,n){return r=f0e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function f0e(e){var r=p0e(e,"string");return Il(r)=="symbol"?r:r+""}function p0e(e,r){if(Il(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Il(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sl.apply(this,arguments)}function GT(e,r){if(e==null)return{};var n=x0e(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function x0e(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}var g0e=function(r){var n=r.fill;if(!n||n==="none")return null;var s=r.fillOpacity,a=r.x,i=r.y,o=r.width,l=r.height,c=r.ry;return L.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function N5(e,r){var n;if(L.isValidElement(e))n=L.cloneElement(e,r);else if(dt(e))n=e(r);else{var s=r.x1,a=r.y1,i=r.x2,o=r.y2,l=r.key,c=GT(r,u0e),d=et(c,!1);d.offset;var u=GT(d,m0e);n=L.createElement("line",sl({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function v0e(e){var r=e.x,n=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=kn(kn({},e),{},{x1:r,y1:l,x2:r+n,y2:l,key:"line-".concat(c),index:c});return N5(a,d)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function y0e(e){var r=e.y,n=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=kn(kn({},e),{},{x1:l,y1:r,x2:l,y2:r+n,key:"line-".concat(c),index:c});return N5(a,d)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function j0e(e){var r=e.horizontalFill,n=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!r||!r.length)return null;var u=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var m=u.map(function(h,p){var y=!u[p+1],f=y?a+o-h:u[p+1]-h;if(f<=0)return null;var v=p%r.length;return L.createElement("rect",{key:"react-".concat(p),y:h,x:s,height:f,width:i,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function b0e(e){var r=e.vertical,n=r===void 0?!0:r,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!s||!s.length)return null;var u=d.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var m=u.map(function(h,p){var y=!u[p+1],f=y?i+l-h:u[p+1]-h;if(f<=0)return null;var v=p%s.length;return L.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:f,height:c,stroke:"none",fill:s[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var N0e=function(r,n){var s=r.xAxis,a=r.width,i=r.height,o=r.offset;return y$(b2(kn(kn(kn({},iu.defaultProps),s),{},{ticks:hi(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},w0e=function(r,n){var s=r.yAxis,a=r.width,i=r.height,o=r.offset;return y$(b2(kn(kn(kn({},iu.defaultProps),s),{},{ticks:hi(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},tc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Yr(e){var r,n,s,a,i,o,l=g2(),c=v2(),d=dje(),u=kn(kn({},e),{},{stroke:(r=e.stroke)!==null&&r!==void 0?r:tc.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:tc.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:tc.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:tc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:tc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:tc.verticalFill,x:Re(e.x)?e.x:d.left,y:Re(e.y)?e.y:d.top,width:Re(e.width)?e.width:d.width,height:Re(e.height)?e.height:d.height}),m=u.x,h=u.y,p=u.width,y=u.height,f=u.syncWithTicks,v=u.horizontalValues,j=u.verticalValues,x=oje(),b=lje();if(!Re(p)||p<=0||!Re(y)||y<=0||!Re(m)||m!==+m||!Re(h)||h!==+h)return null;var S=u.verticalCoordinatesGenerator||N0e,w=u.horizontalCoordinatesGenerator||w0e,N=u.horizontalPoints,P=u.verticalPoints;if((!N||!N.length)&&dt(w)){var _=v&&v.length,C=w({yAxis:b?kn(kn({},b),{},{ticks:_?v:b.ticks}):void 0,width:l,height:c,offset:d},_?!0:f);ma(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Il(C),"]")),Array.isArray(C)&&(N=C)}if((!P||!P.length)&&dt(S)){var A=j&&j.length,M=S({xAxis:x?kn(kn({},x),{},{ticks:A?j:x.ticks}):void 0,width:l,height:c,offset:d},A?!0:f);ma(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Il(M),"]")),Array.isArray(M)&&(P=M)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(g0e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),L.createElement(v0e,sl({},u,{offset:d,horizontalPoints:N,xAxis:x,yAxis:b})),L.createElement(y0e,sl({},u,{offset:d,verticalPoints:P,xAxis:x,yAxis:b})),L.createElement(j0e,sl({},u,{horizontalPoints:N})),L.createElement(b0e,sl({},u,{verticalPoints:P})))}Yr.displayName="CartesianGrid";var S0e=["type","layout","connectNulls","ref"],P0e=["key"];function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sd(e)}function XT(e,r){if(e==null)return{};var n=C0e(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function C0e(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},im.apply(this,arguments)}function YT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function cs(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?YT(Object(n),!0).forEach(function(s){aa(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function rc(e){return k0e(e)||T0e(e)||A0e(e)||_0e()}function _0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A0e(e,r){if(e){if(typeof e=="string")return hN(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hN(e,r)}}function T0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k0e(e){if(Array.isArray(e))return hN(e)}function hN(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function E0e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function QT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,S5(s.key),s)}}function O0e(e,r,n){return r&&QT(e.prototype,r),n&&QT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R0e(e,r,n){return r=Vx(r),D0e(e,w5()?Reflect.construct(r,n||[],Vx(e).constructor):r.apply(e,n))}function D0e(e,r){if(r&&(Sd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M0e(e)}function M0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w5=function(){return!!e})()}function Vx(e){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vx(e)}function I0e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&fN(e,r)}function fN(e,r){return fN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},fN(e,r)}function aa(e,r,n){return r=S5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function S5(e){var r=$0e(e,"string");return Sd(r)=="symbol"?r:r+""}function $0e(e,r){if(Sd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Sd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Vn=function(e){function r(){var n;E0e(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=R0e(this,r,[].concat(a)),aa(n,"state",{isAnimationFinished:!0,totalLength:0}),aa(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),aa(n,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(j,x){return j+x});if(!d)return n.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),m=o%d,h=l-o,p=[],y=0,f=0;y<c.length;f+=c[y],++y)if(f+c[y]>m){p=[].concat(rc(c.slice(0,y)),[m-f]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(rc(r.repeat(c,u)),rc(p),v).map(function(j){return"".concat(j,"px")}).join(", ")}),aa(n,"id",ql("recharts-line-")),aa(n,"pathRef",function(o){n.mainCurve=o}),aa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),aa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return I0e(r,e),O0e(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,m=Ns(u,Lh);if(!m)return null;var h=function(f,v){return{x:f.x,y:f.y,value:f.value,errorVal:Vr(f.payload,v)}},p={clipPath:s?"url(#clipPath-".concat(a,")"):null};return L.createElement(It,p,m.map(function(y){return L.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,m=et(this.props,!1),h=et(c,!0),p=d.map(function(f,v){var j=cs(cs(cs({key:"dot-".concat(v),r:3},m),h),{},{index:v,cx:f.x,cy:f.y,value:f.value,dataKey:u,payload:f.payload,points:d});return r.renderDotItem(c,j)}),y={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return L.createElement(It,im({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var m=XT(l,S0e),h=cs(cs(cs({},et(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:d,connectNulls:u});return L.createElement(gl,im({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,m=o.animationDuration,h=o.animationEasing,p=o.animationId,y=o.animateNewValues,f=o.width,v=o.height,j=this.state,x=j.prevPoints,b=j.totalLength;return L.createElement(ja,{begin:u,duration:m,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(x){var N=x.length/l.length,P=l.map(function(R,E){var F=Math.floor(E*N);if(x[F]){var G=x[F],D=tn(G.x,R.x),J=tn(G.y,R.y);return cs(cs({},R),{},{x:D(w),y:J(w)})}if(y){var q=tn(f*2,R.x),U=tn(v/2,R.y);return cs(cs({},R),{},{x:q(w),y:U(w)})}return cs(cs({},R),{},{x:R.x,y:R.y})});return i.renderCurveStatically(P,s,a)}var _=tn(0,b),C=_(w),A;if(c){var M="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});A=i.getStrokeDasharray(C,b,M)}else A=i.generateSimpleStrokeDasharray(b,C);return i.renderCurveStatically(l,s,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Rl(d,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,m=a.top,h=a.left,p=a.width,y=a.height,f=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,x=l.length===1,b=gt("recharts-line",c),S=d&&d.allowDataOverflow,w=u&&u.allowDataOverflow,N=S||w,P=pt(v)?this.id:v,_=(s=et(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},C=_.r,A=C===void 0?3:C,M=_.strokeWidth,R=M===void 0?2:M,E=u3(o)?o:{},F=E.clipDot,G=F===void 0?!0:F,D=A*2+R;return L.createElement(It,{className:b},S||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(P)},L.createElement("rect",{x:S?h:h-p/2,y:w?m:m-y/2,width:S?p:p*2,height:w?y:y*2})),!G&&L.createElement("clipPath",{id:"clipPath-dots-".concat(P)},L.createElement("rect",{x:h-D/2,y:m-D/2,width:p+D,height:y+D}))):null,!x&&this.renderCurve(N,P),this.renderErrorBar(N,P),(x||o)&&this.renderDots(N,G,P),(!f||j)&&Ha.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(rc(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(rc(o),rc(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(L.isValidElement(s))i=L.cloneElement(s,a);else if(dt(s))i=s(a);else{var o=a.key,l=XT(a,P0e),c=gt("recharts-line-dot",typeof s!="boolean"?s.className:"");i=L.createElement(Fh,im({key:o},l,{className:c}))}return i}}])}(g.PureComponent);aa(Vn,"displayName","Line");aa(Vn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ha.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});aa(Vn,"getComposedData",function(e){var r=e.props,n=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=r.layout,m=c.map(function(h,p){var y=Vr(h,o);return u==="horizontal"?{x:jx({axis:n,ticks:a,bandSize:l,entry:h,index:p}),y:pt(y)?null:s.scale(y),value:y,payload:h}:{x:pt(y)?null:n.scale(y),y:jx({axis:s,ticks:i,bandSize:l,entry:h,index:p}),value:y,payload:h}});return cs({points:m,layout:u},d)});var L0e=["layout","type","stroke","connectNulls","isRange","ref"],F0e=["key"],P5;function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pd(e)}function C5(e,r){if(e==null)return{};var n=z0e(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function z0e(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function al(){return al=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},al.apply(this,arguments)}function ZT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Vi(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ZT(Object(n),!0).forEach(function(s){Fa(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function B0e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function JT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,A5(s.key),s)}}function U0e(e,r,n){return r&&JT(e.prototype,r),n&&JT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function V0e(e,r,n){return r=qx(r),q0e(e,_5()?Reflect.construct(r,n||[],qx(e).constructor):r.apply(e,n))}function q0e(e,r){if(r&&(Pd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W0e(e)}function W0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_5=function(){return!!e})()}function qx(e){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qx(e)}function H0e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&pN(e,r)}function pN(e,r){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},pN(e,r)}function Fa(e,r,n){return r=A5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function A5(e){var r=K0e(e,"string");return Pd(r)=="symbol"?r:r+""}function K0e(e,r){if(Pd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Pd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Io=function(e){function r(){var n;B0e(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=V0e(this,r,[].concat(a)),Fa(n,"state",{isAnimationFinished:!0}),Fa(n,"id",ql("recharts-area-")),Fa(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),dt(o)&&o()}),Fa(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),dt(o)&&o()}),n}return H0e(r,e),U0e(r,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,m=c.dataKey,h=et(this.props,!1),p=et(d,!0),y=u.map(function(v,j){var x=Vi(Vi(Vi({key:"dot-".concat(j),r:3},h),p),{},{index:j,cx:v.x,cy:v.y,dataKey:m,value:v.value,payload:v.payload,points:u});return r.renderDotItem(d,x)}),f={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return L.createElement(It,al({className:"recharts-area-dots"},f),y)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=s*Math.abs(c-d),m=ao(o.map(function(h){return h.y||0}));return Re(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(ao(i.map(function(h){return h.y||0})),m)),Re(m)?L.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=s*Math.abs(c-d),m=ao(o.map(function(h){return h.x||0}));return Re(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(ao(i.map(function(h){return h.x||0})),m)),Re(m)?L.createElement("rect",{x:0,y:c<d?c:c-u,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,m=l.connectNulls,h=l.isRange;l.ref;var p=C5(l,L0e);return L.createElement(It,{clipPath:i?"url(#clipPath-".concat(o,")"):null},L.createElement(gl,al({},et(p,!0),{points:s,connectNulls:m,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&L.createElement(gl,al({},et(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:s})),u!=="none"&&h&&L.createElement(gl,al({},et(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,m=o.animationDuration,h=o.animationEasing,p=o.animationId,y=this.state,f=y.prevPoints,v=y.prevBaseLine;return L.createElement(ja,{begin:u,duration:m,isActive:d,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var x=j.t;if(f){var b=f.length/l.length,S=l.map(function(_,C){var A=Math.floor(C*b);if(f[A]){var M=f[A],R=tn(M.x,_.x),E=tn(M.y,_.y);return Vi(Vi({},_),{},{x:R(x),y:E(x)})}return _}),w;if(Re(c)&&typeof c=="number"){var N=tn(v,c);w=N(x)}else if(pt(c)||Jd(c)){var P=tn(v,0);w=P(x)}else w=c.map(function(_,C){var A=Math.floor(C*b);if(v[A]){var M=v[A],R=tn(M.x,_.x),E=tn(M.y,_.y);return Vi(Vi({},_),{},{x:R(x),y:E(x)})}return _});return i.renderAreaStatically(S,w,s,a)}return L.createElement(It,null,L.createElement("defs",null,L.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),L.createElement(It,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,m=d.prevBaseLine,h=d.totalLength;return c&&o&&o.length&&(!u&&h>0||!Rl(u,o)||!Rl(m,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,m=a.xAxis,h=a.yAxis,p=a.width,y=a.height,f=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,x=l.length===1,b=gt("recharts-area",c),S=m&&m.allowDataOverflow,w=h&&h.allowDataOverflow,N=S||w,P=pt(v)?this.id:v,_=(s=et(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},C=_.r,A=C===void 0?3:C,M=_.strokeWidth,R=M===void 0?2:M,E=u3(o)?o:{},F=E.clipDot,G=F===void 0?!0:F,D=A*2+R;return L.createElement(It,{className:b},S||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(P)},L.createElement("rect",{x:S?u:u-p/2,y:w?d:d-y/2,width:S?p:p*2,height:w?y:y*2})),!G&&L.createElement("clipPath",{id:"clipPath-dots-".concat(P)},L.createElement("rect",{x:u-D/2,y:d-D/2,width:p+D,height:y+D}))):null,x?null:this.renderArea(N,P),(o||x)&&this.renderDots(N,G,P),(!f||j)&&Ha.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(g.PureComponent);P5=Io;Fa(Io,"displayName","Area");Fa(Io,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ha.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Fa(Io,"getBaseValue",function(e,r,n,s){var a=e.layout,i=e.baseValue,o=r.props.baseValue,l=o??i;if(Re(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:n,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Fa(Io,"getComposedData",function(e){var r=e.props,n=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,m=e.displayedData,h=e.offset,p=r.layout,y=d&&d.length,f=P5.getBaseValue(r,n,s,a),v=p==="horizontal",j=!1,x=m.map(function(S,w){var N;y?N=d[u+w]:(N=Vr(S,c),Array.isArray(N)?j=!0:N=[f,N]);var P=N[1]==null||y&&Vr(S,c)==null;return v?{x:jx({axis:s,ticks:i,bandSize:l,entry:S,index:w}),y:P?null:a.scale(N[1]),value:N,payload:S}:{x:P?null:s.scale(N[1]),y:jx({axis:a,ticks:o,bandSize:l,entry:S,index:w}),value:N,payload:S}}),b;return y||j?b=x.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:w!=null&&S.y!=null?a.scale(w):null}:{x:w!=null?s.scale(w):null,y:S.y}}):b=v?a.scale(f):s.scale(f),Vi({points:x,baseLine:b,layout:p,isRange:j},h)});Fa(Io,"renderDotItem",function(e,r){var n;if(L.isValidElement(e))n=L.cloneElement(e,r);else if(dt(e))n=e(r);else{var s=gt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=r.key,i=C5(r,F0e);n=L.createElement(Fh,al({},i,{key:a,className:s}))}return n});function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cd(e)}function G0e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function X0e(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,E5(s.key),s)}}function Y0e(e,r,n){return r&&X0e(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q0e(e,r,n){return r=Wx(r),Z0e(e,T5()?Reflect.construct(r,n||[],Wx(e).constructor):r.apply(e,n))}function Z0e(e,r){if(r&&(Cd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J0e(e)}function J0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T5=function(){return!!e})()}function Wx(e){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wx(e)}function ebe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&xN(e,r)}function xN(e,r){return xN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},xN(e,r)}function k5(e,r,n){return r=E5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function E5(e){var r=tbe(e,"string");return Cd(r)=="symbol"?r:r+""}function tbe(e,r){if(Cd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Cd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gN.apply(this,arguments)}function rbe(e){var r=e.xAxisId,n=g2(),s=v2(),a=u5(r);return a==null?null:g.createElement(iu,gN({},a,{className:gt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return hi(o,!0)}}))}var Pr=function(e){function r(){return G0e(this,r),Q0e(this,r,arguments)}return ebe(r,e),Y0e(r,[{key:"render",value:function(){return g.createElement(rbe,this.props)}}])}(g.Component);k5(Pr,"displayName","XAxis");k5(Pr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_d(e)}function nbe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sbe(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,D5(s.key),s)}}function abe(e,r,n){return r&&sbe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ibe(e,r,n){return r=Hx(r),obe(e,O5()?Reflect.construct(r,n||[],Hx(e).constructor):r.apply(e,n))}function obe(e,r){if(r&&(_d(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lbe(e)}function lbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O5=function(){return!!e})()}function Hx(e){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hx(e)}function cbe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&vN(e,r)}function vN(e,r){return vN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},vN(e,r)}function R5(e,r,n){return r=D5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function D5(e){var r=dbe(e,"string");return _d(r)=="symbol"?r:r+""}function dbe(e,r){if(_d(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(_d(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yN.apply(this,arguments)}var ube=function(r){var n=r.yAxisId,s=g2(),a=v2(),i=m5(n);return i==null?null:g.createElement(iu,yN({},i,{className:gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return hi(l,!0)}}))},Cr=function(e){function r(){return nbe(this,r),ibe(this,r,arguments)}return cbe(r,e),abe(r,[{key:"render",value:function(){return g.createElement(ube,this.props)}}])}(g.Component);R5(Cr,"displayName","YAxis");R5(Cr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ek(e){return pbe(e)||fbe(e)||hbe(e)||mbe()}function mbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hbe(e,r){if(e){if(typeof e=="string")return jN(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jN(e,r)}}function fbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pbe(e){if(Array.isArray(e))return jN(e)}function jN(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}var bN=function(r,n,s,a,i){var o=Ns(r,j2),l=Ns(r,Rv),c=[].concat(ek(o),ek(l)),d=Ns(r,Mv),u="".concat(a,"Id"),m=a[0],h=n;if(c.length&&(h=c.reduce(function(f,v){if(v.props[u]===s&&Ka(v.props,"extendDomain")&&Re(v.props[m])){var j=v.props[m];return[Math.min(f[0],j),Math.max(f[1],j)]}return f},h)),d.length){var p="".concat(m,"1"),y="".concat(m,"2");h=d.reduce(function(f,v){if(v.props[u]===s&&Ka(v.props,"extendDomain")&&Re(v.props[p])&&Re(v.props[y])){var j=v.props[p],x=v.props[y];return[Math.min(f[0],j,x),Math.max(f[1],j,x)]}return f},h)}return i&&i.length&&(h=i.reduce(function(f,v){return Re(v)?[Math.min(f[0],v),Math.max(f[1],v)]:f},h)),h},M5={exports:{}};(function(e){var r=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,m||c,h),y=n?n+d:d;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)r.call(u,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,p=m.length,y=new Array(p);h<p;h++)y[h]=m[h].fn;return y},l.prototype.listenerCount=function(d){var u=n?n+d:d,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,u,m,h,p,y){var f=n?n+d:d;if(!this._events[f])return!1;var v=this._events[f],j=arguments.length,x,b;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),j){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,m),!0;case 4:return v.fn.call(v.context,u,m,h),!0;case 5:return v.fn.call(v.context,u,m,h,p),!0;case 6:return v.fn.call(v.context,u,m,h,p,y),!0}for(b=1,x=new Array(j-1);b<j;b++)x[b-1]=arguments[b];v.fn.apply(v.context,x)}else{var S=v.length,w;for(b=0;b<S;b++)switch(v[b].once&&this.removeListener(d,v[b].fn,void 0,!0),j){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,m);break;case 4:v[b].fn.call(v[b].context,u,m,h);break;default:if(!x)for(w=1,x=new Array(j-1);w<j;w++)x[w-1]=arguments[w];v[b].fn.apply(v[b].context,x)}}return!0},l.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},l.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},l.prototype.removeListener=function(d,u,m,h){var p=n?n+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===u&&(!h||y.once)&&(!m||y.context===m)&&o(this,p);else{for(var f=0,v=[],j=y.length;f<j;f++)(y[f].fn!==u||h&&!y[f].once||m&&y[f].context!==m)&&v.push(y[f]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(M5);var xbe=M5.exports;const gbe=Jt(xbe);var dj=new gbe,uj="recharts.syncMouseEvents";function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hh(e)}function vbe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ybe(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,I5(s.key),s)}}function jbe(e,r,n){return r&&ybe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mj(e,r,n){return r=I5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function I5(e){var r=bbe(e,"string");return hh(r)=="symbol"?r:r+""}function bbe(e,r){if(hh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(hh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nbe=function(){function e(){vbe(this,e),mj(this,"activeIndex",0),mj(this,"coordinateList",[]),mj(this,"layout","horizontal")}return jbe(e,[{key:"setDetails",value:function(n){var s,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,u=n.offset,m=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,m=i+c+d,h=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:m,pageY:h})}}}])}();function wbe(e,r,n){if(n==="number"&&r===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],a=e==null?void 0:e[1];if(s&&a&&Re(s)&&Re(a))return!0}return!1}function Sbe(e,r,n,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:r.y-a,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function $5(e){var r=e.cx,n=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=hr(r,n,s,a),l=hr(r,n,s,i);return{points:[o,l],cx:r,cy:n,radius:s,startAngle:a,endAngle:i}}function Pbe(e,r,n){var s,a,i,o;if(e==="horizontal")s=r.x,i=s,a=n.top,o=n.top+n.height;else if(e==="vertical")a=r.y,o=a,s=n.left,i=n.left+n.width;else if(r.cx!=null&&r.cy!=null)if(e==="centric"){var l=r.cx,c=r.cy,d=r.innerRadius,u=r.outerRadius,m=r.angle,h=hr(l,c,d,m),p=hr(l,c,u,m);s=h.x,a=h.y,i=p.x,o=p.y}else return $5(r);return[{x:s,y:a},{x:i,y:o}]}function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fh(e)}function tk(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function kf(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?tk(Object(n),!0).forEach(function(s){Cbe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Cbe(e,r,n){return r=_be(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function _be(e){var r=Abe(e,"string");return fh(r)=="symbol"?r:r+""}function Abe(e,r){if(fh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(fh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Tbe(e){var r,n,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,m=e.layout,h=e.chartName,p=(r=s.props.cursor)!==null&&r!==void 0?r:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var y,f=gl;if(h==="ScatterChart")y=o,f=$xe;else if(h==="BarChart")y=Sbe(m,o,c,u),f=m2;else if(m==="radial"){var v=$5(o),j=v.cx,x=v.cy,b=v.radius,S=v.startAngle,w=v.endAngle;y={cx:j,cy:x,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},f=k$}else y={points:Pbe(m,o,c)},f=gl;var N=kf(kf(kf(kf({stroke:"#ccc",pointerEvents:"none"},c),y),et(p,!1)),{},{payload:l,payloadIndex:d,className:gt("recharts-tooltip-cursor",p.className)});return g.isValidElement(p)?g.cloneElement(p,N):g.createElement(f,N)}var kbe=["item"],Ebe=["children","className","width","height","style","compact","title","desc"];function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ad(e)}function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cc.apply(this,arguments)}function rk(e,r){return Dbe(e)||Rbe(e,r)||F5(e,r)||Obe()}function Obe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rbe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Dbe(e){if(Array.isArray(e))return e}function nk(e,r){if(e==null)return{};var n=Mbe(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Mbe(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Ibe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $be(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,z5(s.key),s)}}function Lbe(e,r,n){return r&&$be(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fbe(e,r,n){return r=Kx(r),zbe(e,L5()?Reflect.construct(r,n||[],Kx(e).constructor):r.apply(e,n))}function zbe(e,r){if(r&&(Ad(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bbe(e)}function Bbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L5=function(){return!!e})()}function Kx(e){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kx(e)}function Ube(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&NN(e,r)}function NN(e,r){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},NN(e,r)}function Td(e){return Wbe(e)||qbe(e)||F5(e)||Vbe()}function Vbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F5(e,r){if(e){if(typeof e=="string")return wN(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wN(e,r)}}function qbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wbe(e){if(Array.isArray(e))return wN(e)}function wN(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function sk(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ye(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?sk(Object(n),!0).forEach(function(s){ct(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ct(e,r,n){return r=z5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function z5(e){var r=Hbe(e,"string");return Ad(r)=="symbol"?r:r+""}function Hbe(e,r){if(Ad(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Ad(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Kbe={xAxis:["bottom","top"],yAxis:["left","right"]},Gbe={width:"100%",height:"100%"},B5={x:0,y:0};function Ef(e){return e}var Xbe=function(r,n){return n==="horizontal"?r.x:n==="vertical"?r.y:n==="centric"?r.angle:r.radius},Ybe=function(r,n,s,a){var i=n.find(function(u){return u&&u.index===s});if(i){if(r==="horizontal")return{x:i.coordinate,y:a.y};if(r==="vertical")return{x:a.x,y:i.coordinate};if(r==="centric"){var o=i.coordinate,l=a.radius;return ye(ye(ye({},a),hr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return ye(ye(ye({},a),hr(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return B5},Iv=function(r,n){var s=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Td(l),Td(d)):l},[]);return o.length>0?o:r&&r.length&&Re(a)&&Re(i)?r.slice(a,i+1):[]};function U5(e){return e==="number"?[0,"auto"]:void 0}var SN=function(r,n,s,a){var i=r.graphicalItems,o=r.tooltipAxis,l=Iv(n,r);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,m=(u=d.props.data)!==null&&u!==void 0?u:n;m&&r.dataStartIndex+r.dataEndIndex!==0&&r.dataEndIndex-r.dataStartIndex>=s&&(m=m.slice(r.dataStartIndex,r.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=m===void 0?l:m;h=Hp(p,o.dataKey,a)}else h=m&&m[s]||l[s];return h?[].concat(Td(c),[S$(d,h)]):c},[])},ak=function(r,n,s,a){var i=a||{x:r.chartX,y:r.chartY},o=Xbe(i,s),l=r.orderedTooltipTicks,c=r.tooltipAxis,d=r.tooltipTicks,u=ohe(o,l,d,c);if(u>=0&&d){var m=d[u]&&d[u].value,h=SN(r,n,u,m),p=Ybe(s,l,u,i);return{activeTooltipIndex:u,activeLabel:m,activePayload:h,activeCoordinate:p}}return null},Qbe=function(r,n){var s=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=r.layout,m=r.children,h=r.stackOffset,p=v$(u,i);return s.reduce(function(y,f){var v,j=f.type.defaultProps!==void 0?ye(ye({},f.type.defaultProps),f.props):f.props,x=j.type,b=j.dataKey,S=j.allowDataOverflow,w=j.allowDuplicatedCategory,N=j.scale,P=j.ticks,_=j.includeHidden,C=j[o];if(y[C])return y;var A=Iv(r.data,{graphicalItems:a.filter(function(ie){var fe,xe=o in ie.props?ie.props[o]:(fe=ie.type.defaultProps)===null||fe===void 0?void 0:fe[o];return xe===C}),dataStartIndex:c,dataEndIndex:d}),M=A.length,R,E,F;wbe(j.domain,S,x)&&(R=$b(j.domain,null,S),p&&(x==="number"||N!=="auto")&&(F=rm(A,b,"category")));var G=U5(x);if(!R||R.length===0){var D,J=(D=j.domain)!==null&&D!==void 0?D:G;if(b){if(R=rm(A,b,x),x==="category"&&p){var q=QQ(R);w&&q?(E=R,R=Rx(0,M)):w||(R=PA(J,R,f).reduce(function(ie,fe){return ie.indexOf(fe)>=0?ie:[].concat(Td(ie),[fe])},[]))}else if(x==="category")w?R=R.filter(function(ie){return ie!==""&&!pt(ie)}):R=PA(J,R,f).reduce(function(ie,fe){return ie.indexOf(fe)>=0||fe===""||pt(fe)?ie:[].concat(Td(ie),[fe])},[]);else if(x==="number"){var U=mhe(A,a.filter(function(ie){var fe,xe,ge=o in ie.props?ie.props[o]:(fe=ie.type.defaultProps)===null||fe===void 0?void 0:fe[o],Te="hide"in ie.props?ie.props.hide:(xe=ie.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return ge===C&&(_||!Te)}),b,i,u);U&&(R=U)}p&&(x==="number"||N!=="auto")&&(F=rm(A,b,"category"))}else p?R=Rx(0,M):l&&l[C]&&l[C].hasStack&&x==="number"?R=h==="expand"?[0,1]:w$(l[C].stackGroups,c,d):R=g$(A,a.filter(function(ie){var fe=o in ie.props?ie.props[o]:ie.type.defaultProps[o],xe="hide"in ie.props?ie.props.hide:ie.type.defaultProps.hide;return fe===C&&(_||!xe)}),x,u,!0);if(x==="number")R=bN(m,R,C,i,P),J&&(R=$b(J,R,S));else if(x==="category"&&J){var re=J,he=R.every(function(ie){return re.indexOf(ie)>=0});he&&(R=re)}}return ye(ye({},y),{},ct({},C,ye(ye({},j),{},{axisType:i,domain:R,categoricalDomain:F,duplicateDomain:E,originalDomain:(v=j.domain)!==null&&v!==void 0?v:G,isCategorical:p,layout:u})))},{})},Zbe=function(r,n){var s=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=r.layout,m=r.children,h=Iv(r.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),p=h.length,y=v$(u,i),f=-1;return s.reduce(function(v,j){var x=j.type.defaultProps!==void 0?ye(ye({},j.type.defaultProps),j.props):j.props,b=x[o],S=U5("number");if(!v[b]){f++;var w;return y?w=Rx(0,p):l&&l[b]&&l[b].hasStack?(w=w$(l[b].stackGroups,c,d),w=bN(m,w,b,i)):(w=$b(S,g$(h,s.filter(function(N){var P,_,C=o in N.props?N.props[o]:(P=N.type.defaultProps)===null||P===void 0?void 0:P[o],A="hide"in N.props?N.props.hide:(_=N.type.defaultProps)===null||_===void 0?void 0:_.hide;return C===b&&!A}),"number",u),a.defaultProps.allowDataOverflow),w=bN(m,w,b,i)),ye(ye({},v),{},ct({},b,ye(ye({axisType:i},a.defaultProps),{},{hide:!0,orientation:bs(Kbe,"".concat(i,".").concat(f%2),null),domain:w,originalDomain:S,isCategorical:y,layout:u})))}return v},{})},Jbe=function(r,n){var s=n.axisType,a=s===void 0?"xAxis":s,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=r.children,m="".concat(a,"Id"),h=Ns(u,i),p={};return h&&h.length?p=Qbe(r,{axes:h,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(p=Zbe(r,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),p},eNe=function(r){var n=Xi(r),s=hi(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:F1(s,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:bx(n,s)}},ik=function(r){var n=r.children,s=r.defaultShowTooltip,a=ms(n,vd),i=0,o=0;return r.data&&r.data.length!==0&&(o=r.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},tNe=function(r){return!r||!r.length?!1:r.some(function(n){var s=pi(n&&n.type);return s&&s.indexOf("Bar")>=0})},ok=function(r){return r==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:r==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:r==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rNe=function(r,n){var s=r.props,a=r.graphicalItems,i=r.xAxisMap,o=i===void 0?{}:i,l=r.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,m=s.children,h=s.margin||{},p=ms(m,vd),y=ms(m,qa),f=Object.keys(c).reduce(function(w,N){var P=c[N],_=P.orientation;return!P.mirror&&!P.hide?ye(ye({},w),{},ct({},_,w[_]+P.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(w,N){var P=o[N],_=P.orientation;return!P.mirror&&!P.hide?ye(ye({},w),{},ct({},_,bs(w,"".concat(_))+P.height)):w},{top:h.top||0,bottom:h.bottom||0}),j=ye(ye({},v),f),x=j.bottom;p&&(j.bottom+=p.props.height||vd.defaultProps.height),y&&n&&(j=dhe(j,a,s,n));var b=d-j.left-j.right,S=u-j.top-j.bottom;return ye(ye({brushBottom:x},j),{},{width:Math.max(b,0),height:Math.max(S,0)})},nNe=function(r,n){if(n==="xAxis")return r[n].width;if(n==="yAxis")return r[n].height},$v=function(r){var n=r.chartName,s=r.GraphicalChild,a=r.defaultTooltipEventType,i=a===void 0?"axis":a,o=r.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=r.axisComponents,d=r.legendContent,u=r.formatAxisMap,m=r.defaultProps,h=function(j,x){var b=x.graphicalItems,S=x.stackGroups,w=x.offset,N=x.updateId,P=x.dataStartIndex,_=x.dataEndIndex,C=j.barSize,A=j.layout,M=j.barGap,R=j.barCategoryGap,E=j.maxBarSize,F=ok(A),G=F.numericAxisName,D=F.cateAxisName,J=tNe(b),q=[];return b.forEach(function(U,re){var he=Iv(j.data,{graphicalItems:[U],dataStartIndex:P,dataEndIndex:_}),ie=U.type.defaultProps!==void 0?ye(ye({},U.type.defaultProps),U.props):U.props,fe=ie.dataKey,xe=ie.maxBarSize,ge=ie["".concat(G,"Id")],Te=ie["".concat(D,"Id")],Se={},Ue=c.reduce(function(W,se){var le=x["".concat(se.axisType,"Map")],ne=ie["".concat(se.axisType,"Id")];le&&le[ne]||se.axisType==="zAxis"||Ml();var Y=le[ne];return ye(ye({},W),{},ct(ct({},se.axisType,Y),"".concat(se.axisType,"Ticks"),hi(Y)))},Se),be=Ue[D],Q=Ue["".concat(D,"Ticks")],pe=S&&S[ge]&&S[ge].hasStack&&bhe(U,S[ge].stackGroups),oe=pi(U.type).indexOf("Bar")>=0,ze=bx(be,Q),Fe=[],tt=J&&lhe({barSize:C,stackGroups:S,totalSize:nNe(Ue,D)});if(oe){var lt,me,He=pt(xe)?E:xe,ae=(lt=(me=bx(be,Q,!0))!==null&&me!==void 0?me:He)!==null&&lt!==void 0?lt:0;Fe=che({barGap:M,barCategoryGap:R,bandSize:ae!==ze?ae:ze,sizeList:tt[Te],maxBarSize:He}),ae!==ze&&(Fe=Fe.map(function(W){return ye(ye({},W),{},{position:ye(ye({},W.position),{},{offset:W.position.offset-ae/2})})}))}var je=U&&U.type&&U.type.getComposedData;je&&q.push({props:ye(ye({},je(ye(ye({},Ue),{},{displayedData:he,props:j,dataKey:fe,item:U,bandSize:ze,barPosition:Fe,offset:w,stackedData:pe,layout:A,dataStartIndex:P,dataEndIndex:_}))),{},ct(ct(ct({key:U.key||"item-".concat(re)},G,Ue[G]),D,Ue[D]),"animationId",N)),childIndex:cZ(U,j.children),item:U})}),q},p=function(j,x){var b=j.props,S=j.dataStartIndex,w=j.dataEndIndex,N=j.updateId;if(!yC({props:b}))return null;var P=b.children,_=b.layout,C=b.stackOffset,A=b.data,M=b.reverseStackOrder,R=ok(_),E=R.numericAxisName,F=R.cateAxisName,G=Ns(P,s),D=yhe(A,G,"".concat(E,"Id"),"".concat(F,"Id"),C,M),J=c.reduce(function(ie,fe){var xe="".concat(fe.axisType,"Map");return ye(ye({},ie),{},ct({},xe,Jbe(b,ye(ye({},fe),{},{graphicalItems:G,stackGroups:fe.axisType===E&&D,dataStartIndex:S,dataEndIndex:w}))))},{}),q=rNe(ye(ye({},J),{},{props:b,graphicalItems:G}),x==null?void 0:x.legendBBox);Object.keys(J).forEach(function(ie){J[ie]=u(b,J[ie],q,ie.replace("Map",""),n)});var U=J["".concat(F,"Map")],re=eNe(U),he=h(b,ye(ye({},J),{},{dataStartIndex:S,dataEndIndex:w,updateId:N,graphicalItems:G,stackGroups:D,offset:q}));return ye(ye({formattedGraphicalItems:he,graphicalItems:G,offset:q,stackGroups:D},re),J)},y=function(v){function j(x){var b,S,w;return Ibe(this,j),w=Fbe(this,j,[x]),ct(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ct(w,"accessibilityManager",new Nbe),ct(w,"handleLegendBBoxUpdate",function(N){if(N){var P=w.state,_=P.dataStartIndex,C=P.dataEndIndex,A=P.updateId;w.setState(ye({legendBBox:N},p({props:w.props,dataStartIndex:_,dataEndIndex:C,updateId:A},ye(ye({},w.state),{},{legendBBox:N}))))}}),ct(w,"handleReceiveSyncEvent",function(N,P,_){if(w.props.syncId===N){if(_===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(P)}}),ct(w,"handleBrushChange",function(N){var P=N.startIndex,_=N.endIndex;if(P!==w.state.dataStartIndex||_!==w.state.dataEndIndex){var C=w.state.updateId;w.setState(function(){return ye({dataStartIndex:P,dataEndIndex:_},p({props:w.props,dataStartIndex:P,dataEndIndex:_,updateId:C},w.state))}),w.triggerSyncEvent({dataStartIndex:P,dataEndIndex:_})}}),ct(w,"handleMouseEnter",function(N){var P=w.getMouseInfo(N);if(P){var _=ye(ye({},P),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var C=w.props.onMouseEnter;dt(C)&&C(_,N)}}),ct(w,"triggeredAfterMouseMove",function(N){var P=w.getMouseInfo(N),_=P?ye(ye({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var C=w.props.onMouseMove;dt(C)&&C(_,N)}),ct(w,"handleItemMouseEnter",function(N){w.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),ct(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),ct(w,"handleMouseMove",function(N){N.persist(),w.throttleTriggeredAfterMouseMove(N)}),ct(w,"handleMouseLeave",function(N){w.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var _=w.props.onMouseLeave;dt(_)&&_(P,N)}),ct(w,"handleOuterEvent",function(N){var P=lZ(N),_=bs(w.props,"".concat(P));if(P&&dt(_)){var C,A;/.*touch.*/i.test(P)?A=w.getMouseInfo(N.changedTouches[0]):A=w.getMouseInfo(N),_((C=A)!==null&&C!==void 0?C:{},N)}}),ct(w,"handleClick",function(N){var P=w.getMouseInfo(N);if(P){var _=ye(ye({},P),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var C=w.props.onClick;dt(C)&&C(_,N)}}),ct(w,"handleMouseDown",function(N){var P=w.props.onMouseDown;if(dt(P)){var _=w.getMouseInfo(N);P(_,N)}}),ct(w,"handleMouseUp",function(N){var P=w.props.onMouseUp;if(dt(P)){var _=w.getMouseInfo(N);P(_,N)}}),ct(w,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),ct(w,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseDown(N.changedTouches[0])}),ct(w,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseUp(N.changedTouches[0])}),ct(w,"handleDoubleClick",function(N){var P=w.props.onDoubleClick;if(dt(P)){var _=w.getMouseInfo(N);P(_,N)}}),ct(w,"handleContextMenu",function(N){var P=w.props.onContextMenu;if(dt(P)){var _=w.getMouseInfo(N);P(_,N)}}),ct(w,"triggerSyncEvent",function(N){w.props.syncId!==void 0&&dj.emit(uj,w.props.syncId,N,w.eventEmitterSymbol)}),ct(w,"applySyncEvent",function(N){var P=w.props,_=P.layout,C=P.syncMethod,A=w.state.updateId,M=N.dataStartIndex,R=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)w.setState(ye({dataStartIndex:M,dataEndIndex:R},p({props:w.props,dataStartIndex:M,dataEndIndex:R,updateId:A},w.state)));else if(N.activeTooltipIndex!==void 0){var E=N.chartX,F=N.chartY,G=N.activeTooltipIndex,D=w.state,J=D.offset,q=D.tooltipTicks;if(!J)return;if(typeof C=="function")G=C(q,N);else if(C==="value"){G=-1;for(var U=0;U<q.length;U++)if(q[U].value===N.activeLabel){G=U;break}}var re=ye(ye({},J),{},{x:J.left,y:J.top}),he=Math.min(E,re.x+re.width),ie=Math.min(F,re.y+re.height),fe=q[G]&&q[G].value,xe=SN(w.state,w.props.data,G),ge=q[G]?{x:_==="horizontal"?q[G].coordinate:he,y:_==="horizontal"?ie:q[G].coordinate}:B5;w.setState(ye(ye({},N),{},{activeLabel:fe,activeCoordinate:ge,activePayload:xe,activeTooltipIndex:G}))}else w.setState(N)}),ct(w,"renderCursor",function(N){var P,_=w.state,C=_.isTooltipActive,A=_.activeCoordinate,M=_.activePayload,R=_.offset,E=_.activeTooltipIndex,F=_.tooltipAxisBandSize,G=w.getTooltipEventType(),D=(P=N.props.active)!==null&&P!==void 0?P:C,J=w.props.layout,q=N.key||"_recharts-cursor";return L.createElement(Tbe,{key:q,activeCoordinate:A,activePayload:M,activeTooltipIndex:E,chartName:n,element:N,isActive:D,layout:J,offset:R,tooltipAxisBandSize:F,tooltipEventType:G})}),ct(w,"renderPolarAxis",function(N,P,_){var C=bs(N,"type.axisType"),A=bs(w.state,"".concat(C,"Map")),M=N.type.defaultProps,R=M!==void 0?ye(ye({},M),N.props):N.props,E=A&&A[R["".concat(C,"Id")]];return g.cloneElement(N,ye(ye({},E),{},{className:gt(C,E.className),key:N.key||"".concat(P,"-").concat(_),ticks:hi(E,!0)}))}),ct(w,"renderPolarGrid",function(N){var P=N.props,_=P.radialLines,C=P.polarAngles,A=P.polarRadius,M=w.state,R=M.radiusAxisMap,E=M.angleAxisMap,F=Xi(R),G=Xi(E),D=G.cx,J=G.cy,q=G.innerRadius,U=G.outerRadius;return g.cloneElement(N,{polarAngles:Array.isArray(C)?C:hi(G,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(A)?A:hi(F,!0).map(function(re){return re.coordinate}),cx:D,cy:J,innerRadius:q,outerRadius:U,key:N.key||"polar-grid",radialLines:_})}),ct(w,"renderLegend",function(){var N=w.state.formattedGraphicalItems,P=w.props,_=P.children,C=P.width,A=P.height,M=w.props.margin||{},R=C-(M.left||0)-(M.right||0),E=p$({children:_,formattedGraphicalItems:N,legendWidth:R,legendContent:d});if(!E)return null;var F=E.item,G=nk(E,kbe);return g.cloneElement(F,ye(ye({},G),{},{chartWidth:C,chartHeight:A,margin:M,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),ct(w,"renderTooltip",function(){var N,P=w.props,_=P.children,C=P.accessibilityLayer,A=ms(_,Br);if(!A)return null;var M=w.state,R=M.isTooltipActive,E=M.activeCoordinate,F=M.activePayload,G=M.activeLabel,D=M.offset,J=(N=A.props.active)!==null&&N!==void 0?N:R;return g.cloneElement(A,{viewBox:ye(ye({},D),{},{x:D.left,y:D.top}),active:J,label:G,payload:J?F:[],coordinate:E,accessibilityLayer:C})}),ct(w,"renderBrush",function(N){var P=w.props,_=P.margin,C=P.data,A=w.state,M=A.offset,R=A.dataStartIndex,E=A.dataEndIndex,F=A.updateId;return g.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Cf(w.handleBrushChange,N.props.onChange),data:C,x:Re(N.props.x)?N.props.x:M.left,y:Re(N.props.y)?N.props.y:M.top+M.height+M.brushBottom-(_.bottom||0),width:Re(N.props.width)?N.props.width:M.width,startIndex:R,endIndex:E,updateId:"brush-".concat(F)})}),ct(w,"renderReferenceElement",function(N,P,_){if(!N)return null;var C=w,A=C.clipPathId,M=w.state,R=M.xAxisMap,E=M.yAxisMap,F=M.offset,G=N.type.defaultProps||{},D=N.props,J=D.xAxisId,q=J===void 0?G.xAxisId:J,U=D.yAxisId,re=U===void 0?G.yAxisId:U;return g.cloneElement(N,{key:N.key||"".concat(P,"-").concat(_),xAxis:R[q],yAxis:E[re],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:A})}),ct(w,"renderActivePoints",function(N){var P=N.item,_=N.activePoint,C=N.basePoint,A=N.childIndex,M=N.isRange,R=[],E=P.props.key,F=P.item.type.defaultProps!==void 0?ye(ye({},P.item.type.defaultProps),P.item.props):P.item.props,G=F.activeDot,D=F.dataKey,J=ye(ye({index:A,dataKey:D,cx:_.x,cy:_.y,r:4,fill:u2(P.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},et(G,!1)),Kp(G));return R.push(j.renderActiveDot(G,J,"".concat(E,"-activePoint-").concat(A))),C?R.push(j.renderActiveDot(G,ye(ye({},J),{},{cx:C.x,cy:C.y}),"".concat(E,"-basePoint-").concat(A))):M&&R.push(null),R}),ct(w,"renderGraphicChild",function(N,P,_){var C=w.filterFormatItem(N,P,_);if(!C)return null;var A=w.getTooltipEventType(),M=w.state,R=M.isTooltipActive,E=M.tooltipAxis,F=M.activeTooltipIndex,G=M.activeLabel,D=w.props.children,J=ms(D,Br),q=C.props,U=q.points,re=q.isRange,he=q.baseLine,ie=C.item.type.defaultProps!==void 0?ye(ye({},C.item.type.defaultProps),C.item.props):C.item.props,fe=ie.activeDot,xe=ie.hide,ge=ie.activeBar,Te=ie.activeShape,Se=!!(!xe&&R&&J&&(fe||ge||Te)),Ue={};A!=="axis"&&J&&J.props.trigger==="click"?Ue={onClick:Cf(w.handleItemMouseEnter,N.props.onClick)}:A!=="axis"&&(Ue={onMouseLeave:Cf(w.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Cf(w.handleItemMouseEnter,N.props.onMouseEnter)});var be=g.cloneElement(N,ye(ye({},C.props),Ue));function Q(se){return typeof E.dataKey=="function"?E.dataKey(se.payload):null}if(Se)if(F>=0){var pe,oe;if(E.dataKey&&!E.allowDuplicatedCategory){var ze=typeof E.dataKey=="function"?Q:"payload.".concat(E.dataKey.toString());pe=Hp(U,ze,G),oe=re&&he&&Hp(he,ze,G)}else pe=U==null?void 0:U[F],oe=re&&he&&he[F];if(Te||ge){var Fe=N.props.activeIndex!==void 0?N.props.activeIndex:F;return[g.cloneElement(N,ye(ye(ye({},C.props),Ue),{},{activeIndex:Fe})),null,null]}if(!pt(pe))return[be].concat(Td(w.renderActivePoints({item:C,activePoint:pe,basePoint:oe,childIndex:F,isRange:re})))}else{var tt,lt=(tt=w.getItemByXY(w.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:be},me=lt.graphicalItem,He=me.item,ae=He===void 0?N:He,je=me.childIndex,W=ye(ye(ye({},C.props),Ue),{},{activeIndex:je});return[g.cloneElement(ae,W),null,null]}return re?[be,null,null]:[be,null]}),ct(w,"renderCustomized",function(N,P,_){return g.cloneElement(N,ye(ye({key:"recharts-customized-".concat(_)},w.props),w.state))}),ct(w,"renderMap",{CartesianGrid:{handler:Ef,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Ef},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Ef},YAxis:{handler:Ef},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:ql("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=fI(w.triggeredAfterMouseMove,(S=x.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return Ube(j,v),Lbe(j,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,N=b.height,P=b.layout,_=ms(S,Br);if(_){var C=_.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,M=SN(this.state,w,C,A),R=this.state.tooltipTicks[C].coordinate,E=(this.state.offset.top+N)/2,F=P==="horizontal",G=F?{x:R,y:E}:{y:R,x:E},D=this.state.formattedGraphicalItems.find(function(q){var U=q.item;return U.type.name==="Scatter"});D&&(G=ye(ye({},G),D.props.points[C].tooltipPosition),M=D.props.points[C].tooltipPayload);var J={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:A,activePayload:M,activeCoordinate:G};this.setState(J),this.renderCursor(_),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,N;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){Z0([ms(b.children,Br)],[ms(this.props.children,Br)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ms(this.props.children,Br);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),N=Mle(w),P={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},_=w.width/S.offsetWidth||1,C=this.inRange(P.chartX,P.chartY,_);if(!C)return null;var A=this.state,M=A.xAxisMap,R=A.yAxisMap,E=this.getTooltipEventType(),F=ak(this.state,this.props.data,this.props.layout,C);if(E!=="axis"&&M&&R){var G=Xi(M).scale,D=Xi(R).scale,J=G&&G.invert?G.invert(P.chartX):null,q=D&&D.invert?D.invert(P.chartY):null;return ye(ye({},P),{},{xValue:J,yValue:q},F)}return F?ye(ye({},P),F):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,P=b/w,_=S/w;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,A=P>=C.left&&P<=C.left+C.width&&_>=C.top&&_<=C.top+C.height;return A?{x:P,y:_}:null}var M=this.state,R=M.angleAxisMap,E=M.radiusAxisMap;if(R&&E){var F=Xi(R);return AA({x:P,y:_},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=ms(b,Br),N={};w&&S==="axis"&&(w.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Kp(this.props,this.handleOuterEvent);return ye(ye({},P),N)}},{key:"addListener",value:function(){dj.on(uj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){dj.removeListener(uj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var N=this.state.formattedGraphicalItems,P=0,_=N.length;P<_;P++){var C=N[P];if(C.item===b||C.props.key===b.key||S===pi(C.item.type)&&w===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,N=S.top,P=S.height,_=S.width;return L.createElement("defs",null,L.createElement("clipPath",{id:b},L.createElement("rect",{x:w,y:N,height:P,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var N=rk(w,2),P=N[0],_=N[1];return ye(ye({},S),{},ct({},P,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var N=rk(w,2),P=N[0],_=N[1];return ye(ye({},S),{},ct({},P,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,N=S.activeItem;if(w&&w.length)for(var P=0,_=w.length;P<_;P++){var C=w[P],A=C.props,M=C.item,R=M.type.defaultProps!==void 0?ye(ye({},M.type.defaultProps),M.props):M.props,E=pi(M.type);if(E==="Bar"){var F=(A.data||[]).find(function(q){return gxe(b,q)});if(F)return{graphicalItem:C,payload:F}}else if(E==="RadialBar"){var G=(A.data||[]).find(function(q){return AA(b,q)});if(G)return{graphicalItem:C,payload:G}}else if(Tv(C,N)||kv(C,N)||lh(C,N)){var D=ave({graphicalItem:C,activeTooltipItem:N,itemData:R.data}),J=R.activeIndex===void 0?D:R.activeIndex;return{graphicalItem:ye(ye({},C),{},{childIndex:J}),payload:lh(C,N)?R.data[D]:C.props.data[D]}}}return null}},{key:"render",value:function(){var b=this;if(!yC(this))return null;var S=this.props,w=S.children,N=S.className,P=S.width,_=S.height,C=S.style,A=S.compact,M=S.title,R=S.desc,E=nk(S,Ebe),F=et(E,!1);if(A)return L.createElement(IT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(eb,Cc({},F,{width:P,height:_,title:M,desc:R}),this.renderClipPath(),bC(w,this.renderMap)));if(this.props.accessibilityLayer){var G,D;F.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,F.role=(D=this.props.role)!==null&&D!==void 0?D:"application",F.onKeyDown=function(q){b.accessibilityManager.keyboardEvent(q)},F.onFocus=function(){b.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return L.createElement(IT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Cc({className:gt("recharts-wrapper",N),style:ye({position:"relative",cursor:"default",width:P,height:_},C)},J,{ref:function(U){b.container=U}}),L.createElement(eb,Cc({},F,{width:P,height:_,title:M,desc:R,style:Gbe}),this.renderClipPath(),bC(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);ct(y,"displayName",n),ct(y,"defaultProps",ye({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),ct(y,"getDerivedStateFromProps",function(v,j){var x=v.dataKey,b=v.data,S=v.children,w=v.width,N=v.height,P=v.layout,_=v.stackOffset,C=v.margin,A=j.dataStartIndex,M=j.dataEndIndex;if(j.updateId===void 0){var R=ik(v);return ye(ye(ye({},R),{},{updateId:0},p(ye(ye({props:v},R),{},{updateId:0}),j)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:N,prevLayout:P,prevStackOffset:_,prevMargin:C,prevChildren:S})}if(x!==j.prevDataKey||b!==j.prevData||w!==j.prevWidth||N!==j.prevHeight||P!==j.prevLayout||_!==j.prevStackOffset||!Ic(C,j.prevMargin)){var E=ik(v),F={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},G=ye(ye({},ak(j,b,P)),{},{updateId:j.updateId+1}),D=ye(ye(ye({},E),F),G);return ye(ye(ye({},D),p(ye({props:v},D),j)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:N,prevLayout:P,prevStackOffset:_,prevMargin:C,prevChildren:S})}if(!Z0(S,j.prevChildren)){var J,q,U,re,he=ms(S,vd),ie=he&&(J=(q=he.props)===null||q===void 0?void 0:q.startIndex)!==null&&J!==void 0?J:A,fe=he&&(U=(re=he.props)===null||re===void 0?void 0:re.endIndex)!==null&&U!==void 0?U:M,xe=ie!==A||fe!==M,ge=!pt(b),Te=ge&&!xe?j.updateId:j.updateId+1;return ye(ye({updateId:Te},p(ye(ye({props:v},j),{},{updateId:Te,dataStartIndex:ie,dataEndIndex:fe}),j)),{},{prevChildren:S,dataStartIndex:ie,dataEndIndex:fe})}return null}),ct(y,"renderActiveDot",function(v,j,x){var b;return g.isValidElement(v)?b=g.cloneElement(v,j):dt(v)?b=v(j):b=L.createElement(Fh,j),L.createElement(It,{className:"recharts-active-dot",key:x},b)});var f=g.forwardRef(function(j,x){return L.createElement(y,Cc({},j,{ref:x}))});return f.displayName=y.displayName,f},$l=$v({chartName:"LineChart",GraphicalChild:Vn,axisComponents:[{axisType:"xAxis",AxisComp:Pr},{axisType:"yAxis",AxisComp:Cr}],formatAxisMap:h2}),fa=$v({chartName:"BarChart",GraphicalChild:vr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Pr},{axisType:"yAxis",AxisComp:Cr}],formatAxisMap:h2}),ou=$v({chartName:"PieChart",GraphicalChild:ls,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Av},{axisType:"radiusAxis",AxisComp:Cv}],formatAxisMap:Ehe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),sNe=$v({chartName:"AreaChart",GraphicalChild:Io,axisComponents:[{axisType:"xAxis",AxisComp:Pr},{axisType:"yAxis",AxisComp:Cr}],formatAxisMap:h2});const lk=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--accent))","hsl(var(--muted))"];function aNe(){const{products:e,orders:r,customers:n}=Ag(),s=L.useMemo(()=>{const i=new Date().getMonth(),o=new Date().getFullYear(),l=Array.from({length:6},(y,f)=>{const v=new Date(o,i-5+f),j=r.filter(x=>{const b=new Date(x.orderDate);return b.getMonth()===v.getMonth()&&b.getFullYear()===v.getFullYear()});return{month:v.toLocaleDateString("en-US",{month:"short"}),sales:j.reduce((x,b)=>x+b.total,0),orders:j.length,customers:new Set(j.map(x=>x.supplierId)).size}}),c=e.reduce((y,f)=>(y[f.category]=(y[f.category]||0)+1,y),{}),d=Object.entries(c).map(([y,f])=>({name:y,value:f,percentage:(f/e.length*100).toFixed(1)})),u=[{name:"In Stock",value:e.filter(y=>y.currentStock>10).length,color:"hsl(var(--primary))"},{name:"Low Stock",value:e.filter(y=>y.currentStock<=10&&y.currentStock>0).length,color:"hsl(var(--accent))"},{name:"Out of Stock",value:e.filter(y=>y.currentStock===0).length,color:"hsl(var(--destructive))"}],m=r.reduce((y,f)=>y+f.total,0),h=r.length>0?m/r.length:0,p=e.sort((y,f)=>(f.currentStock||0)-(y.currentStock||0)).slice(0,5);return{monthlyData:l,categoryChartData:d,stockData:u,totalRevenue:m,avgOrderValue:h,topProducts:p,totalOrders:r.length,totalCustomers:n.length,totalProducts:e.length}},[e,r,n]),a=({title:i,value:o,icon:l,trend:c,className:d=""})=>t.jsxs(T,{className:d,children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:i}),t.jsx(l,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:o}),c&&t.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[c>0?t.jsx(ft,{className:"h-4 w-4 text-green-500 mr-1"}):t.jsx(wi,{className:"h-4 w-4 text-red-500 mr-1"}),Math.abs(c),"% from last month"]})]})]});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(a,{title:"Total Revenue",value:`$${s.totalRevenue.toLocaleString()}`,icon:ht,trend:8.5}),t.jsx(a,{title:"Total Orders",value:s.totalOrders.toLocaleString(),icon:Fn,trend:12.3}),t.jsx(a,{title:"Total Customers",value:s.totalCustomers.toLocaleString(),icon:it,trend:5.7}),t.jsx(a,{title:"Total Products",value:s.totalProducts.toLocaleString(),icon:vt,trend:-2.1})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Sales Trend (Last 6 Months)"})}),t.jsx(k,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(sNe,{data:s.monthlyData,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Br,{formatter:(i,o)=>[o==="sales"?`$${i}`:i,o==="sales"?"Sales":"Orders"]}),t.jsx(Io,{type:"monotone",dataKey:"sales",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.3})]})})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Product Categories"})}),t.jsx(k,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(ou,{children:[t.jsx(ls,{data:s.categoryChartData,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:i,percentage:o})=>`${i} (${o}%)`,children:s.categoryChartData.map((i,o)=>t.jsx(Ii,{fill:lk[o%lk.length]},`cell-${o}`))}),t.jsx(Br,{})]})})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Inventory Status"})}),t.jsx(k,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(fa,{data:s.stockData,layout:"horizontal",children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{type:"number"}),t.jsx(Cr,{dataKey:"name",type:"category",width:80}),t.jsx(Br,{}),t.jsx(vr,{dataKey:"value",fill:"hsl(var(--primary))"})]})})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Top Selling Products"})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:s.topProducts.map((i,o)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(te,{variant:"secondary",children:o+1}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:i.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:i.category})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium",children:[i.currentStock||0," in stock"]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",i.sellingPrice]})]})]},i.id))})})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Orders & Customer Growth"})}),t.jsx(k,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs($l,{data:s.monthlyData,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Br,{}),t.jsx(Vn,{type:"monotone",dataKey:"orders",stroke:"hsl(var(--primary))",strokeWidth:2,name:"Orders"}),t.jsx(Vn,{type:"monotone",dataKey:"customers",stroke:"hsl(var(--accent))",strokeWidth:2,name:"New Customers"})]})})})]})]})}function iNe(e,r){return g.useReducer((n,s)=>r[n][s]??n,e)}var w2="ScrollArea",[V5,pPe]=Gn(w2),[oNe,Hs]=V5(w2),q5=g.forwardRef((e,r)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=g.useState(null),[d,u]=g.useState(null),[m,h]=g.useState(null),[p,y]=g.useState(null),[f,v]=g.useState(null),[j,x]=g.useState(0),[b,S]=g.useState(0),[w,N]=g.useState(!1),[P,_]=g.useState(!1),C=Rt(r,M=>c(M)),A=Vg(a);return t.jsx(oNe,{scope:n,type:s,dir:A,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:m,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:w,onScrollbarXEnabledChange:N,scrollbarY:f,onScrollbarYChange:v,scrollbarYEnabled:P,onScrollbarYEnabledChange:_,onCornerWidthChange:x,onCornerHeightChange:S,children:t.jsx(Je.div,{dir:A,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});q5.displayName=w2;var W5="ScrollAreaViewport",H5=g.forwardRef((e,r)=>{const{__scopeScrollArea:n,children:s,nonce:a,...i}=e,o=Hs(W5,n),l=g.useRef(null),c=Rt(r,l,o.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(Je.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});H5.displayName=W5;var Ja="ScrollAreaScrollbar",S2=g.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=Hs(Ja,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?t.jsx(lNe,{...s,ref:r,forceMount:n}):a.type==="scroll"?t.jsx(cNe,{...s,ref:r,forceMount:n}):a.type==="auto"?t.jsx(K5,{...s,ref:r,forceMount:n}):a.type==="always"?t.jsx(P2,{...s,ref:r}):null});S2.displayName=Ja;var lNe=g.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=Hs(Ja,e.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),t.jsx(Xn,{present:n||i,children:t.jsx(K5,{"data-state":i?"visible":"hidden",...s,ref:r})})}),cNe=g.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=Hs(Ja,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Fv(()=>c("SCROLL_END"),100),[l,c]=iNe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),g.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let m=d[u];const h=()=>{const p=d[u];m!==p&&(c("SCROLL"),o()),m=p};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),t.jsx(Xn,{present:n||l!=="hidden",children:t.jsx(P2,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:r,onPointerEnter:Ye(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ye(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),K5=g.forwardRef((e,r)=>{const n=Hs(Ja,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=g.useState(!1),l=e.orientation==="horizontal",c=Fv(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return kd(n.viewport,c),kd(n.content,c),t.jsx(Xn,{present:s||i,children:t.jsx(P2,{"data-state":i?"visible":"hidden",...a,ref:r})})}),P2=g.forwardRef((e,r)=>{const{orientation:n="vertical",...s}=e,a=Hs(Ja,e.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Z5(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function m(h,p){return pNe(h,o.current,l,p)}return n==="horizontal"?t.jsx(dNe,{...u,ref:r,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=ck(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=m(h,a.dir))}}):n==="vertical"?t.jsx(uNe,{...u,ref:r,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=ck(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=m(h))}}):null}),dNe=g.forwardRef((e,r)=>{const{sizes:n,onSizesChange:s,...a}=e,i=Hs(Ja,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),d=Rt(r,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),t.jsx(X5,{"data-orientation":"horizontal",...a,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Lv(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),eL(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Xx(o.paddingLeft),paddingEnd:Xx(o.paddingRight)}})}})}),uNe=g.forwardRef((e,r)=>{const{sizes:n,onSizesChange:s,...a}=e,i=Hs(Ja,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),d=Rt(r,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),t.jsx(X5,{"data-orientation":"vertical",...a,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Lv(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),eL(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Xx(o.paddingTop),paddingEnd:Xx(o.paddingBottom)}})}})}),[mNe,G5]=V5(Ja),X5=g.forwardRef((e,r)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...h}=e,p=Hs(Ja,n),[y,f]=g.useState(null),v=Rt(r,C=>f(C)),j=g.useRef(null),x=g.useRef(""),b=p.viewport,S=s.content-s.viewport,w=Xr(u),N=Xr(c),P=Fv(m,10);function _(C){if(j.current){const A=C.clientX-j.current.left,M=C.clientY-j.current.top;d({x:A,y:M})}}return g.useEffect(()=>{const C=A=>{const M=A.target;(y==null?void 0:y.contains(M))&&w(A,S)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[b,y,S,w]),g.useEffect(N,[s,N]),kd(y,P),kd(p.content,P),t.jsx(mNe,{scope:n,scrollbar:y,hasThumb:a,onThumbChange:Xr(i),onThumbPointerUp:Xr(o),onThumbPositionChange:N,onThumbPointerDown:Xr(l),children:t.jsx(Je.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Ye(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),j.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),_(C))}),onPointerMove:Ye(e.onPointerMove,_),onPointerUp:Ye(e.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),j.current=null})})})}),Gx="ScrollAreaThumb",Y5=g.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=G5(Gx,e.__scopeScrollArea);return t.jsx(Xn,{present:n||a.hasThumb,children:t.jsx(hNe,{ref:r,...s})})}),hNe=g.forwardRef((e,r)=>{const{__scopeScrollArea:n,style:s,...a}=e,i=Hs(Gx,n),o=G5(Gx,n),{onThumbPositionChange:l}=o,c=Rt(r,m=>o.onThumbChange(m)),d=g.useRef(void 0),u=Fv(()=>{d.current&&(d.current(),d.current=void 0)},100);return g.useEffect(()=>{const m=i.viewport;if(m){const h=()=>{if(u(),!d.current){const p=xNe(m,l);d.current=p,l()}};return l(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[i.viewport,u,l]),t.jsx(Je.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Ye(e.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),y=m.clientX-p.left,f=m.clientY-p.top;o.onThumbPointerDown({x:y,y:f})}),onPointerUp:Ye(e.onPointerUp,o.onThumbPointerUp)})});Y5.displayName=Gx;var C2="ScrollAreaCorner",Q5=g.forwardRef((e,r)=>{const n=Hs(C2,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?t.jsx(fNe,{...e,ref:r}):null});Q5.displayName=C2;var fNe=g.forwardRef((e,r)=>{const{__scopeScrollArea:n,...s}=e,a=Hs(C2,n),[i,o]=g.useState(0),[l,c]=g.useState(0),d=!!(i&&l);return kd(a.scrollbarX,()=>{var m;const u=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),kd(a.scrollbarY,()=>{var m;const u=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?t.jsx(Je.div,{...s,ref:r,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Xx(e){return e?parseInt(e,10):0}function Z5(e,r){const n=e/r;return isNaN(n)?0:n}function Lv(e){const r=Z5(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*r;return Math.max(s,18)}function pNe(e,r,n,s="ltr"){const a=Lv(n),i=a/2,o=r||i,l=a-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,m=s==="ltr"?[0,u]:[u*-1,0];return J5([c,d],m)(e)}function ck(e,r,n="ltr"){const s=Lv(r),a=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-a,o=r.content-r.viewport,l=i-s,c=n==="ltr"?[0,o]:[o*-1,0],d=q0(e,c);return J5([0,o],[0,l])(d)}function J5(e,r){return n=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const s=(r[1]-r[0])/(e[1]-e[0]);return r[0]+s*(n-e[0])}}function eL(e,r){return e>0&&e<r}var xNe=(e,r=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&r(),n=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function Fv(e,r){const n=Xr(e),s=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),g.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,r)},[n,r])}function kd(e,r){const n=Xr(r);Lr(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,n])}var tL=q5,gNe=H5,vNe=Q5;const rL=g.forwardRef(({className:e,children:r,...n},s)=>t.jsxs(tL,{ref:s,className:ke("relative overflow-hidden",e),...n,children:[t.jsx(gNe,{className:"h-full w-full rounded-[inherit]",children:r}),t.jsx(nL,{}),t.jsx(vNe,{})]}));rL.displayName=tL.displayName;const nL=g.forwardRef(({className:e,orientation:r="vertical",...n},s)=>t.jsx(S2,{ref:s,orientation:r,className:ke("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:t.jsx(Y5,{className:"relative flex-1 rounded-full bg-border"})}));nL.displayName=S2.displayName;var zv="Popover",[sL,xPe]=Gn(zv,[Vd]),zh=Vd(),[yNe,$o]=sL(zv),aL=e=>{const{__scopePopover:r,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=zh(r),c=g.useRef(null),[d,u]=g.useState(!1),[m,h]=xa({prop:s,defaultProp:a??!1,onChange:i,caller:zv});return t.jsx(Gw,{...l,children:t.jsx(yNe,{scope:r,contentId:ua(),triggerRef:c,open:m,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:d,onCustomAnchorAdd:g.useCallback(()=>u(!0),[]),onCustomAnchorRemove:g.useCallback(()=>u(!1),[]),modal:o,children:n})})};aL.displayName=zv;var iL="PopoverAnchor",jNe=g.forwardRef((e,r)=>{const{__scopePopover:n,...s}=e,a=$o(iL,n),i=zh(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return g.useEffect(()=>(o(),()=>l()),[o,l]),t.jsx(yg,{...i,...s,ref:r})});jNe.displayName=iL;var oL="PopoverTrigger",lL=g.forwardRef((e,r)=>{const{__scopePopover:n,...s}=e,a=$o(oL,n),i=zh(n),o=Rt(r,a.triggerRef),l=t.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":hL(a.open),...s,ref:o,onClick:Ye(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:t.jsx(yg,{asChild:!0,...i,children:l})});lL.displayName=oL;var _2="PopoverPortal",[bNe,NNe]=sL(_2,{forceMount:void 0}),cL=e=>{const{__scopePopover:r,forceMount:n,children:s,container:a}=e,i=$o(_2,r);return t.jsx(bNe,{scope:r,forceMount:n,children:t.jsx(Xn,{present:n||i.open,children:t.jsx(Nh,{asChild:!0,container:a,children:s})})})};cL.displayName=_2;var Ed="PopoverContent",dL=g.forwardRef((e,r)=>{const n=NNe(Ed,e.__scopePopover),{forceMount:s=n.forceMount,...a}=e,i=$o(Ed,e.__scopePopover);return t.jsx(Xn,{present:s||i.open,children:i.modal?t.jsx(SNe,{...a,ref:r}):t.jsx(PNe,{...a,ref:r})})});dL.displayName=Ed;var wNe=wl("PopoverContent.RemoveScroll"),SNe=g.forwardRef((e,r)=>{const n=$o(Ed,e.__scopePopover),s=g.useRef(null),a=Rt(r,s),i=g.useRef(!1);return g.useEffect(()=>{const o=s.current;if(o)return n1(o)},[]),t.jsx(Eg,{as:wNe,allowPinchZoom:!0,children:t.jsx(uL,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ye(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ye(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),PNe=g.forwardRef((e,r)=>{const n=$o(Ed,e.__scopePopover),s=g.useRef(!1),a=g.useRef(!1);return t.jsx(uL,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),uL=g.forwardRef((e,r)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=e,h=$o(Ed,n),p=zh(n);return r1(),t.jsx(Tg,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:t.jsx($d,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:t.jsx(Xw,{"data-state":hL(h.open),role:"dialog",id:h.contentId,...p,...m,ref:r,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),mL="PopoverClose",CNe=g.forwardRef((e,r)=>{const{__scopePopover:n,...s}=e,a=$o(mL,n);return t.jsx(Je.button,{type:"button",...s,ref:r,onClick:Ye(e.onClick,()=>a.onOpenChange(!1))})});CNe.displayName=mL;var _Ne="PopoverArrow",ANe=g.forwardRef((e,r)=>{const{__scopePopover:n,...s}=e,a=zh(n);return t.jsx(Yw,{...a,...s,ref:r})});ANe.displayName=_Ne;function hL(e){return e?"open":"closed"}var TNe=aL,kNe=lL,ENe=cL,fL=dL;const ONe=TNe,RNe=kNe,pL=g.forwardRef(({className:e,align:r="center",sideOffset:n=4,...s},a)=>t.jsx(ENe,{children:t.jsx(fL,{ref:a,align:r,sideOffset:n,className:ke("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));pL.displayName=fL.displayName;function yn(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function DNe(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}const Of=43200,dk=1440;let MNe={};function INe(){return MNe}function uk(e){const r=yn(e),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+e-+n}function ap(e,r){const n=yn(e),s=yn(r),a=n.getTime()-s.getTime();return a<0?-1:a>0?1:a}function $Ne(e){return DNe(e,Date.now())}function LNe(e,r){const n=yn(e),s=yn(r),a=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return a*12+i}function FNe(e){return r=>{const s=(e?Math[e]:Math.trunc)(r);return s===0?0:s}}function zNe(e,r){return+yn(e)-+yn(r)}function BNe(e){const r=yn(e);return r.setHours(23,59,59,999),r}function UNe(e){const r=yn(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function VNe(e){const r=yn(e);return+BNe(r)==+UNe(r)}function qNe(e,r){const n=yn(e),s=yn(r),a=ap(n,s),i=Math.abs(LNe(n,s));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let l=ap(n,s)===-a;VNe(yn(e))&&i===1&&ap(e,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function WNe(e,r,n){const s=zNe(e,r)/1e3;return FNe(n==null?void 0:n.roundingMethod)(s)}const HNe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KNe=(e,r,n)=>{let s;const a=HNe[e];return typeof a=="string"?s=a:r===1?s=a.one:s=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function hj(e){return(r={})=>{const n=r.width?String(r.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const GNe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XNe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YNe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QNe={date:hj({formats:GNe,defaultWidth:"full"}),time:hj({formats:XNe,defaultWidth:"full"}),dateTime:hj({formats:YNe,defaultWidth:"full"})},ZNe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JNe=(e,r,n,s)=>ZNe[e];function Eu(e){return(r,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return a[i]}}const ewe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},twe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},swe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},awe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iwe=(e,r)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},owe={ordinalNumber:iwe,era:Eu({values:ewe,defaultWidth:"wide"}),quarter:Eu({values:twe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Eu({values:rwe,defaultWidth:"wide"}),day:Eu({values:nwe,defaultWidth:"wide"}),dayPeriod:Eu({values:swe,defaultWidth:"wide",formattingValues:awe,defaultFormattingWidth:"wide"})};function Ou(e){return(r,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=r.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?cwe(l,m=>m.test(o)):lwe(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=r.slice(o.length);return{value:d,rest:u}}}function lwe(e,r){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r(e[n]))return n}function cwe(e,r){for(let n=0;n<e.length;n++)if(r(e[n]))return n}function dwe(e){return(r,n={})=>{const s=r.match(e.matchPattern);if(!s)return null;const a=s[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=r.slice(a.length);return{value:o,rest:l}}}const uwe=/^(\d+)(th|st|nd|rd)?/i,mwe=/\d+/i,hwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fwe={any:[/^b/i,/^(a|c)/i]},pwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xwe={any:[/1/i,/2/i,/3/i,/4/i]},gwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ywe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wwe={ordinalNumber:dwe({matchPattern:uwe,parsePattern:mwe,valueCallback:e=>parseInt(e,10)}),era:Ou({matchPatterns:hwe,defaultMatchWidth:"wide",parsePatterns:fwe,defaultParseWidth:"any"}),quarter:Ou({matchPatterns:pwe,defaultMatchWidth:"wide",parsePatterns:xwe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ou({matchPatterns:gwe,defaultMatchWidth:"wide",parsePatterns:vwe,defaultParseWidth:"any"}),day:Ou({matchPatterns:ywe,defaultMatchWidth:"wide",parsePatterns:jwe,defaultParseWidth:"any"}),dayPeriod:Ou({matchPatterns:bwe,defaultMatchWidth:"any",parsePatterns:Nwe,defaultParseWidth:"any"})},Swe={code:"en-US",formatDistance:KNe,formatLong:QNe,formatRelative:JNe,localize:owe,match:wwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pwe(e,r,n){const s=INe(),a=(n==null?void 0:n.locale)??s.locale??Swe,i=2520,o=ap(e,r);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,d;o>0?(c=yn(r),d=yn(e)):(c=yn(e),d=yn(r));const u=WNe(d,c),m=(uk(d)-uk(c))/1e3,h=Math.round((u-m)/60);let p;if(h<2)return n!=null&&n.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<dk){const y=Math.round(h/60);return a.formatDistance("aboutXHours",y,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Of){const y=Math.round(h/dk);return a.formatDistance("xDays",y,l)}else if(h<Of*2)return p=Math.round(h/Of),a.formatDistance("aboutXMonths",p,l)}if(p=qNe(d,c),p<12){const y=Math.round(h/Of);return a.formatDistance("xMonths",y,l)}else{const y=p%12,f=Math.trunc(p/12);return y<3?a.formatDistance("aboutXYears",f,l):y<9?a.formatDistance("overXYears",f,l):a.formatDistance("almostXYears",f+1,l)}}function Cwe(e,r){return Pwe(e,$Ne(e),r)}const _we={success:mt,error:bi,warning:rr,info:uB},Awe={success:"text-green-500",error:"text-red-500",warning:"text-yellow-500",info:"text-blue-500"};function Twe(){const{notifications:e,unreadCount:r,markAsRead:n,clearNotification:s,clearAllNotifications:a}=bq(),i=o=>{o.read||n(o.id),o.action&&o.action.onClick()};return t.jsxs(ONe,{children:[t.jsx(RNe,{asChild:!0,children:t.jsxs(O,{variant:"ghost",size:"sm",className:"relative",children:[t.jsx(Sl,{className:"h-4 w-4"}),r>0&&t.jsx(te,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center text-xs p-0",children:r>99?"99+":r})]})}),t.jsx(pL,{className:"w-80 p-0",align:"end",children:t.jsxs(T,{children:[t.jsx(z,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(B,{className:"text-sm font-medium",children:"Notifications"}),e.length>0&&t.jsx(O,{variant:"ghost",size:"sm",onClick:a,className:"text-xs",children:"Clear All"})]})}),t.jsx(k,{className:"p-0",children:e.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(Sl,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No notifications"})]}):t.jsx(rL,{className:"h-80",children:t.jsx("div",{className:"space-y-1 p-2",children:e.map(o=>{const l=_we[o.type],c=Awe[o.type];return t.jsx("div",{className:`p-3 rounded-lg cursor-pointer transition-colors ${o.read?"bg-background hover:bg-muted/50":"bg-muted hover:bg-muted/80"}`,onClick:()=>i(o),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(l,{className:`h-4 w-4 mt-0.5 ${c}`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium leading-tight",children:o.title}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1 leading-relaxed",children:o.message}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Cwe(o.timestamp,{addSuffix:!0})})]}),t.jsx(O,{variant:"ghost",size:"sm",onClick:d=>{d.stopPropagation(),s(o.id)},className:"h-6 w-6 p-0 hover:bg-destructive/10",children:t.jsx(Fd,{className:"h-3 w-3"})})]}),o.action&&t.jsx(O,{variant:"outline",size:"sm",className:"mt-2 h-6 text-xs",onClick:d=>{d.stopPropagation(),o.action.onClick()},children:o.action.label})]}),!o.read&&t.jsx("div",{className:"h-2 w-2 bg-primary rounded-full mt-1"})]})},o.id)})})})})]})})]})}const kwe=e=>{const r={PHARMACY_OWNER:{title:"Pharmacy Owner Dashboard",subtitle:"Complete business overview and strategic insights",stats:[{name:"Total Revenue",value:"$124,500",change:"+12.5%",icon:ht,color:"text-green-600",up:!0},{name:"Active Customers",value:"2,847",change:"+8.2%",icon:it,color:"text-blue-600",up:!0},{name:"Profit Margin",value:"23.4%",change:"+2.1%",icon:ft,color:"text-purple-600",up:!0},{name:"Staff Performance",value:"94%",change:"+3.0%",icon:la,color:"text-indigo-600",up:!0}],sections:["financial","inventory","staff","alerts"]},PHARMACY_MANAGER:{title:"Manager Dashboard",subtitle:"Operational oversight and team management",stats:[{name:"Daily Orders",value:"247",change:"+5.2%",icon:Fn,color:"text-green-600",up:!0},{name:"Inventory Value",value:"$89,340",change:"-2.1%",icon:vt,color:"text-orange-600",up:!1},{name:"Staff Online",value:"12/15",change:"80%",icon:it,color:"text-blue-600",up:!0},{name:"Efficiency",value:"87%",change:"+4.3%",icon:la,color:"text-purple-600",up:!0}],sections:["operations","inventory","staff","alerts"]},SENIOR_PHARMACIST:{title:"Senior Pharmacist Dashboard",subtitle:"Clinical oversight and prescription management",stats:[{name:"Prescriptions",value:"156",change:"+7.1%",icon:$t,color:"text-green-600",up:!0},{name:"Consultations",value:"43",change:"+12.3%",icon:it,color:"text-blue-600",up:!0},{name:"Compliance Score",value:"98%",change:"+0.5%",icon:mt,color:"text-green-600",up:!0},{name:"Critical Alerts",value:"3",change:"-2",icon:rr,color:"text-red-600",up:!0}],sections:["prescriptions","compliance","alerts"]},PHARMACY_TECHNICIAN:{title:"Technician Dashboard",subtitle:"Daily operations and inventory management",stats:[{name:"Items Processed",value:"89",change:"+15.2%",icon:vt,color:"text-green-600",up:!0},{name:"Orders Fulfilled",value:"34",change:"+8.7%",icon:mt,color:"text-blue-600",up:!0},{name:"Inventory Updates",value:"127",change:"+22.1%",icon:la,color:"text-purple-600",up:!0},{name:"Customer Assists",value:"18",change:"+5.9%",icon:it,color:"text-indigo-600",up:!0}],sections:["tasks","inventory","alerts"]},CASHIER:{title:"Cashier Dashboard",subtitle:"Sales transactions and customer service",stats:[{name:"Transactions",value:"67",change:"+11.2%",icon:Fn,color:"text-green-600",up:!0},{name:"Revenue",value:"$3,247",change:"+18.5%",icon:ht,color:"text-blue-600",up:!0},{name:"Customers Served",value:"89",change:"+9.4%",icon:it,color:"text-purple-600",up:!0},{name:"Avg. Transaction",value:"$48.47",change:"+6.7%",icon:ft,color:"text-indigo-600",up:!0}],sections:["sales","customers"]},SUPPLIER_ADMIN:{title:"Supplier Admin Dashboard",subtitle:"Complete supplier portal management",stats:[{name:"Active Clients",value:"42",change:"+3",icon:it,color:"text-green-600",up:!0},{name:"Orders Processed",value:"186",change:"+12.4%",icon:Fn,color:"text-blue-600",up:!0},{name:"Revenue",value:"$67,890",change:"+8.7%",icon:ht,color:"text-purple-600",up:!0},{name:"Delivery Rate",value:"96%",change:"+2.1%",icon:fn,color:"text-indigo-600",up:!0}],sections:["clients","orders","deliveries"]},SALES_MANAGER:{title:"Sales Manager Dashboard",subtitle:"Territory and client relationship management",stats:[{name:"Territory Sales",value:"$45,670",change:"+15.3%",icon:ht,color:"text-green-600",up:!0},{name:"Active Clients",value:"28",change:"+4",icon:it,color:"text-blue-600",up:!0},{name:"Conversion Rate",value:"67%",change:"+5.2%",icon:ft,color:"text-purple-600",up:!0},{name:"Pipeline Value",value:"$78,920",change:"+22.1%",icon:la,color:"text-indigo-600",up:!0}],sections:["territory","clients","performance"]},ACCOUNT_REPRESENTATIVE:{title:"Account Representative Dashboard",subtitle:"Client management and order processing",stats:[{name:"Assigned Clients",value:"15",change:"+2",icon:it,color:"text-green-600",up:!0},{name:"Orders Managed",value:"73",change:"+18.9%",icon:Fn,color:"text-blue-600",up:!0},{name:"Client Satisfaction",value:"92%",change:"+3.4%",icon:mt,color:"text-purple-600",up:!0},{name:"Response Time",value:"1.2h",change:"-0.3h",icon:Ut,color:"text-green-600",up:!0}],sections:["clients","orders","support"]},DELIVERY_COORDINATOR:{title:"Delivery Coordinator Dashboard",subtitle:"Route planning and delivery management",stats:[{name:"Active Routes",value:"8",change:"+1",icon:gB,color:"text-green-600",up:!0},{name:"Deliveries Today",value:"47",change:"+12.7%",icon:fn,color:"text-blue-600",up:!0},{name:"On-Time Rate",value:"94%",change:"+2.8%",icon:mt,color:"text-purple-600",up:!0},{name:"Drivers Active",value:"6/8",change:"75%",icon:Mw,color:"text-indigo-600",up:!0}],sections:["routes","deliveries","drivers"]}};return r[e]||r.CASHIER};function Ewe(){const[e,r]=g.useState(null);if(g.useEffect(()=>{const a=localStorage.getItem("currentUser");a&&r(JSON.parse(a))},[]),!e)return t.jsx("div",{children:"Loading..."});const n=kwe(e.role),s=a=>{switch(a){case"financial":return t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Financial Overview"}),t.jsx(Et,{children:"Revenue and profit analysis"})]}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Monthly Revenue"}),t.jsx("span",{className:"font-semibold text-green-600",children:"$124,500"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Operating Costs"}),t.jsx("span",{className:"font-semibold text-red-600",children:"$95,300"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Net Profit"}),t.jsx("span",{className:"font-semibold text-blue-600",children:"$29,200"})]})]})})]});case"operations":return t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Daily Operations"}),t.jsx(Et,{children:"Today's operational metrics"})]}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Orders Processed"}),t.jsx(te,{variant:"secondary",children:"247"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Returns Handled"}),t.jsx(te,{variant:"secondary",children:"12"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Inventory Updates"}),t.jsx(te,{variant:"secondary",children:"89"})]})]})})]});case"prescriptions":return t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Prescription Management"}),t.jsx(Et,{children:"Clinical oversight dashboard"})]}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Pending Reviews"}),t.jsx(te,{variant:"destructive",children:"8"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Approved Today"}),t.jsx(te,{variant:"secondary",children:"156"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Consultations"}),t.jsx(te,{variant:"outline",children:"43"})]})]})})]});case"sales":return t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Today's Sales"}),t.jsx(Et,{children:"Transaction summary"})]}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Total Transactions"}),t.jsx("span",{className:"font-semibold",children:"67"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Cash Sales"}),t.jsx("span",{className:"font-semibold",children:"$1,847"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Card Sales"}),t.jsx("span",{className:"font-semibold",children:"$1,400"})]})]})})]});case"inventory":return t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Inventory Status"}),t.jsx(Et,{children:"Stock levels and alerts"})]}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Low Stock Items"}),t.jsx(te,{variant:"destructive",children:"12"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Expiring Soon"}),t.jsx(te,{variant:"outline",children:"8"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Out of Stock"}),t.jsx(te,{variant:"destructive",children:"3"})]})]})})]});case"alerts":return t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"System Alerts"}),t.jsx(Et,{children:"Important notifications"})]}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[t.jsx(rr,{className:"w-4 h-4 text-red-500"}),t.jsx("span",{children:"3 medications expire within 7 days"})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[t.jsx(rr,{className:"w-4 h-4 text-orange-500"}),t.jsx("span",{children:"Low stock: Acetaminophen 500mg"})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[t.jsx(mt,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{children:"System backup completed"})]})]})})]});default:return null}};return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n.title}),t.jsx("p",{className:"text-muted-foreground mt-2",children:n.subtitle}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Welcome back, ",e.name,"  ",new Date().toLocaleDateString()]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(O,{variant:"outline",children:[t.jsx(la,{className:"w-4 h-4 mr-2"}),"Quick Actions"]}),t.jsxs(O,{children:[t.jsx($t,{className:"w-4 h-4 mr-2"}),"Generate Report"]})]})]}),t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:n.stats.map(a=>{const i=a.icon;return t.jsxs(T,{children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:a.name}),t.jsx(i,{className:`h-4 w-4 ${a.color}`})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:a.value}),t.jsxs("p",{className:`text-xs flex items-center ${a.up?"text-green-600":"text-red-600"}`,children:[a.up?t.jsx(ft,{className:"w-3 h-3 mr-1"}):t.jsx(wi,{className:"w-3 h-3 mr-1"}),a.change," from yesterday"]})]})]},a.name)})}),t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.sections.map(a=>t.jsx("div",{children:s(a)},a))}),t.jsxs("div",{className:"mt-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"Analytics & Insights"}),t.jsx(Twe,{})]}),t.jsx(aNe,{})]})]})}const Owe=[{month:"Jan",sales:12450,orders:145,profit:3680},{month:"Feb",sales:13200,orders:156,profit:3920},{month:"Mar",sales:11800,orders:138,profit:3540},{month:"Apr",sales:14500,orders:167,profit:4350},{month:"May",sales:15200,orders:178,profit:4560},{month:"Jun",sales:13900,orders:162,profit:4170}],Rwe=[{name:"Ibuprofen 400mg",sales:2450,units:340,category:"Pain Relief"},{name:"Vitamin D3",sales:1890,units:210,category:"Vitamins"},{name:"Amoxicillin 500mg",sales:1650,units:132,category:"Antibiotics"},{name:"Blood Pressure Monitor",sales:1420,units:89,category:"Devices"},{name:"Insulin Pen",sales:1280,units:67,category:"Diabetes"}],Dwe=[{name:"MedSupply Co",orders:45,onTime:42,rating:4.8,value:12450},{name:"PharmaDist",orders:32,onTime:30,rating:4.6,value:8900},{name:"HealthWare",orders:28,onTime:27,rating:4.9,value:7650},{name:"MedTech",orders:15,onTime:13,rating:4.3,value:4200},{name:"DiabetesCare",orders:22,onTime:21,rating:4.7,value:6800}];function Mwe(){return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Reports & Analytics"}),t.jsx("p",{className:"text-muted-foreground",children:"Business insights and performance analytics"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{variant:"outline",children:[t.jsx(Ot,{size:16,className:"mr-2"}),"Date Range"]}),t.jsxs(O,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Report"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Revenue"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"$15,200"}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(ft,{size:10,className:"mr-1"}),"+8.5% from last month"]})]}),t.jsx(ht,{className:"text-success",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"178"}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(ft,{size:10,className:"mr-1"}),"+12% from last month"]})]}),t.jsx(Fn,{className:"text-primary",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Products Sold"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"2,847"}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(ft,{size:10,className:"mr-1"}),"+15% from last month"]})]}),t.jsx(vt,{className:"text-warning",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Profit Margin"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"28.5%"}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(ft,{size:10,className:"mr-1"}),"+2.1% from last month"]})]}),t.jsx(ir,{className:"text-primary",size:24})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(ir,{className:"mr-2 text-primary",size:20}),"6-Month Sales Trend"]})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:Owe.map(e=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 text-sm font-medium text-panel-foreground",children:e.month}),t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${e.sales/16e3*100}%`}})})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium text-panel-foreground",children:["$",e.sales.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.orders," orders"]})]})]},e.month))})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(vt,{className:"mr-2 text-warning",size:20}),"Top Selling Products"]})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-3",children:Rwe.map((e,r)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold text-sm",children:r+1}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-panel-foreground",children:e.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e.category})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium text-panel-foreground",children:["$",e.sales]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.units," units"]})]})]},e.name))})})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(it,{className:"mr-2 text-success",size:20}),"Supplier Performance Analysis"]})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Supplier"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Total Orders"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"On-Time Delivery"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Rating"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Total Value"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Performance"})]})}),t.jsx("tbody",{children:Dwe.map(e=>{const r=Math.round(e.onTime/e.orders*100),n=r>=95?"text-success":r>=85?"text-warning":"text-destructive";return t.jsxs("tr",{className:"border-b border-border hover:bg-panel transition-colors",children:[t.jsx("td",{className:"py-3 px-4 font-medium text-foreground",children:e.name}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:e.orders}),t.jsxs("td",{className:"py-3 px-4",children:[t.jsxs("span",{className:"text-foreground",children:[e.onTime,"/",e.orders]}),t.jsxs("span",{className:`ml-2 text-sm ${n}`,children:["(",r,"%)"]})]}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(On,{className:"w-4 h-4 fill-warning text-warning mr-1"}),t.jsx("span",{className:"text-foreground",children:e.rating})]})}),t.jsxs("td",{className:"py-3 px-4 font-medium text-foreground",children:["$",e.value.toLocaleString()]}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(te,{variant:r>=95?"default":r>=85?"secondary":"destructive",children:r>=95?"Excellent":r>=85?"Good":"Needs Improvement"})})]},e.name)})})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsxs(k,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx($t,{className:"mr-2 text-primary",size:20}),t.jsx("h3",{className:"font-medium text-card-foreground",children:"Inventory Report"})]}),t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(yt,{size:14})})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Complete inventory analysis with stock levels, expiry dates, and reorder recommendations."}),t.jsxs(O,{variant:"outline",size:"sm",className:"w-full",children:[t.jsx(bt,{size:14,className:"mr-2"}),"Generate Report"]})]})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsxs(k,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ir,{className:"mr-2 text-success",size:20}),t.jsx("h3",{className:"font-medium text-card-foreground",children:"Financial Report"})]}),t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(yt,{size:14})})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Monthly financial summary including revenue, expenses, profit margins, and cash flow."}),t.jsxs(O,{variant:"outline",size:"sm",className:"w-full",children:[t.jsx(bt,{size:14,className:"mr-2"}),"Generate Report"]})]})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsxs(k,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(rr,{className:"mr-2 text-warning",size:20}),t.jsx("h3",{className:"font-medium text-card-foreground",children:"Compliance Report"})]}),t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(yt,{size:14})})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Regulatory compliance status, expiry tracking, and audit trail documentation."}),t.jsxs(O,{variant:"outline",size:"sm",className:"w-full",children:[t.jsx(bt,{size:14,className:"mr-2"}),"Generate Report"]})]})})]})]})}var Iwe="Label",xL=g.forwardRef((e,r)=>t.jsx(Je.label,{...e,ref:r,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));xL.displayName=Iwe;var gL=xL;const $we=Bl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),I=g.forwardRef(({className:e,...r},n)=>t.jsx(gL,{ref:n,className:ke($we(),e),...r}));I.displayName=gL.displayName;function Lwe(){const[e,r]=g.useState(""),[n,s]=g.useState(""),[a,i]=g.useState(!1),[o,l]=g.useState(!1),[c,d]=g.useState(!1),u=Vs(),{toast:m}=Tt();g.useEffect(()=>{const p=localStorage.getItem("currentUser"),y=localStorage.getItem("access_token");if(p&&y){JSON.parse(p).role==="super_admin"?u("/admin/dashboard",{replace:!0}):u("/",{replace:!0});return}const f=localStorage.getItem("rememberedEmail"),v=localStorage.getItem("rememberedPassword");f&&(r(f),d(!0)),v&&s(v);const j=document.getElementById("particles");if(!j)return;const x=j.getContext("2d");if(!x)return;j.width=window.innerWidth,j.height=window.innerHeight;const b=[];for(let N=0;N<50;N++)b.push({x:Math.random()*j.width,y:Math.random()*j.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*2+1});function S(){x.clearRect(0,0,j.width,j.height),b.forEach(N=>{N.x+=N.vx,N.y+=N.vy,(N.x<0||N.x>j.width)&&(N.vx*=-1),(N.y<0||N.y>j.height)&&(N.vy*=-1),x.beginPath(),x.arc(N.x,N.y,N.size,0,Math.PI*2),x.fillStyle="rgba(148, 163, 184, 0.3)",x.fill()}),requestAnimationFrame(S)}S();const w=()=>{j.width=window.innerWidth,j.height=window.innerHeight};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const h=async p=>{var y,f;p.preventDefault(),l(!0);try{const v=await uM.login(e,n);if(v.success&&v.data){const{user:j,tokens:x}=v.data;localStorage.setItem("access_token",x.access),localStorage.setItem("refresh_token",x.refresh),localStorage.setItem("currentUser",JSON.stringify(j)),localStorage.setItem("userEmail",j.email),j.organization_id&&localStorage.setItem("selectedOrganization",j.organization_id),c?(localStorage.setItem("rememberedEmail",e),localStorage.setItem("rememberedPassword",n)):(localStorage.removeItem("rememberedEmail"),localStorage.removeItem("rememberedPassword")),m({title:"Login Successful",description:`Welcome back, ${j.first_name} ${j.last_name}!`}),setTimeout(()=>{j.role==="super_admin"?window.location.href="/admin/dashboard":window.location.href="/"},100)}else m({title:"Authentication Failed",description:v.message||"Please check your credentials and try again",variant:"destructive"})}catch(v){console.error("Login error:",v),m({title:"Connection Error",description:((f=(y=v.response)==null?void 0:y.data)==null?void 0:f.message)||"Unable to connect. Please try again.",variant:"destructive"})}l(!1)};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 to-slate-900 flex relative overflow-hidden",children:[t.jsx("canvas",{id:"particles",className:"absolute inset-0 pointer-events-none"}),t.jsx("div",{className:"hidden lg:flex lg:w-1/2 relative items-center justify-center p-12",children:t.jsxs("div",{className:"relative z-10 text-center space-y-8",children:[t.jsxs("div",{className:"relative w-80 h-80 mx-auto",children:[t.jsx("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-20 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-500 ${o?"bg-white/40 scale-110 shadow-2xl shadow-white/20":"bg-white/20"}`,children:t.jsx(vt,{className:`w-10 h-10 text-white transition-all duration-300 ${o?"animate-pulse":""}`})}),t.jsxs("div",{className:`absolute inset-0 transition-all duration-1000 ease-out ${o?"animate-spin":""}`,style:{animationDuration:o?"0.8s":"2s",animationTimingFunction:o?"linear":"cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:[t.jsx("div",{className:`absolute top-8 left-1/2 transform -translate-x-1/2 w-16 h-16 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-300 ${o?"bg-blue-500/50 scale-110 shadow-lg shadow-blue-500/30":"bg-blue-500/30"}`,children:t.jsx(vB,{className:"w-8 h-8 text-white"})}),t.jsx("div",{className:`absolute top-1/2 right-8 transform -translate-y-1/2 w-14 h-14 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-300 ${o?"bg-green-500/50 scale-110 shadow-lg shadow-green-500/30":"bg-green-500/30"}`,children:t.jsx(Ua,{className:"w-7 h-7 text-white"})}),t.jsx("div",{className:`absolute bottom-8 left-1/2 transform -translate-x-1/2 w-16 h-16 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-300 ${o?"bg-red-500/50 scale-110 shadow-lg shadow-red-500/30":"bg-red-500/30"}`,children:t.jsx(Rw,{className:"w-8 h-8 text-white"})}),t.jsx("div",{className:`absolute top-1/2 left-8 transform -translate-y-1/2 w-14 h-14 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-300 ${o?"bg-purple-500/50 scale-110 shadow-lg shadow-purple-500/30":"bg-purple-500/30"}`,children:t.jsx(vt,{className:"w-7 h-7 text-white"})})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h1",{className:"text-4xl font-bold text-white",children:"Pharmacy Pro"}),t.jsx("p",{className:"text-xl text-slate-300",children:"Advanced Healthcare Management"}),t.jsx("p",{className:"text-slate-400 max-w-md mx-auto",children:"Streamline your pharmacy operations with our comprehensive management system designed for modern healthcare providers."})]})]})}),t.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 relative z-10",children:t.jsxs("div",{className:"w-full max-w-md space-y-8",children:[t.jsxs("div",{className:"lg:hidden text-center space-y-4",children:[t.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto",children:t.jsx(vt,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-2xl font-bold text-white",children:"Pharmacy Pro"})]}),t.jsxs("div",{className:"space-y-6 p-8 border border-white/20 rounded-lg backdrop-blur-sm",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Welcome Back"}),t.jsx("p",{className:"text-slate-300",children:"Sign in to access your dashboard"})]}),t.jsxs("form",{onSubmit:h,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"email",className:"text-sm font-medium text-slate-200",children:"Email Address"}),t.jsx(Z,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:p=>r(p.target.value),className:"px-4 h-12 bg-white/10 backdrop-blur-sm border-white/20 text-white placeholder:text-slate-400 focus:border-white/40 focus:bg-white/20",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"password",className:"text-sm font-medium text-slate-200",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Z,{id:"password",type:a?"text":"password",placeholder:"Enter your password",value:n,onChange:p=>s(p.target.value),className:"px-4 pr-12 h-12 bg-white/10 backdrop-blur-sm border-white/20 text-white placeholder:text-slate-400 focus:border-white/40 focus:bg-white/20",required:!0}),t.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:a?t.jsx(Sm,{size:18}):t.jsx(yt,{size:18})})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"rememberMe",checked:c,onChange:p=>d(p.target.checked),className:"w-4 h-4 text-white bg-white/10 border-white/20 rounded focus:ring-white/40"}),t.jsx(I,{htmlFor:"rememberMe",className:"text-sm text-slate-300 cursor-pointer",children:"Remember my credentials"})]}),t.jsx(O,{type:"submit",className:"w-full h-12 bg-white text-slate-900 hover:bg-slate-100 font-semibold text-lg",disabled:o,children:o?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Zt,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Signing In..."})]}):"Sign In"})]})]})]})})]})}const Fwe=()=>{const e=Ri();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),t.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),t.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},rt=PD,Ft=AW,zwe=CD,vL=g.forwardRef(({className:e,...r},n)=>t.jsx(Rg,{ref:n,className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));vL.displayName=Rg.displayName;const nt=g.forwardRef(({className:e,children:r,...n},s)=>t.jsxs(zwe,{children:[t.jsx(vL,{}),t.jsxs(Dg,{ref:s,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[r,t.jsxs(_D,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[t.jsx(Fd,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nt.displayName=Dg.displayName;const st=({className:e,...r})=>t.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});st.displayName="DialogHeader";const jr=({className:e,...r})=>t.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});jr.displayName="DialogFooter";const at=g.forwardRef(({className:e,...r},n)=>t.jsx(Mg,{ref:n,className:ke("text-lg font-semibold leading-none tracking-tight",e),...r}));at.displayName=Mg.displayName;const Pt=g.forwardRef(({className:e,...r},n)=>t.jsx(Ig,{ref:n,className:ke("text-sm text-muted-foreground",e),...r}));Pt.displayName=Ig.displayName;function Bwe({isOpen:e,onClose:r,receiptData:n}){const[s,a]=g.useState({business_name:"",business_address:"",business_phone:"",business_email:"",receipt_footer:"",receipt_logo:null,tax_rate:13});g.useEffect(()=>{e&&i()},[e]);const i=async()=>{try{const l=localStorage.getItem("access_token")||localStorage.getItem("token"),c=await fetch("http://localhost:8000/api/pos/settings/",{headers:{"Content-Type":"application/json",...l&&{Authorization:`Bearer ${l}`}}});if(c.ok){const d=await c.json();a({business_name:d.business_name||"",business_address:d.business_address||"",business_phone:d.business_phone||"",business_email:d.business_email||"",receipt_footer:d.receipt_footer||"",receipt_logo:d.receipt_logo||null,tax_rate:d.tax_rate||13})}}catch(l){console.error("Error fetching POS settings:",l)}};if(!n)return null;const o=()=>{window.print()};return t.jsxs(rt,{open:e,onOpenChange:r,children:[t.jsxs(nt,{className:"max-w-md",children:[t.jsxs(st,{children:[t.jsxs(at,{className:"flex items-center justify-between",children:["Receipt",t.jsxs(O,{onClick:o,size:"sm",className:"ml-2",children:[t.jsx(Pm,{size:16,className:"mr-1"}),"Print"]})]}),t.jsxs(Pt,{children:["Receipt for sale ",n.sale.sale_number]})]}),t.jsxs("div",{className:"receipt-content font-mono text-sm print:text-xs print:w-full print:max-w-none",id:"receipt-print",children:[t.jsxs("div",{className:"text-center border-b pb-2 mb-2",children:[s.receipt_logo&&t.jsx("div",{className:"mb-2",children:t.jsx("img",{src:s.receipt_logo,alt:"Business Logo",className:"mx-auto max-h-12 object-contain",onError:l=>{l.currentTarget.style.display="none"}})}),t.jsxs("h2",{className:"font-bold text-lg",children:[s.business_name||n.organization.name,n.branch.name&&n.branch.name!==(s.business_name||n.organization.name)&&t.jsxs("span",{children:[" (",n.branch.name,")"]})]}),(s.business_address||n.organization.address)&&t.jsx("p",{className:"text-xs",children:s.business_address||n.organization.address}),(s.business_phone||n.organization.phone)&&t.jsxs("p",{className:"text-xs",children:["Phone: ",s.business_phone||n.organization.phone]}),s.business_email&&t.jsxs("p",{className:"text-xs",children:["Email: ",s.business_email]})]}),t.jsxs("div",{className:"border-b pb-2 mb-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Bill No:"}),t.jsx("span",{children:n.sale.sale_number})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Date:"}),t.jsx("span",{children:n.sale.sale_date})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Cashier:"}),t.jsx("span",{children:n.sale.cashier})]})]}),t.jsxs("div",{className:"border-b pb-2 mb-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Patient:"}),t.jsx("span",{children:n.patient.name})]}),n.patient.patient_id&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"ID:"}),t.jsx("span",{children:n.patient.patient_id})]}),n.patient.phone&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Phone:"}),t.jsx("span",{children:n.patient.phone})]})]}),t.jsx("div",{className:"border-b pb-2 mb-2",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left",children:"Item"}),t.jsx("th",{className:"text-center",children:"Qty"}),t.jsx("th",{className:"text-right",children:"Price"}),t.jsx("th",{className:"text-right",children:"Total"})]})}),t.jsx("tbody",{children:n.items.map((l,c)=>t.jsxs("tr",{children:[t.jsxs("td",{className:"text-left",children:[t.jsx("div",{children:l.name}),l.batch&&t.jsxs("div",{className:"text-xs text-gray-500",children:["Batch: ",l.batch]})]}),t.jsx("td",{className:"text-center",children:l.quantity}),t.jsx("td",{className:"text-right",children:l.unit_price.toFixed(2)}),t.jsx("td",{className:"text-right",children:l.total.toFixed(2)})]},c))})]})}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Subtotal:"}),t.jsxs("span",{children:["NPR ",n.totals.subtotal.toFixed(2)]})]}),n.totals.tax>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{children:["Tax (",s.tax_rate,"%):"]}),t.jsxs("span",{children:["NPR ",n.totals.tax.toFixed(2)]})]}),n.totals.discount>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Discount:"}),t.jsxs("span",{children:["-NPR ",n.totals.discount.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between font-bold border-t pt-1",children:[t.jsx("span",{children:"Total:"}),t.jsxs("span",{children:["NPR ",n.totals.total.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{children:["Paid (",n.payment_method,"):"]}),t.jsxs("span",{children:["NPR ",n.totals.paid.toFixed(2)]})]}),n.totals.change>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Change:"}),t.jsxs("span",{children:["NPR ",n.totals.change.toFixed(2)]})]}),n.totals.credit>0&&t.jsxs("div",{className:"flex justify-between text-red-600",children:[t.jsx("span",{children:"Credit Due:"}),t.jsxs("span",{children:["NPR ",n.totals.credit.toFixed(2)]})]})]}),t.jsxs("div",{className:"text-center mt-4 pt-2 border-t text-xs",children:[s.receipt_footer?t.jsx("p",{children:s.receipt_footer}):t.jsx("p",{children:"Thank you for your business!"}),t.jsx("p",{children:"Please keep this receipt for your records"})]})]})]}),t.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @media print {
            * {
              -webkit-print-color-adjust: exact !important;
              color-adjust: exact !important;
            }
            body {
              margin: 0 !important;
              padding: 0 !important;
            }
            body * {
              visibility: hidden;
            }
            #receipt-print, #receipt-print * {
              visibility: visible;
            }
            #receipt-print {
              position: absolute !important;
              left: 0 !important;
              top: 0 !important;
              width: 80mm !important;
              max-width: 80mm !important;
              font-size: 10px !important;
              line-height: 1.1 !important;
              margin: 0 !important;
              padding: 5mm !important;
              box-sizing: border-box !important;
            }
            @page {
              size: 80mm auto !important;
              margin: 0 !important;
              padding: 0 !important;
            }
          }
        `}})]})}function Uwe(){const[e,r]=g.useState(""),[n,s]=g.useState([]),[a,i]=g.useState({name:"",phone:"",discount:0}),[o,l]=g.useState("cash"),[c,d]=g.useState(""),[u,m]=g.useState([]),[h,p]=g.useState(!0),[y,f]=g.useState(""),[v,j]=g.useState(""),[x,b]=g.useState(""),[S,w]=g.useState(""),[N,P]=g.useState(""),[_,C]=g.useState(""),[A,M]=g.useState([]),[R,E]=g.useState(!1),[F,G]=g.useState([]),[D,J]=g.useState([]),[q,U]=g.useState(null),[re,he]=g.useState(!1),[ie,fe]=g.useState(""),[xe,ge]=g.useState("all"),[Te,Se]=g.useState(1),Ue=5,[be,Q]=g.useState(0),[pe,oe]=g.useState("percent"),[ze,Fe]=g.useState("cash"),[tt,lt]=g.useState(!1),[me,He]=g.useState(null),[ae,je]=g.useState(null),[W,se]=g.useState(!1),[le,ne]=g.useState({business_name:"",business_address:"",business_phone:"",business_email:"",receipt_footer:"",receipt_logo:null,tax_rate:13,tax_inclusive:!1,payment_methods:["cash","online"]}),{toast:Y}=Tt(),ce=JSON.parse(localStorage.getItem("currentUser")||"{}"),Ne=ce==null?void 0:ce.branch_id,K=async()=>{try{const ee=localStorage.getItem("access_token")||localStorage.getItem("token"),Be=await fetch("http://localhost:8000/api/pos/settings/",{headers:{"Content-Type":"application/json",...ee&&{Authorization:`Bearer ${ee}`}}});if(Be.ok){const Ze=await Be.json();ne({business_name:Ze.business_name||"",business_address:Ze.business_address||"",business_phone:Ze.business_phone||"",business_email:Ze.business_email||"",receipt_footer:Ze.receipt_footer||"",receipt_logo:Ze.receipt_logo||null,tax_rate:Ze.tax_rate||13,tax_inclusive:Ze.tax_inclusive||!1,payment_methods:Ze.payment_methods||["cash","online"]})}}catch(ee){console.error("Error fetching POS settings:",ee),ne({business_name:"",business_address:"",business_phone:"",business_email:"",receipt_footer:"",receipt_logo:null,tax_rate:13,tax_inclusive:!1,payment_methods:["cash","online"]})}},de=ee=>{const Be=u.find(xt=>xt.medicine_id===ee);if(!Be)return 0;const Ze=n.filter(xt=>xt.medicine_id===ee).reduce((xt,kt)=>xt+kt.quantity,0);return Math.max(0,Be.total_stock-Ze)},Le=async()=>{try{const ee=localStorage.getItem("access_token")||localStorage.getItem("token"),Be=Ne?`http://localhost:8000/api/inventory/inventory-items/?branch_id=${Ne}&pos_mode=true`:"http://localhost:8000/api/inventory/inventory-items/?pos_mode=true",Ze=await fetch(Be,{headers:{"Content-Type":"application/json",...ee&&{Authorization:`Bearer ${ee}`}}});if(Ze.ok){const kt=(await Ze.json()).map(Mt=>{var xn,or,Wr,Mn;return{id:Mt.id,medicine_id:Mt.medicine_id,name:((xn=Mt.medicine)==null?void 0:xn.name)||"Unknown Medicine",batch:Mt.batch_number,price:parseFloat(Mt.selling_price)||0,stock:Mt.current_stock,total_stock:Mt.total_stock,expiry:Mt.expiry_date,barcode:((or=Mt.medicine)==null?void 0:or.product_code)||"",strength:((Wr=Mt.medicine)==null?void 0:Wr.strength)||"",dosage_form:((Mn=Mt.medicine)==null?void 0:Mn.dosage_form)||"",unit:Mt.unit,location:Mt.location,all_batches:Mt.all_batches||[]}}).filter(Mt=>Mt.total_stock>0);m(kt)}}catch(ee){console.error("Error fetching inventory:",ee)}finally{p(!1)}},Ve=async()=>{try{const ee=localStorage.getItem("access_token")||localStorage.getItem("token"),Be=await fetch("http://localhost:8000/api/pos/sales/",{headers:{"Content-Type":"application/json",...ee&&{Authorization:`Bearer ${ee}`}}});if(Be.ok){const Ze=await Be.json();J(Ze)}}catch(ee){console.error("Error fetching bills:",ee)}},St=async()=>{try{const ee=localStorage.getItem("access_token")||localStorage.getItem("token"),Be=await fetch("http://localhost:8000/api/pos/sales/pending/",{headers:{"Content-Type":"application/json",...ee&&{Authorization:`Bearer ${ee}`}}});if(Be.ok){const Ze=await Be.json();G(Ze)}}catch(ee){console.error("Error fetching pending bills:",ee)}};g.useEffect(()=>{Le(),Ve(),St(),K()},[]);const an=u.filter(ee=>ee.name.toLowerCase().includes(e.toLowerCase())||ee.barcode.includes(e)||ee.batch.toLowerCase().includes(e.toLowerCase())),br=async(ee,Be=1)=>{const Ze=n.filter(kt=>kt.medicine_id===ee.medicine_id).reduce((kt,Mt)=>kt+Mt.quantity,0);if(Ze+Be>ee.total_stock){Y({title:"Insufficient Stock",description:`Only ${ee.total_stock} units available. You already have ${Ze} in cart.`,variant:"destructive"});return}try{const kt=localStorage.getItem("access_token")||localStorage.getItem("token"),Mt=await fetch("http://localhost:8000/api/inventory/allocate-stock/",{method:"POST",headers:{"Content-Type":"application/json",...kt&&{Authorization:`Bearer ${kt}`}},body:JSON.stringify({medicine_id:ee.medicine_id,quantity:Be,branch_id:Ne})});if(!Mt.ok){const Wr=await Mt.json();Y({title:"Stock Error",description:Wr.error||"Failed to allocate stock",variant:"destructive"});return}const xn=await Mt.json(),or={};xn.allocations.forEach(Wr=>{const Mn=Wr.selling_price.toString();or[Mn]||(or[Mn]={price:Wr.selling_price,quantity:0,batches:[]}),or[Mn].quantity+=Wr.allocated_quantity,or[Mn].batches.push({inventory_item_id:Wr.batch_id,batch_number:Wr.batch_number,allocated_quantity:Wr.allocated_quantity,selling_price:Wr.selling_price})}),s(Wr=>{let Mn=[...Wr];return Object.values(or).forEach(Gl=>{const qv=`${ee.medicine_id}_${Gl.price}`,lu=Mn.findIndex(N6=>N6.cart_key===qv);lu>=0?Mn[lu]={...Mn[lu],quantity:Mn[lu].quantity+Gl.quantity,batch_info:[...Mn[lu].batch_info,...Gl.batches]}:Mn.push({...ee,id:qv,cart_key:qv,medicine_id:ee.medicine_id,price:Gl.price,quantity:Gl.quantity,batch_info:Gl.batches})}),Mn}),Le()}catch(kt){console.error("Error adding to cart:",kt)}},Pa=async(ee,Be)=>{if(Be<=0){Nr(ee);return}const Ze=n.find(or=>or.cart_key===ee);if(!Ze)return;const xt=u.find(or=>or.medicine_id===Ze.medicine_id);if(!xt){Y({title:"Product Not Found",description:"Unable to validate stock for this item",variant:"destructive"});return}const kt=n.filter(or=>or.medicine_id===Ze.medicine_id&&or.cart_key!==ee).reduce((or,Wr)=>or+Wr.quantity,0);if(kt+Be>xt.total_stock){Y({title:"Insufficient Stock",description:`Only ${xt.total_stock} units available. Maximum you can set: ${xt.total_stock-kt}`,variant:"destructive"});return}const xn=Be-Ze.quantity;xn>0?await br(Ze,xn):s(or=>or.map(Wr=>Wr.cart_key===ee?{...Wr,quantity:Be}:Wr))},Nr=ee=>{s(Be=>Be.filter(Ze=>Ze.cart_key!==ee))},zr=n.reduce((ee,Be)=>ee+Be.price*Be.quantity,0),_s=le.tax_rate>0&&le.tax_inclusive===!0,Dn=_s?zr*(le.tax_rate/100):0,Dt=zr+Dn,Ht=pe==="amount"?be:Dt*a.discount/100,Bt=Dt-Ht,sr=Math.max(0,Bt-(parseFloat(c)||0)),As=async ee=>{if(C(ee),ee.trim())try{const Be=localStorage.getItem("access_token")||localStorage.getItem("token"),Ze=await fetch(`http://localhost:8000/api/patients/?search=${encodeURIComponent(ee)}`,{headers:{Authorization:`Bearer ${Be}`}});if(Ze.ok){const xt=await Ze.json();M(xt.results||[]),E(!0)}}catch(Be){console.error("Error searching patients:",Be)}else E(!1),M([])},ut=ee=>{f(ee.patient_id||""),j(ee.full_name||`${ee.first_name||""} ${ee.last_name||""}`.trim()),b(ee.phone||""),w(ee.age||""),P(ee.gender||""),i({name:ee.full_name||`${ee.first_name||""} ${ee.last_name||""}`.trim(),phone:ee.phone||"",discount:0}),E(!1),C("")},qt=async()=>{if(n.length===0){Y({title:"Cart Empty",description:"Please add items to cart before saving.",variant:"destructive"});return}try{const ee=localStorage.getItem("access_token")||localStorage.getItem("token"),Be={patient_id:y,patient_name:v||"Walk-in Customer",patient_age:S,patient_phone:x,patient_gender:N,branch_id:Ne,items:n.map(Mt=>({medicine_id:Mt.medicine_id,quantity:Mt.quantity,price:Mt.price,batch:Mt.batch,batch_info:Mt.batch_info})),subtotal:zr,total:Bt,discount_amount:Ht,tax_amount:Dn,payment_method:o},Ze=ae?`http://localhost:8000/api/pos/sales/${ae}/update-pending/`:"http://localhost:8000/api/pos/sales/save-pending/",xt=await fetch(Ze,{method:ae?"PUT":"POST",headers:{"Content-Type":"application/json",...ee&&{Authorization:`Bearer ${ee}`}},body:JSON.stringify(Be)});if(!xt.ok){const Mt=await xt.json();throw new Error(Mt.error||"Failed to save pending bill")}const kt=await xt.json();s([]),f(""),j(""),b(""),w(""),P(""),C(""),E(!1),i({name:"",phone:"",discount:0}),Q(0),d(""),je(null),St(),Y({title:ae?"Bill Updated":"Bill Saved",description:`Bill ${kt.sale_number} ${ae?"updated":"saved"} successfully`})}catch(ee){console.error("Error saving pending bill:",ee),Y({title:"Save Error",description:ee.message||"Failed to save pending bill",variant:"destructive"})}},er=ee=>{f(ee.patientId),j(ee.patientName),b(ee.patientPhone),w(ee.patientAge),P(ee.patientGender),s(ee.items),i({name:ee.patientName,phone:ee.patientPhone,discount:0}),je(ee.id),Y({title:"Bill Loaded",description:`Bill ${ee.sale_number} loaded to cart`})},Nn=async ee=>{try{const Be=localStorage.getItem("access_token")||localStorage.getItem("token"),Ze=await fetch(`http://localhost:8000/api/pos/sales/${ee}/delete/`,{method:"DELETE",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}}});if(Ze.ok)G(xt=>xt.filter(kt=>kt.id!==ee)),Y({title:"Bill Deleted",description:"Pending bill deleted successfully"});else{const xt=await Ze.json();Y({title:"Delete Error",description:xt.error||"Failed to delete pending bill",variant:"destructive"})}}catch(Be){console.error("Error deleting pending bill:",Be),Y({title:"Delete Error",description:"Failed to delete pending bill",variant:"destructive"})}},wn=()=>{if(n.length===0){Y({title:"Cart Empty",description:"Please add items to cart before checkout.",variant:"destructive"});return}se(!0)},X=async()=>{try{const ee=localStorage.getItem("access_token")||localStorage.getItem("token"),Be={patient_id:y,patient_name:v||"Walk-in Customer",patient_age:S,patient_phone:x,patient_gender:N,branch_id:Ne,items:n.map(or=>({medicine_id:or.medicine_id,quantity:or.quantity,price:or.price,batch:or.batch,batch_info:or.batch_info})),subtotal:zr,total:Bt,discount_amount:Ht,tax_amount:Dn,payment_method:o,paid_amount:parseFloat(c)||0,credit_amount:sr,transaction_id:o==="online"?`TXN_${Date.now()}`:"",sale_id:ae},xt=await fetch(ae?"http://localhost:8000/api/pos/sales/complete/":"http://localhost:8000/api/pos/sales/create/",{method:"POST",headers:{"Content-Type":"application/json",...ee&&{Authorization:`Bearer ${ee}`}},body:JSON.stringify(Be)});if(!xt.ok){const or=await xt.json();throw new Error(or.error||"Failed to create sale")}const kt=await xt.json(),Mt=sr>0?"Credit Sale":"Cash Sale",xn=sr>0?`Credit sale completed. Due: NPR ${sr.toFixed(2)}`:`Sale completed for NPR ${Bt.toFixed(2)}`;Y({title:Mt,description:`${xn} - Bill: ${kt.sale_number}`}),kt.receipt&&(He(kt.receipt),lt(!0)),s([]),i({name:"",phone:"",discount:0}),l("cash"),d(""),r(""),f(""),j(""),b(""),w(""),P(""),C(""),E(!1),Q(0),oe("percent"),Fe("cash"),je(null),Le(),Ve(),St()}catch(ee){console.error("Error creating sale:",ee),Y({title:"Sale Error",description:ee.message||"Failed to complete sale",variant:"destructive"})}},ve=async ee=>{U(ee),he(!0);try{const Be=localStorage.getItem("access_token")||localStorage.getItem("token"),Ze=await fetch(`http://localhost:8000/api/pos/sales/${ee.id}/receipt/`,{headers:{Authorization:`Bearer ${Be}`}});if(Ze.ok){const xt=await Ze.json();He(xt)}}catch(Be){console.error("Error generating receipt:",Be)}},qe=async ee=>{try{const Be=localStorage.getItem("access_token")||localStorage.getItem("token"),Ze=await fetch(`http://localhost:8000/api/pos/sales/${ee}/delete/`,{method:"DELETE",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}}});if(Ze.ok)J(xt=>xt.filter(kt=>kt.id!==ee)),Y({title:"Bill Deleted",description:"Bill deleted successfully"}),Le();else{const xt=await Ze.json();Y({title:"Delete Error",description:xt.error||"Failed to delete bill",variant:"destructive"})}}catch(Be){console.error("Error deleting bill:",Be),Y({title:"Delete Error",description:"Failed to delete bill",variant:"destructive"})}},Me=D.filter(ee=>{const Be=ee.patientName.toLowerCase().includes(ie.toLowerCase())||ee.id.toLowerCase().includes(ie.toLowerCase())||ee.patientPhone.includes(ie),Ze=xe==="all"||ee.status===xe;return Be&&Ze}),Ke=Math.ceil(Me.length/Ue),Kt=Me.slice((Te-1)*Ue,Te*Ue);return t.jsxs("div",{className:"bg-gray-50 p-2 space-y-4",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row gap-2",children:[t.jsxs("div",{className:"lg:w-2/3 bg-white rounded-md shadow p-2 flex flex-col gap-2",children:[t.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[t.jsxs("div",{className:"relative col-span-2",children:[t.jsx(I,{htmlFor:"patientId",className:"text-xs",children:"Patient ID"}),t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 z-10",size:14}),t.jsx(Z,{id:"patientId",value:_||y,onChange:ee=>{ee.target.value.trim()?As(ee.target.value):(f(""),C(""),E(!1))},placeholder:"Search Patient ID, Name or Phone",className:"h-8 text-sm pl-7"}),R&&A.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border rounded-md shadow-lg z-20 max-h-32 overflow-y-auto",children:A.map((ee,Be)=>t.jsxs("div",{className:"p-2 hover:bg-gray-50 cursor-pointer border-b last:border-b-0",onClick:()=>ut(ee),children:[t.jsx("div",{className:"font-medium text-xs",children:ee.full_name||`${ee.first_name||""} ${ee.last_name||""}`.trim()}),t.jsxs("div",{className:"text-xs text-gray-500",children:[ee.patient_id,"  ",ee.phone||"No phone","  ",ee.age,"Y/",ee.gender]})]},ee.id||`patient-${Be}`))})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"patientName",className:"text-xs",children:"Name"}),t.jsx(Z,{id:"patientName",value:v,onChange:ee=>{j(ee.target.value),i({...a,name:ee.target.value})},placeholder:"Patient Name",className:"h-8 text-sm"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"patientAge",className:"text-xs",children:"Age"}),t.jsx(Z,{id:"patientAge",value:S,onChange:ee=>w(ee.target.value),placeholder:"Age",className:"h-8 text-sm"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"patientPhone",className:"text-xs",children:"Phone"}),t.jsx(Z,{id:"patientPhone",value:x,onChange:ee=>{b(ee.target.value),i({...a,phone:ee.target.value})},placeholder:"Phone",className:"h-8 text-sm"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"patientGender",className:"text-xs",children:"Gender"}),t.jsxs(_e,{value:N,onValueChange:P,children:[t.jsx(Pe,{className:"h-8 text-sm",children:t.jsx(Ae,{placeholder:"Gender"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"male",children:"Male"}),t.jsx($,{value:"female",children:"Female"}),t.jsx($,{value:"other",children:"Other"})]})]})]})]}),F.length>0&&t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-1",children:[t.jsxs("h3",{className:"text-xs font-semibold mb-1",children:["Pending Bills (",F.length,")"]}),t.jsx("div",{className:"grid grid-cols-4 gap-1 max-h-16 overflow-y-auto",children:F.map((ee,Be)=>{var Ze;return t.jsxs("div",{className:"relative bg-white border rounded p-1 text-xs hover:bg-gray-50 h-8 flex flex-col justify-center",children:[t.jsxs("div",{className:"cursor-pointer text-center",onClick:()=>er(ee),children:[t.jsx("div",{className:"font-medium text-xs leading-tight",children:((Ze=String(ee.id).split("_")[1])==null?void 0:Ze.slice(-3))||String(ee.id).slice(-3)}),t.jsx("div",{className:"text-gray-500 text-xs truncate leading-tight",children:ee.patientName.slice(0,4)})]}),t.jsx(O,{size:"icon",variant:"ghost",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 text-red-500 hover:text-red-700",onClick:()=>Nn(ee.id),children:t.jsx(Fd,{size:6})})]},ee.id||`saved-bill-${Be}`)})})]}),t.jsx("div",{children:t.jsx(Z,{type:"text",placeholder:"Search medicine, barcode, batch...",value:e,onChange:ee=>r(ee.target.value),className:"h-7 text-xs"})}),t.jsx("div",{className:"flex-1 overflow-y-auto border rounded",children:h?t.jsx("div",{className:"text-center py-2 text-xs",children:"Loading..."}):t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-100 sticky top-0 text-left",children:[t.jsx("th",{className:"p-1 font-medium",children:"Medicine"}),t.jsx("th",{className:"p-1 font-medium",children:"Batch"}),t.jsx("th",{className:"p-1 font-medium",children:"Strength"}),t.jsx("th",{className:"p-1 font-medium",children:"Stock"}),t.jsx("th",{className:"p-1 font-medium",children:"Price"})]})}),t.jsx("tbody",{children:an.length>0?an.map((ee,Be)=>t.jsxs("tr",{className:`border-b hover:bg-gray-50 cursor-pointer ${de(ee.medicine_id)<=0?"opacity-50 cursor-not-allowed":""}`,onClick:()=>de(ee.medicine_id)>0&&br(ee),children:[t.jsx("td",{className:"p-1",children:ee.name}),t.jsx("td",{className:"p-1",children:ee.batch}),t.jsx("td",{className:"p-1",children:ee.strength}),t.jsx("td",{className:"p-1",children:(()=>{const Ze=de(ee.medicine_id);return t.jsx(te,{variant:Ze===0?"secondary":Ze<10?"destructive":"default",className:"text-xs",children:Ze})})()}),t.jsxs("td",{className:"p-1",children:["NPR ",ee.price.toFixed(2)]})]},ee.id||`product-${Be}`)):t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No products found"})})})]})})]}),t.jsxs("div",{className:"lg:w-1/3 bg-white rounded-md shadow p-2 flex flex-col h-full",children:[t.jsx("h2",{className:"text-sm font-semibold mb-2",children:"Cart"}),t.jsx("div",{className:"flex-1 max-h-[200px] overflow-y-auto",children:n.length>0?n.map((ee,Be)=>t.jsxs("div",{className:"flex justify-between items-center py-1 border-b text-xs",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium",children:ee.name}),t.jsxs("p",{className:"text-gray-500 text-xs",children:[ee.batch," | NPR ",ee.price.toFixed(2)," x ",ee.quantity]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Z,{type:"number",value:ee.quantity,onChange:Ze=>{const xt=Ze.target.value;if(xt===""){s(Mt=>Mt.map(xn=>xn.cart_key===ee.cart_key?{...xn,quantity:""}:xn));return}const kt=parseInt(xt);!isNaN(kt)&&kt>0&&s(Mt=>Mt.map(xn=>xn.cart_key===ee.cart_key?{...xn,quantity:kt}:xn))},onBlur:Ze=>{const xt=Ze.target.value;if(xt===""||xt==="0"){Nr(ee.cart_key);return}const kt=parseInt(xt)||1;Pa(ee.cart_key,kt)},className:"w-12 h-5 text-xs text-center",min:"1"}),t.jsx(O,{size:"icon",variant:"destructive",className:"h-5 w-5",onClick:()=>Nr(ee.cart_key),children:t.jsx(ss,{size:10})})]})]},ee.cart_key||`cart-item-${Be}`)):t.jsx("p",{className:"text-center text-gray-500 text-xs py-4",children:"Cart is empty"})}),n.length>0&&t.jsxs("div",{className:"bg-blue-50 p-2 rounded text-xs space-y-1",children:[t.jsxs("div",{className:"flex justify-between font-semibold",children:[t.jsx("span",{children:"Cart Total:"}),t.jsxs("span",{children:["NPR ",zr.toFixed(2)]})]}),_s&&t.jsxs("div",{className:"flex justify-between text-orange-700",children:[t.jsxs("span",{children:["Tax (",le.tax_rate,"%):"]}),t.jsxs("span",{children:["NPR ",Dn.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between font-semibold border-t pt-1",children:[t.jsx("span",{children:"Subtotal:"}),t.jsxs("span",{children:["NPR ",Dt.toFixed(2)]})]}),Ht>0&&t.jsxs("div",{className:"flex justify-between text-red-700",children:[t.jsx("span",{children:"Less: Discount"}),t.jsxs("span",{children:["-NPR ",Ht.toFixed(2)]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-1",children:" Discount"}),t.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[t.jsx("div",{children:t.jsxs(_e,{value:pe,onValueChange:oe,children:[t.jsx(Pe,{className:"h-8 text-sm bg-orange-50",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"percent",children:"Percentage (%)"}),t.jsx($,{value:"amount",children:"Amount (NPR)"})]})]})}),t.jsx("div",{children:t.jsx(Z,{type:"number",value:pe==="percent"?a.discount||"":be||"",onChange:ee=>{const Be=ee.target.value===""?0:parseFloat(ee.target.value)||0;pe==="percent"?i({...a,discount:Be}):Q(Be)},placeholder:pe==="percent"?"Enter %":"Enter NPR",className:"h-8 text-sm bg-orange-50"})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-1",children:" Payment Mode"}),t.jsxs(_e,{value:o,onValueChange:l,children:[t.jsx(Pe,{className:"h-8 text-sm",children:t.jsx(Ae,{placeholder:"Payment Method"})}),t.jsx(Ce,{children:le.payment_methods.map(ee=>t.jsx($,{value:ee,children:ee.charAt(0).toUpperCase()+ee.slice(1)},ee))})]})]}),o==="online"&&t.jsx("div",{children:t.jsx(Z,{type:"text",placeholder:"Transaction ID",className:"h-8 text-sm"})})]})]}),t.jsx($a,{className:"my-1"}),t.jsx("div",{className:"space-y-1",children:t.jsx("div",{className:"bg-gray-800 text-white p-1 rounded text-sm",children:t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Total to Pay:"}),t.jsxs("span",{className:"font-bold",children:["NPR ",Bt.toFixed(2)]})]})})}),t.jsx($a,{className:"my-1"}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-1",children:" Payment"}),t.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[t.jsx("div",{children:t.jsx(Z,{type:"number",value:c||"",onChange:ee=>{const Be=ee.target.value===""?"":parseFloat(ee.target.value)||0;d(Be)},placeholder:`NPR ${Bt.toFixed(2)}`,className:"h-8 text-sm font-medium bg-green-50"})}),t.jsx("div",{children:c!==""&&c>0?t.jsx("div",{className:`p-1 rounded text-sm ${parseFloat(c)>Bt?"bg-green-100 text-green-800":parseFloat(c)<Bt?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:parseFloat(c)>Bt?"Return:":parseFloat(c)<Bt?"Due:":"Exact:"}),t.jsx("span",{className:"font-bold",children:parseFloat(c)===Bt?"NPR 0.00":`NPR ${Math.abs(Bt-parseFloat(c)).toFixed(2)}`})]})}):t.jsx("div",{className:"bg-gray-100 p-1 rounded text-sm text-gray-600",children:t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Enter payment"}),t.jsx("span",{children:"NPR 0.00"})]})})})]})]}),t.jsx($a,{className:"my-1"}),t.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[t.jsx(O,{className:"h-6 text-sm bg-gray-500 hover:bg-gray-600 text-white",onClick:qt,children:" Save"}),t.jsxs(O,{className:`col-span-2 h-6 text-sm ${parseFloat(c)<Bt&&c!==""?"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700":"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700"}`,onClick:wn,children:[parseFloat(c)<Bt&&c!==""?" Credit Sale":" Complete Sale"," - NPR ",Bt.toFixed(2)]})]})]})]}),t.jsxs("div",{className:"w-full bg-white rounded-md shadow p-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Completed Bills"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),t.jsx(Z,{placeholder:"Search bills...",value:ie,onChange:ee=>fe(ee.target.value),className:"pl-8 w-64"})]}),t.jsxs(_e,{value:xe,onValueChange:ge,children:[t.jsx(Pe,{className:"w-32",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Bills"}),t.jsx($,{value:"completed",children:"Completed"}),t.jsx($,{value:"credit",children:"Credit"})]})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-100",children:[t.jsx("th",{className:"p-2 text-left",children:"Bill ID"}),t.jsx("th",{className:"p-2 text-left",children:"Patient"}),t.jsx("th",{className:"p-2 text-left",children:"Phone"}),t.jsx("th",{className:"p-2 text-left",children:"Total"}),t.jsx("th",{className:"p-2 text-left",children:"Credit"}),t.jsx("th",{className:"p-2 text-left",children:"Status"}),t.jsx("th",{className:"p-2 text-left",children:"Date"}),t.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),t.jsx("tbody",{children:Kt.map((ee,Be)=>t.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[t.jsx("td",{className:"p-2 font-medium",children:ee.id}),t.jsx("td",{className:"p-2",children:ee.patientName}),t.jsx("td",{className:"p-2",children:ee.patientPhone}),t.jsxs("td",{className:"p-2",children:["NPR ",ee.total.toFixed(2)]}),t.jsx("td",{className:"p-2",children:ee.creditAmount>0?t.jsxs(te,{variant:"destructive",children:["NPR ",ee.creditAmount.toFixed(2)]}):t.jsx(te,{variant:"default",children:"Paid"})}),t.jsx("td",{className:"p-2",children:t.jsx(te,{variant:ee.status==="completed"?"default":"secondary",children:ee.status})}),t.jsx("td",{className:"p-2",children:ee.completedAt}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx(O,{size:"sm",variant:"outline",onClick:()=>ve(ee),children:t.jsx(yt,{size:14})}),t.jsx(O,{size:"sm",variant:"outline",onClick:async()=>{try{const Ze=localStorage.getItem("access_token")||localStorage.getItem("token"),xt=await fetch(`http://localhost:8000/api/pos/sales/${ee.id}/receipt/`,{headers:{Authorization:`Bearer ${Ze}`}});if(xt.ok){const kt=await xt.json();He(kt),lt(!0)}else Y({title:"Receipt Error",description:"Failed to generate receipt",variant:"destructive"})}catch(Ze){console.error("Error generating receipt:",Ze),Y({title:"Receipt Error",description:"Failed to generate receipt",variant:"destructive"})}},children:t.jsx(Pm,{size:14})}),t.jsx(O,{size:"sm",variant:"destructive",onClick:()=>qe(ee.id),children:t.jsx(ss,{size:14})})]})})]},ee.id||`bill-${Be}`))})]})}),t.jsxs("div",{className:"flex justify-between items-center mt-4",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(Te-1)*Ue+1," to ",Math.min(Te*Ue,Me.length)," of ",Me.length," bills"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(O,{variant:"outline",size:"sm",disabled:Te===1,onClick:()=>Se(ee=>ee-1),children:"Previous"}),t.jsxs("span",{className:"px-3 py-1 text-sm",children:[Te," of ",Ke]}),t.jsx(O,{variant:"outline",size:"sm",disabled:Te===Ke,onClick:()=>Se(ee=>ee+1),children:"Next"})]})]})]})]}),t.jsx(rt,{open:re,onOpenChange:he,children:t.jsxs(nt,{className:"max-w-2xl",children:[t.jsx(st,{children:t.jsxs(at,{children:["Bill Details - ",q==null?void 0:q.id]})}),q&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Patient Information"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Name:"})," ",q.patientName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"ID:"})," ",q.patientId]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Age:"})," ",q.patientAge]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",q.patientPhone]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Gender:"})," ",q.patientGender]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Bill Summary"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Subtotal:"})," NPR ",q.subtotal.toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Discount:"})," NPR ",q.discountAmount.toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Tax:"})," NPR ",q.taxAmount.toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Total:"})," NPR ",q.total.toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Paid:"})," NPR ",q.paidAmount.toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Credit:"})," NPR ",q.creditAmount.toFixed(2)]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Items"}),t.jsxs("table",{className:"w-full text-sm border",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-100",children:[t.jsx("th",{className:"p-2 text-left",children:"Medicine"}),t.jsx("th",{className:"p-2 text-left",children:"Batch"}),t.jsx("th",{className:"p-2 text-left",children:"Qty"}),t.jsx("th",{className:"p-2 text-left",children:"Price"}),t.jsx("th",{className:"p-2 text-left",children:"Total"})]})}),t.jsx("tbody",{children:q.items.map((ee,Be)=>t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"p-2",children:ee.name}),t.jsx("td",{className:"p-2",children:ee.batch}),t.jsx("td",{className:"p-2",children:ee.quantity}),t.jsxs("td",{className:"p-2",children:["NPR ",ee.price.toFixed(2)]}),t.jsxs("td",{className:"p-2",children:["NPR ",(ee.quantity*ee.price).toFixed(2)]})]},ee.id||`item-${Be}`))})]})]})]})]})}),t.jsx(rt,{open:W,onOpenChange:se,children:t.jsxs(nt,{className:"max-w-md",children:[t.jsx(st,{children:t.jsxs(at,{className:"flex items-center",children:[t.jsx(yt,{className:"mr-2",size:18}),"Sale Preview"]})}),t.jsxs("div",{className:"space-y-4",children:[(v||x)&&t.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Patient Information"}),v&&t.jsxs("p",{className:"text-sm",children:["Name: ",v]}),x&&t.jsxs("p",{className:"text-sm",children:["Phone: ",x]}),S&&t.jsxs("p",{className:"text-sm",children:["Age: ",S]}),N&&t.jsxs("p",{className:"text-sm",children:["Gender: ",N]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium mb-2",children:["Items (",n.length,")"]}),t.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:n.map((ee,Be)=>t.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded text-sm",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium",children:ee.name}),t.jsxs("p",{className:"text-muted-foreground",children:[ee.batch,"  NPR ",ee.price,"  ",ee.quantity]})]}),t.jsxs("p",{className:"font-medium",children:["NPR ",(ee.price*ee.quantity).toFixed(2)]})]},ee.cart_key||`preview-item-${Be}`))})]}),t.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Subtotal:"}),t.jsxs("span",{children:["NPR ",zr.toFixed(2)]})]}),_s&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{children:["Tax (",le.tax_rate,"%):"]}),t.jsxs("span",{children:["NPR ",Dn.toFixed(2)]})]}),Ht>0&&t.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[t.jsx("span",{children:"Discount:"}),t.jsxs("span",{children:["-NPR ",Ht.toFixed(2)]})]}),t.jsx($a,{}),t.jsxs("div",{className:"flex justify-between font-bold",children:[t.jsx("span",{children:"Total:"}),t.jsxs("span",{children:["NPR ",Bt.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[t.jsx("span",{children:"Payment Method:"}),t.jsx(te,{variant:"outline",children:o.charAt(0).toUpperCase()+o.slice(1)})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Paid Amount:"}),t.jsxs("span",{children:["NPR ",(parseFloat(c)||0).toFixed(2)]})]}),sr>0&&t.jsxs("div",{className:"flex justify-between text-sm text-orange-600",children:[t.jsx("span",{children:"Credit Amount:"}),t.jsxs("span",{children:["NPR ",sr.toFixed(2)]})]})]})}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx(O,{variant:"outline",onClick:()=>se(!1),className:"flex-1",children:"Cancel"}),t.jsx(O,{onClick:()=>{se(!1),X()},className:`flex-1 ${parseFloat(c)<Bt&&c!==""?"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700":"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700"}`,children:"Confirm Sale"})]})]})]})}),t.jsx(Bwe,{isOpen:tt,onClose:()=>lt(!1),receiptData:me})]})}var fj="rovingFocusGroup.onEntryFocus",Vwe={bubbles:!1,cancelable:!0},Bh="RovingFocusGroup",[PN,yL,qwe]=Aw(Bh),[Wwe,jL]=Gn(Bh,[qwe]),[Hwe,Kwe]=Wwe(Bh),bL=g.forwardRef((e,r)=>t.jsx(PN.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(PN.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Gwe,{...e,ref:r})})}));bL.displayName=Bh;var Gwe=g.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,h=g.useRef(null),p=Rt(r,h),y=Vg(i),[f,v]=xa({prop:o,defaultProp:l??null,onChange:c,caller:Bh}),[j,x]=g.useState(!1),b=Xr(d),S=yL(n),w=g.useRef(!1),[N,P]=g.useState(0);return g.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(fj,b),()=>_.removeEventListener(fj,b)},[b]),t.jsx(Hwe,{scope:n,orientation:s,dir:y,loop:a,currentTabStopId:f,onItemFocus:g.useCallback(_=>v(_),[v]),onItemShiftTab:g.useCallback(()=>x(!0),[]),onFocusableItemAdd:g.useCallback(()=>P(_=>_+1),[]),onFocusableItemRemove:g.useCallback(()=>P(_=>_-1),[]),children:t.jsx(Je.div,{tabIndex:j||N===0?-1:0,"data-orientation":s,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:Ye(e.onMouseDown,()=>{w.current=!0}),onFocus:Ye(e.onFocus,_=>{const C=!w.current;if(_.target===_.currentTarget&&C&&!j){const A=new CustomEvent(fj,Vwe);if(_.currentTarget.dispatchEvent(A),!A.defaultPrevented){const M=S().filter(D=>D.focusable),R=M.find(D=>D.active),E=M.find(D=>D.id===f),G=[R,E,...M].filter(Boolean).map(D=>D.ref.current);SL(G,u)}}w.current=!1}),onBlur:Ye(e.onBlur,()=>x(!1))})})}),NL="RovingFocusGroupItem",wL=g.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=ua(),d=i||c,u=Kwe(NL,n),m=u.currentTabStopId===d,h=yL(n),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:f}=u;return g.useEffect(()=>{if(s)return p(),()=>y()},[s,p,y]),t.jsx(PN.ItemSlot,{scope:n,id:d,focusable:s,active:a,children:t.jsx(Je.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...l,ref:r,onMouseDown:Ye(e.onMouseDown,v=>{s?u.onItemFocus(d):v.preventDefault()}),onFocus:Ye(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Ye(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const j=Qwe(v,u.orientation,u.dir);if(j!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(S=>S.focusable).map(S=>S.ref.current);if(j==="last")b.reverse();else if(j==="prev"||j==="next"){j==="prev"&&b.reverse();const S=b.indexOf(v.currentTarget);b=u.loop?Zwe(b,S+1):b.slice(S+1)}setTimeout(()=>SL(b))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:f!=null}):o})})});wL.displayName=NL;var Xwe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ywe(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Qwe(e,r,n){const s=Ywe(e.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Xwe[s]}function SL(e,r=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:r}),document.activeElement!==n))return}function Zwe(e,r){return e.map((n,s)=>e[(r+s)%e.length])}var Jwe=bL,e1e=wL,Bv="Tabs",[t1e,gPe]=Gn(Bv,[jL]),PL=jL(),[r1e,A2]=t1e(Bv),CL=g.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Vg(l),[m,h]=xa({prop:s,onChange:a,defaultProp:i??"",caller:Bv});return t.jsx(r1e,{scope:n,baseId:ua(),value:m,onValueChange:h,orientation:o,dir:u,activationMode:c,children:t.jsx(Je.div,{dir:u,"data-orientation":o,...d,ref:r})})});CL.displayName=Bv;var _L="TabsList",AL=g.forwardRef((e,r)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=A2(_L,n),o=PL(n);return t.jsx(Jwe,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:t.jsx(Je.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:r})})});AL.displayName=_L;var TL="TabsTrigger",kL=g.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,o=A2(TL,n),l=PL(n),c=RL(o.baseId,s),d=DL(o.baseId,s),u=s===o.value;return t.jsx(e1e,{asChild:!0,...l,focusable:!a,active:u,children:t.jsx(Je.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:r,onMouseDown:Ye(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(s):m.preventDefault()}),onKeyDown:Ye(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(s)}),onFocus:Ye(e.onFocus,()=>{const m=o.activationMode!=="manual";!u&&!a&&m&&o.onValueChange(s)})})})});kL.displayName=TL;var EL="TabsContent",OL=g.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=e,l=A2(EL,n),c=RL(l.baseId,s),d=DL(l.baseId,s),u=s===l.value,m=g.useRef(u);return g.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),t.jsx(Xn,{present:a||u,children:({present:h})=>t.jsx(Je.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});OL.displayName=EL;function RL(e,r){return`${e}-trigger-${r}`}function DL(e,r){return`${e}-content-${r}`}var n1e=CL,ML=AL,IL=kL,$L=OL;const Or=n1e,Ar=g.forwardRef(({className:e,...r},n)=>t.jsx(ML,{ref:n,className:ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));Ar.displayName=ML.displayName;const Oe=g.forwardRef(({className:e,...r},n)=>t.jsx(IL,{ref:n,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...r}));Oe.displayName=IL.displayName;const $e=g.forwardRef(({className:e,...r},n)=>t.jsx($L,{ref:n,className:ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));$e.displayName=$L.displayName;const Ct=g.forwardRef(({className:e,...r},n)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:n,className:ke("w-full caption-bottom text-sm",e),...r})}));Ct.displayName="Table";const _t=g.forwardRef(({className:e,...r},n)=>t.jsx("thead",{ref:n,className:ke("[&_tr]:border-b",e),...r}));_t.displayName="TableHeader";const At=g.forwardRef(({className:e,...r},n)=>t.jsx("tbody",{ref:n,className:ke("[&_tr:last-child]:border-0",e),...r}));At.displayName="TableBody";const s1e=g.forwardRef(({className:e,...r},n)=>t.jsx("tfoot",{ref:n,className:ke("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));s1e.displayName="TableFooter";const Ie=g.forwardRef(({className:e,...r},n)=>t.jsx("tr",{ref:n,className:ke("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...r}));Ie.displayName="TableRow";const H=g.forwardRef(({className:e,...r},n)=>t.jsx("th",{ref:n,className:ke("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));H.displayName="TableHead";const V=g.forwardRef(({className:e,...r},n)=>t.jsx("td",{ref:n,className:ke("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));V.displayName="TableCell";const a1e=g.forwardRef(({className:e,...r},n)=>t.jsx("caption",{ref:n,className:ke("mt-4 text-sm text-muted-foreground",e),...r}));a1e.displayName="TableCaption";const pj=[{date:"2024-01-15",sales:15420,transactions:87,customers:62},{date:"2024-01-14",sales:18350,transactions:94,customers:71},{date:"2024-01-13",sales:12890,transactions:76,customers:58},{date:"2024-01-12",sales:21450,transactions:108,customers:85},{date:"2024-01-11",sales:16780,transactions:89,customers:67},{date:"2024-01-10",sales:19220,transactions:102,customers:78},{date:"2024-01-09",sales:14560,transactions:81,customers:61}],i1e=[{name:"Paracetamol 500mg",sold:156,revenue:3990,profit:1596},{name:"Ibuprofen 400mg",sold:89,revenue:4005,profit:1602},{name:"Cough Syrup",sold:67,revenue:8040,profit:2412},{name:"Vitamin C 1000mg",sold:45,revenue:8100,profit:2430},{name:"Hand Sanitizer",sold:78,revenue:6630,profit:1989}],xj=[{name:"Cash",value:68,amount:45280},{name:"Card",value:25,amount:16650},{name:"Digital Wallet",value:7,amount:4660}],o1e=[{hour:"9 AM",sales:1250},{hour:"10 AM",sales:2890},{hour:"11 AM",sales:3650},{hour:"12 PM",sales:4200},{hour:"1 PM",sales:2980},{hour:"2 PM",sales:3450},{hour:"3 PM",sales:4100},{hour:"4 PM",sales:3780},{hour:"5 PM",sales:2650},{hour:"6 PM",sales:1890}],l1e=[{name:"Ram Sharma",transactions:156,sales:45890,avgTransaction:294},{name:"Sita Thapa",transactions:134,sales:38920,avgTransaction:290},{name:"Hari Poudel",transactions:98,sales:28450,avgTransaction:290},{name:"Gita Rai",transactions:87,sales:24680,avgTransaction:284}],Rf=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--accent))","hsl(var(--muted))"];function c1e(){const[e,r]=g.useState("7days");g.useState("today");const n=pj.reduce((i,o)=>i+o.sales,0),s=pj.reduce((i,o)=>i+o.transactions,0),a=n/s;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center",children:[t.jsx(ir,{className:"mr-2 text-primary"}),"POS Reports & Analytics"]}),t.jsx("p",{className:"text-muted-foreground",children:"Comprehensive sales analytics and performance metrics"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(_e,{value:e,onValueChange:r,children:[t.jsx(Pe,{className:"w-40",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"today",children:"Today"}),t.jsx($,{value:"7days",children:"Last 7 Days"}),t.jsx($,{value:"30days",children:"Last 30 Days"}),t.jsx($,{value:"custom",children:"Custom Range"})]})]}),t.jsxs(O,{variant:"outline",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sales"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["NPR ",n.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(ft,{size:12,className:"mr-1"}),"+12.5% from last week"]})]}),t.jsx(ht,{className:"h-8 w-8 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Transactions"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:s}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(ft,{size:12,className:"mr-1"}),"+8.3% from last week"]})]}),t.jsx(Fn,{className:"h-8 w-8 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Transaction"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["NPR ",a.toFixed(0)]}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(ft,{size:12,className:"mr-1"}),"+3.8% from last week"]})]}),t.jsx($4,{className:"h-8 w-8 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Unique Customers"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"485"}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(ft,{size:12,className:"mr-1"}),"+15.2% from last week"]})]}),t.jsx(it,{className:"h-8 w-8 text-primary"})]})})})]}),t.jsxs(Or,{defaultValue:"overview",className:"space-y-4",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-5",children:[t.jsx(Oe,{value:"overview",children:"Overview"}),t.jsx(Oe,{value:"products",children:"Products"}),t.jsx(Oe,{value:"payments",children:"Payments"}),t.jsx(Oe,{value:"staff",children:"Staff"}),t.jsx(Oe,{value:"customers",children:"Customers"})]}),t.jsx($e,{value:"overview",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Daily Sales Trend"})}),t.jsx(k,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs($l,{data:pj,children:[t.jsx(Yr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),t.jsx(Pr,{dataKey:"date",stroke:"hsl(var(--muted-foreground))"}),t.jsx(Cr,{stroke:"hsl(var(--muted-foreground))"}),t.jsx(Br,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",color:"hsl(var(--foreground))"}}),t.jsx(Vn,{type:"monotone",dataKey:"sales",stroke:"hsl(var(--primary))",strokeWidth:2})]})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Hourly Sales Pattern"})}),t.jsx(k,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(fa,{data:o1e,children:[t.jsx(Yr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),t.jsx(Pr,{dataKey:"hour",stroke:"hsl(var(--muted-foreground))"}),t.jsx(Cr,{stroke:"hsl(var(--muted-foreground))"}),t.jsx(Br,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",color:"hsl(var(--foreground))"}}),t.jsx(vr,{dataKey:"sales",fill:"hsl(var(--primary))"})]})})})]})]})}),t.jsx($e,{value:"products",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"text-card-foreground flex items-center",children:[t.jsx(vt,{className:"mr-2"}),"Top Selling Products"]})}),t.jsx(k,{children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Product Name"}),t.jsx(H,{children:"Units Sold"}),t.jsx(H,{children:"Revenue"}),t.jsx(H,{children:"Profit"}),t.jsx(H,{children:"Performance"})]})}),t.jsx(At,{children:i1e.map((i,o)=>t.jsxs(Ie,{children:[t.jsx(V,{className:"font-medium",children:i.name}),t.jsx(V,{children:i.sold}),t.jsxs(V,{children:["NPR ",i.revenue.toLocaleString()]}),t.jsxs(V,{children:["NPR ",i.profit.toLocaleString()]}),t.jsx(V,{children:t.jsx(te,{variant:o<2?"default":"secondary",children:o<2?"Excellent":"Good"})})]},i.name))})]})})]})}),t.jsx($e,{value:"payments",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"text-card-foreground flex items-center",children:[t.jsx(Wn,{className:"mr-2"}),"Payment Method Distribution"]})}),t.jsx(k,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(ou,{children:[t.jsx(ls,{data:xj,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,value:o})=>`${i}: ${o}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:xj.map((i,o)=>t.jsx(Ii,{fill:Rf[o%Rf.length]},`cell-${o}`))}),t.jsx(Br,{})]})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Payment Method Details"})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:xj.map((i,o)=>t.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Rf[o%Rf.length]}}),t.jsx("span",{className:"font-medium text-foreground",children:i.name})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-bold text-foreground",children:["NPR ",i.amount.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.value,"% of total"]})]})]},i.name))})})]})]})}),t.jsx($e,{value:"staff",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"text-card-foreground flex items-center",children:[t.jsx(it,{className:"mr-2"}),"Cashier Performance"]})}),t.jsx(k,{children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Cashier Name"}),t.jsx(H,{children:"Transactions"}),t.jsx(H,{children:"Total Sales"}),t.jsx(H,{children:"Avg Transaction"}),t.jsx(H,{children:"Performance"})]})}),t.jsx(At,{children:l1e.map((i,o)=>t.jsxs(Ie,{children:[t.jsx(V,{className:"font-medium",children:i.name}),t.jsx(V,{children:i.transactions}),t.jsxs(V,{children:["NPR ",i.sales.toLocaleString()]}),t.jsxs(V,{children:["NPR ",i.avgTransaction]}),t.jsx(V,{children:t.jsx(te,{variant:o===0?"default":o<2?"secondary":"outline",children:o===0?"Top Performer":o<2?"Good":"Average"})})]},i.name))})]})})]})}),t.jsx($e,{value:"customers",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Customer Analytics"})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center p-3 border border-border rounded",children:[t.jsx("span",{className:"text-foreground",children:"New Customers (This Week)"}),t.jsx("span",{className:"font-bold text-primary",children:"47"})]}),t.jsxs("div",{className:"flex justify-between items-center p-3 border border-border rounded",children:[t.jsx("span",{className:"text-foreground",children:"Returning Customers"}),t.jsx("span",{className:"font-bold text-primary",children:"438"})]}),t.jsxs("div",{className:"flex justify-between items-center p-3 border border-border rounded",children:[t.jsx("span",{className:"text-foreground",children:"Average Purchase Value"}),t.jsx("span",{className:"font-bold text-primary",children:"NPR 294"})]}),t.jsxs("div",{className:"flex justify-between items-center p-3 border border-border rounded",children:[t.jsx("span",{className:"text-foreground",children:"Customer Retention Rate"}),t.jsx("span",{className:"font-bold text-success",children:"78.5%"})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Purchase Frequency"})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-foreground",children:"Daily Visitors"}),t.jsx("span",{className:"font-bold text-primary",children:"85-120"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-foreground",children:"Weekly Regulars"}),t.jsx("span",{className:"font-bold text-primary",children:"45-60"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-foreground",children:"Monthly Customers"}),t.jsx("span",{className:"font-bold text-primary",children:"25-35"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-foreground",children:"One-time Buyers"}),t.jsx("span",{className:"font-bold text-muted-foreground",children:"15-25"})]})]})})]})]})})]})]})}var Uv="Switch",[d1e,vPe]=Gn(Uv),[u1e,m1e]=d1e(Uv),LL=g.forwardRef((e,r)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[h,p]=g.useState(null),y=Rt(r,b=>p(b)),f=g.useRef(!1),v=h?u||!!h.closest("form"):!0,[j,x]=xa({prop:a,defaultProp:i??!1,onChange:d,caller:Uv});return t.jsxs(u1e,{scope:n,checked:j,disabled:l,children:[t.jsx(Je.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":UL(j),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:y,onClick:Ye(e.onClick,b=>{x(S=>!S),v&&(f.current=b.isPropagationStopped(),f.current||b.stopPropagation())})}),v&&t.jsx(BL,{control:h,bubbles:!f.current,name:s,value:c,checked:j,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});LL.displayName=Uv;var FL="SwitchThumb",zL=g.forwardRef((e,r)=>{const{__scopeSwitch:n,...s}=e,a=m1e(FL,n);return t.jsx(Je.span,{"data-state":UL(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:r})});zL.displayName=FL;var h1e="SwitchBubbleInput",BL=g.forwardRef(({__scopeSwitch:e,control:r,checked:n,bubbles:s=!0,...a},i)=>{const o=g.useRef(null),l=Rt(o,i),c=f1(n),d=Ww(r);return g.useEffect(()=>{const u=o.current;if(!u)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&p){const y=new Event("click",{bubbles:s});p.call(u,n),u.dispatchEvent(y)}},[c,n,s]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});BL.displayName=h1e;function UL(e){return e?"checked":"unchecked"}var VL=LL,f1e=zL;const ot=g.forwardRef(({className:e,...r},n)=>t.jsx(VL,{className:ke("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...r,ref:n,children:t.jsx(f1e,{className:ke("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ot.displayName=VL.displayName;const Vt=g.forwardRef(({className:e,...r},n)=>t.jsx("textarea",{className:ke("flex min-h-[60px] w-full border border-gray-300 bg-transparent px-2 py-1 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Vt.displayName="Textarea";function p1e(){const[e,r]=g.useState(!1),[n,s]=g.useState(!1),[a,i]=g.useState(null),[o,l]=g.useState({businessName:"",address:"",phone:"",email:"",footerText:"",logoUrl:null}),[c,d]=g.useState({vatEnabled:!1,vatRate:13,taxInclusive:!1}),[u,m]=g.useState({onlinePayments:["cash","online"]}),{toast:h}=Tt();g.useEffect(()=>{p()},[]);const p=async()=>{try{r(!0);const x=(await Xe.get("/pos/settings/")).data;l({businessName:x.business_name||"",address:x.business_address||"",phone:x.business_phone||"",email:x.business_email||"",footerText:x.receipt_footer||"",logoUrl:x.receipt_logo||null}),d({vatEnabled:x.tax_rate>0,vatRate:x.tax_rate||13,taxInclusive:x.tax_inclusive||!1}),m({onlinePayments:x.payment_methods||["cash","online"]})}catch(j){console.error("Error loading settings:",j),h({title:"Error",description:"Failed to load POS settings",variant:"destructive"})}finally{r(!1)}},y=async()=>{try{s(!0);const j=new FormData;j.append("business_name",o.businessName),j.append("business_address",o.address),j.append("business_phone",o.phone),j.append("business_email",o.email),j.append("receipt_footer",o.footerText),j.append("tax_rate",c.vatEnabled?c.vatRate.toString():"0"),j.append("tax_inclusive",c.taxInclusive?"true":"false"),j.append("payment_methods",JSON.stringify(u.onlinePayments)),a&&j.append("receipt_logo",a),await Xe.post("/pos/settings/",j,{headers:{"Content-Type":"multipart/form-data"}}),h({title:"Settings Saved",description:"POS settings have been updated successfully"}),await p(),i(null)}catch(j){console.error("Error saving settings:",j),h({title:"Error",description:"Failed to save POS settings",variant:"destructive"})}finally{s(!1)}},f=()=>{l({businessName:"",address:"",phone:"",email:"",footerText:"",logoUrl:null}),d({vatEnabled:!1,vatRate:13,taxInclusive:!1}),m({onlinePayments:["cash","online"]}),i(null),h({title:"Settings Reset",description:"All settings have been reset to default values"})},v=j=>{var b;const x=(b=j.target.files)==null?void 0:b[0];if(x){if(x.size>2*1024*1024){h({title:"File too large",description:"Please select a file smaller than 2MB",variant:"destructive"});return}if(!x.type.startsWith("image/")){h({title:"Invalid file type",description:"Please select an image file (PNG, JPG, etc.)",variant:"destructive"});return}i(x)}};return e?t.jsxs("div",{className:"flex items-center justify-center h-64",children:[t.jsx(Zt,{className:"h-8 w-8 animate-spin"}),t.jsx("span",{className:"ml-2",children:"Loading settings..."})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center",children:[t.jsx(cn,{className:"mr-2 text-primary"}),"POS Settings"]}),t.jsx("p",{className:"text-muted-foreground",children:"Configure point of sale system preferences"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(O,{variant:"outline",onClick:f,disabled:n,children:[t.jsx(Cm,{size:16,className:"mr-2"}),"Reset to Default"]}),t.jsxs(O,{onClick:y,disabled:n,children:[n?t.jsx(Zt,{size:16,className:"mr-2 animate-spin"}):t.jsx(Ni,{size:16,className:"mr-2"}),n?"Saving...":"Save Changes"]})]})]}),t.jsxs(Or,{defaultValue:"receipt",className:"space-y-4",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-3",children:[t.jsx(Oe,{value:"receipt",children:"Receipt"}),t.jsx(Oe,{value:"tax",children:"Tax & VAT"}),t.jsx(Oe,{value:"payment",children:"Payment"})]}),t.jsx($e,{value:"receipt",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"text-card-foreground flex items-center",children:[t.jsx(Dw,{className:"mr-2"}),"Receipt Configuration"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"businessName",children:"Business Name"}),t.jsx(Z,{id:"businessName",value:o.businessName,onChange:j=>l({...o,businessName:j.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"address",children:"Address"}),t.jsx(Vt,{id:"address",value:o.address,onChange:j=>l({...o,address:j.target.value}),rows:3})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"phone",children:"Phone"}),t.jsx(Z,{id:"phone",value:o.phone,onChange:j=>l({...o,phone:j.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"email",children:"Email"}),t.jsx(Z,{id:"email",type:"email",value:o.email,onChange:j=>l({...o,email:j.target.value})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"footerText",children:"Footer Text"}),t.jsx(Vt,{id:"footerText",value:o.footerText,onChange:j=>l({...o,footerText:j.target.value}),rows:2})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Logo Upload"})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{children:"Business Logo"}),t.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[o.logoUrl&&!a?t.jsxs("div",{className:"mb-4",children:[t.jsx("img",{src:o.logoUrl,alt:"Current logo",className:"mx-auto max-h-20 object-contain mb-2",onError:j=>{console.error("Failed to load image:",o.logoUrl),j.currentTarget.style.display="none"}}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Current logo"})]}):a?t.jsxs("div",{className:"mb-4",children:[t.jsx("img",{src:URL.createObjectURL(a),alt:"New logo preview",className:"mx-auto max-h-20 object-contain mb-2"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["New logo selected: ",a.name]})]}):t.jsx(nB,{className:"mx-auto h-8 w-8 text-muted-foreground mb-2"}),t.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden",id:"logo-upload"}),t.jsxs(O,{variant:"outline",className:"mb-2",onClick:()=>{var j;return(j=document.getElementById("logo-upload"))==null?void 0:j.click()},children:[t.jsx(Sh,{size:16,className:"mr-2"}),o.logoUrl||a?"Change Logo":"Upload Logo"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Max size: 2MB, PNG/JPG format"})]})]})})]})]})}),t.jsx($e,{value:"tax",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border max-w-md",children:[t.jsx(z,{children:t.jsxs(B,{className:"text-card-foreground flex items-center",children:[t.jsx($4,{className:"mr-2"}),"Tax Configuration"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(I,{htmlFor:"vatEnabled",children:"Include Tax"}),t.jsx(ot,{id:"vatEnabled",checked:c.vatEnabled,onCheckedChange:j=>d({...c,vatEnabled:j})})]}),c.vatEnabled&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"vatRate",children:"Tax Rate (%)"}),t.jsx(Z,{id:"vatRate",type:"number",value:c.vatRate,onChange:j=>d({...c,vatRate:Number(j.target.value)}),placeholder:"Enter tax percentage",min:"0",max:"100",step:"0.01"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(I,{htmlFor:"taxInclusive",children:"Tax Inclusive Pricing"}),t.jsx(ot,{id:"taxInclusive",checked:c.taxInclusive,onCheckedChange:j=>d({...c,taxInclusive:j})})]})]})]})]})}),t.jsx($e,{value:"payment",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border max-w-lg",children:[t.jsx(z,{children:t.jsxs(B,{className:"text-card-foreground flex items-center",children:[t.jsx(Wn,{className:"mr-2"}),"Online Payment Methods"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[u.onlinePayments.map((j,x)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Z,{value:j,onChange:b=>{const S=[...u.onlinePayments];S[x]=b.target.value,m({...u,onlinePayments:S})},placeholder:"e.g., eSewa, Khalti, Bank Transfer"}),t.jsx(O,{variant:"outline",size:"sm",onClick:()=>{const b=u.onlinePayments.filter((S,w)=>w!==x);m({...u,onlinePayments:b})},children:"Remove"})]},x)),t.jsx(O,{variant:"outline",onClick:()=>{m({...u,onlinePayments:[...u.onlinePayments,""]})},children:"Add Payment Method"})]}),t.jsx("div",{className:"pt-4 border-t",children:t.jsxs(O,{onClick:y,disabled:n,children:[n?t.jsx(Zt,{size:16,className:"mr-2 animate-spin"}):t.jsx(Ni,{size:16,className:"mr-2"}),n?"Saving...":"Save Payment Methods"]})})]})]})})]})]})}function x1e(){var br,Pa,Nr,zr,_s,Dn,Dt,Ht,Bt,sr,As,ut,qt,er,Nn,wn;const[e,r]=g.useState(""),[n,s]=g.useState("all"),[a,i]=g.useState("all"),[o,l]=g.useState("all"),[c,d]=g.useState(!1),[u,m]=g.useState(!1),[h,p]=g.useState(!1),[y,f]=g.useState(null),[v,j]=g.useState(null),[x,b]=g.useState([]),[S,w]=g.useState([]),[N,P]=g.useState(!0),{toast:_}=Tt(),C=JSON.parse(localStorage.getItem("currentUser")||"{}"),A=C==null?void 0:C.branch_id,[M,R]=g.useState({name:"",contact:""}),[E,F]=g.useState([{id:1,medicineId:"",medicineName:"",quantity:"",costPrice:"",sellingPrice:"",unit:"pieces",packSize:"",batchNumber:"",manufacturingDate:"",expiryDate:""}]),[G,D]=g.useState([]),[J,q]=g.useState(!1),[U,re]=g.useState({}),[he,ie]=g.useState({}),[fe,xe]=g.useState({}),[ge,Te]=g.useState({totalAmount:0,paidAmount:0,creditAmount:0,paymentMethod:"cash",paymentDate:new Date().toISOString().split("T")[0],notes:""}),[Se,Ue]=g.useState([]),[be,Q]=g.useState(!1);g.useEffect(()=>{const X=ze();Te(ve=>({...ve,totalAmount:X,paidAmount:ve.paidAmount||X,creditAmount:Math.max(0,X-(ve.paidAmount||X))}))},[E]);const pe=async()=>{try{const X=localStorage.getItem("access_token")||localStorage.getItem("token"),ve=A?`http://localhost:8000/api/inventory/inventory-items/?branch_id=${A}`:"http://localhost:8000/api/inventory/inventory-items/",qe=await fetch(ve,{headers:{"Content-Type":"application/json",...X&&{Authorization:`Bearer ${X}`}}});if(qe.ok){const Me=await qe.json();b(Me);const Ke=[...new Set(Me.map(Kt=>{var ee,Be;return(Be=(ee=Kt.medicine)==null?void 0:ee.category)==null?void 0:Be.name}).filter(Boolean))];w(Ke)}}catch(X){console.error("Error fetching inventory:",X)}finally{P(!1)}},oe=async()=>{try{const X=localStorage.getItem("access_token")||localStorage.getItem("token"),ve=await fetch("http://localhost:8000/api/inventory/purchase-history/",{headers:{"Content-Type":"application/json",...X&&{Authorization:`Bearer ${X}`}}});if(ve.ok){const qe=await ve.json();Ue(qe)}}catch(X){console.error("Error fetching purchase history:",X)}};g.useEffect(()=>{pe(),oe()},[]);const ze=()=>E.reduce((X,ve)=>{const qe=parseFloat(ve.quantity)||0,Me=parseFloat(ve.costPrice)||0;return X+qe*Me},0),Fe=()=>E.filter(X=>X.medicineName&&X.quantity&&X.costPrice).length,tt=async X=>{if(X.length<2){D([]);return}try{const ve=localStorage.getItem("access_token")||localStorage.getItem("token"),qe=A?`http://localhost:8000/api/inventory/suppliers/search/?q=${encodeURIComponent(X)}&branch_id=${A}`:`http://localhost:8000/api/inventory/suppliers/search/?q=${encodeURIComponent(X)}`,Me=await fetch(qe,{method:"GET",headers:{"Content-Type":"application/json",...ve&&{Authorization:`Bearer ${ve}`}}});if(console.log("Supplier search response status:",Me.status),!Me.ok){console.error("Supplier search failed:",Me.status,Me.statusText);const Kt=await Me.text();console.error("Response text:",Kt),D([]);return}const Ke=await Me.json();console.log("Supplier search data:",Ke),D(Ke)}catch(ve){console.error("Error searching suppliers:",ve),D([])}},lt=async(X,ve)=>{if(console.log(`Medicine search called with query: '${X}', itemId: ${ve}`),X.length<2){console.log("Query too short, clearing suggestions"),re(qe=>({...qe,[ve]:[]}));return}try{console.log("Making API call to medicine search");const qe=localStorage.getItem("access_token")||localStorage.getItem("token");console.log("Token found:",qe?"Yes":"No");const Me=await fetch(`http://localhost:8000/api/inventory/medicines/search/?q=${encodeURIComponent(X)}`,{method:"GET",headers:{"Content-Type":"application/json",...qe&&{Authorization:`Bearer ${qe}`}}});if(console.log("Medicine search response status:",Me.status),!Me.ok){console.error("Medicine search failed:",Me.status,Me.statusText);const Kt=await Me.text();console.error("Response text:",Kt),re(ee=>({...ee,[ve]:[]}));return}const Ke=await Me.json();console.log("Medicine search data:",Ke),re(Kt=>({...Kt,[ve]:Ke}))}catch(qe){console.error("Error searching medicines:",qe),re(Me=>({...Me,[ve]:[]}))}},me=()=>{const X=Math.max(...E.map(ve=>ve.id))+1;F([...E,{id:X,medicineId:"",medicineName:"",quantity:"",costPrice:"",sellingPrice:"",unit:"pieces",packSize:"",batchNumber:"",manufacturingDate:"",expiryDate:""}])},He=(X,ve,qe)=>{F(E.map(Me=>Me.id===X?{...Me,[ve]:qe}:Me))},ae=X=>{E.length>1&&F(E.filter(ve=>ve.id!==X))},je=new Date,W={};x.forEach(X=>{var qe;const ve=(qe=X.medicine)==null?void 0:qe.id;if(ve&&(W[ve]||(W[ve]={id:ve,medicine:X.medicine,total_stock:0,min_stock:X.min_stock||10,max_stock:X.max_stock||1e3,cost_price:X.cost_price,selling_price:X.selling_price,location:X.location,supplier_name:X.supplier_name,batches:[],earliest_expiry:null}),W[ve].total_stock+=X.current_stock||0,W[ve].batches.push(X),X.expiry_date)){const Me=new Date(X.expiry_date);(!W[ve].earliest_expiry||Me<W[ve].earliest_expiry)&&(W[ve].earliest_expiry=Me)}});const le=Object.values(W).filter(X=>{var Be,Ze,xt;const ve=((Be=X.medicine)==null?void 0:Be.name)||"",qe=((xt=(Ze=X.medicine)==null?void 0:Ze.category)==null?void 0:xt.name)||"",Me=ve.toLowerCase().includes(e.toLowerCase()),Ke=n==="all"||qe===n,Kt=a==="all"||a==="low"&&X.total_stock<=X.min_stock||a==="normal"&&X.total_stock>X.min_stock&&X.total_stock<X.max_stock||a==="high"&&X.total_stock>=X.max_stock,ee=o==="all"||(()=>{if(!X.earliest_expiry)return!1;const kt=Math.ceil((X.earliest_expiry-je)/(1e3*60*60*24));return o==="critical"?kt<=7&&kt>=0:o==="high_risk"?kt<=30&&kt>7:o==="expired"?kt<0:!0})();return Me&&Ke&&Kt&&ee}),ne=X=>{const ve=X.total_stock||0,qe=X.min_stock||0,Me=X.max_stock||999;return ve<=qe?{status:"Low Stock",variant:"destructive",icon:wi}:ve>=Me?{status:"Overstock",variant:"secondary",icon:ft}:{status:"Normal",variant:"default",icon:vt}},Y={};x.forEach(X=>{var qe;const ve=(qe=X.medicine)==null?void 0:qe.id;ve&&(Y[ve]||(Y[ve]={medicine:X.medicine,total_stock:0,total_value:0,min_stock:X.min_stock||10,batches:[]}),Y[ve].total_stock+=X.current_stock||0,Y[ve].total_value+=(X.current_stock||0)*(X.cost_price||0),Y[ve].batches.push(X))});const ce=Object.values(Y),Ne=ce.length,K=ce.filter(X=>X.total_stock<=X.min_stock).length,de=ce.reduce((X,ve)=>X+ve.total_value,0),Le=x.filter(X=>{if(!X.expiry_date)return!1;const ve=new Date(X.expiry_date),qe=Math.ceil((ve-je)/(1e3*60*60*24));return qe<=7&&qe>=0}),Ve=x.filter(X=>{if(!X.expiry_date)return!1;const ve=new Date(X.expiry_date),qe=Math.ceil((ve-je)/(1e3*60*60*24));return qe<=30&&qe>7}),St=[...Le,...Ve].reduce((X,ve)=>X+(ve.current_stock||0)*(ve.cost_price||0),0),an=X=>{j(X),R({name:X.supplier_name||"",contact:""}),F([{id:1,medicineId:X.medicine.id,medicineName:X.medicine.name,quantity:"",costPrice:"",sellingPrice:X.selling_price||"",unit:X.unit||"pieces",packSize:"",batchNumber:"",manufacturingDate:"",expiryDate:"",location:X.location||""}]),xe({1:X.medicine.name}),p(!0)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Stock Management"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{variant:"outline",onClick:()=>Q(!0),children:[t.jsx(Ut,{size:16,className:"mr-2"}),"Purchase History"]}),t.jsxs(rt,{open:c,onOpenChange:d,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{children:[t.jsx(zt,{size:20,className:"mr-2"}),"Add New Item"]})}),t.jsxs(nt,{className:"max-w-[95vw] max-h-[95vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Inventory Item"}),t.jsx(Pt,{children:"Add a new medicine or product to your inventory"})]}),t.jsxs("div",{className:"flex flex-col h-[75vh]",children:[t.jsx("div",{className:"bg-gray-50 p-2 rounded mb-2",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Z,{value:M.name,onChange:X=>{const ve=X.target.value;R({...M,name:ve,id:null,type:"custom"}),ve.length>=2?(tt(ve),q(!0)):q(!1)},onFocus:()=>{M.name.length>=2&&q(!0)},onBlur:()=>{setTimeout(()=>{q(!1)},300)},placeholder:"Supplier Name *",className:"text-sm h-8"}),J&&G.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-32 overflow-y-auto",children:G.map(X=>t.jsxs("div",{className:"px-2 py-1 hover:bg-gray-100 cursor-pointer text-xs",onMouseDown:ve=>{ve.preventDefault(),R({name:X.name,contact:X.contact,id:X.id,type:X.type}),q(!1)},children:[t.jsx("div",{className:"font-medium",children:X.name}),t.jsx("div",{className:"text-gray-500",children:X.contact}),t.jsx("div",{className:"text-xs text-blue-500",children:X.type==="user"?"Supplier User":"Custom"})]},`${X.type}-${X.id}`))})]}),t.jsx(Z,{value:M.contact,onChange:X=>R({...M,contact:X.target.value}),placeholder:"Contact",className:"text-sm h-8"})]})}),t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("div",{className:"text-sm font-medium",children:"Items"}),t.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:me,className:"h-7 px-2",children:[t.jsx(zt,{size:14,className:"mr-1"}),"Add"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto border rounded p-2 mb-2",children:t.jsx("div",{className:"space-y-2",children:E.map((X,ve)=>{var qe;return t.jsxs("div",{className:"grid grid-cols-10 gap-2 items-start p-3 border rounded bg-white",children:[t.jsxs("div",{className:"col-span-2 relative",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Medicine Name *"}),t.jsx("input",{type:"text",value:fe[X.id]||"",onChange:Me=>{const Ke=Me.target.value;xe(Kt=>({...Kt,[X.id]:Ke})),Ke.length>=2?(lt(Ke,X.id),ie(Kt=>({...Kt,[X.id]:!0}))):ie(Kt=>({...Kt,[X.id]:!1}))},placeholder:"Search medicine...",style:{width:"100%",height:"28px",padding:"4px 8px",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px",outline:"none"}}),he[X.id]&&((qe=U[X.id])==null?void 0:qe.length)>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-32 overflow-y-auto",children:U[X.id].map(Me=>t.jsxs("div",{className:"px-2 py-1 hover:bg-gray-100 cursor-pointer text-xs",onClick:()=>{console.log("Selected medicine:",Me),console.log("Medicine unit:",Me.unit),F(Ke=>Ke.map(Kt=>Kt.id===X.id?{...Kt,medicineName:Me.name,medicineId:Me.id,unit:Me.unit||"pieces",packSize:Me.pack_size||"",costPrice:Me.cost_price||"",sellingPrice:Me.selling_price||""}:Kt)),xe(Ke=>({...Ke,[X.id]:Me.name})),ie(Ke=>({...Ke,[X.id]:!1})),console.log("Updated item unit to:",Me.unit)},children:[t.jsx("div",{className:"font-medium",children:Me.name}),t.jsxs("div",{className:"text-gray-500",children:[Me.strength," - ",Me.dosage_form]})]},Me.id))})]}),t.jsxs("div",{className:"col-span-1",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Qty *"}),t.jsx(Z,{type:"number",value:X.quantity,onChange:Me=>He(X.id,"quantity",Me.target.value),placeholder:"0",className:"text-xs h-7"})]}),t.jsxs("div",{className:"col-span-1",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Unit"}),t.jsx("input",{type:"text",value:X.unit,readOnly:!0,style:{width:"100%",height:"28px",padding:"4px 8px",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px",backgroundColor:"#f9fafb",color:"#6b7280"}},`unit-${X.id}-${X.unit}`)]}),t.jsxs("div",{className:"col-span-1",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Cost *"}),t.jsx("input",{type:"number",step:"0.01",value:X.costPrice,onChange:Me=>He(X.id,"costPrice",Me.target.value),placeholder:"0.00",style:{width:"100%",height:"28px",padding:"4px 8px",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px"}}),X.quantity&&X.costPrice&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Total: NPR ",(parseFloat(X.quantity)*parseFloat(X.costPrice)).toFixed(2)]}),X.packSize&&t.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["1 ",X.unit," = ",X.packSize," pieces"]})]}),t.jsxs("div",{className:"col-span-1",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"SP"}),t.jsx(Z,{type:"number",step:"0.01",value:X.sellingPrice,onChange:Me=>He(X.id,"sellingPrice",Me.target.value),placeholder:"0",className:"text-xs h-7"})]}),t.jsxs("div",{className:"col-span-1",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Batch *"}),t.jsx(Z,{value:X.batchNumber,onChange:Me=>He(X.id,"batchNumber",Me.target.value),placeholder:"Batch",className:"text-xs h-7"})]}),t.jsxs("div",{className:"col-span-1",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Mfg Date *"}),t.jsx("input",{type:"date",value:X.manufacturingDate,onChange:Me=>He(X.id,"manufacturingDate",Me.target.value),style:{width:"100%",height:"28px",padding:"2px 4px",fontSize:"11px",border:"1px solid #d1d5db",borderRadius:"4px"}})]}),t.jsxs("div",{className:"col-span-1",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Exp Date *"}),t.jsx("input",{type:"date",value:X.expiryDate,onChange:Me=>He(X.id,"expiryDate",Me.target.value),style:{width:"100%",height:"28px",padding:"2px 4px",fontSize:"11px",border:"1px solid #d1d5db",borderRadius:"4px"}})]}),t.jsxs("div",{className:"col-span-1 flex justify-center",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Del"}),t.jsx(O,{type:"button",variant:"outline",size:"sm",onClick:()=>ae(X.id),disabled:E.length===1,className:"h-7 w-7 p-0 ml-0",children:t.jsx(ss,{size:10})})]})]},X.id)})})}),t.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Payment Details"}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Total Amount"}),t.jsx(Z,{type:"number",value:ze().toFixed(2),disabled:!0,className:"text-xs bg-white font-medium"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Paid Amount"}),t.jsx(Z,{type:"number",step:"0.01",value:ge.paidAmount,onChange:X=>{const ve=parseFloat(X.target.value)||0,qe=ze();Te(Me=>({...Me,paidAmount:ve,creditAmount:Math.max(0,qe-ve),paymentMethod:ve>=qe?"cash":ve>0?"partial":"credit"}))},className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Credit/Due"}),t.jsx(Z,{type:"number",value:(ze()-ge.paidAmount).toFixed(2),disabled:!0,className:"text-xs bg-red-50 text-red-600 font-medium"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Payment Method"}),t.jsxs(_e,{value:ge.paymentMethod,onValueChange:X=>Te(ve=>({...ve,paymentMethod:X})),children:[t.jsx(Pe,{className:"text-xs",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"cash",children:"Cash Payment"}),t.jsx($,{value:"credit",children:"Credit (Pay Later)"}),t.jsx($,{value:"partial",children:"Partial Payment"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Payment Date"}),t.jsx(Z,{type:"date",value:ge.paymentDate,onChange:X=>Te(ve=>({...ve,paymentDate:X.target.value})),className:"text-xs"})]})]})]}),t.jsx("div",{className:"bg-gray-50 p-2 rounded",children:t.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Items:"}),t.jsx("span",{className:"ml-1 font-medium",children:Fe()})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Total:"}),t.jsxs("span",{className:"ml-1 font-medium",children:["NPR ",ze().toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Supplier:"}),t.jsx("span",{className:"ml-1 font-medium text-xs",children:M.name||"None"})]})]})})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),t.jsx(O,{onClick:async()=>{var qe,Me;if(console.log(`
=== FRONTEND INVENTORY CREATE DEBUG ===`),console.log("Global supplier:",M),console.log("All items:",E),console.log("Payment details:",ge),console.log("User branch ID:",A),!M.name){console.log("ERROR: No supplier name provided"),_({title:"Error",description:"Please select a supplier",variant:"destructive"});return}const X=E.filter(Ke=>Ke.medicineId&&Ke.medicineName&&Ke.quantity&&Ke.costPrice&&Ke.batchNumber&&Ke.manufacturingDate&&Ke.expiryDate);if(console.log("Valid items count:",X.length),console.log("Valid items:",X),X.length===0){console.log("ERROR: No valid items found"),_({title:"Error",description:"Please fill in all required fields for at least one item",variant:"destructive"});return}const ve={supplier:{name:M.name,contact:M.contact,id:M.id,type:M.type||"custom"},branch_id:A,items:X.map(Ke=>({medicine_id:Ke.medicineId,quantity:Ke.quantity,unit:Ke.unit,cost_price:Ke.costPrice,selling_price:Ke.sellingPrice||null,batch_number:Ke.batchNumber,manufacturing_date:Ke.manufacturingDate,expiry_date:Ke.expiryDate})),payment:ge};console.log("Request payload:",JSON.stringify(ve,null,2));try{const Ke=localStorage.getItem("access_token")||localStorage.getItem("token");console.log("Token available:",Ke?"Yes":"No");const Kt=await fetch("http://localhost:8000/api/inventory/inventory/create/",{method:"POST",headers:{"Content-Type":"application/json",...Ke&&{Authorization:`Bearer ${Ke}`}},body:JSON.stringify(ve)});console.log("Response status:",Kt.status),console.log("Response ok:",Kt.ok);const ee=await Kt.json();console.log("Response data:",ee),Kt.ok?(console.log("SUCCESS: Inventory created successfully"),console.log("Created items count:",((qe=ee.created_items)==null?void 0:qe.length)||0),console.log("Errors count:",((Me=ee.errors)==null?void 0:Me.length)||0),R({name:"",contact:"",id:null,type:"custom"}),F([{id:1,medicineId:"",medicineName:"",quantity:"",costPrice:"",sellingPrice:"",unit:"pieces",batchNumber:"",manufacturingDate:"",expiryDate:""}]),Te({totalAmount:0,paidAmount:0,creditAmount:0,paymentMethod:"cash",paymentDate:new Date().toISOString().split("T")[0],notes:""}),d(!1),_({title:"Success",description:ee.message}),pe(),oe()):(console.log("ERROR: Failed to create inventory"),console.log("Error details:",ee),_({title:"Error",description:ee.error||"Failed to create inventory items",variant:"destructive"}))}catch(Ke){console.error("CRITICAL ERROR creating inventory items:",Ke),_({title:"Error",description:"Failed to create inventory items",variant:"destructive"})}},children:"Add Item"})]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3",children:[t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:Ne}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Items"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(rr,{className:"h-5 w-5 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:K}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Low Stock"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ft,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-bold",children:["NPR ",(de/1e3).toFixed(0),"K"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Stock Value"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:S.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Categories"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-5 w-5 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold text-red-600",children:Le.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Critical"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ot,{className:"h-5 w-5 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold text-orange-600",children:Ve.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"High Risk"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(rr,{className:"h-5 w-5 text-yellow-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-bold text-yellow-600",children:["NPR ",(St/1e3).toFixed(0),"K"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"At Risk"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:Le.length+Ve.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Expiring"})]})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search medicines...",value:e,onChange:X=>r(X.target.value),className:"pl-10"})]})}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by category"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Categories"}),S.map(X=>t.jsx($,{value:X,children:X},X))]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by stock"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Stock Levels"}),t.jsx($,{value:"low",children:"Low Stock"}),t.jsx($,{value:"normal",children:"Normal Stock"}),t.jsx($,{value:"high",children:"Overstock"})]})]}),t.jsxs(_e,{value:o,onValueChange:l,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by expiry"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Items"}),t.jsx($,{value:"critical",children:"Critical ( 7 days)"}),t.jsx($,{value:"high_risk",children:"High Risk ( 30 days)"}),t.jsx($,{value:"expired",children:"Expired"})]})]})]})})}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{children:["Inventory Items (",le.length,")"]})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Medicine"}),t.jsx(H,{children:"Category"}),t.jsx(H,{children:"Current Stock"}),t.jsx(H,{children:"Stock Status"}),t.jsx(H,{children:"Unit Price"}),t.jsx(H,{children:"Location"}),t.jsx(H,{children:"Supplier"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:N?t.jsx(Ie,{children:t.jsx(V,{colSpan:8,className:"text-center py-8",children:"Loading inventory..."})}):le.length===0?t.jsx(Ie,{children:t.jsx(V,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No inventory items found"})}):le.map(X=>{var Ke,Kt,ee,Be;const ve=ne(X),qe=ve.icon,Me=X.batches[0];return t.jsxs(Ie,{children:[t.jsxs(V,{className:"font-medium",children:[((Ke=X.medicine)==null?void 0:Ke.name)||"N/A",((Kt=X.medicine)==null?void 0:Kt.strength)&&t.jsxs("div",{className:"text-xs text-muted-foreground",children:[X.medicine.strength," - ",X.medicine.dosage_form]}),X.batches.length>1&&t.jsxs("div",{className:"text-xs text-blue-600",children:[X.batches.length," batches available"]})]}),t.jsx(V,{children:((Be=(ee=X.medicine)==null?void 0:ee.category)==null?void 0:Be.name)||"N/A"}),t.jsx(V,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"font-medium",children:X.total_stock||0}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Min: ",X.min_stock||0," | Max: ",X.max_stock||999]})]})}),t.jsx(V,{children:t.jsxs(te,{variant:ve.variant,className:"flex items-center gap-1 w-fit",children:[t.jsx(qe,{size:12}),ve.status]})}),t.jsxs(V,{children:["NPR ",X.cost_price||0]}),t.jsx(V,{children:t.jsx(te,{variant:"outline",children:X.location||"N/A"})}),t.jsx(V,{children:X.supplier_name||"N/A"}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(O,{size:"sm",variant:"outline",onClick:()=>an(Me),title:"Restock this item",children:[t.jsx(Cm,{size:12,className:"mr-1"}),"Restock"]}),t.jsxs(O,{size:"sm",variant:"outline",onClick:()=>{f(X),m(!0)},children:[t.jsx(hn,{size:12,className:"mr-1"}),"Manage Batches"]})]})})]},X.id)})})]})})})]}),t.jsx(rt,{open:u,onOpenChange:m,children:t.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsxs(at,{children:["Manage Batches - ",(br=y==null?void 0:y.medicine)==null?void 0:br.name]}),t.jsx(Pt,{children:"Update selling prices and locations for individual batches"})]}),y&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Medicine Summary"}),t.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Total Stock:"})," ",t.jsx("span",{className:"font-medium",children:y.total_stock})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Batches:"})," ",t.jsx("span",{className:"font-medium",children:((Pa=y.batches)==null?void 0:Pa.length)||0})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Category:"})," ",t.jsx("span",{className:"font-medium",children:((zr=(Nr=y.medicine)==null?void 0:Nr.category)==null?void 0:zr.name)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Unit:"})," ",t.jsx("span",{className:"font-medium",children:((Dn=(_s=y.batches)==null?void 0:_s[0])==null?void 0:Dn.unit)||"pieces"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium",children:"Individual Batches"}),(Dt=y.batches)==null?void 0:Dt.map((X,ve)=>t.jsx("div",{className:"border rounded p-3 bg-white",children:t.jsxs("div",{className:"grid grid-cols-6 gap-3 items-center",children:[t.jsxs("div",{children:[t.jsxs(I,{className:"text-xs",children:["Batch #",ve+1]}),t.jsx("div",{className:"text-xs font-medium",children:X.batch_number}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Stock: ",X.current_stock]})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Cost Price"}),t.jsx(Z,{type:"number",step:"0.01",value:X.cost_price||0,disabled:!0,className:"text-xs bg-gray-100"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Selling Price *"}),t.jsx(Z,{type:"number",step:"0.01",value:X.selling_price||0,onChange:qe=>{const Me=y.batches.map(Ke=>Ke.id===X.id?{...Ke,selling_price:parseFloat(qe.target.value)||0}:Ke);f({...y,batches:Me})},className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Location"}),t.jsx(Z,{value:X.location||"",onChange:qe=>{const Me=y.batches.map(Ke=>Ke.id===X.id?{...Ke,location:qe.target.value}:Ke);f({...y,batches:Me})},placeholder:"e.g., A1-01",className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Expiry Date"}),t.jsx("div",{className:"text-xs font-medium",children:X.expiry_date||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500",children:X.supplier_name||"N/A"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Total Value"}),t.jsxs("div",{className:"text-xs font-medium text-green-600",children:["NPR ",((X.selling_price||0)*(X.current_stock||0)).toFixed(2)]})]})]})},X.id))]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),t.jsx(O,{onClick:async()=>{if(y!=null&&y.batches)try{const X=localStorage.getItem("access_token")||localStorage.getItem("token"),ve=y.batches.map(Ke=>fetch(`http://localhost:8000/api/inventory/inventory-items/${Ke.id}/`,{method:"PATCH",headers:{"Content-Type":"application/json",...X&&{Authorization:`Bearer ${X}`}},body:JSON.stringify({selling_price:Ke.selling_price,location:Ke.location,branch_id:A})}));(await Promise.all(ve)).every(Ke=>Ke.ok)?(_({title:"Success",description:`Updated ${y.batches.length} batches successfully`}),m(!1),pe()):_({title:"Partial Success",description:"Some batches failed to update",variant:"destructive"})}catch(X){console.error("Error updating batches:",X),_({title:"Error",description:"Failed to update batches",variant:"destructive"})}},children:"Save All Changes"})]})]})}),t.jsx(rt,{open:h,onOpenChange:p,children:t.jsxs(nt,{className:"max-w-[90vw] max-h-[90vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsxs(at,{children:["Restock Item - ",(Ht=v==null?void 0:v.medicine)==null?void 0:Ht.name]}),t.jsx(Pt,{children:"Add new stock for existing medicine with updated pricing and batch details"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Supplier Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(Z,{value:M.name,onChange:X=>R({...M,name:X.target.value}),placeholder:"Supplier Name *",className:"text-sm"}),t.jsx(Z,{value:M.contact,onChange:X=>R({...M,contact:X.target.value}),placeholder:"Contact",className:"text-sm"})]})]}),t.jsxs("div",{className:"border rounded p-3",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Item Details"}),t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Medicine"}),t.jsx(Z,{value:((Bt=E[0])==null?void 0:Bt.medicineName)||"",disabled:!0,className:"text-xs bg-gray-100"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Quantity *"}),t.jsx(Z,{type:"number",value:((sr=E[0])==null?void 0:sr.quantity)||"",onChange:X=>He(1,"quantity",X.target.value),className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Cost Price *"}),t.jsx(Z,{type:"number",step:"0.01",value:((As=E[0])==null?void 0:As.costPrice)||"",onChange:X=>He(1,"costPrice",X.target.value),className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Selling Price *"}),t.jsx(Z,{type:"number",step:"0.01",value:((ut=E[0])==null?void 0:ut.sellingPrice)||"",onChange:X=>He(1,"sellingPrice",X.target.value),className:"text-xs"})]})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Batch Number *"}),t.jsx(Z,{value:((qt=E[0])==null?void 0:qt.batchNumber)||"",onChange:X=>He(1,"batchNumber",X.target.value),className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Manufacturing Date"}),t.jsx(Z,{type:"date",value:((er=E[0])==null?void 0:er.manufacturingDate)||"",onChange:X=>He(1,"manufacturingDate",X.target.value),className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Expiry Date *"}),t.jsx(Z,{type:"date",value:((Nn=E[0])==null?void 0:Nn.expiryDate)||"",onChange:X=>He(1,"expiryDate",X.target.value),className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Location"}),t.jsx(Z,{value:((wn=E[0])==null?void 0:wn.location)||"",onChange:X=>He(1,"location",X.target.value),placeholder:"e.g., A1-01",className:"text-xs"})]})]})]}),t.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Payment Details"}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Total Amount"}),t.jsx(Z,{type:"number",value:ze().toFixed(2),disabled:!0,className:"text-xs bg-white font-medium"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Paid Amount"}),t.jsx(Z,{type:"number",step:"0.01",value:ge.paidAmount,onChange:X=>{const ve=parseFloat(X.target.value)||0,qe=ze();Te(Me=>({...Me,paidAmount:ve,creditAmount:Math.max(0,qe-ve),paymentMethod:ve>=qe?"cash":ve>0?"partial":"credit"}))},className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Credit/Due"}),t.jsx(Z,{type:"number",value:(ze()-ge.paidAmount).toFixed(2),disabled:!0,className:"text-xs bg-red-50 text-red-600 font-medium"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Payment Method"}),t.jsxs(_e,{value:ge.paymentMethod,onValueChange:X=>Te(ve=>({...ve,paymentMethod:X})),children:[t.jsx(Pe,{className:"text-xs",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"cash",children:"Cash Payment"}),t.jsx($,{value:"credit",children:"Credit (Pay Later)"}),t.jsx($,{value:"partial",children:"Partial Payment"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Payment Date"}),t.jsx(Z,{type:"date",value:ge.paymentDate,onChange:X=>Te(ve=>({...ve,paymentDate:X.target.value})),className:"text-xs"})]})]})]}),v&&t.jsxs("div",{className:"bg-yellow-50 p-3 rounded",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Previous Stock Info"}),t.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[t.jsxs("div",{children:["Current: ",t.jsx("span",{className:"font-medium",children:v.current_stock})]}),t.jsxs("div",{children:["Cost: ",t.jsxs("span",{className:"font-medium",children:["NPR ",v.cost_price]})]}),t.jsxs("div",{children:["Selling: ",t.jsxs("span",{className:"font-medium",children:["NPR ",v.selling_price]})]}),t.jsxs("div",{children:["Batch: ",t.jsx("span",{className:"font-medium",children:v.batch_number})]})]})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),t.jsx(O,{onClick:async()=>{var X,ve,qe,Me;if(!M.name||!((X=E[0])!=null&&X.quantity)||!((ve=E[0])!=null&&ve.costPrice)||!((qe=E[0])!=null&&qe.batchNumber)||!((Me=E[0])!=null&&Me.expiryDate)){_({title:"Error",description:"Please fill all required fields",variant:"destructive"});return}try{const Ke={supplier:{name:M.name,contact:M.contact,type:M.type||"custom"},branch_id:A,item:{medicine_id:E[0].medicineId,quantity:E[0].quantity,unit:E[0].unit,cost_price:E[0].costPrice,selling_price:E[0].sellingPrice,batch_number:E[0].batchNumber,manufacturing_date:E[0].manufacturingDate,expiry_date:E[0].expiryDate},payment:ge,previous_item_id:v.id};console.log(`
=== FRONTEND RESTOCK DEBUG ===`),console.log("Restock payload:",JSON.stringify(Ke,null,2)),console.log("Restock item:",v);const Kt=localStorage.getItem("access_token")||localStorage.getItem("token"),ee=await fetch("http://localhost:8000/api/inventory/restock/",{method:"POST",headers:{"Content-Type":"application/json",...Kt&&{Authorization:`Bearer ${Kt}`}},body:JSON.stringify(Ke)});console.log("Restock response status:",ee.status);const Be=await ee.json();console.log("Restock response data:",Be),ee.ok?(console.log("SUCCESS: Restock completed"),_({title:"Success",description:Be.message}),p(!1),pe(),oe(),R({name:"",contact:""}),F([{id:1,medicineId:"",medicineName:"",quantity:"",costPrice:"",sellingPrice:"",unit:"pieces",batchNumber:"",manufacturingDate:"",expiryDate:""}]),Te({totalAmount:0,paidAmount:0,creditAmount:0,paymentMethod:"cash",paymentDate:new Date().toISOString().split("T")[0],notes:""})):(console.log("ERROR: Restock failed"),_({title:"Error",description:Be.error||"Failed to restock item",variant:"destructive"}))}catch(Ke){console.error("CRITICAL ERROR restocking item:",Ke),_({title:"Error",description:"Failed to restock item",variant:"destructive"})}},children:"Complete Restock"})]})]})}),t.jsx(rt,{open:be,onOpenChange:Q,children:t.jsxs(nt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsx(st,{children:t.jsx(at,{children:"Purchase History"})}),t.jsx("div",{className:"space-y-4",children:Se.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No purchase history found"}):Se.map(X=>t.jsxs("div",{className:"border rounded p-4 bg-white",children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:X.transaction_number}),t.jsx("p",{className:"text-sm text-gray-600",children:X.supplier_name}),t.jsx("p",{className:"text-xs text-gray-500",children:X.created_at})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium",children:["NPR ",X.total_amount.toFixed(2)]}),t.jsx("p",{className:"text-sm text-gray-600",children:X.payment_method}),X.credit_amount>0&&t.jsxs(te,{variant:"destructive",className:"text-xs",children:["Credit: NPR ",X.credit_amount.toFixed(2)]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h5",{className:"text-sm font-medium",children:"Items:"}),X.items.map(ve=>t.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-50 rounded text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:ve.product_name}),t.jsxs("span",{className:"text-gray-500 ml-2",children:["Batch: ",ve.batch_number]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("span",{children:[ve.quantity_purchased," ",ve.unit]}),t.jsxs("span",{className:"ml-2 text-gray-600",children:["@ NPR ",ve.cost_price.toFixed(2)]}),t.jsxs("span",{className:"ml-2 font-medium",children:["= NPR ",ve.total_cost.toFixed(2)]})]})]},ve.id))]})]},X.id))}),t.jsx(jr,{children:t.jsx(O,{variant:"outline",onClick:()=>Q(!1),children:"Close"})})]})})]})}const Df={totalProducts:1247,totalValue:85e4,lowStockItems:23,criticalExpiry:8,pendingOrders:12,inTransit:5,monthlyMovement:{inbound:45e3,outbound:38e3,variance:7e3}},g1e=[{id:1,type:"stock_in",product:"Paracetamol 500mg",quantity:200,time:"2 hours ago",icon:O4,color:"text-green-600"},{id:2,type:"stock_out",product:"Amoxicillin 250mg",quantity:50,time:"4 hours ago",icon:Xz,color:"text-red-600"},{id:3,type:"order",product:"Insulin Pen",quantity:100,time:"6 hours ago",icon:Fn,color:"text-blue-600"},{id:4,type:"transfer",product:"Cetirizine 10mg",quantity:75,time:"8 hours ago",icon:fn,color:"text-orange-600"}],v1e=[{id:"MED001",name:"Aspirin 100mg",currentStock:12,minStock:50,severity:"critical"},{id:"MED002",name:"Cough Syrup",currentStock:8,minStock:25,severity:"critical"},{id:"MED003",name:"Band-Aid Strips",currentStock:18,minStock:30,severity:"warning"},{id:"MED004",name:"Thermometer",currentStock:5,minStock:10,severity:"warning"}],y1e=[{id:"MED005",name:"Vitamin C 1000mg",batch:"BTH001",daysLeft:5,severity:"critical"},{id:"MED006",name:"Eye Drops",batch:"BTH002",daysLeft:12,severity:"warning"},{id:"MED007",name:"Antibiotic Cream",batch:"BTH003",daysLeft:25,severity:"caution"}];function j1e(){g.useState("30d");const e=r=>{const n={critical:"destructive",warning:"secondary",caution:"outline"};return t.jsx(te,{variant:n[r],children:r})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Inventory Dashboard"}),t.jsx("p",{className:"text-muted-foreground",children:"Overview of your pharmacy inventory and key metrics"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(O,{asChild:!0,children:t.jsxs(wr,{to:"/inventory/purchase-orders",children:[t.jsx(zt,{size:16,className:"mr-2"}),"New Purchase Order"]})}),t.jsx(O,{variant:"outline",asChild:!0,children:t.jsxs(wr,{to:"/reports",children:[t.jsx($t,{size:16,className:"mr-2"}),"Generate Report"]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Products"}),t.jsx("p",{className:"text-2xl font-bold",children:Df.totalProducts.toLocaleString()}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(ft,{size:12,className:"mr-1"}),"+5.2% from last month"]})]}),t.jsx(vt,{className:"h-8 w-8 text-blue-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",Df.totalValue.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(ft,{size:12,className:"mr-1"}),"+2.8% from last month"]})]}),t.jsx(ht,{className:"h-8 w-8 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Low Stock Alerts"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:Df.lowStockItems}),t.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[t.jsx(wi,{size:12,className:"mr-1"}),"Requires attention"]})]}),t.jsx(rr,{className:"h-8 w-8 text-red-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiry Alerts"}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Df.criticalExpiry}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(Ot,{size:12,className:"mr-1"}),"Within 30 days"]})]}),t.jsx(Ot,{className:"h-8 w-8 text-orange-600"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-6",children:t.jsx(wr,{to:"/inventory/stock-management",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(vt,{className:"h-8 w-8 mx-auto text-blue-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"Stock Management"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage inventory levels"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-6",children:t.jsx(wr,{to:"/inventory/purchase-orders",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Fn,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"Purchase Orders"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and track orders"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-6",children:t.jsx(wr,{to:"/inventory/stock-transfers",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(fn,{className:"h-8 w-8 mx-auto text-purple-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"Stock Transfers"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Move stock between locations"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-6",children:t.jsx(wr,{to:"/inventory/expiry-tracking",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ot,{className:"h-8 w-8 mx-auto text-orange-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"Expiry Tracking"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor expiration dates"})]})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center",children:[t.jsx(rr,{className:"mr-2 text-red-600",size:20}),"Low Stock Alerts"]})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-3",children:[v1e.map(r=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:r.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stock: ",r.currentStock," / Min: ",r.minStock]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[e(r.severity),t.jsx(O,{size:"sm",variant:"outline",children:"Reorder"})]})]},r.id)),t.jsx(O,{variant:"outline",className:"w-full",asChild:!0,children:t.jsx(wr,{to:"/inventory/stock-management",children:"View All Low Stock Items"})})]})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center",children:[t.jsx(Ot,{className:"mr-2 text-orange-600",size:20}),"Expiry Alerts"]})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-3",children:[y1e.map(r=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:r.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Batch: ",r.batch,"  ",r.daysLeft," days left"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[e(r.severity),t.jsx(O,{size:"sm",variant:"outline",children:"Manage"})]})]},r.id)),t.jsx(O,{variant:"outline",className:"w-full",asChild:!0,children:t.jsx(wr,{to:"/inventory/expiry-tracking",children:"View All Expiring Items"})})]})})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Recent Inventory Activity"})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:g1e.map(r=>{const n=r.icon;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(n,{className:`h-5 w-5 ${r.color}`}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:r.product}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",r.quantity,"  ",r.time]})]})]}),t.jsx(te,{variant:"outline",children:r.type.replace("_"," ")})]},r.id)})})})]})]})}function b1e(){const[e,r]=g.useState([]),[n,s]=g.useState([]),[a,i]=g.useState(!0),[o,l]=g.useState(""),[c,d]=g.useState("all"),[u,m]=g.useState(null),[h,p]=g.useState(!1),[y,f]=g.useState(!1),[v,j]=g.useState(""),[x,b]=g.useState([]),[S,w]=g.useState({}),[N,P]=g.useState(!1),[_,C]=g.useState(!1),[A,M]=g.useState({method:"",tracking:"",notes:""}),[R,E]=g.useState(1),[F,G]=g.useState(1),[D,J]=g.useState(0),q=10,{toast:U}=Tt(),re=async(W=1)=>{try{i(!0);const se=localStorage.getItem("access_token")||localStorage.getItem("token"),le=await fetch(`http://localhost:8000/api/inventory/supplier/orders/?page=${W}&page_size=${q}`,{headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}}});if(le.ok){const ne=await le.json();r(ne.results||ne||[]),s(ne.results||ne||[]),J(ne.count||0),G(Math.ceil((ne.count||0)/q)),E(W)}else{const ne=await le.json();U({title:"Error",description:ne.error||"Failed to load orders",variant:"destructive"})}}catch(se){console.error("Error fetching orders:",se),U({title:"Error",description:"Failed to load orders",variant:"destructive"})}finally{i(!1)}};g.useEffect(()=>{re(1)},[]),g.useEffect(()=>{let W=e;o&&(W=W.filter(se=>se.order_number.toLowerCase().includes(o.toLowerCase())||se.buyer_organization_name.toLowerCase().includes(o.toLowerCase())||se.buyer_branch_name.toLowerCase().includes(o.toLowerCase()))),c!=="all"&&(W=W.filter(se=>se.status===c)),s(W)},[e,o,c]);const he=W=>{const se={submitted:{variant:"secondary",icon:Ut,label:"New Order"},supplier_reviewing:{variant:"outline",icon:yt,label:"Reviewing"},supplier_confirmed:{variant:"default",icon:mt,label:"Quote Sent"},supplier_rejected:{variant:"destructive",icon:ga,label:"Rejected"},buyer_confirmed:{variant:"default",icon:mt,label:"Buyer Accepted"},buyer_reconfirming:{variant:"outline",icon:Ut,label:"Buyer Reconfirming"},payment_pending:{variant:"destructive",icon:bi,label:"Payment Pending"},payment_partial:{variant:"outline",icon:bi,label:"Partial Payment"},payment_completed:{variant:"default",icon:mt,label:"Payment Complete"},ready_to_ship:{variant:"default",icon:vt,label:"Ready to Ship"},shipped:{variant:"outline",icon:fn,label:"Shipped"},delivered:{variant:"default",icon:vt,label:"Delivered"},completed:{variant:"default",icon:mt,label:"Completed"}},le=se[W]||se.submitted,ne=le.icon;return t.jsxs(te,{variant:le.variant,className:"flex items-center gap-1",children:[t.jsx(ne,{size:12}),le.label]})},ie=W=>{m(W),p(!0)},fe=async W=>{try{const se=localStorage.getItem("access_token")||localStorage.getItem("token"),le=await fetch("http://localhost:8000/api/inventory/supplier/inventory-prices/",{method:"POST",headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}},body:JSON.stringify({products:W})});if(le.ok){const ne=await le.json();return w(ne),P(!0),ne}}catch(se){console.error("Error fetching inventory prices:",se)}return P(!0),{}};g.useEffect(()=>{if(y&&u&&x.length>0&&!N){const W=x.map(se=>{var le,ne,Y;return{order_item_id:se.id,name:((le=se.product)==null?void 0:le.name)||"",strength:((ne=se.product)==null?void 0:ne.strength)||"",dosage_form:((Y=se.product)==null?void 0:Y.dosage_form)||"",batch_number:se.batch_number||""}});fe(W)}},[y,u,x,N]),g.useEffect(()=>{N&&Object.keys(S).length>0&&x.length>0&&b(W=>W.map(se=>{const le=S[se.id];return{...se,unit_price:le||se.unit_price||0}}))},[S,N]);const xe=async W=>{m(W),j(W.supplier_notes||""),P(!1),w({}),b(W.items.map(se=>({...se}))),f(!0)},ge=(W,se,le)=>{b(ne=>ne.map(Y=>Y.id===W?{...Y,[se]:le}:Y))},Te=async()=>{if(u)try{i(!0);const W=localStorage.getItem("access_token")||localStorage.getItem("token"),se=await fetch(`http://localhost:8000/api/inventory/supplier/orders/${u.id}/update/`,{method:"POST",headers:{"Content-Type":"application/json",...W&&{Authorization:`Bearer ${W}`}},body:JSON.stringify({action:"confirm",supplier_notes:v,items:x.map(le=>({id:le.id,quantity_confirmed:le.quantity_confirmed,unit_price:le.unit_price,is_available:le.is_available,supplier_notes:le.supplier_notes}))})});if(se.ok)U({title:"Success",description:"Order confirmed successfully"}),f(!1),re(R);else{const le=await se.json();U({title:"Error",description:le.error||"Failed to confirm order",variant:"destructive"})}}catch(W){console.error("Error confirming order:",W),U({title:"Error",description:"Failed to confirm order",variant:"destructive"})}finally{i(!1)}},Se=async()=>{if(u)try{i(!0);const W=localStorage.getItem("access_token")||localStorage.getItem("token"),se=await fetch(`http://localhost:8000/api/inventory/supplier/orders/${u.id}/update/`,{method:"POST",headers:{"Content-Type":"application/json",...W&&{Authorization:`Bearer ${W}`}},body:JSON.stringify({action:"reject",supplier_notes:v})});if(se.ok)U({title:"Success",description:"Order rejected successfully"}),f(!1),re(R);else{const le=await se.json();U({title:"Error",description:le.error||"Failed to reject order",variant:"destructive"})}}catch(W){console.error("Error rejecting order:",W),U({title:"Error",description:"Failed to reject order",variant:"destructive"})}finally{i(!1)}},Ue=W=>(console.log("Checking canUpdateOrder for status:",W),W==="submitted"||W==="supplier_reviewing"),be=W=>W==="ready_to_ship"||W==="payment_completed"||W==="buyer_confirmed"||W==="payment_partial",Q=W=>W==="shipped",pe=W=>W==="delivered",oe=W=>{m(W),M({method:"",tracking:"",notes:""}),C(!0)},ze=async W=>{try{i(!0);const se=localStorage.getItem("access_token")||localStorage.getItem("token");await fetch(`http://localhost:8000/api/inventory/bulk-orders/${W.id}/status/`,{method:"POST",headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}},body:JSON.stringify({action:"mark_delivered",notes:"Order delivered by supplier"})}),U({title:"Success",description:"Order marked as delivered"}),re(R)}catch{U({title:"Error",description:"Failed to update order status",variant:"destructive"})}finally{i(!1)}},Fe=async()=>{if(u)try{i(!0);const W=localStorage.getItem("access_token")||localStorage.getItem("token");await fetch(`http://localhost:8000/api/inventory/purchase-orders/${u.id}/ship/`,{method:"POST",headers:{"Content-Type":"application/json",...W&&{Authorization:`Bearer ${W}`}},body:JSON.stringify({shipping_method:A.method,tracking_number:A.tracking,shipping_notes:A.notes})}),U({title:"Success",description:"Order shipped successfully"}),C(!1),re(R)}catch{U({title:"Error",description:"Failed to ship order",variant:"destructive"})}finally{i(!1)}},tt=async W=>{try{i(!0);const se=localStorage.getItem("access_token")||localStorage.getItem("token"),le=await fetch(`http://localhost:8000/api/inventory/purchase-orders/${W.id}/release-stock/`,{method:"POST",headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}}});if(le.ok)U({title:"Success",description:"Stock released and transferred to buyer"}),re(R);else{const ne=await le.json();ne.insufficient_items?U({title:"Insufficient Stock",description:`Please add inventory for: ${ne.insufficient_items.map(Y=>Y.product_name).join(", ")}`,variant:"destructive"}):U({title:"Error",description:ne.error||"Failed to release stock",variant:"destructive"})}}catch{U({title:"Error",description:"Failed to release stock",variant:"destructive"})}finally{i(!1)}},lt=e.length,me=e.filter(W=>W.status==="submitted"||W.status==="supplier_reviewing").length,He=e.filter(W=>["supplier_confirmed","buyer_confirmed","ready_to_ship"].includes(W.status)).length,ae=e.filter(W=>["shipped","delivered"].includes(W.status)).length,je=e.reduce((W,se)=>W+se.total_amount,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Manage Orders"}),t.jsx("p",{className:"text-muted-foreground",children:"Review and manage orders from pharmacy buyers"})]})}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fn,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:lt}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-5 w-5 text-yellow-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:me}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:He}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"In Progress"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(fn,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:ae}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivered"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:je>0?Math.round(je).toLocaleString():"0"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Value"})]})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search by order number, buyer organization...",value:o,onChange:W=>l(W.target.value),className:"pl-10"})]})}),t.jsxs(_e,{value:c,onValueChange:d,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Statuses"}),t.jsx($,{value:"submitted",children:"New Orders"}),t.jsx($,{value:"supplier_confirmed",children:"Quote Sent"}),t.jsx($,{value:"buyer_confirmed",children:"Buyer Accepted"}),t.jsx($,{value:"payment_completed",children:"Payment Complete"}),t.jsx($,{value:"ready_to_ship",children:"Ready to Ship"}),t.jsx($,{value:"shipped",children:"Shipped"}),t.jsx($,{value:"delivered",children:"Delivered"}),t.jsx($,{value:"completed",children:"Completed"})]})]})]})})}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs(B,{children:["Orders (",D,")"]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:["Page ",R," of ",F]})]})}),t.jsxs(k,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Order Number"}),t.jsx(H,{children:"Buyer"}),t.jsx(H,{children:"Branch"}),t.jsx(H,{children:"Order Date"}),t.jsx(H,{children:"Expected Date"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Items"}),t.jsx(H,{children:"Total Amount"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:a?t.jsx(Ie,{children:t.jsx(V,{colSpan:9,className:"text-center py-8",children:"Loading orders..."})}):n.length===0?t.jsx(Ie,{children:t.jsx(V,{colSpan:9,className:"text-center py-8",children:"No orders found"})}):n.map(W=>t.jsxs(Ie,{children:[t.jsx(V,{className:"font-medium",children:W.order_number}),t.jsx(V,{children:W.buyer_organization_name}),t.jsx(V,{children:W.buyer_branch_name}),t.jsx(V,{children:new Date(W.order_date).toLocaleDateString()}),t.jsx(V,{children:new Date(W.expected_delivery_date).toLocaleDateString()}),t.jsx(V,{children:he(W.status)}),t.jsx(V,{children:W.total_items}),t.jsx(V,{className:"font-medium text-sm",children:W.total_amount>0?Math.round(W.total_amount).toLocaleString():"0"}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs(O,{size:"sm",variant:"outline",onClick:()=>ie(W),className:"h-7 px-2 text-xs",children:[t.jsx(yt,{size:10,className:"mr-1"}),"View"]}),(Ue(W.status)||W.status==="Pending")&&t.jsxs(O,{size:"sm",onClick:()=>xe(W),className:"h-7 px-2 text-xs",children:[t.jsx($t,{size:10,className:"mr-1"}),W.status==="submitted"||W.status==="Pending"?"Quote":"Update"]}),be(W.status)&&t.jsxs(O,{size:"sm",variant:"outline",onClick:()=>oe(W),className:"h-7 px-2 text-xs",children:[t.jsx(fn,{size:10,className:"mr-1"}),"Ship"]}),Q(W.status)&&t.jsxs(O,{size:"sm",variant:"outline",onClick:()=>ze(W),className:"h-7 px-2 text-xs",children:[t.jsx(vt,{size:10,className:"mr-1"}),"Delivered"]}),pe(W.status)&&t.jsxs(O,{size:"sm",variant:"default",onClick:()=>tt(W),className:"h-7 px-2 text-xs",children:[t.jsx(mt,{size:10,className:"mr-1"}),"Release"]})]})})]},W.id))})]})}),F>1&&t.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(R-1)*q+1," to ",Math.min(R*q,D)," of ",D," orders"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(O,{variant:"outline",size:"sm",onClick:()=>re(R-1),disabled:R===1||a,children:[t.jsx(M4,{size:16}),"Previous"]}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,F)},(W,se)=>{const le=se+Math.max(1,R-2);return le>F?null:t.jsx(O,{variant:le===R?"default":"outline",size:"sm",onClick:()=>re(le),disabled:a,className:"w-8 h-8 p-0",children:le},le)})}),t.jsxs(O,{variant:"outline",size:"sm",onClick:()=>re(R+1),disabled:R===F||a,children:["Next",t.jsx(Ow,{size:16})]})]})]})]})]}),t.jsx(rt,{open:h,onOpenChange:p,children:t.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsxs(at,{children:["Order Details - ",u==null?void 0:u.order_number]}),t.jsx(Pt,{children:"View complete order information and items"})]}),u&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Buyer Organization"}),t.jsx("p",{className:"font-medium",children:u.buyer_organization_name})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Branch"}),t.jsx("p",{className:"font-medium",children:u.buyer_branch_name})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Order Date"}),t.jsx("p",{children:new Date(u.order_date).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Expected Delivery"}),t.jsx("p",{children:new Date(u.expected_delivery_date).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Status"}),t.jsx("div",{className:"mt-1",children:he(u.status)})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Total Amount"}),t.jsx("p",{className:"font-bold text-lg",children:u.total_amount>0?Math.round(u.total_amount).toLocaleString():"0"})]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Buyer Notes"}),t.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:u.buyer_notes||"No notes"})]}),t.jsxs("div",{children:[t.jsxs(I,{children:["Order Items (",u.items.length,")"]}),t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Product"}),t.jsx(H,{children:"Requested"}),t.jsx(H,{children:"Confirmed"}),t.jsx(H,{children:"Unit Price"}),t.jsx(H,{children:"Total"}),t.jsx(H,{children:"Available"})]})}),t.jsx(At,{children:u.items.map(W=>{var se,le,ne;return t.jsxs(Ie,{children:[t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:((se=W.product)==null?void 0:se.name)||"Product not found"}),t.jsxs("div",{className:"text-sm text-gray-500",children:[(le=W.product)==null?void 0:le.strength," - ",(ne=W.product)==null?void 0:ne.dosage_form]})]})}),t.jsx(V,{children:W.quantity_requested}),t.jsx(V,{children:W.quantity_confirmed||"-"}),t.jsx(V,{className:"text-sm",children:W.unit_price?Math.round(W.unit_price).toLocaleString():"-"}),t.jsx(V,{className:"text-sm",children:W.total_price?Math.round(W.total_price).toLocaleString():"-"}),t.jsx(V,{children:t.jsx(te,{variant:W.is_available?"default":"destructive",children:W.is_available?"Yes":"No"})})]},W.id)})})]})]})]})]})}),t.jsx(rt,{open:y,onOpenChange:f,children:t.jsxs(nt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsxs(at,{children:["Update Order - ",u==null?void 0:u.order_number]}),t.jsx(Pt,{children:"Confirm quantities, set prices, and update order status"})]}),u&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Order Information"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:["Buyer: ",u.buyer_organization_name]}),t.jsxs("div",{children:["Branch: ",u.buyer_branch_name]}),t.jsxs("div",{children:["Expected: ",new Date(u.expected_delivery_date).toLocaleDateString()]})]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Order Items"}),t.jsx("div",{className:"border rounded p-4 max-h-96 overflow-y-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Product"}),t.jsx(H,{children:"Requested"}),t.jsx(H,{children:"Confirm Qty"}),t.jsx(H,{children:"Unit Price"}),t.jsx(H,{children:"Available"}),t.jsx(H,{children:"Notes"})]})}),t.jsx(At,{children:x.map(W=>{var se,le,ne;return t.jsxs(Ie,{children:[t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-sm",children:((se=W.product)==null?void 0:se.name)||"Product not found"}),t.jsxs("div",{className:"text-xs text-gray-500",children:[(le=W.product)==null?void 0:le.strength," - ",(ne=W.product)==null?void 0:ne.dosage_form]})]})}),t.jsx(V,{children:W.quantity_requested}),t.jsx(V,{children:t.jsx(Z,{type:"number",min:"0",max:W.quantity_requested,value:W.quantity_confirmed,onChange:Y=>ge(W.id,"quantity_confirmed",parseInt(Y.target.value)||0),className:"w-20"})}),t.jsx(V,{children:t.jsx(Z,{type:"number",step:"0.01",min:"0",value:W.unit_price,onChange:Y=>ge(W.id,"unit_price",parseFloat(Y.target.value)||0),className:"w-24",placeholder:"Set price"})}),t.jsx(V,{children:t.jsxs(_e,{value:W.is_available?"true":"false",onValueChange:Y=>ge(W.id,"is_available",Y==="true"),children:[t.jsx(Pe,{className:"w-20",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"true",children:"Yes"}),t.jsx($,{value:"false",children:"No"})]})]})}),t.jsx(V,{children:t.jsx(Z,{value:W.supplier_notes,onChange:Y=>ge(W.id,"supplier_notes",Y.target.value),placeholder:"Item notes...",className:"w-32"})})]},W.id)})})]})})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Supplier Notes"}),t.jsx(Vt,{value:v,onChange:W=>j(W.target.value),placeholder:"Add notes about this order...",rows:3})]}),t.jsx("div",{className:"bg-gray-50 p-3 rounded",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"font-medium text-sm",children:"Total Confirmed Amount:"}),t.jsx("span",{className:"text-lg font-bold",children:Math.round(x.reduce((W,se)=>W+se.quantity_confirmed*se.unit_price,0)).toLocaleString()})]})})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),t.jsx(O,{variant:"destructive",onClick:Se,disabled:a,children:"Reject Order"}),t.jsx(O,{onClick:Te,disabled:a,children:"Confirm Order"})]})]})}),t.jsx(rt,{open:_,onOpenChange:C,children:t.jsxs(nt,{className:"max-w-md",children:[t.jsxs(st,{children:[t.jsxs(at,{children:["Ship Order - ",u==null?void 0:u.order_number]}),t.jsx(Pt,{children:"Update shipping details for this order"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Shipping Method"}),t.jsx(Z,{value:A.method,onChange:W=>M(se=>({...se,method:W.target.value})),placeholder:"e.g., Express Delivery, Standard Post"})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Tracking Number"}),t.jsx(Z,{value:A.tracking,onChange:W=>M(se=>({...se,tracking:W.target.value})),placeholder:"Enter tracking number"})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Shipping Notes"}),t.jsx(Vt,{value:A.notes,onChange:W=>M(se=>({...se,notes:W.target.value})),placeholder:"Additional shipping notes...",rows:3})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),t.jsx(O,{onClick:Fe,disabled:a||!A.method,children:"Ship Order"})]})]})})]})}function mk({value:e,onChange:r,onSelect:n,onSearch:s,placeholder:a="Type to search...",className:i,disabled:o=!1}){const[l,c]=g.useState([]),[d,u]=g.useState(!1),[m,h]=g.useState(!1),p=g.useRef(null);g.useEffect(()=>{const v=j=>{p.current&&!p.current.contains(j.target)&&u(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const y=async v=>{if(!o)if(r(v),v.length>=2){h(!0);try{const j=await s(v);c(j),u(!0)}catch(j){console.error("Search error:",j),c([])}finally{h(!1)}}else u(!1),c([])},f=v=>{n(v),u(!1),c([])};return t.jsxs("div",{className:"relative",ref:p,children:[t.jsx(Z,{value:e,onChange:v=>y(v.target.value),onFocus:()=>{!o&&e.length>=2&&l.length>0&&u(!0)},placeholder:a,className:i,disabled:o}),d&&t.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-48 overflow-y-auto",children:m?t.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Searching..."}):l.length===0?t.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:e.length>=2?"No results found":"Type to search"}):l.map(v=>t.jsxs("div",{className:"px-2 py-2 hover:bg-gray-100 cursor-pointer text-sm border-b last:border-b-0",onClick:()=>f(v),children:[t.jsx("div",{className:"font-medium",children:v.name}),v.strength&&v.dosage_form&&t.jsxs("div",{className:"text-xs text-muted-foreground",children:[v.strength," - ",v.dosage_form]}),v.contact&&t.jsx("div",{className:"text-xs text-muted-foreground",children:v.contact}),v.current_stock!==void 0&&t.jsxs("div",{className:"text-xs text-green-600",children:["Stock: ",v.current_stock," ",v.unit]})]},v.id))})]})}function N1e({open:e,onOpenChange:r,order:n,onOrderUpdated:s}){const[a,i]=g.useState([]),[o,l]=g.useState(""),[c,d]=g.useState(!1),[u,m]=g.useState(0),[h,p]=g.useState("cash"),[y,f]=g.useState(""),{toast:v}=Tt();L.useEffect(()=>{if(n&&e){console.log("Order data:",n),console.log("Order items:",n.items);const _=n.items.map(C=>({id:C.id,quantity:C.quantity_confirmed,delete:!1,notes:"",original:C}));console.log("Adjusted items:",_),i(_),l(""),m(0),f("")}},[n,e]);const j=(_,C,A)=>{i(M=>M.map(R=>R.id===_?{...R,[C]:A}:R))},x=()=>a.reduce((_,C)=>C.delete?_:_+C.quantity*C.original.unit_price,0),b=()=>{const _=x();return Math.max(0,_-u)},S=async()=>{try{d(!0);const _={items:a.map(M=>({id:M.id,quantity:M.quantity,delete:M.delete,notes:M.notes})),buyer_notes:o,payment:u>0?{amount:u,payment_method:h,notes:y,payment_type:"installment"}:{}},C=localStorage.getItem("access_token")||localStorage.getItem("token");if(!(await fetch(`http://localhost:8000/api/inventory/purchase-orders/${n==null?void 0:n.id}/adjust/`,{method:"POST",headers:{"Content-Type":"application/json",...C&&{Authorization:`Bearer ${C}`}},body:JSON.stringify(_)})).ok)throw new Error("Failed to adjust order");v({title:"Order Adjusted",description:"Order items have been successfully adjusted."}),s(),r(!1)}catch(_){console.error("Error adjusting order:",_),v({title:"Error",description:"Failed to adjust order items",variant:"destructive"})}finally{d(!1)}};if(!n)return null;const w=x(),N=n.total_amount-w,P=b();return t.jsx(rt,{open:e,onOpenChange:r,children:t.jsxs(nt,{className:"max-w-5xl max-h-[85vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsxs(at,{className:"text-lg",children:["Reconfirm Order - ",n.order_number]}),t.jsx(Pt,{className:"text-sm",children:"Adjust quantities, remove items, and make payment for this order."})]}),t.jsxs("div",{className:"space-y-4 text-sm",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-3 p-3 bg-muted rounded text-sm",children:[t.jsxs("div",{children:[t.jsx(I,{className:"text-xs font-medium",children:"Original Total"}),t.jsxs("p",{className:"text-base font-bold",children:["NPR ",n.total_amount.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs font-medium",children:"Adjusted Total"}),t.jsxs("p",{className:"text-base font-bold text-blue-600",children:["NPR ",w.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs font-medium",children:"Savings"}),t.jsxs("p",{className:`text-base font-bold ${N>0?"text-green-600":"text-gray-500"}`,children:["NPR ",N.toLocaleString()]})]})]}),t.jsxs("div",{className:"space-y-3 p-3 border rounded-lg",children:[t.jsx(I,{className:"text-sm font-semibold",children:"Payment Information"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"paymentAmount",className:"text-xs",children:"Payment Amount"}),t.jsx(Z,{id:"paymentAmount",type:"number",min:"0",max:w,value:u,onChange:_=>m(parseFloat(_.target.value)||0),placeholder:"0.00",className:"h-8 text-sm"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"paymentMethod",className:"text-xs",children:"Payment Method"}),t.jsxs(_e,{value:h,onValueChange:p,children:[t.jsx(Pe,{className:"h-8 text-sm",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"cash",children:"Cash"}),t.jsx($,{value:"bank_transfer",children:"Bank Transfer"}),t.jsx($,{value:"check",children:"Check"}),t.jsx($,{value:"credit_card",children:"Credit Card"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs",children:"Remaining Due"}),t.jsxs("div",{className:"p-2 bg-gray-100 rounded text-right font-bold text-sm",children:["NPR ",P.toLocaleString()]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"paymentNotes",className:"text-xs",children:"Payment Notes"}),t.jsx(Vt,{id:"paymentNotes",value:y,onChange:_=>f(_.target.value),placeholder:"Payment reference, transaction ID, etc...",rows:2,className:"text-sm"})]}),u>0&&t.jsx("div",{className:"p-3 bg-blue-50 rounded",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:["Payment: NPR ",u.toLocaleString()]}),t.jsxs("div",{children:["Remaining: NPR ",P.toLocaleString()]}),t.jsxs("div",{children:["Method: ",h.replace("_"," ").toUpperCase()]}),t.jsxs("div",{children:["Status: ",P<=0?"PAID IN FULL":"PARTIAL PAYMENT"]})]})})]}),t.jsxs("div",{children:[t.jsxs(I,{className:"text-sm font-semibold",children:["Order Items (",a.length,")"]}),t.jsx("div",{className:"border rounded mt-1",children:t.jsxs(Ct,{className:"text-xs",children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Product"}),t.jsx(H,{children:"Requested"}),t.jsx(H,{children:"Confirmed"}),t.jsx(H,{children:"Adjusted Qty"}),t.jsx(H,{children:"Unit Price"}),t.jsx(H,{children:"Total"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:a.map(_=>t.jsxs(Ie,{className:_.delete?"opacity-50 bg-red-50":"",children:[t.jsx(V,{className:"p-2",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-xs",children:_.original.product.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:_.original.product.strength})]})}),t.jsx(V,{className:"p-2 text-xs",children:_.original.quantity_requested}),t.jsx(V,{className:"p-2 text-xs",children:_.original.quantity_confirmed}),t.jsx(V,{className:"p-2",children:_.delete?t.jsx("span",{className:"text-red-600 font-medium text-xs",children:"REMOVED"}):t.jsx(Z,{type:"number",min:"0",max:_.original.quantity_confirmed,value:_.quantity,onChange:C=>j(_.id,"quantity",parseInt(C.target.value)||0),className:"w-16 h-7 text-xs"})}),t.jsxs(V,{className:"p-2 text-xs",children:["NPR ",_.original.unit_price]}),t.jsx(V,{className:"p-2",children:t.jsxs("span",{className:`text-xs ${_.delete?"line-through text-red-600":"font-medium"}`,children:["NPR ",(_.delete?0:_.quantity*_.original.unit_price).toLocaleString()]})}),t.jsx(V,{className:"p-2",children:_.delete?t.jsx(te,{variant:"destructive",className:"text-xs px-1 py-0",children:"Removed"}):_.quantity<_.original.quantity_confirmed?t.jsx(te,{variant:"outline",className:"text-xs px-1 py-0",children:"Reduced"}):t.jsx(te,{variant:"secondary",className:"text-xs px-1 py-0",children:"Unchanged"})}),t.jsx(V,{className:"p-2",children:t.jsx("div",{className:"flex items-center gap-1",children:_.delete?t.jsxs(O,{size:"sm",variant:"outline",onClick:()=>j(_.id,"delete",!1),className:"h-6 px-2 text-xs",children:[t.jsx(Ni,{size:10,className:"mr-1"}),"Restore"]}):t.jsxs(O,{size:"sm",variant:"destructive",onClick:()=>j(_.id,"delete",!0),className:"h-6 px-2 text-xs",children:[t.jsx(ss,{size:10,className:"mr-1"}),"Remove"]})})})]},_.id))})]})})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"buyerNotes",className:"text-sm font-semibold",children:"Reconfirmation Notes"}),t.jsx(Vt,{id:"buyerNotes",placeholder:"Notes about order adjustments and payment...",value:o,onChange:_=>l(_.target.value),className:"mt-1 text-sm",rows:3})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),t.jsx(O,{onClick:S,disabled:c,children:c?"Processing...":u>0?"Reconfirm & Pay":"Reconfirm Order"})]})]})})}const w1e=e=>({draft:{label:"Draft",variant:"secondary"},submitted:{label:"Submitted",variant:"outline"},supplier_reviewing:{label:"Under Review",variant:"outline"},supplier_confirmed:{label:"Quote Received",variant:"default"},buyer_reviewing:{label:"Reviewing Quote",variant:"default"},buyer_confirmed:{label:"Confirmed",variant:"default"},buyer_reconfirming:{label:"Reconfirming",variant:"outline"},payment_pending:{label:"Payment Pending",variant:"destructive"},payment_partial:{label:"Partial Payment",variant:"outline"},payment_completed:{label:"Payment Complete",variant:"default"},ready_to_ship:{label:"Ready to Ship",variant:"default"},shipped:{label:"Shipped",variant:"outline"},delivered:{label:"Delivered",variant:"default"},completed:{label:"Completed",variant:"default"},cancelled:{label:"Cancelled",variant:"destructive"},supplier_rejected:{label:"Rejected",variant:"destructive"}})[e]||{label:e,variant:"secondary"};function S1e(){var ne;const[e,r]=g.useState(""),[n,s]=g.useState("all"),[a,i]=g.useState(!1);g.useState(null);const[o,l]=g.useState([]),[c,d]=g.useState(""),[u,m]=g.useState(""),[h,p]=g.useState([{id:1,product:null,quantity:"",productInput:""}]);g.useState([]);const[y,f]=g.useState([]),[v,j]=g.useState(!1),[x,b]=g.useState(ge()),[S,w]=g.useState(""),[N,P]=g.useState(!1),[_,C]=g.useState(null),[A,M]=g.useState(!1),[R,E]=g.useState(null),[F,G]=g.useState([]),[D,J]=g.useState(1),[q,U]=g.useState(1),[re,he]=g.useState(0),ie=10,{toast:fe}=Tt(),xe=async(Y=1)=>{try{j(!0);const ce=localStorage.getItem("access_token")||localStorage.getItem("token"),Ne=await fetch(`http://localhost:8000/api/inventory/bulk-orders/?page=${Y}&page_size=${ie}`,{headers:{"Content-Type":"application/json",...ce&&{Authorization:`Bearer ${ce}`}}});if(Ne.ok){const K=await Ne.json();f(K.results||K||[]),he(K.count||0),U(Math.ceil((K.count||0)/ie)),J(Y)}else throw new Error("Failed to fetch orders")}catch(ce){console.error("Error fetching bulk orders:",ce),fe({title:"Error",description:"Failed to load purchase orders",variant:"destructive"})}finally{j(!1)}};g.useEffect(()=>{xe(1)},[]);function ge(){const Y=new Date;return Y.setDate(Y.getDate()+3),Y.toISOString().split("T")[0]}const Te=async Y=>{if(!Y.trim()||!c)return[];try{const ce=localStorage.getItem("access_token")||localStorage.getItem("token"),Ne=await fetch(`http://localhost:8000/api/inventory/products/purchase-order/?q=${Y}&supplier_id=${c}`,{headers:{"Content-Type":"application/json",...ce&&{Authorization:`Bearer ${ce}`}}});return Ne.ok?await Ne.json()||[]:[]}catch(ce){return console.error("Error fetching products:",ce),[]}},Se=async Y=>{try{const ce=localStorage.getItem("access_token")||localStorage.getItem("token"),Ne=await fetch(`http://localhost:8000/api/inventory/purchase-orders/${Y}/import-preview/`,{headers:{"Content-Type":"application/json",...ce&&{Authorization:`Bearer ${ce}`}}});if(Ne.ok){const K=await Ne.json();E({id:Y,...K}),G(K.items.map(de=>({...de,selling_price:de.suggested_selling_price}))),M(!0)}else throw new Error("Failed to get import preview")}catch(ce){console.error("Error getting import preview:",ce),fe({title:"Error",description:"Failed to get import preview",variant:"destructive"})}},Ue=async()=>{try{j(!0);const Y=localStorage.getItem("access_token")||localStorage.getItem("token"),ce=await fetch(`http://localhost:8000/api/inventory/purchase-orders/${R.id}/import-stock/`,{method:"POST",headers:{"Content-Type":"application/json",...Y&&{Authorization:`Bearer ${Y}`}},body:JSON.stringify({items:F.map(Ne=>({order_item_id:Ne.order_item_id,selling_price:Ne.selling_price}))})});if(ce.ok){const Ne=await ce.json();fe({title:"Import Successful",description:Ne.message}),M(!1),xe(D)}else throw new Error("Failed to import stock")}catch(Y){console.error("Error importing stock:",Y),fe({title:"Error",description:"Failed to import stock to inventory",variant:"destructive"})}finally{j(!1)}},be=Y=>{h.length>1&&p(h.filter(ce=>ce.id!==Y))},Q=(Y,ce,Ne)=>{p(K=>K.map(de=>de.id===Y?{...de,[ce]:Ne}:de))},pe=()=>{const Y=Math.max(...h.map(ce=>ce.id))+1;p([...h,{id:Y,product:null,quantity:"",productInput:""}])};g.useEffect(()=>{oe()},[]);const oe=async()=>{try{const Y=localStorage.getItem("access_token")||localStorage.getItem("token"),ce=await fetch("http://localhost:8000/api/auth/users/?role=supplier_admin&external_only=true",{headers:{"Content-Type":"application/json",...Y&&{Authorization:`Bearer ${Y}`}}});if(ce.ok){const Ne=await ce.json();if(Ne.results){const K=Ne.results.map(de=>({id:de.id,name:`${de.first_name} ${de.last_name}`.trim(),contact:de.phone||de.email||"N/A",organization:de.organization_name||"N/A"}));l(K)}}}catch(Y){console.error("Error fetching suppliers:",Y),fe({title:"Error",description:"Failed to load suppliers",variant:"destructive"})}},ze=y.filter(Y=>{var K,de;const ce=((K=Y.order_number)==null?void 0:K.toLowerCase().includes(e.toLowerCase()))||((de=Y.supplier_organization_name)==null?void 0:de.toLowerCase().includes(e.toLowerCase())),Ne=n==="all"||Y.status===n;return ce&&Ne}),Fe=Y=>{const ce=w1e(Y),K={submitted:Ut,supplier_reviewing:yt,supplier_confirmed:mt,buyer_confirmed:mt,payment_pending:bi,shipped:fn,delivered:vt,completed:mt,cancelled:ga,supplier_rejected:ga}[Y]||Ut;return t.jsxs(te,{variant:ce.variant,className:"flex items-center gap-1",children:[t.jsx(K,{size:12}),ce.label]})},tt=async()=>{var ce,Ne;if(!c){fe({title:"Error",description:"Please select a supplier",variant:"destructive"});return}const Y=h.filter(K=>K.product&&K.product.id&&K.quantity>0);if(Y.length===0){fe({title:"Error",description:"Please select products and set quantities",variant:"destructive"});return}try{j(!0);const K={supplier_user_id:c,expected_delivery_date:x,buyer_notes:S,items:Y.map(Ve=>({product_id:Ve.product.id,quantity_requested:Ve.quantity}))},de=localStorage.getItem("access_token")||localStorage.getItem("token");if(!(await fetch("http://localhost:8000/api/inventory/bulk-orders/",{method:"POST",headers:{"Content-Type":"application/json",...de&&{Authorization:`Bearer ${de}`}},body:JSON.stringify(K)})).ok)throw new Error("Failed to create order");fe({title:"Purchase Order Created",description:"New purchase order has been submitted to supplier."}),d(""),m(""),p([{id:1,product:null,quantity:"",productInput:""}]),b(ge()),w(""),i(!1),xe(D)}catch(K){console.error("Error creating order:",K),fe({title:"Error",description:((Ne=(ce=K.response)==null?void 0:ce.data)==null?void 0:Ne.detail)||"Failed to create purchase order",variant:"destructive"})}finally{j(!1)}},lt=async(Y,ce)=>{try{j(!0);let Ne=`/api/inventory/bulk-orders/${Y}/status/`,K={action:ce};ce==="accept_quote"?K={action:"buyer_confirm",notes:"Quote accepted by buyer"}:ce==="make_payment"&&(K={action:"payment_pending",notes:"Payment process initiated"});const de=localStorage.getItem("access_token")||localStorage.getItem("token");if(!(await fetch(`http://localhost:8000${Ne}`,{method:"POST",headers:{"Content-Type":"application/json",...de&&{Authorization:`Bearer ${de}`}},body:JSON.stringify(K)})).ok)throw new Error("Failed to update order");fe({title:"Order Updated",description:"Order action completed successfully."}),xe(D)}catch(Ne){console.error("Error updating order:",Ne),fe({title:"Error",description:"Failed to update order",variant:"destructive"})}finally{j(!1)}},me=Y=>{var Ne;console.log("Selected order for adjustment:",Y);const ce={...Y,items:((Ne=Y.items)==null?void 0:Ne.map(K=>{var de,Le;return{id:K.id,product:{name:((de=K.product)==null?void 0:de.name)||K.product_name,strength:((Le=K.product)==null?void 0:Le.strength)||K.product_strength},quantity_requested:K.quantity_requested,quantity_confirmed:K.quantity_confirmed,unit_price:K.unit_price,total_price:K.total_price,is_available:K.is_available}}))||[]};console.log("Adjusted order structure:",ce),C(ce),P(!0)},He=Y=>{switch(Y){case"supplier_confirmed":return[{value:"accept_quote",label:"Accept Quote & Proceed"},{value:"cancel",label:"Cancel Order"}];case"buyer_confirmed":case"payment_pending":case"payment_partial":return[{value:"make_payment",label:"Make Payment"},{value:"cancel",label:"Cancel Order"}];case"shipped":return[{value:"mark_delivered",label:"Mark as Delivered"}];case"delivered":return[{value:"complete",label:"Complete Order"}];default:return[]}},ae=y.length,je=y.filter(Y=>["submitted","supplier_reviewing","supplier_confirmed"].includes(Y.status)).length,W=y.filter(Y=>["buyer_confirmed","payment_pending","payment_partial","ready_to_ship"].includes(Y.status)).length,se=y.reduce((Y,ce)=>Y+(parseFloat(ce.total_amount)||0),0),le=ae>0?se/ae:0;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Purchase Orders"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage supplier orders and procurement"})]}),t.jsxs(rt,{open:a,onOpenChange:i,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Create Purchase Order"]})}),t.jsxs(nt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Create New Purchase Order"}),t.jsx(Pt,{children:"Create a new purchase order for supplier procurement"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"supplier",children:"Supplier"}),t.jsx(mk,{value:u,onChange:m,onSelect:Y=>{d(Y.id),m(Y.name)},onSearch:async Y=>{var de;const ce=localStorage.getItem("access_token")||localStorage.getItem("token");return((de=(await(await fetch(`http://localhost:8000/api/auth/users/?role=supplier_admin&search=${Y}&external_only=true`,{headers:{"Content-Type":"application/json",...ce&&{Authorization:`Bearer ${ce}`}}})).json()).results)==null?void 0:de.map(Le=>({id:Le.id,name:`${Le.first_name} ${Le.last_name}`.trim(),contact:Le.phone||Le.email,organization:Le.organization_name})))||[]},placeholder:"Search suppliers..."})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"expectedDate",children:"Expected Delivery"}),t.jsx(Z,{type:"date",value:x,onChange:Y=>b(Y.target.value)})]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Order Items"}),t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm font-medium mb-3",children:[t.jsx("span",{children:"Product"}),t.jsx("span",{children:"Quantity"}),t.jsx("span",{children:"Actions"}),t.jsx("span",{})]}),t.jsx("div",{className:`space-y-3 ${h.length>5?"max-h-80 overflow-y-auto":""}`,children:h.map(Y=>t.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center",children:[t.jsx(mk,{value:Y.productInput||"",onChange:ce=>Q(Y.id,"productInput",ce),onSelect:ce=>{Q(Y.id,"product",ce),Q(Y.id,"productInput",ce.name)},onSearch:Te,placeholder:c?"Search products...":"Select supplier first",disabled:!c,className:"w-full"}),t.jsx(Z,{type:"number",min:"1",value:Y.quantity,onChange:ce=>Q(Y.id,"quantity",parseInt(ce.target.value)||""),placeholder:"Qty"}),t.jsx(O,{variant:"outline",size:"sm",onClick:()=>be(Y.id),disabled:h.length===1,children:t.jsx(ss,{size:12})}),t.jsx("div",{})]},Y.id))}),t.jsxs(O,{variant:"outline",size:"sm",onClick:pe,className:"mt-3",children:[t.jsx(zt,{size:12,className:"mr-1"}),"Add Item"]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"notes",children:"Notes"}),t.jsx(Vt,{placeholder:"Additional notes for this order...",value:S,onChange:Y=>w(Y.target.value)})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),t.jsx(O,{onClick:tt,disabled:v,children:v?"Creating...":"Create Order"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fn,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:ae}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-5 w-5 text-yellow-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:je}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting Response"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:W}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"In Progress"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ht,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold",children:["NPR ",se.toFixed(2).replace(/\.00$/,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Value"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold",children:["NPR ",isNaN(le)?"0":le.toFixed(2).replace(/\.00$/,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Order Value"})]})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search orders by ID or supplier...",value:e,onChange:Y=>r(Y.target.value),className:"pl-10"})]})}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Statuses"}),t.jsx($,{value:"submitted",children:"Submitted"}),t.jsx($,{value:"supplier_confirmed",children:"Quote Received"}),t.jsx($,{value:"buyer_confirmed",children:"Confirmed"}),t.jsx($,{value:"payment_pending",children:"Payment Pending"}),t.jsx($,{value:"shipped",children:"Shipped"}),t.jsx($,{value:"delivered",children:"Delivered"}),t.jsx($,{value:"completed",children:"Completed"}),t.jsx($,{value:"cancelled",children:"Cancelled"})]})]})]})})}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs(B,{children:["Purchase Orders (",re,")"]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:["Page ",D," of ",q]})]})}),t.jsxs(k,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Order ID"}),t.jsx(H,{children:"Supplier"}),t.jsx(H,{children:"Order Date"}),t.jsx(H,{children:"Expected Date"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Total Amount"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:v?t.jsx(Ie,{children:t.jsx(V,{colSpan:7,className:"text-center py-8",children:"Loading orders..."})}):ze.length===0?t.jsx(Ie,{children:t.jsx(V,{colSpan:7,className:"text-center py-8",children:"No purchase orders found"})}):ze.map(Y=>{var ce,Ne;return t.jsxs(Ie,{children:[t.jsx(V,{className:"font-medium",children:Y.order_number}),t.jsx(V,{children:Y.supplier_organization_name}),t.jsx(V,{children:new Date(Y.order_date).toLocaleDateString()}),t.jsx(V,{children:new Date(Y.expected_delivery_date).toLocaleDateString()}),t.jsx(V,{children:Fe(Y.status)}),t.jsxs(V,{className:"font-medium",children:["NPR ",(Y.total_amount||0).toLocaleString()]}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(yt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsx(st,{children:t.jsxs(at,{children:["Purchase Order Details - ",Y.order_number]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Supplier"}),t.jsx("p",{className:"font-medium",children:Y.supplier_organization_name})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Status"}),t.jsx("div",{className:"mt-1",children:Fe(Y.status)})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Order Date"}),t.jsx("p",{children:new Date(Y.order_date).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Expected Date"}),t.jsx("p",{children:new Date(Y.expected_delivery_date).toLocaleDateString()})]})]}),t.jsxs("div",{children:[t.jsxs(I,{children:["Order Items (",Y.total_items||0,")"]}),t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Product"}),t.jsx(H,{children:"Requested"}),t.jsx(H,{children:"Confirmed"}),t.jsx(H,{children:"Unit Price"}),t.jsx(H,{children:"Total"})]})}),t.jsx(At,{children:((ce=Y.items)==null?void 0:ce.map(K=>{var de;return t.jsxs(Ie,{children:[t.jsx(V,{children:(de=K.product)==null?void 0:de.name}),t.jsx(V,{children:K.quantity_requested}),t.jsx(V,{children:K.quantity_confirmed||"-"}),t.jsx(V,{children:K.unit_price?`NPR ${K.unit_price}`:"-"}),t.jsx(V,{children:K.total_price?`NPR ${K.total_price.toLocaleString()}`:"-"})]},K.id)}))||t.jsx(Ie,{children:t.jsx(V,{colSpan:5,className:"text-center",children:"No items found"})})})]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Notes"}),t.jsx("p",{className:"text-sm",children:Y.buyer_notes||"No notes"})]}),t.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded-lg",children:[t.jsx("span",{className:"font-medium",children:"Total Amount:"}),t.jsxs("span",{className:"text-xl font-bold",children:["NPR ",(Y.total_amount||0).toLocaleString()]})]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[Y.status==="supplier_confirmed"&&t.jsxs(O,{size:"sm",variant:"default",onClick:()=>me(Y),className:"h-7 px-2 text-xs",children:[t.jsx(cn,{size:10,className:"mr-1"}),"Adjust"]}),((Ne=Y.available_actions)==null?void 0:Ne.includes("import_stock"))&&t.jsxs(O,{size:"sm",variant:"default",onClick:()=>Se(Y.id),className:"h-7 px-2 text-xs",children:[t.jsx(vt,{size:10,className:"mr-1"}),"Import"]}),(()=>{const K=He(Y.status);return K.length>0?t.jsxs(_e,{onValueChange:de=>lt(Y.id,de),children:[t.jsx(Pe,{className:"w-28 h-7 text-xs",children:t.jsx(Ae,{placeholder:"Actions"})}),t.jsx(Ce,{children:K.map(de=>t.jsx($,{value:de.value,className:"text-xs",children:de.label},de.value))})]}):null})()]})]})})]},Y.id)})})]})}),q>1&&t.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(D-1)*ie+1," to ",Math.min(D*ie,re)," of ",re," orders"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(O,{variant:"outline",size:"sm",onClick:()=>xe(D-1),disabled:D===1||v,children:[t.jsx(M4,{size:16}),"Previous"]}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,q)},(Y,ce)=>{const Ne=ce+Math.max(1,D-2);return Ne>q?null:t.jsx(O,{variant:Ne===D?"default":"outline",size:"sm",onClick:()=>xe(Ne),disabled:v,className:"w-8 h-8 p-0",children:Ne},Ne)})}),t.jsxs(O,{variant:"outline",size:"sm",onClick:()=>xe(D+1),disabled:D===q||v,children:["Next",t.jsx(Ow,{size:16})]})]})]})]})]}),t.jsx(N1e,{open:N,onOpenChange:P,order:_,onOrderUpdated:()=>xe(D)}),t.jsx(rt,{open:A,onOpenChange:M,children:t.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Import Stock to Inventory"}),t.jsxs(Pt,{children:["Set selling prices for items from order ",R==null?void 0:R.order_number]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Supplier"}),t.jsx("p",{className:"font-medium",children:R==null?void 0:R.supplier_name})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Total Order Cost"}),t.jsxs("p",{className:"font-medium",children:["NPR ",(ne=R==null?void 0:R.total_order_cost)==null?void 0:ne.toLocaleString()]})]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Items to Import"}),t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Product"}),t.jsx(H,{children:"Quantity"}),t.jsx(H,{children:"Cost Price"}),t.jsx(H,{children:"Selling Price"}),t.jsx(H,{children:"Total Cost"})]})}),t.jsx(At,{children:F.map((Y,ce)=>t.jsxs(Ie,{children:[t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:Y.product_name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[Y.product_strength," ",Y.product_dosage_form]})]})}),t.jsxs(V,{children:[Y.quantity," ",Y.unit]}),t.jsxs(V,{children:["NPR ",Y.cost_price]}),t.jsx(V,{children:t.jsx(Z,{type:"number",step:"0.01",value:Y.selling_price,onChange:Ne=>{const K=[...F];K[ce].selling_price=parseFloat(Ne.target.value)||0,G(K)},className:"w-24"})}),t.jsxs(V,{children:["NPR ",Y.total_cost.toLocaleString()]})]},Y.order_item_id))})]})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),t.jsx(O,{onClick:Ue,disabled:v,children:v?"Importing...":"Import to Inventory"})]})]})})]})}const Ru=[{id:"TR-001",product:"Paracetamol 500mg",fromLocation:"Main Pharmacy",toLocation:"Branch - Thamel",quantity:100,transferDate:"2024-01-15",requestedBy:"Ram Sharma",status:"pending",priority:"high",reason:"Stock shortage at branch",estimatedArrival:"2024-01-16",notes:"Urgent transfer required"},{id:"TR-002",product:"Insulin Pen",fromLocation:"Central Warehouse",toLocation:"Main Pharmacy",quantity:25,transferDate:"2024-01-14",requestedBy:"Sita Gurung",status:"in_transit",priority:"medium",reason:"Routine restocking",estimatedArrival:"2024-01-15",notes:"Handle with care - refrigerated item"},{id:"TR-003",product:"Cetirizine 10mg",fromLocation:"Branch - Thamel",toLocation:"Branch - Patan",quantity:50,transferDate:"2024-01-13",requestedBy:"Hari Thapa",status:"completed",priority:"low",reason:"Excess stock redistribution",estimatedArrival:"2024-01-14",notes:"Completed successfully"},{id:"TR-004",product:"Blood Pressure Monitor",fromLocation:"Main Pharmacy",toLocation:"Branch - Bhaktapur",quantity:5,transferDate:"2024-01-12",requestedBy:"Maya Shrestha",status:"cancelled",priority:"medium",reason:"Customer demand",estimatedArrival:"2024-01-13",notes:"Cancelled due to supplier direct delivery"}],hk=[{id:"main",name:"Main Pharmacy",type:"pharmacy"},{id:"warehouse",name:"Central Warehouse",type:"warehouse"},{id:"thamel",name:"Branch - Thamel",type:"branch"},{id:"patan",name:"Branch - Patan",type:"branch"},{id:"bhaktapur",name:"Branch - Bhaktapur",type:"branch"}];function fk(){const[e,r]=g.useState(""),[n,s]=g.useState("all"),[a,i]=g.useState(!1),{toast:o}=Tt(),l=Ru.filter(v=>{const j=v.id.toLowerCase().includes(e.toLowerCase())||v.product.toLowerCase().includes(e.toLowerCase())||v.fromLocation.toLowerCase().includes(e.toLowerCase())||v.toLocation.toLowerCase().includes(e.toLowerCase()),x=n==="all"||v.status===n;return j&&x}),c=v=>{const j={pending:{variant:"secondary",icon:Ut,label:"Pending"},in_transit:{variant:"default",icon:fn,label:"In Transit"},completed:{variant:"default",icon:mt,label:"Completed"},cancelled:{variant:"destructive",icon:bi,label:"Cancelled"}},x=j[v]||j.pending,b=x.icon;return t.jsxs(te,{variant:x.variant,className:"flex items-center gap-1",children:[t.jsx(b,{size:12}),x.label]})},d=v=>{const j={high:{variant:"destructive",label:"High"},medium:{variant:"secondary",label:"Medium"},low:{variant:"outline",label:"Low"}},x=j[v]||j.medium;return t.jsx(te,{variant:x.variant,children:x.label})},u=()=>{o({title:"Transfer Request Created",description:"Stock transfer request has been created successfully."}),i(!1)},m=(v,j)=>{o({title:"Transfer Status Updated",description:`Transfer ${v} status changed to ${j}.`})},h=Ru.length,p=Ru.filter(v=>v.status==="pending").length,y=Ru.filter(v=>v.status==="in_transit").length,f=Ru.filter(v=>v.status==="completed").length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Stock Transfers"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage inventory transfers between locations"})]}),t.jsxs(rt,{open:a,onOpenChange:i,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Create Transfer Request"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Create Stock Transfer"}),t.jsx(Pt,{children:"Request transfer of inventory between locations"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"product",children:"Product"}),t.jsx(Z,{placeholder:"Search product..."})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"quantity",children:"Quantity"}),t.jsx(Z,{type:"number",placeholder:"Enter quantity"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"fromLocation",children:"From Location"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select source location"})}),t.jsx(Ce,{children:hk.map(v=>t.jsxs($,{value:v.id,children:[v.name," (",v.type,")"]},v.id))})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"toLocation",children:"To Location"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select destination"})}),t.jsx(Ce,{children:hk.map(v=>t.jsxs($,{value:v.id,children:[v.name," (",v.type,")"]},v.id))})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"priority",children:"Priority"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select priority"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"low",children:"Low"}),t.jsx($,{value:"medium",children:"Medium"}),t.jsx($,{value:"high",children:"High"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"estimatedDate",children:"Estimated Arrival"}),t.jsx(Z,{type:"date"})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"reason",children:"Reason for Transfer"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select reason"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"stock_shortage",children:"Stock Shortage"}),t.jsx($,{value:"excess_stock",children:"Excess Stock Redistribution"}),t.jsx($,{value:"routine_restock",children:"Routine Restocking"}),t.jsx($,{value:"customer_demand",children:"Customer Demand"}),t.jsx($,{value:"expiry_management",children:"Expiry Management"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"notes",children:"Notes"}),t.jsx(Vt,{placeholder:"Additional notes for this transfer..."})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),t.jsx(O,{onClick:u,children:"Create Transfer"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:h}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transfers"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-8 w-8 text-yellow-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:p}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(fn,{className:"h-8 w-8 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:y}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"In Transit"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:f}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search transfers by ID, product, or location...",value:e,onChange:v=>r(v.target.value),className:"pl-10"})]})}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Statuses"}),t.jsx($,{value:"pending",children:"Pending"}),t.jsx($,{value:"in_transit",children:"In Transit"}),t.jsx($,{value:"completed",children:"Completed"}),t.jsx($,{value:"cancelled",children:"Cancelled"})]})]})]})})}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{children:["Stock Transfers (",l.length,")"]})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Transfer ID"}),t.jsx(H,{children:"Product"}),t.jsx(H,{children:"Route"}),t.jsx(H,{children:"Quantity"}),t.jsx(H,{children:"Priority"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Date"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:l.map(v=>t.jsxs(Ie,{children:[t.jsx(V,{className:"font-medium",children:v.id}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:v.product}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Requested by: ",v.requestedBy]})]})}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",children:v.fromLocation}),t.jsx(Yz,{size:14,className:"text-muted-foreground"}),t.jsx("span",{className:"text-sm",children:v.toLocation})]})}),t.jsx(V,{className:"font-medium",children:v.quantity}),t.jsx(V,{children:d(v.priority)}),t.jsx(V,{children:c(v.status)}),t.jsx(V,{children:v.transferDate}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(yt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsx(st,{children:t.jsxs(at,{children:["Transfer Details - ",v.id]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Product"}),t.jsx("p",{className:"font-medium",children:v.product})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Quantity"}),t.jsx("p",{className:"font-medium",children:v.quantity})]}),t.jsxs("div",{children:[t.jsx(I,{children:"From Location"}),t.jsxs("p",{className:"flex items-center gap-1",children:[t.jsx(Ma,{size:14}),v.fromLocation]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"To Location"}),t.jsxs("p",{className:"flex items-center gap-1",children:[t.jsx(Ma,{size:14}),v.toLocation]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Requested By"}),t.jsxs("p",{className:"flex items-center gap-1",children:[t.jsx(Si,{size:14}),v.requestedBy]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Transfer Date"}),t.jsxs("p",{className:"flex items-center gap-1",children:[t.jsx(Ot,{size:14}),v.transferDate]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Priority"}),t.jsx("div",{className:"mt-1",children:d(v.priority)})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Status"}),t.jsx("div",{className:"mt-1",children:c(v.status)})]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Reason for Transfer"}),t.jsx("p",{children:v.reason})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Estimated Arrival"}),t.jsx("p",{children:v.estimatedArrival})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Notes"}),t.jsx("p",{className:"text-sm",children:v.notes})]})]})]})]}),v.status==="pending"&&t.jsxs(_e,{onValueChange:j=>m(v.id,j),children:[t.jsx(Pe,{className:"w-32",children:t.jsx(Ae,{placeholder:"Update"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"in_transit",children:"Start Transfer"}),t.jsx($,{value:"cancelled",children:"Cancel"})]})]}),v.status==="in_transit"&&t.jsx(O,{size:"sm",onClick:()=>m(v.id,"completed"),children:"Mark Complete"})]})})]},v.id))})]})})})]})]})}function P1e(){const[e,r]=g.useState([]),[n,s]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState(null),[c,d]=g.useState(!0),[u,m]=g.useState({count:0,next:null,previous:null,currentPage:1,totalPages:1}),[h,p]=g.useState(""),[y,f]=g.useState("all"),[v,j]=g.useState("all"),[x,b]=g.useState("all"),[S,w]=g.useState(!1),[N,P]=g.useState(null),[_,C]=g.useState(!1),[A,M]=g.useState(!1),{toast:R}=Tt(),[E,F]=g.useState([{id:1,name:"",product_code:"",generic_name:"",brand_name:"",category:"",dosage_form:"tablet",strength:"",pack_size:"",unit:"strip",manufacturer_name:"",requires_prescription:!1,is_controlled:!1,is_insured:!1,description:"",alternatives:[]}]),[G,D]=g.useState(""),[J,q]=g.useState(!1),[U,re]=g.useState(null);g.useEffect(()=>{ie(1)},[h,y,v,x]);const he=ae=>{ie(ae)},ie=async(ae=1)=>{try{d(!0);const je={page:ae,search:h,category:y!=="all"?y:void 0,status:v!=="all"?v:void 0,prescription_required:x!=="all"?x==="prescription":void 0},[W,se,le,ne]=await Promise.all([hs.getMedications(je),hs.getCategories(),hs.getManufacturers(),hs.getMedicationStats()]);W.success&&W.data&&(r(W.data.results||[]),m({count:W.data.count,next:W.data.next,previous:W.data.previous,currentPage:ae,totalPages:Math.ceil(W.data.count/10)})),se.success&&s(se.data||[]),le.success&&i(le.data||[]),ne.success&&l(ne.data)}catch(je){console.error("Failed to load data:",je),R({title:"Error",description:"Failed to load medication data",variant:"destructive"})}finally{d(!1)}},fe=()=>{const ae=Math.max(...E.map(je=>je.id))+1;F([...E,{id:ae,name:"",product_code:"",generic_name:"",brand_name:"",category:"",dosage_form:"tablet",strength:"",pack_size:"",unit:"strip",manufacturer_name:"",requires_prescription:!1,is_controlled:!1,is_insured:!1,description:"",alternatives:[]}])},xe=(ae,je,W)=>{F(se=>se.map(le=>le.id===ae?{...le,[je]:W}:le))},ge=ae=>{E.length>1&&F(E.filter(je=>je.id!==ae))},Te=(ae,je)=>{F(W=>W.map(se=>se.id===ae&&!se.alternatives.includes(je)?{...se,alternatives:[...se.alternatives,je]}:se)),D(""),q(!1)},Se=(ae,je)=>{F(W=>W.map(se=>se.id===ae?{...se,alternatives:se.alternatives.filter(le=>le!==je)}:se))},Ue=ae=>{const je=E.find(se=>se.id===ae);return e.map(se=>se.name).filter(se=>se.toLowerCase().includes(G.toLowerCase())&&!(je!=null&&je.alternatives.includes(se))).slice(0,10)},be=()=>{const W="\uFEFF"+[["name","product_code","generic_name","brand_name","category_name","manufacturer_name","dosage_form","strength","pack_size","unit","requires_prescription","is_controlled","is_insured","description","alternatives","cost_price","selling_price"],...[["Paracetamol 500mg","MED001","Paracetamol","Crocin","Analgesics","GSK","tablet","500mg","10 tablets","strip","FALSE","FALSE","TRUE","Pain relief medication","Aspirin,Ibuprofen","50","75"],["Amoxicillin 250mg","MED002","Amoxicillin","Augmentin","Antibiotics","Pfizer","capsule","250mg","21 capsules","strip","TRUE","FALSE","TRUE","Antibiotic for bacterial infections","Azithromycin,Ciprofloxacin","120","180"]]].map(Y=>Y.map(ce=>`"${ce}"`).join(",")).join(`\r
`),se=new Blob([W],{type:"text/csv;charset=utf-8;"}),le=window.URL.createObjectURL(se),ne=document.createElement("a");ne.href=le,ne.download="medication_template.csv",document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),window.URL.revokeObjectURL(le)},Q=async ae=>{var W,se;const je=(W=ae.target.files)==null?void 0:W[0];if(je){const le=[".xlsx",".xls",".csv"],ne=je.name.toLowerCase().substring(je.name.lastIndexOf("."));if(!le.includes(ne)){R({title:"Error",description:"Please upload a valid Excel (.xlsx, .xls) or CSV file",variant:"destructive"});return}try{const Y=await hs.bulkUploadMedications(je);if(Y.success&&((se=Y.data)==null?void 0:se.created_count)!==void 0){const ce=Y.data.created_count||0,Ne=Y.data.errors||[];R({title:"Success",description:`${ce} medications uploaded successfully${Ne.length>0?` (${Ne.length} errors)`:""}`}),Ne.length>0&&console.warn("Upload errors:",Ne),ie()}else R({title:"Error",description:Y.error||Y.message||"Failed to upload file",variant:"destructive"})}catch(Y){R({title:"Error",description:(Y==null?void 0:Y.message)||"Failed to upload file. Please check the file format and try again.",variant:"destructive"})}ae.target.value=""}},pe=e,oe=ae=>{switch(ae){case"active":return t.jsx(te,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"});case"inactive":return t.jsx(te,{variant:"secondary",children:"Inactive"});case"discontinued":return t.jsx(te,{variant:"destructive",children:"Discontinued"});default:return t.jsx(te,{variant:"outline",children:ae})}},ze=ae=>{var W,se;let je=[];if(ae.description&&ae.description.includes("[ALTERNATIVES]"))try{const le=ae.description.indexOf("[ALTERNATIVES]")+14,ne=ae.description.indexOf("[/ALTERNATIVES]");ne>le&&(je=JSON.parse(ae.description.substring(le,ne)))}catch{je=[]}F([{id:1,name:ae.name,product_code:ae.product_code,generic_name:ae.generic_name||"",brand_name:ae.brand_name||"",category:((W=ae.category)==null?void 0:W.toString())||"",dosage_form:ae.dosage_form,strength:ae.strength||"",pack_size:ae.pack_size||"",unit:ae.unit,manufacturer_name:ae.manufacturer_name||"",requires_prescription:ae.requires_prescription,is_controlled:ae.is_controlled,is_insured:ae.is_insured||!1,description:((se=ae.description)==null?void 0:se.replace(/\n\[ALTERNATIVES\].*?\[\/ALTERNATIVES\]/g,""))||"",alternatives:je}]),P(ae),M(!0),w(!0)},Fe=async()=>{const ae=E.filter(je=>je.name&&je.product_code);if(ae.length===0){R({title:"Error",description:"Please fill in required fields (Name and Product Code) for at least one medication",variant:"destructive"});return}try{if(C(!0),A&&N){const je=ae[0],W={name:je.name,product_code:je.product_code,generic_name:je.generic_name,brand_name:je.brand_name,category:je.category?parseInt(je.category):void 0,manufacturer_name:je.manufacturer_name,dosage_form:je.dosage_form,strength:je.strength,pack_size:je.pack_size,unit:je.unit,requires_prescription:je.requires_prescription,is_controlled:je.is_controlled,description:je.description,alternatives:Array.isArray(je.alternatives)?je.alternatives:[],is_insured:je.is_insured,cost_price:N.cost_price||0,selling_price:N.selling_price||0};await hs.updateMedication(N.id,W),R({title:"Success",description:"Medication updated successfully"})}else{const je=ae.map(W=>({name:W.name,product_code:W.product_code,generic_name:W.generic_name,brand_name:W.brand_name,category:W.category?parseInt(W.category):void 0,manufacturer_name:W.manufacturer_name,dosage_form:W.dosage_form,strength:W.strength,pack_size:W.pack_size,unit:W.unit,requires_prescription:W.requires_prescription,is_controlled:W.is_controlled,description:W.description,alternatives:Array.isArray(W.alternatives)?W.alternatives:[],is_insured:W.is_insured,cost_price:0,selling_price:0,min_stock_level:10,max_stock_level:1e3,reorder_point:20,organization:1}));for(const W of je)await hs.createMedication(W);R({title:"Success",description:`${ae.length} medication(s) added successfully`})}F([{id:1,name:"",product_code:"",generic_name:"",brand_name:"",category:"",dosage_form:"tablet",strength:"",pack_size:"",unit:"strip",manufacturer_name:"",requires_prescription:!1,is_controlled:!1,is_insured:!1,description:"",alternatives:[]}]),P(null),M(!1),w(!1),ie()}catch(je){console.error("Failed to add medications:",je),R({title:"Error",description:"Failed to add medications",variant:"destructive"})}finally{C(!1)}},tt=(o==null?void 0:o.total_medications)||0,lt=(o==null?void 0:o.active_medications)||0,me=(o==null?void 0:o.prescription_medications)||0,He=(o==null?void 0:o.controlled_medications)||0;return c?t.jsxs("div",{className:"flex items-center justify-center h-64",children:[t.jsx(Zt,{className:"h-8 w-8 animate-spin"}),t.jsx("span",{className:"ml-2",children:"Loading medications..."})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Medication List"}),t.jsx("p",{className:"text-muted-foreground",children:"Global medicine catalog with detailed information"})]}),t.jsxs(rt,{open:S,onOpenChange:ae=>{w(ae),ae||(M(!1),P(null))},children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{children:[t.jsx(zt,{size:20,className:"mr-2"}),"Add Medication"]})}),t.jsxs(nt,{className:"max-w-[95vw] max-h-[95vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:A?"Edit Medication":"Add New Medications"}),t.jsx(Pt,{children:A?"Update medication information":"Add multiple medications to the global medicine list"})]}),t.jsxs("div",{className:"flex flex-col h-[75vh]",children:[!A&&t.jsx("div",{className:"bg-blue-50 p-3 rounded mb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{className:"text-sm font-medium",children:"Bulk Upload"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Download template first, then upload CSV/Excel file to add multiple medications"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(O,{variant:"outline",size:"sm",onClick:be,children:[t.jsx(bt,{size:14,className:"mr-2"}),"Download Template"]}),t.jsx(Z,{type:"file",accept:".xlsx,.xls,.csv",onChange:Q,className:"hidden",id:"excel-upload"}),t.jsx(I,{htmlFor:"excel-upload",children:t.jsx(O,{variant:"outline",size:"sm",asChild:!0,children:t.jsxs("span",{children:[t.jsx(Sh,{size:14,className:"mr-2"}),"Choose File"]})})})]})]})}),t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("div",{className:"text-sm font-medium",children:A?"Medication":"Medications"}),!A&&t.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:fe,className:"h-7 px-2",children:[t.jsx(zt,{size:14,className:"mr-1"}),"Add Row"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto border rounded p-2 mb-2",children:t.jsx("div",{className:"space-y-3",children:E.map((ae,je)=>t.jsxs("div",{className:"border rounded p-3 bg-card",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("span",{className:"text-sm font-medium",children:["Medication ",je+1]}),t.jsx(O,{type:"button",variant:"outline",size:"sm",onClick:()=>ge(ae.id),disabled:E.length===1,className:"h-6 w-6 p-0",children:t.jsx(ss,{size:12})})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Name *"}),t.jsx(Z,{value:ae.name,onChange:W=>xe(ae.id,"name",W.target.value),placeholder:"Medication name",className:"text-xs h-8"})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Product Code *"}),t.jsx(Z,{value:ae.product_code,onChange:W=>xe(ae.id,"product_code",W.target.value),placeholder:"MED001",className:"text-xs h-8"})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Generic Name"}),t.jsx(Z,{value:ae.generic_name,onChange:W=>xe(ae.id,"generic_name",W.target.value),placeholder:"Generic name",className:"text-xs h-8"})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Brand Name"}),t.jsx(Z,{value:ae.brand_name,onChange:W=>xe(ae.id,"brand_name",W.target.value),placeholder:"Brand name",className:"text-xs h-8"})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Category"}),t.jsxs(_e,{value:ae.category,onValueChange:W=>xe(ae.id,"category",W),children:[t.jsx(Pe,{className:"text-xs h-8",children:t.jsx(Ae,{placeholder:"Select category"})}),t.jsx(Ce,{children:n.map(W=>t.jsx($,{value:W.id.toString(),children:W.name},W.id))})]})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Dosage Form"}),t.jsxs(_e,{value:ae.dosage_form,onValueChange:W=>xe(ae.id,"dosage_form",W),children:[t.jsx(Pe,{className:"text-xs h-8",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"tablet",children:"Tablet"}),t.jsx($,{value:"capsule",children:"Capsule"}),t.jsx($,{value:"syrup",children:"Syrup"}),t.jsx($,{value:"injection",children:"Injection"}),t.jsx($,{value:"cream",children:"Cream"}),t.jsx($,{value:"drops",children:"Drops"}),t.jsx($,{value:"powder",children:"Powder"})]})]})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Strength"}),t.jsx(Z,{value:ae.strength,onChange:W=>xe(ae.id,"strength",W.target.value),placeholder:"500mg",className:"text-xs h-8"})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Pack Size"}),t.jsx(Z,{value:ae.pack_size,onChange:W=>xe(ae.id,"pack_size",W.target.value),placeholder:"10 tablets",className:"text-xs h-8"})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Unit"}),t.jsxs(_e,{value:ae.unit,onValueChange:W=>xe(ae.id,"unit",W),children:[t.jsx(Pe,{className:"text-xs h-8",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"strip",children:"Strip"}),t.jsx($,{value:"bottle",children:"Bottle"}),t.jsx($,{value:"box",children:"Box"}),t.jsx($,{value:"vial",children:"Vial"}),t.jsx($,{value:"tube",children:"Tube"}),t.jsx($,{value:"pen",children:"Pen"})]})]})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Manufacturer"}),t.jsx(Z,{value:ae.manufacturer_name,onChange:W=>xe(ae.id,"manufacturer_name",W.target.value),placeholder:"Manufacturer name",className:"text-xs h-8"})]}),t.jsxs("div",{className:"col-span-2",children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Requirements"}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:ae.requires_prescription,onChange:W=>xe(ae.id,"requires_prescription",W.target.checked),className:"rounded"}),t.jsx("span",{className:"text-xs",children:"Rx Required"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:ae.is_controlled,onChange:W=>xe(ae.id,"is_controlled",W.target.checked),className:"rounded"}),t.jsx("span",{className:"text-xs",children:"Controlled"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:ae.is_insured,onChange:W=>xe(ae.id,"is_insured",W.target.checked),className:"rounded"}),t.jsx("span",{className:"text-xs",children:"Insured"})]})]})]})]}),t.jsxs("div",{className:"mt-3",children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Description"}),t.jsx(Vt,{value:ae.description,onChange:W=>xe(ae.id,"description",W.target.value),placeholder:"Medication description",rows:2,className:"text-xs"})]}),t.jsxs("div",{className:"mt-3",children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Alternatives"}),t.jsxs("div",{className:"relative",children:[t.jsx(Z,{value:G,onChange:W=>{D(W.target.value),q(!0),re(ae.id)},onFocus:()=>{q(!0),re(ae.id)},onBlur:()=>{setTimeout(()=>{q(!1),re(null)},300)},onKeyDown:W=>{W.key==="Enter"&&G.trim()&&(W.preventDefault(),Te(ae.id,G.trim()))},placeholder:"Type medicine name or search existing...",className:"text-xs h-8"}),J&&U===ae.id&&t.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-32 overflow-y-auto",children:[Ue(ae.id).map(W=>t.jsx("div",{className:"px-2 py-1 hover:bg-gray-100 cursor-pointer text-xs",onMouseDown:se=>{se.preventDefault(),Te(ae.id,W)},children:W},W)),G.trim()&&!Ue(ae.id).includes(G.trim())&&t.jsxs("div",{className:"px-2 py-1 hover:bg-gray-100 cursor-pointer text-xs border-t bg-blue-50",onMouseDown:W=>{W.preventDefault(),Te(ae.id,G.trim())},children:['+ Add "',G.trim(),'" as custom alternative']})]})]}),t.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded border min-h-[40px]",children:ae.alternatives.length>0?t.jsx("div",{className:"flex flex-wrap gap-2",children:ae.alternatives.map(W=>t.jsxs(te,{variant:"secondary",className:"text-xs px-2 py-1 flex items-center gap-1",children:[W,t.jsx(Fd,{size:12,className:"cursor-pointer hover:text-red-500",onClick:()=>Se(ae.id,W)})]},W))}):t.jsx("div",{className:"text-xs text-gray-400 italic flex items-center h-6",children:"No alternatives selected"})})]})]},ae.id))})}),t.jsx("div",{className:"bg-blue-50 p-3 rounded",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Valid Medications:"}),t.jsx("span",{className:"ml-2 font-medium",children:E.filter(ae=>ae.name&&ae.product_code).length})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Total Rows:"}),t.jsx("span",{className:"ml-2 font-medium",children:E.length})]})]})})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),t.jsx(O,{onClick:Fe,children:A?"Update Medication":"Add Medications"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ua,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:tt}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Medications"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:lt}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Medications"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(rr,{className:"h-8 w-8 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:me}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Prescription Required"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ga,{className:"h-8 w-8 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:He}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Controlled Substances"})]})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search medications...",value:h,onChange:ae=>p(ae.target.value),className:"pl-10"})]})}),t.jsxs(_e,{value:y,onValueChange:f,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by category"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Categories"}),n.map(ae=>t.jsx($,{value:ae.name,children:ae.name},ae.id))]})]}),t.jsxs(_e,{value:v,onValueChange:j,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Status"}),t.jsx($,{value:"active",children:"Active"}),t.jsx($,{value:"inactive",children:"Inactive"}),t.jsx($,{value:"discontinued",children:"Discontinued"})]})]}),t.jsxs(_e,{value:x,onValueChange:b,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Prescription required"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Medications"}),t.jsx($,{value:"prescription",children:"Prescription Required"}),t.jsx($,{value:"otc",children:"Over The Counter"})]})]})]})})}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{children:["Medication Catalog (",u.count," total, showing ",pe.length,")"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Name"}),t.jsx(H,{children:"Code"}),t.jsx(H,{children:"Generic/Brand"}),t.jsx(H,{children:"Category"}),t.jsx(H,{children:"Type"}),t.jsx(H,{children:"Strength"}),t.jsx(H,{children:"Pack Size"}),t.jsx(H,{children:"Unit"}),t.jsx(H,{children:"Manufacturer"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Requirements"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:pe.map(ae=>t.jsxs(Ie,{children:[t.jsx(V,{className:"font-medium",children:ae.name}),t.jsx(V,{children:t.jsx(te,{variant:"outline",children:ae.product_code})}),t.jsx(V,{children:t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-medium",children:ae.generic_name}),t.jsx("div",{className:"text-muted-foreground",children:ae.brand_name})]})}),t.jsx(V,{children:ae.category_name}),t.jsx(V,{children:t.jsx(te,{variant:"secondary",children:ae.dosage_form})}),t.jsx(V,{children:ae.strength}),t.jsx(V,{children:ae.pack_size}),t.jsx(V,{children:ae.unit}),t.jsx(V,{children:ae.manufacturer_name}),t.jsx(V,{children:oe(ae.status)}),t.jsx(V,{children:t.jsxs("div",{className:"flex flex-col gap-1",children:[ae.requires_prescription&&t.jsx(te,{variant:"outline",className:"text-xs",children:"Rx Required"}),ae.is_controlled&&t.jsx(te,{variant:"destructive",className:"text-xs",children:"Controlled"}),ae.is_insured&&t.jsx(te,{variant:"default",className:"text-xs bg-green-100 text-green-800",children:"Insured"})]})}),t.jsx(V,{children:t.jsxs(O,{size:"sm",variant:"outline",onClick:()=>ze(ae),children:[t.jsx(hn,{size:12,className:"mr-1"}),"Edit"]})})]},ae.id))})]})}),u.totalPages>1&&t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",u.currentPage," of ",u.totalPages," (",u.count," total items)"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(O,{variant:"outline",size:"sm",onClick:()=>he(u.currentPage-1),disabled:!u.previous,children:"Previous"}),t.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,u.totalPages)},(ae,je)=>{const W=Math.max(1,u.currentPage-2)+je;return W>u.totalPages?null:t.jsx(O,{variant:W===u.currentPage?"default":"outline",size:"sm",onClick:()=>he(W),className:"w-8 h-8 p-0",children:W},W)})}),t.jsx(O,{variant:"outline",size:"sm",onClick:()=>he(u.currentPage+1),disabled:!u.next,children:"Next"})]})]})]})]})]})}const Mf={totalSuppliers:45,customSuppliers:28,pharmacySuppliers:17,totalOrderValue:25e5},pk=[{name:"MediCorp Nepal",value:35,color:"#8884d8"},{name:"PharmaCo Ltd",value:25,color:"#82ca9d"},{name:"HealthPlus Supply",value:20,color:"#ffc658"},{name:"NutriMed Pharma",value:12,color:"#ff7300"},{name:"Others",value:8,color:"#8dd1e1"}],C1e=[{id:1,type:"order_placed",supplier:"MediCorp Nepal",amount:125e3,time:"2 hours ago",icon:O4,color:"text-green-600"},{id:2,type:"delivery",supplier:"PharmaCo Ltd",amount:85e3,time:"4 hours ago",icon:vt,color:"text-blue-600"},{id:3,type:"payment",supplier:"HealthPlus Supply",amount:65e3,time:"6 hours ago",icon:ht,color:"text-purple-600"},{id:4,type:"communication",supplier:"NutriMed Pharma",amount:0,time:"8 hours ago",icon:Ei,color:"text-orange-600"}];function _1e(){return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Supplier Management"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive supplier relationship management and analytics"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsx(O,{size:"sm",asChild:!0,children:t.jsxs(wr,{to:"/suppliers/directory",children:[t.jsx(it,{size:14,className:"mr-2"}),"Manage Suppliers"]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Suppliers"}),t.jsx("p",{className:"text-lg font-bold",children:Mf.totalSuppliers})]}),t.jsx(it,{className:"h-5 w-5 text-blue-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Custom Suppliers"}),t.jsx("p",{className:"text-lg font-bold text-green-600",children:Mf.customSuppliers})]}),t.jsx(ft,{className:"h-5 w-5 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pharmacy Suppliers"}),t.jsx("p",{className:"text-lg font-bold text-purple-600",children:Mf.pharmacySuppliers})]}),t.jsx(vt,{className:"h-5 w-5 text-purple-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Order Value"}),t.jsxs("p",{className:"text-lg font-bold",children:["NPR ",Mf.totalOrderValue.toLocaleString()]})]}),t.jsx(ht,{className:"h-5 w-5 text-orange-600"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-3",children:t.jsx(wr,{to:"/suppliers/credit-management",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Wn,{className:"h-5 w-5 mx-auto text-blue-600 mb-1"}),t.jsx("p",{className:"text-xs font-medium",children:"Credit Management"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage credits"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-3",children:t.jsx(wr,{to:"/suppliers/purchase-return",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Cm,{className:"h-5 w-5 mx-auto text-green-600 mb-1"}),t.jsx("p",{className:"text-xs font-medium",children:"Purchase Return"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Handle returns"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-3",children:t.jsx(wr,{to:"/suppliers/communications",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ei,{className:"h-5 w-5 mx-auto text-purple-600 mb-1"}),t.jsx("p",{className:"text-xs font-medium",children:"Communication"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Interaction history"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-3",children:t.jsx(wr,{to:"/suppliers/analytics",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ir,{className:"h-5 w-5 mx-auto text-orange-600 mb-1"}),t.jsx("p",{className:"text-xs font-medium",children:"Analytics"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Performance metrics"})]})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsxs(T,{children:[t.jsx(z,{className:"pb-3",children:t.jsx(B,{className:"text-lg",children:"Recent Supplier Activity"})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-3",children:C1e.map(e=>{const r=e.icon;return t.jsxs("div",{className:"flex items-center justify-between p-2 bg-card rounded-lg border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(r,{className:`h-4 w-4 ${e.color}`}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:e.supplier}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.type.replace("_"," "),e.amount>0&&`  NPR ${e.amount.toLocaleString()}`," ",e.time]})]})]}),t.jsx(te,{variant:"outline",className:"text-xs",children:e.type.replace("_"," ")})]},e.id)})})})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-3",children:t.jsxs(B,{className:"flex items-center text-lg",children:[t.jsx(vt,{className:"mr-2 text-blue-600",size:18}),"Inventory by Supplier"]})}),t.jsx(k,{children:t.jsx("div",{className:"h-64",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(ou,{children:[t.jsx(ls,{data:pk,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:pk.map((e,r)=>t.jsx(Ii,{fill:e.color},`cell-${r}`))}),t.jsx(Br,{formatter:e=>[`${e}%`,"Share"]}),t.jsx(qa,{wrapperStyle:{fontSize:"12px"},iconSize:8})]})})})})]})]})]})}const Bo=[{id:"SUP-001",name:"MediCorp Nepal Pvt. Ltd.",contactPerson:"Dr. Ram Sharma",email:"ram.sharma@medicorp.com.np",phone:"+977-1-4567890",mobile:"+977-9841234567",address:"Baneshwor, Kathmandu",city:"Kathmandu",country:"Nepal",postalCode:"44600",website:"www.medicorp.com.np",licenseNumber:"DDA-2023-001",taxNumber:"302345678",category:"Pharmaceutical",supplierType:"manufacturer",status:"active",rating:4.8,joinDate:"2020-01-15",paymentTerms:"30 days",creditLimit:5e5,totalOrders:145,totalValue:25e5,lastOrderDate:"2024-01-15",notes:"Primary supplier for antibiotics and pain relief medications"},{id:"SUP-002",name:"PharmaCo Distribution Ltd.",contactPerson:"Sita Gurung",email:"sita@pharmaco.com.np",phone:"+977-1-4567891",mobile:"+977-9851234567",address:"Teku, Kathmandu",city:"Kathmandu",country:"Nepal",postalCode:"44601",website:"www.pharmaco.com.np",licenseNumber:"DDA-2023-002",taxNumber:"302345679",category:"Pharmaceutical",supplierType:"distributor",status:"active",rating:4.6,joinDate:"2020-03-22",paymentTerms:"45 days",creditLimit:75e4,totalOrders:132,totalValue:22e5,lastOrderDate:"2024-01-12",notes:"Reliable distributor for insulin and diabetes care products"},{id:"SUP-003",name:"HealthPlus Medical Supply",contactPerson:"Hari Thapa",email:"hari@healthplus.com.np",phone:"+977-1-4567892",mobile:"+977-9861234567",address:"Patan Dhoka, Lalitpur",city:"Lalitpur",country:"Nepal",postalCode:"44700",website:"www.healthplus.com.np",licenseNumber:"DDA-2023-003",taxNumber:"302345680",category:"Medical Devices",supplierType:"wholesaler",status:"active",rating:4.4,joinDate:"2021-06-10",paymentTerms:"15 days",creditLimit:3e5,totalOrders:98,totalValue:18e5,lastOrderDate:"2024-01-10",notes:"Specializes in medical devices and diagnostic equipment"},{id:"SUP-004",name:"NutriMed Wellness Pvt. Ltd.",contactPerson:"Maya Shrestha",email:"maya@nutrimed.com.np",phone:"+977-1-4567893",mobile:"+977-9871234567",address:"Kupondole, Lalitpur",city:"Lalitpur",country:"Nepal",postalCode:"44701",website:"www.nutrimed.com.np",licenseNumber:"DDA-2023-004",taxNumber:"302345681",category:"Nutritional Supplements",supplierType:"manufacturer",status:"active",rating:4.2,joinDate:"2021-09-15",paymentTerms:"60 days",creditLimit:4e5,totalOrders:76,totalValue:12e5,lastOrderDate:"2024-01-08",notes:"Premium vitamins and nutritional supplements supplier"},{id:"SUP-005",name:"BioPharma Industries",contactPerson:"Kiran Adhikari",email:"kiran@biopharma.com.np",phone:"+977-1-4567894",mobile:"+977-9881234567",address:"Bhaktapur Industrial Area",city:"Bhaktapur",country:"Nepal",postalCode:"44800",website:"www.biopharma.com.np",licenseNumber:"DDA-2023-005",taxNumber:"302345682",category:"Pharmaceutical",supplierType:"manufacturer",status:"pending",rating:4,joinDate:"2023-11-20",paymentTerms:"30 days",creditLimit:2e5,totalOrders:12,totalValue:35e4,lastOrderDate:"2024-01-05",notes:"New supplier, currently under evaluation"}];function A1e(){const[e,r]=g.useState(""),[n,s]=g.useState("all"),[a,i]=g.useState("all"),[o,l]=g.useState(!1),[c,d]=g.useState(!1),[u,m]=g.useState(null),{toast:h}=Tt(),p=[...new Set(Bo.map(P=>P.category))],y=Bo.filter(P=>{const _=P.name.toLowerCase().includes(e.toLowerCase())||P.contactPerson.toLowerCase().includes(e.toLowerCase())||P.email.toLowerCase().includes(e.toLowerCase()),C=n==="all"||P.status===n,A=a==="all"||P.category===a;return _&&C&&A}),f=P=>{const _={active:"default",inactive:"secondary",pending:"outline",suspended:"destructive"};return t.jsx(te,{variant:_[P],children:P})},v=P=>{const _={manufacturer:"default",distributor:"secondary",wholesaler:"outline"};return t.jsx(te,{variant:_[P],children:P})},j=()=>{h({title:"Supplier Created",description:"New supplier has been added successfully."}),l(!1)},x=P=>{h({title:"Supplier Deleted",description:`Supplier ${P} has been removed.`})},b=Bo.length,S=Bo.filter(P=>P.status==="active").length,w=Bo.reduce((P,_)=>P+_.totalValue,0),N=Bo.reduce((P,_)=>P+_.rating,0)/Bo.length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Suppliers Directory"}),t.jsx("p",{className:"text-muted-foreground",children:"Comprehensive supplier database and management"})]}),t.jsxs(rt,{open:o,onOpenChange:l,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Add New Supplier"]})}),t.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Supplier"}),t.jsx(Pt,{children:"Enter comprehensive supplier information for registration"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium text-lg",children:"Basic Information"}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"name",children:"Company Name"}),t.jsx(Z,{placeholder:"Enter company name"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"contactPerson",children:"Contact Person"}),t.jsx(Z,{placeholder:"Full name"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"email",children:"Email Address"}),t.jsx(Z,{type:"email",placeholder:"contact@company.com"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"phone",children:"Phone"}),t.jsx(Z,{placeholder:"+977-1-xxxxxxx"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"mobile",children:"Mobile"}),t.jsx(Z,{placeholder:"+977-98xxxxxxxx"})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"website",children:"Website"}),t.jsx(Z,{placeholder:"www.company.com"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium text-lg",children:"Address & Legal Information"}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"address",children:"Address"}),t.jsx(Vt,{placeholder:"Street address"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"city",children:"City"}),t.jsx(Z,{placeholder:"City"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"postalCode",children:"Postal Code"}),t.jsx(Z,{placeholder:"Postal code"})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"licenseNumber",children:"License Number"}),t.jsx(Z,{placeholder:"DDA-YYYY-XXX"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"taxNumber",children:"Tax Number"}),t.jsx(Z,{placeholder:"VAT/PAN Number"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium text-lg",children:"Business Details"}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"category",children:"Category"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select category"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"pharmaceutical",children:"Pharmaceutical"}),t.jsx($,{value:"medical_devices",children:"Medical Devices"}),t.jsx($,{value:"nutritional_supplements",children:"Nutritional Supplements"}),t.jsx($,{value:"laboratory_supplies",children:"Laboratory Supplies"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"supplierType",children:"Supplier Type"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select type"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"manufacturer",children:"Manufacturer"}),t.jsx($,{value:"distributor",children:"Distributor"}),t.jsx($,{value:"wholesaler",children:"Wholesaler"}),t.jsx($,{value:"retailer",children:"Retailer"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"paymentTerms",children:"Payment Terms"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select terms"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"15_days",children:"15 Days"}),t.jsx($,{value:"30_days",children:"30 Days"}),t.jsx($,{value:"45_days",children:"45 Days"}),t.jsx($,{value:"60_days",children:"60 Days"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"creditLimit",children:"Credit Limit (NPR)"}),t.jsx(Z,{type:"number",placeholder:"Credit limit amount"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium text-lg",children:"Additional Information"}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"notes",children:"Notes"}),t.jsx(Vt,{placeholder:"Additional notes about the supplier..."})]})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),t.jsx(O,{onClick:j,children:"Create Supplier"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(it,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:b}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Suppliers"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ft,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:S}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Suppliers"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-8 w-8 text-purple-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",w.toLocaleString()]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Order Value"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(On,{className:"h-8 w-8 text-yellow-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:N.toFixed(1)}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Rating"})]})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search suppliers...",value:e,onChange:P=>r(P.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Statuses"}),t.jsx($,{value:"active",children:"Active"}),t.jsx($,{value:"inactive",children:"Inactive"}),t.jsx($,{value:"pending",children:"Pending"}),t.jsx($,{value:"suspended",children:"Suspended"})]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by category"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Categories"}),p.map(P=>t.jsx($,{value:P,children:P},P))]})]}),t.jsx(O,{variant:"outline",children:"Export Suppliers"})]})})}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{children:["Suppliers Directory (",y.length,")"]})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Supplier"}),t.jsx(H,{children:"Contact"}),t.jsx(H,{children:"Category"}),t.jsx(H,{children:"Performance"}),t.jsx(H,{children:"Orders"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:y.map(P=>t.jsxs(Ie,{children:[t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:P.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:P.contactPerson}),t.jsx("p",{className:"text-xs text-muted-foreground",children:P.id})]})}),t.jsx(V,{children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs("p",{className:"text-sm flex items-center gap-1",children:[t.jsx(Ld,{size:12}),P.phone]}),t.jsxs("p",{className:"text-sm flex items-center gap-1",children:[t.jsx(Ei,{size:12}),P.email]}),t.jsxs("p",{className:"text-sm flex items-center gap-1",children:[t.jsx(Ma,{size:12}),P.city]})]})}),t.jsx(V,{children:t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"font-medium",children:P.category}),v(P.supplierType)]})}),t.jsx(V,{children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(On,{size:12,className:"text-yellow-500"}),t.jsx("span",{className:"font-medium",children:P.rating})]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["NPR ",P.totalValue.toLocaleString()]})]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:P.totalOrders}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last: ",P.lastOrderDate]})]})}),t.jsx(V,{children:f(P.status)}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(yt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-4xl",children:[t.jsx(st,{children:t.jsxs(at,{children:["Supplier Profile - ",P.name]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-2",children:"Basic Information"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Contact Person:"})," ",P.contactPerson]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," ",P.email]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",P.phone]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Mobile:"})," ",P.mobile]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Website:"})," ",P.website]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-2",children:"Address"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsx("p",{children:P.address}),t.jsxs("p",{children:[P.city,", ",P.postalCode]}),t.jsx("p",{children:P.country})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-2",children:"Business Details"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"License:"})," ",P.licenseNumber]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Tax Number:"})," ",P.taxNumber]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Category:"})," ",P.category]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Type:"})," ",P.supplierType]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Payment Terms:"})," ",P.paymentTerms]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Credit Limit:"})," NPR ",P.creditLimit.toLocaleString()]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-2",children:"Performance"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Rating:"})," ",P.rating,"/5"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Total Orders:"})," ",P.totalOrders]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Total Value:"})," NPR ",P.totalValue.toLocaleString()]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Join Date:"})," ",P.joinDate]})]})]})]})]}),P.notes&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-2",children:"Notes"}),t.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:P.notes})]})]})]}),t.jsx(O,{size:"sm",variant:"outline",onClick:()=>{m(P),d(!0)},children:t.jsx(hn,{size:12})}),t.jsx(O,{size:"sm",variant:"outline",onClick:()=>x(P.id),children:t.jsx(ss,{size:12})})]})})]},P.id))})]})})})]})]})}const Du=[{id:"COMM-001",supplierId:"SUP-001",supplierName:"MediCorp Nepal",contactPerson:"Dr. Ram Sharma",type:"email",subject:"New Product Launch Discussion",content:"We would like to discuss the launch of our new antibiotic line and potential partnership opportunities for exclusive distribution.",date:"2024-01-15",time:"14:30",direction:"incoming",status:"replied",priority:"high",assignedTo:"Pharmacy Manager",followUpDate:"2024-01-20",attachments:["product_catalog.pdf","pricing_sheet.xlsx"],tags:["product_launch","partnership","antibiotics"]},{id:"COMM-002",supplierId:"SUP-002",supplierName:"PharmaCo Ltd",contactPerson:"Sita Gurung",type:"phone",subject:"Delivery Schedule Confirmation",content:"Called to confirm delivery schedule for insulin pen order PO-002. Confirmed delivery on January 22nd at 10:00 AM.",date:"2024-01-14",time:"11:15",direction:"outgoing",status:"completed",priority:"medium",assignedTo:"Purchase Manager",followUpDate:null,attachments:[],tags:["delivery","insulin","confirmation"]},{id:"COMM-003",supplierId:"SUP-003",supplierName:"HealthPlus Supply",contactPerson:"Hari Thapa",type:"meeting",subject:"Quarterly Business Review",content:"Quarterly business review meeting to discuss performance metrics, upcoming requirements, and contract renewal terms.",date:"2024-01-12",time:"15:00",direction:"meeting",status:"completed",priority:"high",assignedTo:"Business Development",followUpDate:"2024-04-12",attachments:["qbr_presentation.pptx","performance_report.pdf"],tags:["quarterly_review","performance","contract"]},{id:"COMM-004",supplierId:"SUP-001",supplierName:"MediCorp Nepal",contactPerson:"Dr. Ram Sharma",type:"email",subject:"Payment Terms Negotiation",content:"Following up on our discussion about extending payment terms from 30 to 45 days. Please confirm if this is acceptable.",date:"2024-01-10",time:"09:45",direction:"outgoing",status:"pending",priority:"medium",assignedTo:"Finance Manager",followUpDate:"2024-01-17",attachments:["payment_terms_proposal.pdf"],tags:["payment_terms","negotiation","finance"]},{id:"COMM-005",supplierId:"SUP-004",supplierName:"NutriMed Pharma",contactPerson:"Maya Shrestha",type:"email",subject:"Quality Concern Report",content:"We've noticed some inconsistencies in the latest batch of Vitamin D3 supplements. Please investigate and provide a response.",date:"2024-01-08",time:"16:20",direction:"outgoing",status:"pending",priority:"high",assignedTo:"Quality Manager",followUpDate:"2024-01-15",attachments:["quality_report.pdf","batch_analysis.xlsx"],tags:["quality_concern","vitamins","investigation"]}],xk=[{id:"SUP-001",name:"MediCorp Nepal"},{id:"SUP-002",name:"PharmaCo Ltd"},{id:"SUP-003",name:"HealthPlus Supply"},{id:"SUP-004",name:"NutriMed Pharma"},{id:"SUP-005",name:"BioPharma Industries"}];function T1e(){const[e,r]=g.useState(""),[n,s]=g.useState("all"),[a,i]=g.useState("all"),[o,l]=g.useState("all"),[c,d]=g.useState(!1),{toast:u}=Tt(),m=Du.filter(N=>{const P=N.subject.toLowerCase().includes(e.toLowerCase())||N.supplierName.toLowerCase().includes(e.toLowerCase())||N.content.toLowerCase().includes(e.toLowerCase()),_=n==="all"||N.type===n,C=a==="all"||N.status===a,A=o==="all"||N.supplierId===o;return P&&_&&C&&A}),h=N=>{const P={email:{variant:"default",label:"Email",icon:Ei},phone:{variant:"secondary",label:"Phone",icon:Ld},meeting:{variant:"outline",label:"Meeting",icon:Ot},chat:{variant:"default",label:"Chat",icon:rP}},_=P[N]||P.email,C=_.icon;return t.jsxs(te,{variant:_.variant,className:"flex items-center gap-1",children:[t.jsx(C,{size:12}),_.label]})},p=N=>{const P={pending:{variant:"secondary",label:"Pending",icon:Ut},replied:{variant:"default",label:"Replied",icon:mt},completed:{variant:"default",label:"Completed",icon:mt},overdue:{variant:"destructive",label:"Overdue",icon:bi}},_=P[N]||P.pending,C=_.icon;return t.jsxs(te,{variant:_.variant,className:"flex items-center gap-1",children:[t.jsx(C,{size:12}),_.label]})},y=N=>{const P={high:"destructive",medium:"secondary",low:"outline"};return t.jsx(te,{variant:P[N],children:N})},f=N=>{switch(N){case"incoming":return t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500",title:"Incoming"});case"outgoing":return t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500",title:"Outgoing"});case"meeting":return t.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500",title:"Meeting"});default:return t.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500"})}},v=()=>{u({title:"Communication Logged",description:"New communication record has been created successfully."}),d(!1)},j=(N,P)=>{u({title:"Status Updated",description:`Communication ${N} status changed to ${P}.`})},x=Du.length,b=Du.filter(N=>N.status==="pending").length,S=Du.filter(N=>N.followUpDate&&new Date(N.followUpDate)<new Date).length,w=(Du.filter(N=>N.status==="replied"||N.status==="completed").length/x*100).toFixed(1);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Supplier Communications"}),t.jsx("p",{className:"text-muted-foreground",children:"Track and manage all supplier interactions and correspondence"})]}),t.jsxs(rt,{open:c,onOpenChange:d,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Log Communication"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Log New Communication"}),t.jsx(Pt,{children:"Record a new communication with a supplier"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"supplier",children:"Supplier"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select supplier"})}),t.jsx(Ce,{children:xk.map(N=>t.jsx($,{value:N.id,children:N.name},N.id))})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"type",children:"Communication Type"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select type"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"email",children:"Email"}),t.jsx($,{value:"phone",children:"Phone Call"}),t.jsx($,{value:"meeting",children:"Meeting"}),t.jsx($,{value:"chat",children:"Chat/Message"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"direction",children:"Direction"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select direction"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"incoming",children:"Incoming"}),t.jsx($,{value:"outgoing",children:"Outgoing"}),t.jsx($,{value:"meeting",children:"Meeting"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"priority",children:"Priority"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select priority"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"low",children:"Low"}),t.jsx($,{value:"medium",children:"Medium"}),t.jsx($,{value:"high",children:"High"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"subject",children:"Subject"}),t.jsx(Z,{placeholder:"Communication subject/title"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"content",children:"Content/Notes"}),t.jsx(Vt,{placeholder:"Detailed notes about the communication..."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"assignedTo",children:"Assigned To"}),t.jsx(Z,{placeholder:"Responsible person"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"followUpDate",children:"Follow-up Date"}),t.jsx(Z,{type:"date"})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"tags",children:"Tags (comma separated)"}),t.jsx(Z,{placeholder:"quality, pricing, delivery, etc."})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),t.jsx(O,{onClick:v,children:"Log Communication"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(rP,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:x}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Communications"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-8 w-8 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:b}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Responses"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(bi,{className:"h-8 w-8 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:S}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Overdue Items"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:[w,"%"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"})]})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search communications...",value:e,onChange:N=>r(N.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:"supplierFilter",onValueChange:l,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by supplier"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Suppliers"}),xk.map(N=>t.jsx($,{value:N.id,children:N.name},N.id))]})]}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by type"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Types"}),t.jsx($,{value:"email",children:"Email"}),t.jsx($,{value:"phone",children:"Phone"}),t.jsx($,{value:"meeting",children:"Meeting"}),t.jsx($,{value:"chat",children:"Chat"})]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Statuses"}),t.jsx($,{value:"pending",children:"Pending"}),t.jsx($,{value:"replied",children:"Replied"}),t.jsx($,{value:"completed",children:"Completed"}),t.jsx($,{value:"overdue",children:"Overdue"})]})]}),t.jsx(O,{variant:"outline",children:"Export Communications"})]})})}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{children:["Communication History (",m.length,")"]})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Communication"}),t.jsx(H,{children:"Supplier"}),t.jsx(H,{children:"Type"}),t.jsx(H,{children:"Priority"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Date"}),t.jsx(H,{children:"Follow-up"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:m.map(N=>t.jsxs(Ie,{children:[t.jsx(V,{children:t.jsxs("div",{className:"flex items-start gap-2",children:[f(N.direction),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:N.subject}),t.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:N.content}),t.jsx("div",{className:"flex gap-1 mt-1",children:N.tags.map(P=>t.jsx("span",{className:"text-xs bg-muted px-1 rounded",children:P},P))})]})]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:N.supplierName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:N.contactPerson})]})}),t.jsx(V,{children:h(N.type)}),t.jsx(V,{children:y(N.priority)}),t.jsx(V,{children:p(N.status)}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:N.date}),t.jsx("p",{className:"text-xs text-muted-foreground",children:N.time})]})}),t.jsx(V,{children:N.followUpDate?t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:N.followUpDate}),t.jsx("p",{className:"text-xs text-muted-foreground",children:N.assignedTo})]}):t.jsx("span",{className:"text-muted-foreground",children:"-"})}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(yt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsx(st,{children:t.jsx(at,{children:"Communication Details"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Supplier"}),t.jsx("p",{className:"font-medium",children:N.supplierName})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Contact Person"}),t.jsx("p",{children:N.contactPerson})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Type"}),t.jsx("div",{className:"mt-1",children:h(N.type)})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Priority"}),t.jsx("div",{className:"mt-1",children:y(N.priority)})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Date & Time"}),t.jsxs("p",{children:[N.date," at ",N.time]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Status"}),t.jsx("div",{className:"mt-1",children:p(N.status)})]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Subject"}),t.jsx("p",{className:"font-medium",children:N.subject})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Content"}),t.jsx("p",{className:"bg-muted p-3 rounded text-sm",children:N.content})]}),N.attachments.length>0&&t.jsxs("div",{children:[t.jsx(I,{children:"Attachments"}),t.jsx("div",{className:"flex gap-2 mt-1",children:N.attachments.map(P=>t.jsxs(te,{variant:"outline",className:"flex items-center gap-1",children:[t.jsx($t,{size:12}),P]},P))})]}),t.jsxs("div",{className:"flex gap-4",children:[N.assignedTo&&t.jsxs("div",{children:[t.jsx(I,{children:"Assigned To"}),t.jsx("p",{children:N.assignedTo})]}),N.followUpDate&&t.jsxs("div",{children:[t.jsx(I,{children:"Follow-up Date"}),t.jsx("p",{children:N.followUpDate})]})]})]})]})]}),N.status==="pending"&&t.jsxs(_e,{onValueChange:P=>j(N.id,P),children:[t.jsx(Pe,{className:"w-24",children:t.jsx(Ae,{placeholder:"Update"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"replied",children:"Mark Replied"}),t.jsx($,{value:"completed",children:"Mark Completed"})]})]})]})})]},N.id))})]})})})]})]})}const Ys=[{id:"SUP-001",name:"MediCorp Nepal",totalOrders:145,totalValue:25e5,averageOrderValue:17241,onTimeDeliveryRate:92,qualityRating:4.8,responseTime:2.3,defectRate:.5,returnRate:1.2,paymentTermsCompliance:95,relationshipScore:88,lastEvaluation:"2024-01-10",trend:"up",category:"Pharmaceutical",risk:"low"},{id:"SUP-002",name:"PharmaCo Ltd",totalOrders:132,totalValue:22e5,averageOrderValue:16667,onTimeDeliveryRate:87,qualityRating:4.6,responseTime:3.1,defectRate:.8,returnRate:2.1,paymentTermsCompliance:90,relationshipScore:85,lastEvaluation:"2024-01-08",trend:"stable",category:"Pharmaceutical",risk:"low"},{id:"SUP-003",name:"HealthPlus Supply",totalOrders:98,totalValue:18e5,averageOrderValue:18367,onTimeDeliveryRate:78,qualityRating:4.4,responseTime:4.2,defectRate:1.5,returnRate:3.2,paymentTermsCompliance:88,relationshipScore:79,lastEvaluation:"2024-01-05",trend:"down",category:"Medical Devices",risk:"medium"},{id:"SUP-004",name:"NutriMed Pharma",totalOrders:76,totalValue:12e5,averageOrderValue:15789,onTimeDeliveryRate:85,qualityRating:4.2,responseTime:3.8,defectRate:1.1,returnRate:2.5,paymentTermsCompliance:92,relationshipScore:82,lastEvaluation:"2024-01-03",trend:"up",category:"Nutritional Supplements",risk:"low"},{id:"SUP-005",name:"BioPharma Industries",totalOrders:12,totalValue:35e4,averageOrderValue:29167,onTimeDeliveryRate:67,qualityRating:4,responseTime:5.5,defectRate:2.1,returnRate:4.2,paymentTermsCompliance:75,relationshipScore:65,lastEvaluation:"2023-12-28",trend:"down",category:"Pharmaceutical",risk:"high"}],k1e=[{label:"On-Time Delivery",weight:25,target:90},{label:"Quality Rating",weight:30,target:4.5},{label:"Response Time",weight:15,target:3},{label:"Defect Rate",weight:20,target:1},{label:"Payment Compliance",weight:10,target:95}];function E1e(){const[e,r]=g.useState("all"),[n,s]=g.useState("6_months"),[a,i]=g.useState("overall"),o=e==="all"?Ys:Ys.filter(f=>f.id===e),l=f=>{switch(f){case"up":return t.jsx(ft,{className:"h-4 w-4 text-green-600"});case"down":return t.jsx(wi,{className:"h-4 w-4 text-red-600"});default:return t.jsx("div",{className:"h-4 w-4"})}},c=f=>{const v={low:"default",medium:"secondary",high:"destructive"};return t.jsxs(te,{variant:v[f],children:[f," risk"]})},d=(f,v,j=!1)=>(j?f<=v:f>=v)?"text-green-600":f>=v*.8?"text-orange-600":"text-red-600",u=f=>[f.onTimeDeliveryRate/100*25,f.qualityRating/5*30,Math.max(0,5-f.responseTime)/5*15,Math.max(0,3-f.defectRate)/3*20,f.paymentTermsCompliance/100*10].reduce((j,x)=>j+x,0),m=Ys.reduce((f,v)=>f+v.totalOrders,0),h=Ys.reduce((f,v)=>f+v.totalValue,0),p=Ys.reduce((f,v)=>f+v.onTimeDeliveryRate,0)/Ys.length,y=Ys.reduce((f,v)=>f+v.qualityRating,0)/Ys.length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Supplier Performance Analytics"}),t.jsx("p",{className:"text-muted-foreground",children:"Comprehensive supplier performance metrics and KPI tracking"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{className:"w-40",children:t.jsx(Ae,{placeholder:"Time range"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"1_month",children:"Last Month"}),t.jsx($,{value:"3_months",children:"Last 3 Months"}),t.jsx($,{value:"6_months",children:"Last 6 Months"}),t.jsx($,{value:"1_year",children:"Last Year"})]})]}),t.jsx(O,{variant:"outline",children:"Export Report"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),t.jsx("p",{className:"text-2xl font-bold",children:m}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(ft,{size:12,className:"mr-1"}),"+12% vs last period"]})]}),t.jsx(vt,{className:"h-8 w-8 text-blue-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",h.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(ft,{size:12,className:"mr-1"}),"+8% vs last period"]})]}),t.jsx(ht,{className:"h-8 w-8 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg On-Time Delivery"}),t.jsxs("p",{className:"text-2xl font-bold",children:[p.toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(wi,{size:12,className:"mr-1"}),"-2% vs last period"]})]}),t.jsx(fn,{className:"h-8 w-8 text-purple-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Quality Rating"}),t.jsx("p",{className:"text-2xl font-bold",children:y.toFixed(1)}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(ft,{size:12,className:"mr-1"}),"+0.2 vs last period"]})]}),t.jsx(On,{className:"h-8 w-8 text-yellow-600"})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(_e,{value:e,onValueChange:r,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by supplier"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Suppliers"}),Ys.map(f=>t.jsx($,{value:f.id,children:f.name},f.id))]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by metric"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"overall",children:"Overall Performance"}),t.jsx($,{value:"delivery",children:"Delivery Performance"}),t.jsx($,{value:"quality",children:"Quality Metrics"}),t.jsx($,{value:"financial",children:"Financial Metrics"}),t.jsx($,{value:"relationship",children:"Relationship Metrics"})]})]}),t.jsxs(O,{variant:"outline",className:"w-full",children:[t.jsx(ir,{size:16,className:"mr-2"}),"Generate Detailed Report"]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center",children:[t.jsx(di,{className:"mr-2 text-blue-600",size:20}),"Key Performance Indicators"]})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:k1e.map(f=>{const v=Ys.reduce((x,b)=>{switch(f.label){case"On-Time Delivery":return x+b.onTimeDeliveryRate;case"Quality Rating":return x+b.qualityRating;case"Response Time":return x+b.responseTime;case"Defect Rate":return x+b.defectRate;case"Payment Compliance":return x+b.paymentTermsCompliance;default:return x}},0)/Ys.length,j=f.label==="Response Time"||f.label==="Defect Rate"?v<=f.target:v>=f.target;return t.jsx("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsx("span",{className:"font-medium",children:f.label}),t.jsx("span",{className:`font-bold ${j?"text-green-600":"text-red-600"}`,children:f.label==="Quality Rating"?v.toFixed(1):f.label==="Response Time"?`${v.toFixed(1)} hrs`:f.label==="Defect Rate"?`${v.toFixed(1)}%`:`${v.toFixed(1)}%`})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[t.jsxs("span",{children:["Weight: ",f.weight,"%"]}),t.jsxs("span",{children:["Target: ",f.label==="Quality Rating"?f.target:f.label==="Response Time"?`${f.target} hrs`:`${f.target}%`]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:t.jsx("div",{className:`h-2 rounded-full ${j?"bg-green-600":"bg-red-600"}`,style:{width:`${Math.min(100,v/f.target*100)}%`}})})]})},f.label)})})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center",children:[t.jsx(rr,{className:"mr-2 text-orange-600",size:20}),"Performance Alerts"]})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(rr,{className:"h-4 w-4 text-red-600"}),t.jsx("span",{className:"font-medium text-red-800",children:"Critical Alert"})]}),t.jsx("p",{className:"text-sm text-red-700 mt-1",children:"BioPharma Industries has 67% on-time delivery rate (Target: 90%)"})]}),t.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ut,{className:"h-4 w-4 text-orange-600"}),t.jsx("span",{className:"font-medium text-orange-800",children:"Warning"})]}),t.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"HealthPlus Supply response time increased to 4.2 hours (Target: 3.0 hours)"})]}),t.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(On,{className:"h-4 w-4 text-yellow-600"}),t.jsx("span",{className:"font-medium text-yellow-800",children:"Quality Concern"})]}),t.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"NutriMed Pharma quality rating dropped to 4.2 (Target: 4.5)"})]}),t.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(mt,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"font-medium text-green-800",children:"Excellent"})]}),t.jsx("p",{className:"text-sm text-green-700 mt-1",children:"MediCorp Nepal exceeds all performance targets consistently"})]})]})})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Detailed Supplier Performance Metrics"})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Supplier"}),t.jsx(H,{children:"Overall Score"}),t.jsx(H,{children:"Delivery Rate"}),t.jsx(H,{children:"Quality Rating"}),t.jsx(H,{children:"Response Time"}),t.jsx(H,{children:"Defect Rate"}),t.jsx(H,{children:"Order Value"}),t.jsx(H,{children:"Risk Level"}),t.jsx(H,{children:"Trend"})]})}),t.jsx(At,{children:o.map(f=>{const v=u(f);return t.jsxs(Ie,{children:[t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:f.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:f.category})]})}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`font-bold ${v>=80?"text-green-600":v>=60?"text-orange-600":"text-red-600"}`,children:v.toFixed(1)}),t.jsx("div",{className:"w-12 h-2 bg-gray-200 rounded-full",children:t.jsx("div",{className:`h-2 rounded-full ${v>=80?"bg-green-600":v>=60?"bg-orange-600":"bg-red-600"}`,style:{width:`${v}%`}})})]})}),t.jsx(V,{children:t.jsxs("span",{className:d(f.onTimeDeliveryRate,90),children:[f.onTimeDeliveryRate,"%"]})}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(On,{size:12,className:"text-yellow-500"}),t.jsx("span",{className:d(f.qualityRating,4.5),children:f.qualityRating})]})}),t.jsx(V,{children:t.jsxs("span",{className:d(f.responseTime,3,!0),children:[f.responseTime,"h"]})}),t.jsx(V,{children:t.jsxs("span",{className:d(f.defectRate,1,!0),children:[f.defectRate,"%"]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium",children:["NPR ",f.totalValue.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.totalOrders," orders"]})]})}),t.jsx(V,{children:c(f.risk)}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-1",children:[l(f.trend),t.jsx("span",{className:"text-sm",children:f.trend})]})})]},f.id)})})]})})})]})]})}const nc={activeLicenses:8,expiringLicenses:2,pendingReports:3,overdueTasks:1,inspectionsPassed:12,complianceScore:92},O1e=[{id:1,task:"Renew Pharmacy License",dueDate:"2024-02-15",priority:"high",type:"license"},{id:2,task:"Submit Monthly DDA Report",dueDate:"2024-02-10",priority:"high",type:"report"},{id:3,task:"Update Drug Register",dueDate:"2024-02-05",priority:"medium",type:"register"},{id:4,task:"Prepare for DDA Inspection",dueDate:"2024-02-20",priority:"medium",type:"inspection"}],R1e=[{id:1,activity:"Pharmacy License renewed",date:"2024-01-15",status:"completed",type:"license"},{id:2,activity:"DDA inspection completed",date:"2024-01-12",status:"passed",type:"inspection"},{id:3,activity:"Monthly report submitted",date:"2024-01-10",status:"submitted",type:"report"},{id:4,activity:"Drug register updated",date:"2024-01-08",status:"completed",type:"register"}],D1e=[{id:"LIC-001",name:"Pharmacy Operating License",issuer:"DDA Nepal",status:"active",expiryDate:"2024-12-31",daysLeft:340},{id:"LIC-002",name:"Drug Store License",issuer:"DDA Nepal",status:"active",expiryDate:"2024-06-30",daysLeft:155},{id:"LIC-003",name:"Narcotic License",issuer:"DDA Nepal",status:"expiring",expiryDate:"2024-02-28",daysLeft:15},{id:"LIC-004",name:"Ayurvedic License",issuer:"DAV Nepal",status:"active",expiryDate:"2024-09-15",daysLeft:233}];function M1e(){const e=s=>{const a={high:"destructive",medium:"secondary",low:"outline"};return t.jsx(te,{variant:a[s],children:s})},r=s=>{const a={active:{variant:"default",label:"Active"},expiring:{variant:"secondary",label:"Expiring Soon"},expired:{variant:"destructive",label:"Expired"},pending:{variant:"outline",label:"Pending"},completed:{variant:"default",label:"Completed"},passed:{variant:"default",label:"Passed"},submitted:{variant:"default",label:"Submitted"}},i=a[s]||a.pending;return t.jsx(te,{variant:i.variant,children:i.label})},n=s=>"text-green-600";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Nepal Compliance Dashboard"}),t.jsx("p",{className:"text-muted-foreground",children:"Monitor DDA compliance, licenses, and regulatory requirements"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(O,{asChild:!0,children:t.jsxs(wr,{to:"/compliance/licenses",children:[t.jsx(Jo,{size:16,className:"mr-2"}),"Manage Licenses"]})}),t.jsx(O,{variant:"outline",asChild:!0,children:t.jsxs(wr,{to:"/compliance/dda-reporting",children:[t.jsx($t,{size:16,className:"mr-2"}),"DDA Reports"]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Licenses"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:nc.activeLicenses})]}),t.jsx(Jo,{className:"h-8 w-8 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiring Soon"}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:nc.expiringLicenses})]}),t.jsx(rr,{className:"h-8 w-8 text-orange-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Reports"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:nc.pendingReports})]}),t.jsx($t,{className:"h-8 w-8 text-blue-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Overdue Tasks"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:nc.overdueTasks})]}),t.jsx(Ut,{className:"h-8 w-8 text-red-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Inspections Passed"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:nc.inspectionsPassed})]}),t.jsx(mt,{className:"h-8 w-8 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Compliance Score"}),t.jsxs("p",{className:`text-2xl font-bold ${n()}`,children:[nc.complianceScore,"%"]})]}),t.jsx(Ss,{className:"h-8 w-8 text-purple-600"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-6",children:t.jsx(wr,{to:"/compliance/licenses",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Jo,{className:"h-8 w-8 mx-auto text-blue-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"License Management"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Track renewal dates"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-6",children:t.jsx(wr,{to:"/compliance/dda-reporting",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx($t,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"DDA Reporting"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Submit reports"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-6",children:t.jsx(wr,{to:"/compliance/inspections",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(yt,{className:"h-8 w-8 mx-auto text-purple-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"Inspection Records"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Track inspections"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-6",children:t.jsx(wr,{to:"/compliance/drug-registers",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Bs,{className:"h-8 w-8 mx-auto text-orange-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"Drug Registers"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Maintain registers"})]})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center",children:[t.jsx(rr,{className:"mr-2 text-orange-600",size:20}),"Urgent Compliance Tasks"]})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[O1e.map(s=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:s.task}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due: ",s.dueDate,"  Type: ",s.type]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[e(s.priority),t.jsx(O,{size:"sm",children:"Action"})]})]},s.id)),t.jsx(O,{variant:"outline",className:"w-full",children:"View All Tasks"})]})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center",children:[t.jsx(Jo,{className:"mr-2 text-blue-600",size:20}),"License Status Overview"]})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[D1e.map(s=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:s.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.issuer,"  Expires: ",s.expiryDate]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.daysLeft," days remaining"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[r(s.status),s.daysLeft<30&&t.jsx(rr,{size:16,className:"text-orange-600"})]})]},s.id)),t.jsx(O,{variant:"outline",className:"w-full",asChild:!0,children:t.jsx(wr,{to:"/compliance/licenses",children:"Manage All Licenses"})})]})})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Recent Compliance Activity"})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:R1e.map(s=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:s.activity}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.date,"  ",s.type]})]})]}),r(s.status)]},s.id))})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center",children:[t.jsx(j0,{className:"mr-2 text-blue-600",size:20}),"DDA Resources & Links"]})}),t.jsx(k,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(O,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(j0,{size:16}),t.jsx("span",{className:"font-medium",children:"DDA Official Portal"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Access official DDA website"})]}),t.jsxs(O,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx($t,{size:16}),t.jsx("span",{className:"font-medium",children:"Online License Renewal"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Renew licenses online"})]}),t.jsxs(O,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Bs,{size:16}),t.jsx("span",{className:"font-medium",children:"Compliance Guidelines"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest regulations"})]})]})})]})]})}const sc=[{id:"LIC-001",licenseNumber:"DDA/P/2023/001",licenseName:"Pharmacy Operating License",licenseType:"Pharmacy Operation",issuer:"Department of Drug Administration",issueDate:"2023-01-15",expiryDate:"2024-12-31",status:"active",renewalRequired:!1,daysUntilExpiry:340,renewalFee:15e3,documentsRequired:["Pharmacy certificate","Pharmacist registration","Business registration"],contactPerson:"Dr. Ram Sharma",phoneNumber:"+977-1-4428763",address:"Babarmahal, Kathmandu",notes:"Primary pharmacy operating license for main location"},{id:"LIC-002",licenseNumber:"DDA/DS/2023/002",licenseName:"Drug Store License",licenseType:"Drug Store",issuer:"Department of Drug Administration",issueDate:"2023-06-01",expiryDate:"2024-06-30",status:"active",renewalRequired:!0,daysUntilExpiry:155,renewalFee:8e3,documentsRequired:["Drug store certificate","Business registration","Tax clearance"],contactPerson:"Dr. Sita Gurung",phoneNumber:"+977-1-4428764",address:"Babarmahal, Kathmandu",notes:"License for over-the-counter drug sales"},{id:"LIC-003",licenseNumber:"DDA/NAR/2023/003",licenseName:"Narcotic and Psychotropic License",licenseType:"Narcotic Control",issuer:"Department of Drug Administration",issueDate:"2023-12-01",expiryDate:"2024-02-28",status:"expiring",renewalRequired:!0,daysUntilExpiry:15,renewalFee:25e3,documentsRequired:["Security clearance","Narcotic storage certificate","Pharmacist license"],contactPerson:"Dr. Hari Thapa",phoneNumber:"+977-1-4428765",address:"Babarmahal, Kathmandu",notes:"Critical license for controlled substances - urgent renewal required"},{id:"LIC-004",licenseNumber:"DAV/AY/2023/004",licenseName:"Ayurvedic Medicine License",licenseType:"Ayurvedic Practice",issuer:"Department of Ayurveda and Alternative Medicine",issueDate:"2023-03-15",expiryDate:"2024-09-15",status:"active",renewalRequired:!1,daysUntilExpiry:233,renewalFee:1e4,documentsRequired:["Ayurvedic practitioner certificate","Business registration"],contactPerson:"Vaidya Maya Shrestha",phoneNumber:"+977-1-4428766",address:"Babarmahal, Kathmandu",notes:"License for traditional Ayurvedic medicine sales"},{id:"LIC-005",licenseNumber:"MUN/TRADE/2023/005",licenseName:"Municipal Trade License",licenseType:"Business Operation",issuer:"Kathmandu Metropolitan City",issueDate:"2023-04-01",expiryDate:"2024-04-01",status:"active",renewalRequired:!0,daysUntilExpiry:67,renewalFee:5e3,documentsRequired:["Business registration","Tax clearance","Property documents"],contactPerson:"Municipal Office",phoneNumber:"+977-1-4200000",address:"City Hall, Kathmandu",notes:"Required for business operation within municipal area"}];function I1e(){const[e,r]=g.useState(""),[n,s]=g.useState("all"),[a,i]=g.useState("all"),[o,l]=g.useState(!1),[c,d]=g.useState(!1),[u,m]=g.useState(null),{toast:h}=Tt(),p=[...new Set(sc.map(N=>N.licenseType))],y=sc.filter(N=>{const P=N.licenseName.toLowerCase().includes(e.toLowerCase())||N.licenseNumber.toLowerCase().includes(e.toLowerCase())||N.issuer.toLowerCase().includes(e.toLowerCase()),_=n==="all"||N.status===n,C=a==="all"||N.licenseType===a;return P&&_&&C}),f=(N,P)=>N==="expired"?t.jsx(te,{variant:"destructive",children:"Expired"}):P<=30?t.jsx(te,{variant:"secondary",children:"Expiring Soon"}):N==="active"?t.jsx(te,{variant:"default",children:"Active"}):t.jsx(te,{variant:"outline",children:"Pending"}),v=()=>{h({title:"Renewal Application Submitted",description:"License renewal application has been submitted successfully."}),d(!1)},j=N=>{h({title:"Document Uploaded",description:`Document uploaded for license ${N}`})},x=sc.length,b=sc.filter(N=>N.status==="active").length,S=sc.filter(N=>N.daysUntilExpiry<=30).length,w=sc.filter(N=>N.renewalRequired&&N.daysUntilExpiry<=7).length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"License Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage all pharmacy licenses and regulatory permissions"})]}),t.jsxs(rt,{open:o,onOpenChange:l,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Add New License"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New License"}),t.jsx(Pt,{children:"Register a new license or permit for tracking"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"licenseName",children:"License Name"}),t.jsx(Z,{placeholder:"Enter license name"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"licenseNumber",children:"License Number"}),t.jsx(Z,{placeholder:"DDA/P/YYYY/XXX"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"licenseType",children:"License Type"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select type"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"pharmacy",children:"Pharmacy Operation"}),t.jsx($,{value:"drug_store",children:"Drug Store"}),t.jsx($,{value:"narcotic",children:"Narcotic Control"}),t.jsx($,{value:"ayurvedic",children:"Ayurvedic Practice"}),t.jsx($,{value:"business",children:"Business Operation"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"issuer",children:"Issuing Authority"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select issuer"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"dda",children:"Department of Drug Administration"}),t.jsx($,{value:"davam",children:"Dept. of Ayurveda & Alternative Medicine"}),t.jsx($,{value:"municipal",children:"Municipal Office"}),t.jsx($,{value:"ocr",children:"Office of Company Registrar"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"issueDate",children:"Issue Date"}),t.jsx(Z,{type:"date"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"expiryDate",children:"Expiry Date"}),t.jsx(Z,{type:"date"})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"notes",children:"Notes"}),t.jsx(Vt,{placeholder:"Additional notes about this license..."})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),t.jsx(O,{onClick:()=>l(!1),children:"Add License"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Jo,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:x}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Licenses"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:b}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Licenses"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(rr,{className:"h-8 w-8 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:S}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiring Soon"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-8 w-8 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:w}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Overdue Renewals"})]})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search licenses...",value:e,onChange:N=>r(N.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Statuses"}),t.jsx($,{value:"active",children:"Active"}),t.jsx($,{value:"expiring",children:"Expiring Soon"}),t.jsx($,{value:"expired",children:"Expired"})]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by type"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Types"}),p.map(N=>t.jsx($,{value:N,children:N},N))]})]}),t.jsxs(O,{variant:"outline",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Report"]})]})})}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{children:["License Registry (",y.length,")"]})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"License Details"}),t.jsx(H,{children:"Type & Issuer"}),t.jsx(H,{children:"Validity Period"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Renewal Info"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:y.map(N=>t.jsxs(Ie,{className:N.daysUntilExpiry<=7?"bg-red-50":"",children:[t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:N.licenseName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:N.licenseNumber}),t.jsx("p",{className:"text-xs text-muted-foreground",children:N.id})]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:N.licenseType}),t.jsx("p",{className:"text-sm text-muted-foreground",children:N.issuer})]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm",children:["Issued: ",N.issueDate]}),t.jsxs("p",{className:"text-sm",children:["Expires: ",N.expiryDate]}),t.jsxs("p",{className:`text-xs font-medium ${N.daysUntilExpiry<=7?"text-red-600":N.daysUntilExpiry<=30?"text-orange-600":"text-green-600"}`,children:[N.daysUntilExpiry," days remaining"]})]})}),t.jsx(V,{children:f(N.status,N.daysUntilExpiry)}),t.jsx(V,{children:t.jsxs("div",{children:[N.renewalRequired&&t.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Renewal Required"}),t.jsxs("p",{className:"text-sm",children:["Fee: NPR ",N.renewalFee.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.documentsRequired.length," docs required"]})]})}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(yt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsx(st,{children:t.jsxs(at,{children:["License Details - ",N.licenseName]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"License Number"}),t.jsx("p",{className:"font-medium",children:N.licenseNumber})]}),t.jsxs("div",{children:[t.jsx(I,{children:"License Type"}),t.jsx("p",{children:N.licenseType})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Issuing Authority"}),t.jsx("p",{children:N.issuer})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Contact Person"}),t.jsx("p",{children:N.contactPerson})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Phone"}),t.jsx("p",{children:N.phoneNumber})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Address"}),t.jsx("p",{children:N.address})]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Required Documents"}),t.jsx("ul",{className:"list-disc list-inside text-sm mt-1",children:N.documentsRequired.map((P,_)=>t.jsx("li",{children:P},_))})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Notes"}),t.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:N.notes})]})]})]})]}),N.renewalRequired&&t.jsxs(rt,{open:c,onOpenChange:d,children:[t.jsx(Ft,{asChild:!0,children:t.jsx(O,{size:"sm",onClick:()=>m(N),children:"Renew"})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"License Renewal Application"}),t.jsxs(Pt,{children:["Submit renewal application for ",u==null?void 0:u.licenseName]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Renewal Requirements"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Renewal Fee"}),t.jsxs("p",{className:"font-medium",children:["NPR ",u==null?void 0:u.renewalFee.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Processing Time"}),t.jsx("p",{children:"7-14 working days"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Required Documents"}),t.jsx("div",{className:"space-y-2 mt-2",children:u==null?void 0:u.documentsRequired.map((P,_)=>t.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[t.jsx("span",{className:"text-sm",children:P}),t.jsxs(O,{size:"sm",variant:"outline",onClick:()=>j(u.id),children:[t.jsx(Sh,{size:12,className:"mr-1"}),"Upload"]})]},_))})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Additional Notes"}),t.jsx(Vt,{placeholder:"Any additional information for the renewal application..."})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),t.jsx(O,{onClick:v,children:"Submit Renewal"})]})]})]}),t.jsx(O,{size:"sm",variant:"outline",children:t.jsx(hn,{size:12})})]})})]},N.id))})]})})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center",children:[t.jsx(j0,{className:"mr-2 text-blue-600",size:20}),"Official License Portals"]})}),t.jsx(k,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(O,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Bs,{size:16}),t.jsx("span",{className:"font-medium",children:"DDA License Portal"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Apply and renew DDA licenses online"})]}),t.jsxs(O,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx($t,{size:16}),t.jsx("span",{className:"font-medium",children:"Municipal License"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Municipal trade license services"})]}),t.jsxs(O,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Jo,{size:16}),t.jsx("span",{className:"font-medium",children:"License Verification"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Verify license authenticity online"})]})]})})]})]})}const ac=[{id:"RPT-001",reportType:"Monthly Drug Sales Report",reportPeriod:"January 2024",submissionDeadline:"2024-02-10",submissionDate:"2024-02-08",status:"submitted",submittedBy:"Dr. Ram Sharma",fileSize:"2.4 MB",format:"PDF",sections:["Allopathic medicines","Ayurvedic medicines","OTC drugs","Controlled substances"],compliance:"compliant",feedback:"Report submitted on time with all required sections"},{id:"RPT-002",reportType:"Narcotic Drug Register",reportPeriod:"January 2024",submissionDeadline:"2024-02-05",submissionDate:null,status:"overdue",submittedBy:null,fileSize:null,format:"Excel",sections:["Narcotic purchases","Sales records","Stock balance","Disposal records"],compliance:"non_compliant",feedback:"Submission overdue - immediate action required"},{id:"RPT-003",reportType:"Adverse Drug Reaction Report",reportPeriod:"December 2023",submissionDeadline:"2024-01-15",submissionDate:"2024-01-12",status:"submitted",submittedBy:"Dr. Sita Gurung",fileSize:"1.1 MB",format:"PDF",sections:["Incident reports","Patient details","Drug information","Outcome"],compliance:"compliant",feedback:"Well documented report with proper follow-up"},{id:"RPT-004",reportType:"Quarterly Financial Report",reportPeriod:"Q4 2023",submissionDeadline:"2024-01-30",submissionDate:"2024-01-28",status:"under_review",submittedBy:"Finance Manager",fileSize:"5.2 MB",format:"Excel",sections:["Revenue summary","Tax details","Expense breakdown","Profit analysis"],compliance:"pending",feedback:"Under review by DDA finance department"},{id:"RPT-005",reportType:"Drug Import Declaration",reportPeriod:"January 2024",submissionDeadline:"2024-02-15",submissionDate:null,status:"draft",submittedBy:null,fileSize:null,format:"PDF",sections:["Import details","Supplier information","Quality certificates","Custom clearance"],compliance:"pending",feedback:"Draft in preparation"}],$1e=[{id:1,name:"Monthly Drug Sales Report",frequency:"Monthly",nextDue:"2024-03-10"},{id:2,name:"Narcotic Drug Register",frequency:"Monthly",nextDue:"2024-03-05"},{id:3,name:"Adverse Drug Reaction",frequency:"As needed",nextDue:"N/A"},{id:4,name:"Quarterly Financial Report",frequency:"Quarterly",nextDue:"2024-04-30"},{id:5,name:"Annual License Renewal",frequency:"Annually",nextDue:"2024-12-31"}];function L1e(){const[e,r]=g.useState(""),[n,s]=g.useState("all"),[a,i]=g.useState("all"),[o,l]=g.useState(!1);g.useState(null);const{toast:c}=Tt(),d=[...new Set(ac.map(b=>b.reportType))],u=ac.filter(b=>{const S=b.reportType.toLowerCase().includes(e.toLowerCase())||b.reportPeriod.toLowerCase().includes(e.toLowerCase()),w=n==="all"||b.status===n,N=a==="all"||b.reportType===a;return S&&w&&N}),m=b=>{const S={submitted:{variant:"default",label:"Submitted",icon:mt},draft:{variant:"outline",label:"Draft",icon:$t},overdue:{variant:"destructive",label:"Overdue",icon:rr},under_review:{variant:"secondary",label:"Under Review",icon:Ut}},w=S[b]||S.draft,N=w.icon;return t.jsxs(te,{variant:w.variant,className:"flex items-center gap-1",children:[t.jsx(N,{size:12}),w.label]})},h=b=>{const S={compliant:"default",non_compliant:"destructive",pending:"outline"};return t.jsx(te,{variant:S[b],children:b.replace("_"," ")})},p=()=>{c({title:"Report Submitted",description:"Report has been submitted to DDA successfully."}),l(!1)},y=b=>{c({title:"File Uploaded",description:`File uploaded for report ${b}`})},f=ac.length,v=ac.filter(b=>b.status==="submitted").length,j=ac.filter(b=>b.status==="overdue").length,x=ac.filter(b=>b.status==="draft").length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"DDA Reporting System"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage Department of Drug Administration reports and submissions"})]}),t.jsxs(rt,{open:o,onOpenChange:l,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Create New Report"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Create New Report"}),t.jsx(Pt,{children:"Generate a new report for DDA submission"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"reportType",children:"Report Type"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select report type"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"monthly_sales",children:"Monthly Drug Sales Report"}),t.jsx($,{value:"narcotic_register",children:"Narcotic Drug Register"}),t.jsx($,{value:"adr_report",children:"Adverse Drug Reaction Report"}),t.jsx($,{value:"financial_report",children:"Quarterly Financial Report"}),t.jsx($,{value:"import_declaration",children:"Drug Import Declaration"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"reportPeriod",children:"Reporting Period"}),t.jsx(Z,{placeholder:"e.g., January 2024"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"submissionDeadline",children:"Submission Deadline"}),t.jsx(Z,{type:"date"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"format",children:"Report Format"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select format"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"pdf",children:"PDF Document"}),t.jsx($,{value:"excel",children:"Excel Spreadsheet"}),t.jsx($,{value:"word",children:"Word Document"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"sections",children:"Report Sections (comma-separated)"}),t.jsx(Vt,{placeholder:"e.g., Sales data, Inventory summary, Compliance status"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"notes",children:"Additional Notes"}),t.jsx(Vt,{placeholder:"Any special instructions or notes for this report..."})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>l(!1),children:"Save as Draft"}),t.jsx(O,{onClick:p,children:"Create Report"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx($t,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:f}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Reports"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:v}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Submitted"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(rr,{className:"h-8 w-8 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:j}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Overdue"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-8 w-8 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:x}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"In Draft"})]})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center",children:[t.jsx(Ot,{className:"mr-2 text-blue-600",size:20}),"Upcoming Report Deadlines"]})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-3",children:$1e.map(b=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:b.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.frequency,"  Next due: ",b.nextDue]})]}),t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(zt,{size:12,className:"mr-1"}),"Create"]})]},b.id))})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center",children:[t.jsx(ft,{className:"mr-2 text-green-600",size:20}),"Compliance Summary"]})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:"85%"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"On-time Submissions"})]}),t.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"12"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Reports This Year"})]})]}),t.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[t.jsx("p",{className:"text-lg font-bold text-orange-600",children:"Next Deadline: 5 days"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Narcotic Drug Register"})]})]})})]})]}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search reports...",value:e,onChange:b=>r(b.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Statuses"}),t.jsx($,{value:"submitted",children:"Submitted"}),t.jsx($,{value:"draft",children:"Draft"}),t.jsx($,{value:"overdue",children:"Overdue"}),t.jsx($,{value:"under_review",children:"Under Review"})]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by type"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Types"}),d.map(b=>t.jsx($,{value:b,children:b},b))]})]}),t.jsxs(O,{variant:"outline",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Summary"]})]})})}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{children:["DDA Reports (",u.length,")"]})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Report Details"}),t.jsx(H,{children:"Period & Deadline"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Compliance"}),t.jsx(H,{children:"Submission Info"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:u.map(b=>t.jsxs(Ie,{className:b.status==="overdue"?"bg-red-50":"",children:[t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:b.reportType}),t.jsx("p",{className:"text-sm text-muted-foreground",children:b.id}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.sections.length," sections"]})]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm",children:["Period: ",b.reportPeriod]}),t.jsxs("p",{className:"text-sm",children:["Due: ",b.submissionDeadline]}),b.submissionDate&&t.jsxs("p",{className:"text-xs text-green-600",children:["Submitted: ",b.submissionDate]})]})}),t.jsx(V,{children:m(b.status)}),t.jsx(V,{children:h(b.compliance)}),t.jsx(V,{children:t.jsxs("div",{children:[b.submittedBy&&t.jsxs("p",{className:"text-sm",children:["By: ",b.submittedBy]}),b.fileSize&&t.jsxs("p",{className:"text-sm",children:["Size: ",b.fileSize]}),b.format&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Format: ",b.format]})]})}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(yt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsx(st,{children:t.jsxs(at,{children:["Report Details - ",b.reportType]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Report ID"}),t.jsx("p",{className:"font-medium",children:b.id})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Report Period"}),t.jsx("p",{children:b.reportPeriod})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Submission Deadline"}),t.jsx("p",{children:b.submissionDeadline})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Status"}),t.jsx("div",{className:"mt-1",children:m(b.status)})]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Report Sections"}),t.jsx("ul",{className:"list-disc list-inside text-sm mt-1",children:b.sections.map((S,w)=>t.jsx("li",{children:S},w))})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Feedback / Notes"}),t.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:b.feedback})]})]})]})]}),b.status==="draft"&&t.jsxs(O,{size:"sm",onClick:()=>y(b.id),children:[t.jsx(Sh,{size:12,className:"mr-1"}),"Upload"]}),b.status==="submitted"&&t.jsx(O,{size:"sm",variant:"outline",children:t.jsx(bt,{size:12})})]})})]},b.id))})]})})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center",children:[t.jsx(Bs,{className:"mr-2 text-blue-600",size:20}),"DDA Contact Information"]})}),t.jsx(k,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Drug Administration Department"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Babarmahal, Kathmandu",t.jsx("br",{}),"Phone: +977-1-4428763",t.jsx("br",{}),"Email: info@dda.gov.np"]})]}),t.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Online Submission Portal"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Submit reports electronically",t.jsx("br",{}),"24/7 online access",t.jsx("br",{}),"Real-time status tracking"]})]}),t.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Support Helpline"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Technical Support: +977-1-4428764",t.jsx("br",{}),"Working Hours: 10 AM - 5 PM",t.jsx("br",{}),"Sunday to Friday"]})]})]})})]})]})}const Uo=[{id:"INS-001",inspectionType:"Routine Inspection",inspectorName:"Dr. Krishna Bahadur",inspectorId:"DDA-INS-001",inspectionDate:"2024-01-15",scheduledDate:"2024-01-15",duration:"4 hours",status:"completed",result:"passed",score:92,maxScore:100,department:"Department of Drug Administration",license:"DDA/P/2023/001",location:"Main Pharmacy",checklist:[{item:"License Display",status:"compliant",notes:"License properly displayed"},{item:"Drug Storage",status:"compliant",notes:"Temperature controlled storage maintained"},{item:"Record Keeping",status:"minor_issue",notes:"Some records missing dates"},{item:"Staff Qualification",status:"compliant",notes:"All staff properly qualified"},{item:"Prescription Handling",status:"compliant",notes:"Proper procedures followed"}],violations:[{type:"Minor",description:"Some prescription records missing complete dates",penalty:1e3}],recommendations:["Ensure all prescription records include complete date and time","Consider digital record keeping system","Update staff training on documentation"],followUpRequired:!0,followUpDate:"2024-02-15",certificate:"INS-CERT-001.pdf",inspectorContact:"+977-1-4428763"},{id:"INS-002",inspectionType:"Narcotic License Inspection",inspectorName:"Dr. Sita Devi Sharma",inspectorId:"DDA-INS-002",inspectionDate:"2024-01-10",scheduledDate:"2024-01-10",duration:"6 hours",status:"completed",result:"conditional_pass",score:78,maxScore:100,department:"Department of Drug Administration",license:"DDA/NAR/2023/003",location:"Narcotic Storage Area",checklist:[{item:"Narcotic Storage Security",status:"compliant",notes:"Double lock system in place"},{item:"Stock Register",status:"major_issue",notes:"Discrepancies in stock balance"},{item:"Disposal Records",status:"compliant",notes:"Proper disposal documentation"},{item:"Staff Authorization",status:"minor_issue",notes:"One staff member certification expired"},{item:"Access Control",status:"compliant",notes:"Restricted access properly maintained"}],violations:[{type:"Major",description:"Stock register shows discrepancy of 50 tablets",penalty:15e3},{type:"Minor",description:"Staff certification not updated",penalty:2e3}],recommendations:["Conduct immediate stock audit","Implement daily stock verification","Update staff certifications within 30 days","Install CCTV in narcotic storage area"],followUpRequired:!0,followUpDate:"2024-02-10",certificate:null,inspectorContact:"+977-1-4428763"},{id:"INS-003",inspectionType:"Surprise Inspection",inspectorName:"Dr. Ram Krishna Poudel",inspectorId:"DDA-INS-003",inspectionDate:"2024-01-05",scheduledDate:null,duration:"3 hours",status:"completed",result:"passed",score:88,maxScore:100,department:"Department of Drug Administration",license:"DDA/P/2023/001",location:"Main Pharmacy",checklist:[{item:"Emergency Procedures",status:"compliant",notes:"Emergency contacts displayed"},{item:"Customer Service",status:"compliant",notes:"Good customer interaction observed"},{item:"Inventory Management",status:"minor_issue",notes:"Some expired items found on shelf"},{item:"Prescription Verification",status:"compliant",notes:"Proper verification process"},{item:"Hygiene Standards",status:"compliant",notes:"Clean and hygienic environment"}],violations:[{type:"Minor",description:"3 expired OTC medicines found on display",penalty:3e3}],recommendations:["Implement daily expiry check routine","Use inventory management software with expiry alerts","Train staff on regular shelf inspection"],followUpRequired:!1,followUpDate:null,certificate:"INS-CERT-003.pdf",inspectorContact:"+977-1-4428763"},{id:"INS-004",inspectionType:"License Renewal Inspection",inspectorName:"Dr. Maya Gurung",inspectorId:"DDA-INS-004",inspectionDate:"2024-02-01",scheduledDate:"2024-02-01",duration:"5 hours",status:"pending",result:"pending",score:null,maxScore:100,department:"Department of Drug Administration",license:"DDA/P/2023/001",location:"Main Pharmacy",checklist:[],violations:[],recommendations:[],followUpRequired:!1,followUpDate:null,certificate:null,inspectorContact:"+977-1-4428763"}];function F1e(){const[e,r]=g.useState(""),[n,s]=g.useState("all"),[a,i]=g.useState("all"),[o,l]=g.useState(!1),[c,d]=g.useState(null),{toast:u}=Tt(),m=[...new Set(Uo.map(N=>N.inspectionType))],h=Uo.filter(N=>{const P=N.inspectionType.toLowerCase().includes(e.toLowerCase())||N.inspectorName.toLowerCase().includes(e.toLowerCase())||N.license.toLowerCase().includes(e.toLowerCase()),_=n==="all"||N.status===n,C=a==="all"||N.inspectionType===a;return P&&_&&C}),p=N=>{const P={completed:{variant:"default",label:"Completed",icon:mt},pending:{variant:"outline",label:"Pending",icon:Ut},scheduled:{variant:"secondary",label:"Scheduled",icon:Ot},cancelled:{variant:"destructive",label:"Cancelled",icon:rr}},_=P[N]||P.pending,C=_.icon;return t.jsxs(te,{variant:_.variant,className:"flex items-center gap-1",children:[t.jsx(C,{size:12}),_.label]})},y=N=>{const P={passed:{variant:"default",label:"Passed",color:"text-green-600"},conditional_pass:{variant:"secondary",label:"Conditional Pass",color:"text-orange-600"},failed:{variant:"destructive",label:"Failed",color:"text-red-600"},pending:{variant:"outline",label:"Pending",color:"text-gray-600"}},_=P[N]||P.pending;return t.jsx(te,{variant:_.variant,children:_.label})},f=N=>({compliant:"text-green-600",minor_issue:"text-orange-600",major_issue:"text-red-600"})[N]||"text-gray-600",v=()=>{u({title:"Inspection Scheduled",description:"Inspection has been scheduled successfully."}),l(!1)},j=(N,P)=>{u({title:"Document Downloaded",description:`Downloaded ${P} for inspection ${N}`})},x=Uo.length,b=Uo.filter(N=>N.result==="passed").length,S=Uo.filter(N=>N.status==="pending").length,w=Uo.filter(N=>N.score).reduce((N,P)=>N+P.score,0)/Uo.filter(N=>N.score).length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Inspection Records"}),t.jsx("p",{className:"text-muted-foreground",children:"Track DDA inspections, compliance status, and follow-up actions"})]}),t.jsxs(rt,{open:o,onOpenChange:l,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Schedule Inspection"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Schedule New Inspection"}),t.jsx(Pt,{children:"Request or schedule an inspection with DDA"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"inspectionType",children:"Inspection Type"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select type"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"routine",children:"Routine Inspection"}),t.jsx($,{value:"renewal",children:"License Renewal Inspection"}),t.jsx($,{value:"narcotic",children:"Narcotic License Inspection"}),t.jsx($,{value:"complaint",children:"Complaint Investigation"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"preferredDate",children:"Preferred Date"}),t.jsx(Z,{type:"date"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"license",children:"Related License"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select license"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"DDA/P/2023/001",children:"Pharmacy Operating License"}),t.jsx($,{value:"DDA/NAR/2023/003",children:"Narcotic License"}),t.jsx($,{value:"DDA/DS/2023/002",children:"Drug Store License"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"location",children:"Inspection Location"}),t.jsx(Z,{placeholder:"Main Pharmacy, Branch, etc."})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"reason",children:"Reason / Purpose"}),t.jsx(Vt,{placeholder:"Describe the reason for this inspection..."})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"preparation",children:"Preparation Notes"}),t.jsx(Vt,{placeholder:"Documents to prepare, areas to focus on, etc."})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),t.jsx(O,{onClick:v,children:"Schedule Inspection"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Bs,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:x}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Inspections"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:b}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Passed Inspections"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-8 w-8 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:S}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Inspections"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(On,{className:"h-8 w-8 text-yellow-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:[w.toFixed(1),"%"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Score"})]})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search inspections...",value:e,onChange:N=>r(N.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Statuses"}),t.jsx($,{value:"completed",children:"Completed"}),t.jsx($,{value:"pending",children:"Pending"}),t.jsx($,{value:"scheduled",children:"Scheduled"}),t.jsx($,{value:"cancelled",children:"Cancelled"})]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by type"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Types"}),m.map(N=>t.jsx($,{value:N,children:N},N))]})]}),t.jsxs(O,{variant:"outline",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Records"]})]})})}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{children:["Inspection Records (",h.length,")"]})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Inspection Details"}),t.jsx(H,{children:"Inspector"}),t.jsx(H,{children:"Date & Duration"}),t.jsx(H,{children:"Status & Result"}),t.jsx(H,{children:"Score"}),t.jsx(H,{children:"Follow-up"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:h.map(N=>t.jsxs(Ie,{children:[t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:N.inspectionType}),t.jsx("p",{className:"text-sm text-muted-foreground",children:N.license}),t.jsx("p",{className:"text-xs text-muted-foreground",children:N.location})]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:N.inspectorName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:N.inspectorId}),t.jsx("p",{className:"text-xs text-muted-foreground",children:N.department})]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm",children:["Date: ",N.inspectionDate]}),N.scheduledDate&&N.scheduledDate!==N.inspectionDate&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Scheduled: ",N.scheduledDate]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Duration: ",N.duration]})]})}),t.jsx(V,{children:t.jsxs("div",{className:"space-y-1",children:[p(N.status),N.result!=="pending"&&y(N.result)]})}),t.jsx(V,{children:N.score?t.jsxs("div",{children:[t.jsxs("p",{className:`font-bold ${N.score>=90?"text-green-600":N.score>=75?"text-orange-600":"text-red-600"}`,children:[N.score,"%"]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",N.maxScore]})]}):t.jsx("span",{className:"text-muted-foreground",children:"-"})}),t.jsx(V,{children:N.followUpRequired?t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Required"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:N.followUpDate})]}):t.jsx("span",{className:"text-muted-foreground",children:"None"})}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{size:"sm",variant:"outline",onClick:()=>d(N),children:[t.jsx(yt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(st,{children:t.jsxs(at,{children:["Inspection Report - ",c==null?void 0:c.inspectionType]})}),c&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Inspection ID"}),t.jsx("p",{className:"font-medium",children:c.id})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Inspector"}),t.jsx("p",{children:c.inspectorName})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Date"}),t.jsx("p",{children:c.inspectionDate})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Duration"}),t.jsx("p",{children:c.duration})]})]}),c.checklist.length>0&&t.jsxs("div",{children:[t.jsx(I,{children:"Inspection Checklist"}),t.jsx("div",{className:"mt-2 space-y-2",children:c.checklist.map((P,_)=>t.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[t.jsx("span",{className:"font-medium",children:P.item}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:`text-sm ${f(P.status)}`,children:P.status.replace("_"," ")})})]},_))})]}),c.violations.length>0&&t.jsxs("div",{children:[t.jsx(I,{children:"Violations Found"}),t.jsx("div",{className:"mt-2 space-y-2",children:c.violations.map((P,_)=>t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx(te,{variant:"destructive",className:"mb-2",children:P.type}),t.jsx("p",{className:"text-sm",children:P.description})]}),t.jsxs("span",{className:"font-medium",children:["NPR ",P.penalty]})]})},_))})]}),c.recommendations.length>0&&t.jsxs("div",{children:[t.jsx(I,{children:"Recommendations"}),t.jsx("ul",{className:"list-disc list-inside text-sm mt-2 space-y-1",children:c.recommendations.map((P,_)=>t.jsx("li",{children:P},_))})]}),t.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Inspector Contact"}),t.jsx("p",{className:"text-sm",children:c.inspectorContact})]})]})]})]}),N.certificate&&t.jsx(O,{size:"sm",variant:"outline",onClick:()=>j(N.id,N.certificate),children:t.jsx(bt,{size:12})})]})})]},N.id))})]})})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center",children:[t.jsx(it,{className:"mr-2 text-blue-600",size:20}),"DDA Inspector Directory"]})}),t.jsx(k,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Dr. Krishna Bahadur"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Senior Inspector - General Pharmacy",t.jsx("br",{}),"ID: DDA-INS-001",t.jsx("br",{}),"Phone: +977-1-4428763"]})]}),t.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Dr. Sita Devi Sharma"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Specialist - Narcotic Control",t.jsx("br",{}),"ID: DDA-INS-002",t.jsx("br",{}),"Phone: +977-1-4428763"]})]}),t.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Dr. Ram Krishna Poudel"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Inspector - Quality Assurance",t.jsx("br",{}),"ID: DDA-INS-003",t.jsx("br",{}),"Phone: +977-1-4428763"]})]})]})})]})]})}const ic=[{id:"REG-001",registerName:"Narcotic and Psychotropic Drugs Register",registerType:"Narcotic Control",startDate:"2024-01-01",currentPage:45,totalPages:200,lastEntry:"2024-01-15",responsible:"Dr. Ram Sharma",location:"Main Pharmacy - Secure Storage",status:"active",regulatoryRef:"DDA Regulation 2023, Section 15",nextAudit:"2024-02-01",totalEntries:1247,pendingEntries:3,entries:[{date:"2024-01-15",time:"14:30",drug:"Morphine 10mg",batch:"MOR001",type:"Sale",quantity:10,balance:45,prescriptionNo:"RX-2024-001",customerName:"Patient ABC"},{date:"2024-01-14",time:"10:15",drug:"Codeine 30mg",batch:"COD002",type:"Purchase",quantity:100,balance:200,prescriptionNo:"PO-2024-001",customerName:"Supplier XYZ"},{date:"2024-01-13",time:"16:45",drug:"Tramadol 50mg",batch:"TRA003",type:"Sale",quantity:20,balance:180,prescriptionNo:"RX-2024-002",customerName:"Patient DEF"}]},{id:"REG-002",registerName:"Prescription Drug Register",registerType:"Prescription Tracking",startDate:"2024-01-01",currentPage:120,totalPages:500,lastEntry:"2024-01-15",responsible:"Dr. Sita Gurung",location:"Main Pharmacy - Reception",status:"active",regulatoryRef:"DDA Regulation 2023, Section 12",nextAudit:"2024-03-01",totalEntries:3456,pendingEntries:0,entries:[{date:"2024-01-15",time:"15:20",drug:"Amoxicillin 500mg",batch:"AMX001",type:"Sale",quantity:21,balance:150,prescriptionNo:"RX-2024-003",customerName:"Patient GHI"},{date:"2024-01-15",time:"11:30",drug:"Insulin Pen",batch:"INS002",type:"Sale",quantity:2,balance:25,prescriptionNo:"RX-2024-004",customerName:"Patient JKL"},{date:"2024-01-14",time:"09:45",drug:"Lisinopril 10mg",batch:"LIS003",type:"Sale",quantity:30,balance:120,prescriptionNo:"RX-2024-005",customerName:"Patient MNO"}]},{id:"REG-003",registerName:"Purchase and Procurement Register",registerType:"Inventory Control",startDate:"2024-01-01",currentPage:25,totalPages:100,lastEntry:"2024-01-12",responsible:"Purchase Manager",location:"Administrative Office",status:"active",regulatoryRef:"DDA Regulation 2023, Section 8",nextAudit:"2024-04-01",totalEntries:245,pendingEntries:1,entries:[{date:"2024-01-12",time:"10:00",drug:"Paracetamol 500mg",batch:"PAR001",type:"Purchase",quantity:1e3,balance:1500,prescriptionNo:"PO-2024-002",customerName:"MediCorp Nepal"},{date:"2024-01-10",time:"14:30",drug:"Cetirizine 10mg",batch:"CET002",type:"Purchase",quantity:500,balance:750,prescriptionNo:"PO-2024-003",customerName:"PharmaCo Ltd"},{date:"2024-01-08",time:"11:15",drug:"Vitamin D3 1000IU",batch:"VIT003",type:"Purchase",quantity:200,balance:300,prescriptionNo:"PO-2024-004",customerName:"HealthPlus Supply"}]},{id:"REG-004",registerName:"Disposal and Destruction Register",registerType:"Waste Management",startDate:"2024-01-01",currentPage:8,totalPages:50,lastEntry:"2024-01-10",responsible:"Quality Manager",location:"Quality Control Department",status:"active",regulatoryRef:"DDA Regulation 2023, Section 20",nextAudit:"2024-06-01",totalEntries:67,pendingEntries:2,entries:[{date:"2024-01-10",time:"13:00",drug:"Expired Aspirin 325mg",batch:"ASP001",type:"Disposal",quantity:50,balance:0,prescriptionNo:"DISP-2024-001",customerName:"Authorized Disposal Co."},{date:"2024-01-05",time:"15:30",drug:"Damaged Cough Syrup",batch:"COU002",type:"Disposal",quantity:12,balance:0,prescriptionNo:"DISP-2024-002",customerName:"Authorized Disposal Co."}]},{id:"REG-005",registerName:"Adverse Drug Reaction Register",registerType:"Safety Monitoring",startDate:"2024-01-01",currentPage:5,totalPages:25,lastEntry:"2024-01-08",responsible:"Pharmacovigilance Officer",location:"Clinical Department",status:"active",regulatoryRef:"DDA Regulation 2023, Section 25",nextAudit:"2024-05-01",totalEntries:23,pendingEntries:1,entries:[{date:"2024-01-08",time:"16:20",drug:"Ibuprofen 400mg",batch:"IBU001",type:"ADR Report",quantity:1,balance:0,prescriptionNo:"ADR-2024-001",customerName:"Patient ABC - Skin Rash"},{date:"2024-01-03",time:"11:45",drug:"Amoxicillin 250mg",batch:"AMX002",type:"ADR Report",quantity:1,balance:0,prescriptionNo:"ADR-2024-002",customerName:"Patient DEF - Nausea"}]}];function z1e(){const[e,r]=g.useState(""),[n,s]=g.useState("all"),[a,i]=g.useState("all"),[o,l]=g.useState(!1),[c,d]=g.useState(!1),[u,m]=g.useState(null),{toast:h}=Tt(),p=[...new Set(ic.map(C=>C.registerType))],y=ic.filter(C=>{const A=C.registerName.toLowerCase().includes(e.toLowerCase())||C.registerType.toLowerCase().includes(e.toLowerCase())||C.responsible.toLowerCase().includes(e.toLowerCase()),M=n==="all"||C.registerType===n,R=a==="all"||C.status===a;return A&&M&&R}),f=C=>{const A={active:{variant:"default",label:"Active",icon:mt},closed:{variant:"secondary",label:"Closed",icon:$t},archived:{variant:"outline",label:"Archived",icon:eP},pending:{variant:"destructive",label:"Pending Review",icon:rr}},M=A[C]||A.active,R=M.icon;return t.jsxs(te,{variant:M.variant,className:"flex items-center gap-1",children:[t.jsx(R,{size:12}),M.label]})},v=(C,A)=>Math.round(C/A*100),j=C=>C<50?"text-green-600":C<80?"text-orange-600":"text-red-600",x=()=>{h({title:"Register Created",description:"New drug register has been created successfully."}),l(!1)},b=()=>{h({title:"Entry Added",description:"New entry has been added to the register."}),d(!1)},S=C=>{h({title:"Export Started",description:`Exporting register ${C} to PDF format.`})},w=ic.length,N=ic.filter(C=>C.status==="active").length,P=ic.reduce((C,A)=>C+A.totalEntries,0),_=ic.reduce((C,A)=>C+A.pendingEntries,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Drug Registers"}),t.jsx("p",{className:"text-muted-foreground",children:"Maintain mandatory drug registers as per DDA regulations"})]}),t.jsxs(rt,{open:o,onOpenChange:l,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Create New Register"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Create New Drug Register"}),t.jsx(Pt,{children:"Set up a new drug register for regulatory compliance"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"registerName",children:"Register Name"}),t.jsx(Z,{placeholder:"Enter register name"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"registerType",children:"Register Type"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select type"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"narcotic",children:"Narcotic Control"}),t.jsx($,{value:"prescription",children:"Prescription Tracking"}),t.jsx($,{value:"inventory",children:"Inventory Control"}),t.jsx($,{value:"disposal",children:"Waste Management"}),t.jsx($,{value:"safety",children:"Safety Monitoring"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"responsible",children:"Responsible Person"}),t.jsx(Z,{placeholder:"Name of responsible pharmacist"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"location",children:"Physical Location"}),t.jsx(Z,{placeholder:"Storage location of register"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"startDate",children:"Start Date"}),t.jsx(Z,{type:"date"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"totalPages",children:"Total Pages"}),t.jsx(Z,{type:"number",placeholder:"Number of pages in register"})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"regulatoryRef",children:"Regulatory Reference"}),t.jsx(Z,{placeholder:"DDA Regulation reference"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"notes",children:"Additional Notes"}),t.jsx(Vt,{placeholder:"Any additional notes or requirements..."})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),t.jsx(O,{onClick:x,children:"Create Register"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(eP,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:w}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Registers"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:N}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Registers"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx($t,{className:"h-8 w-8 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:P.toLocaleString()}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Entries"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-8 w-8 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:_}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Entries"})]})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search registers...",value:e,onChange:C=>r(C.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by type"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Types"}),p.map(C=>t.jsx($,{value:C,children:C},C))]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Statuses"}),t.jsx($,{value:"active",children:"Active"}),t.jsx($,{value:"closed",children:"Closed"}),t.jsx($,{value:"archived",children:"Archived"})]})]}),t.jsxs(O,{variant:"outline",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export All"]})]})})}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{children:["Drug Registers (",y.length,")"]})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Register Details"}),t.jsx(H,{children:"Responsible Person"}),t.jsx(H,{children:"Usage Status"}),t.jsx(H,{children:"Last Activity"}),t.jsx(H,{children:"Compliance"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:y.map(C=>{const A=v(C.currentPage,C.totalPages);return t.jsxs(Ie,{children:[t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:C.registerName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:C.registerType}),t.jsx("p",{className:"text-xs text-muted-foreground",children:C.id})]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:C.responsible}),t.jsx("p",{className:"text-sm text-muted-foreground",children:C.location})]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm",children:["Page ",C.currentPage," of ",C.totalPages]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:t.jsx("div",{className:`h-2 rounded-full ${A>=80?"bg-red-600":A>=50?"bg-orange-600":"bg-green-600"}`,style:{width:`${A}%`}})}),t.jsxs("p",{className:`text-xs font-medium ${j(A)}`,children:[A,"% used"]})]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm",children:["Last Entry: ",C.lastEntry]}),t.jsxs("p",{className:"text-sm",children:["Entries: ",C.totalEntries]}),C.pendingEntries>0&&t.jsxs("p",{className:"text-xs text-orange-600",children:[C.pendingEntries," pending"]})]})}),t.jsx(V,{children:t.jsxs("div",{children:[f(C.status),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Next audit: ",C.nextAudit]})]})}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{size:"sm",variant:"outline",onClick:()=>m(C),children:[t.jsx(yt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(st,{children:t.jsx(at,{children:u==null?void 0:u.registerName})}),u&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Register ID"}),t.jsx("p",{className:"font-medium",children:u.id})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Type"}),t.jsx("p",{children:u.registerType})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Responsible Person"}),t.jsx("p",{children:u.responsible})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Location"}),t.jsx("p",{children:u.location})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Start Date"}),t.jsx("p",{children:u.startDate})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Status"}),t.jsx("div",{className:"mt-1",children:f(u.status)})]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Recent Entries"}),t.jsx("div",{className:"mt-2",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Date/Time"}),t.jsx(H,{children:"Drug"}),t.jsx(H,{children:"Type"}),t.jsx(H,{children:"Quantity"}),t.jsx(H,{children:"Balance"}),t.jsx(H,{children:"Reference"})]})}),t.jsx(At,{children:u.entries.map((M,R)=>t.jsxs(Ie,{children:[t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:M.date}),t.jsx("p",{className:"text-xs text-muted-foreground",children:M.time})]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:M.drug}),t.jsx("p",{className:"text-xs text-muted-foreground",children:M.batch})]})}),t.jsx(V,{children:t.jsx(te,{variant:M.type==="Sale"?"default":"secondary",children:M.type})}),t.jsx(V,{children:M.quantity}),t.jsx(V,{children:M.balance}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("p",{className:"text-xs",children:M.prescriptionNo}),t.jsx("p",{className:"text-xs text-muted-foreground",children:M.customerName})]})})]},R))})]})})]}),t.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Regulatory Compliance"}),t.jsx("p",{className:"text-sm",children:u.regulatoryRef}),t.jsxs("p",{className:"text-sm mt-1",children:["Next audit scheduled: ",u.nextAudit]})]})]})]})]}),t.jsxs(rt,{open:c,onOpenChange:d,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{size:"sm",onClick:()=>m(C),children:[t.jsx(zt,{size:12,className:"mr-1"}),"Add Entry"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Entry"}),t.jsxs(Pt,{children:["Add a new entry to ",u==null?void 0:u.registerName]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"entryDate",children:"Date"}),t.jsx(Z,{type:"date",defaultValue:new Date().toISOString().split("T")[0]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"entryTime",children:"Time"}),t.jsx(Z,{type:"time",defaultValue:new Date().toTimeString().split(" ")[0].substring(0,5)})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"drugName",children:"Drug Name"}),t.jsx(Z,{placeholder:"Enter drug name"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"batchNumber",children:"Batch Number"}),t.jsx(Z,{placeholder:"Enter batch number"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"transactionType",children:"Type"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select type"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"purchase",children:"Purchase"}),t.jsx($,{value:"sale",children:"Sale"}),t.jsx($,{value:"disposal",children:"Disposal"}),t.jsx($,{value:"transfer",children:"Transfer"}),t.jsx($,{value:"return",children:"Return"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"quantity",children:"Quantity"}),t.jsx(Z,{type:"number",placeholder:"Enter quantity"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"balance",children:"Current Balance"}),t.jsx(Z,{type:"number",placeholder:"Current stock balance"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"referenceNo",children:"Reference Number"}),t.jsx(Z,{placeholder:"Prescription/Invoice/PO number"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"customerName",children:"Customer/Supplier"}),t.jsx(Z,{placeholder:"Name of customer or supplier"})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"remarks",children:"Remarks"}),t.jsx(Vt,{placeholder:"Additional notes or remarks..."})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),t.jsx(O,{onClick:b,children:"Add Entry"})]})]})]}),t.jsx(O,{size:"sm",variant:"outline",onClick:()=>S(C.id),children:t.jsx(bt,{size:12})})]})})]},C.id)})})]})})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center",children:[t.jsx(Bs,{className:"mr-2 text-blue-600",size:20}),"DDA Register Requirements"]})}),t.jsx(k,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-3",children:"Mandatory Registers"}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(mt,{size:16,className:"text-green-600"}),"Narcotic and Psychotropic Drugs Register"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(mt,{size:16,className:"text-green-600"}),"Prescription Drug Register"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(mt,{size:16,className:"text-green-600"}),"Purchase and Procurement Register"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(mt,{size:16,className:"text-green-600"}),"Disposal and Destruction Register"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(mt,{size:16,className:"text-green-600"}),"Adverse Drug Reaction Register"]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-3",children:"Compliance Guidelines"}),t.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[t.jsx("li",{children:" All entries must be made in chronological order"}),t.jsx("li",{children:" No blank pages or lines should be left"}),t.jsx("li",{children:" Corrections should be made with single line strike-through"}),t.jsx("li",{children:" Pages must be numbered and bound"}),t.jsx("li",{children:" Registers must be available for inspection at all times"}),t.jsx("li",{children:" Digital backups should be maintained where applicable"}),t.jsx("li",{children:" Responsible pharmacist must sign each page"})]})]})]})})]})]})}const Mu=[{id:1,type:"Transport",amount:2500,date:"2024-01-15",description:"Medicine delivery to branch",status:"approved",pharmacy:"Main Store",receipt:"RCP001.jpg",approvedBy:"Manager"},{id:2,type:"Utilities",amount:15e3,date:"2024-01-14",description:"Monthly electricity bill",status:"pending",pharmacy:"Main Store",receipt:"RCP002.pdf",approvedBy:null},{id:3,type:"Maintenance",amount:8500,date:"2024-01-13",description:"AC repair and servicing",status:"approved",pharmacy:"Branch 2",receipt:"RCP003.jpg",approvedBy:"Owner"},{id:4,type:"Equipment",amount:45e3,date:"2024-01-12",description:"New pharmacy scales",status:"rejected",pharmacy:"Branch 1",receipt:"RCP004.pdf",approvedBy:"Manager"},{id:5,type:"Staff",amount:3e3,date:"2024-01-11",description:"Staff training program",status:"pending",pharmacy:"Main Store",receipt:null,approvedBy:null}],gk=["Transport","Utilities","Maintenance","Storage","Equipment","Staff","Marketing","Insurance","Legal","Other"];function B1e(){const[e,r]=g.useState(""),[n,s]=g.useState("all"),[a,i]=g.useState("all"),[o,l]=g.useState(!1),[c,d]=g.useState({type:"",amount:"",description:"",pharmacy:"Main Store"}),{toast:u}=Tt(),m=Mu.filter(x=>{const b=x.description.toLowerCase().includes(e.toLowerCase())||x.type.toLowerCase().includes(e.toLowerCase()),S=n==="all"||x.status===n,w=a==="all"||x.type===a;return b&&S&&w}),h=x=>{switch(x){case"approved":return t.jsxs(te,{variant:"default",className:"bg-green-100 text-green-800",children:[t.jsx(mt,{size:12,className:"mr-1"}),"Approved"]});case"pending":return t.jsxs(te,{variant:"secondary",children:[t.jsx(Ut,{size:12,className:"mr-1"}),"Pending"]});case"rejected":return t.jsxs(te,{variant:"destructive",children:[t.jsx(ga,{size:12,className:"mr-1"}),"Rejected"]});default:return t.jsx(te,{variant:"outline",children:x})}},p=()=>{if(!c.type||!c.amount||!c.description){u({title:"Error",description:"Please fill all required fields",variant:"destructive"});return}u({title:"Expense Added",description:"New expense has been submitted for approval"}),d({type:"",amount:"",description:"",pharmacy:"Main Store"}),l(!1)},y=Mu.reduce((x,b)=>x+b.amount,0),f=Mu.filter(x=>x.status==="approved").reduce((x,b)=>x+b.amount,0),v=Mu.filter(x=>x.status==="pending").length,j=Mu.filter(x=>x.date.startsWith("2024-01")).reduce((x,b)=>x+b.amount,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Expense Tracking"}),t.jsxs(rt,{open:o,onOpenChange:l,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{children:[t.jsx(zt,{size:20,className:"mr-2"}),"Add Expense"]})}),t.jsxs(nt,{children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Expense"}),t.jsx(Pt,{children:"Submit a new expense for approval"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"expenseType",children:"Expense Category"}),t.jsxs(_e,{value:c.type,onValueChange:x=>d({...c,type:x}),children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select category"})}),t.jsx(Ce,{children:gk.map(x=>t.jsx($,{value:x,children:x},x))})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"amount",children:"Amount (NPR)"}),t.jsx(Z,{id:"amount",type:"number",placeholder:"Enter amount",value:c.amount,onChange:x=>d({...c,amount:x.target.value})})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"pharmacy",children:"Pharmacy"}),t.jsxs(_e,{value:c.pharmacy,onValueChange:x=>d({...c,pharmacy:x}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"Main Store",children:"Main Store"}),t.jsx($,{value:"Branch 1",children:"Branch 1"}),t.jsx($,{value:"Branch 2",children:"Branch 2"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"description",children:"Description"}),t.jsx(Vt,{id:"description",placeholder:"Enter expense description",value:c.description,onChange:x=>d({...c,description:x.target.value})})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),t.jsx(O,{onClick:p,children:"Submit Expense"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ht,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",y.toLocaleString()]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Expenses"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",f.toLocaleString()]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-8 w-8 text-yellow-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:v}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Approval"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ot,{className:"h-8 w-8 text-purple-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",j.toLocaleString()]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"})]})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search expenses...",value:e,onChange:x=>r(x.target.value),className:"pl-10"})]})}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Status"}),t.jsx($,{value:"pending",children:"Pending"}),t.jsx($,{value:"approved",children:"Approved"}),t.jsx($,{value:"rejected",children:"Rejected"})]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by category"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Categories"}),gk.map(x=>t.jsx($,{value:x,children:x},x))]})]})]})})}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{children:["Expense Records (",m.length,")"]})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Date"}),t.jsx(H,{children:"Category"}),t.jsx(H,{children:"Description"}),t.jsx(H,{children:"Amount"}),t.jsx(H,{children:"Pharmacy"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Receipt"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:m.map(x=>t.jsxs(Ie,{children:[t.jsx(V,{children:new Date(x.date).toLocaleDateString()}),t.jsx(V,{children:t.jsx(te,{variant:"outline",children:x.type})}),t.jsx(V,{className:"max-w-xs truncate",children:x.description}),t.jsxs(V,{className:"font-medium",children:["NPR ",x.amount.toLocaleString()]}),t.jsx(V,{children:x.pharmacy}),t.jsx(V,{children:h(x.status)}),t.jsx(V,{children:x.receipt?t.jsxs(O,{variant:"outline",size:"sm",children:[t.jsx($t,{size:12,className:"mr-1"}),"View"]}):t.jsx("span",{className:"text-muted-foreground text-xs",children:"No receipt"})}),t.jsx(V,{children:t.jsx("div",{className:"flex items-center gap-2",children:x.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(mt,{size:12,className:"mr-1"}),"Approve"]}),t.jsxs(O,{size:"sm",variant:"destructive",children:[t.jsx(ga,{size:12,className:"mr-1"}),"Reject"]})]})})})]},x.id))})]})})})]})]})}const vk=["branch_manager","senior_pharmacist","pharmacist","pharmacy_technician","cashier","supplier_admin","sales_representative"];function U1e(){const[e,r]=g.useState([]),[n,s]=g.useState([]),[a,i]=g.useState("all"),[o,l]=g.useState(!0),[c,d]=g.useState(!1),[u,m]=g.useState(""),[h,p]=g.useState("all"),[y,f]=g.useState("all"),[v,j]=g.useState(!1),[x,b]=g.useState(null);g.useState(!1);const[S,w]=g.useState(!1),[N,P]=g.useState(!1),[_,C]=g.useState(!1),[A,M]=g.useState({first_name:"",last_name:"",email:"",username:"",password:"",password_confirm:"",role:"",phone:"",branch_id:""}),[R,E]=g.useState(!1),[F,G]=g.useState(!1),[D,J]=g.useState({new_password:"",confirm_password:""}),[q,U]=g.useState({}),[re,he]=g.useState(!1),[ie,fe]=g.useState([]),[xe,ge]=g.useState([]),{toast:Te}=Tt(),Se=JSON.parse(localStorage.getItem("currentUser")||"{}"),Ue=Se==null?void 0:Se.organization_id;g.useEffect(()=>{be(),Q()},[]),g.useEffect(()=>{be()},[a]);const be=async()=>{try{l(!0),console.log("DEBUG: Loading users for organization:",Ue);const K={};a!=="all"&&(K.branch_id=a);const de=await Mr.getUsers(K);console.log("DEBUG: Users API Response:",de);let Le=[];de.success&&de.data?Le=de.data:Array.isArray(de)?Le=de:(console.warn("Unexpected users API response format:",de),Le=[]),console.log("DEBUG: All users from API:",Le);const Ve=Le.filter(St=>St.organization_id===Ue);console.log("DEBUG: Filtered users for organization",Ue,":",Ve),r(Ve)}catch(K){console.error("Failed to load users:",K),Te({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{l(!1)}},Q=async()=>{try{d(!0),console.log("DEBUG: Loading branches for organization:",Ue);const K=await un.getBranches();console.log("DEBUG: Branches API Response:",K);let de=[];K.success&&K.data?de=K.data:Array.isArray(K)?de=K:(console.warn("Unexpected branches API response format:",K),de=[]);const Le=de.filter(Ve=>Ve.organization===Ue);console.log("DEBUG: Filtered branches for organization",Ue,":",Le),s(Le)}catch(K){console.error("Failed to load branches:",K),Te({title:"Error",description:"Failed to load branches",variant:"destructive"})}finally{d(!1)}},pe=async()=>{try{const de=await un.createDefaultBranch();if(de&&(de.branch||de.data))return console.log("DEBUG: Default branch created successfully"),await Q(),de.branch||de.data;throw new Error((de==null?void 0:de.error)||"Failed to create default branch")}catch(K){throw console.error("Failed to create default branch:",K),K}},oe=e.filter(K=>{const de=`${K.first_name} ${K.last_name}`.toLowerCase().includes(u.toLowerCase())||K.email.toLowerCase().includes(u.toLowerCase()),Le=h==="all"||K.role===h,Ve=y==="all"||K.status===y;return de&&Le&&Ve}),ze=K=>({branch_manager:"bg-blue-100 text-blue-800",senior_pharmacist:"bg-green-100 text-green-800",pharmacist:"bg-purple-100 text-purple-800",pharmacy_technician:"bg-yellow-100 text-yellow-800",cashier:"bg-orange-100 text-orange-800",supplier_admin:"bg-indigo-100 text-indigo-800",sales_representative:"bg-pink-100 text-pink-800"})[K]||"bg-gray-100 text-gray-800",Fe=async()=>{var de,Le;if(!A.first_name||!A.last_name||!A.email||!A.username||!A.password||!A.role){Te({title:"Error",description:"Please fill all required fields",variant:"destructive"});return}if(A.password!==A.password_confirm){Te({title:"Error",description:"Passwords do not match",variant:"destructive"});return}const K=(Se==null?void 0:Se.role)==="super_admin";if(!K){if(n.length===0)try{Te({title:"Info",description:"Creating default main branch..."});const Ve=await pe();s([Ve]),M(St=>({...St,branch_id:Ve.id.toString()}))}catch{Te({title:"Error",description:"Failed to create default branch. Please create a branch first.",variant:"destructive"});return}if(!A.branch_id){const Ve=n.find(St=>St.type==="main")||n[0];if(Ve)M(St=>({...St,branch_id:Ve.id.toString()}));else{Te({title:"Error",description:"Please select a branch for the user",variant:"destructive"});return}}}try{w(!0);const Ve={...A,organization_id:Ue,status:"active",...K?{}:A.branch_id?{branch_id:parseInt(A.branch_id)}:{}},St=await Mr.createUser(Ve);St.success?(Te({title:"Success",description:`${A.first_name} ${A.last_name} has been added successfully`}),j(!1),tt(),be()):Te({title:"Error",description:St.error||"Failed to create user",variant:"destructive"})}catch(Ve){Te({title:"Error",description:((Le=(de=Ve.response)==null?void 0:de.data)==null?void 0:Le.error)||"Failed to create user",variant:"destructive"})}finally{w(!1)}},tt=()=>{M({first_name:"",last_name:"",email:"",username:"",password:"",password_confirm:"",role:"",phone:"",branch_id:""}),P(!1),C(!1)},lt=async(K,de)=>{var Le,Ve;try{const St=de==="active"?"inactive":"active",an=e.find(Pa=>Pa.id===K);if(!an){Te({title:"Error",description:"User not found",variant:"destructive"});return}const br=await Mr.updateUser(K,{status:St,phone:an.phone||""});br.success?(Te({title:"Status Updated",description:`User status changed to ${St}`}),be()):Te({title:"Error",description:br.error||"Failed to update user status",variant:"destructive"})}catch(St){Te({title:"Error",description:((Ve=(Le=St.response)==null?void 0:Le.data)==null?void 0:Ve.error)||"Failed to update user status",variant:"destructive"})}},me=K=>{b(K),He(K),G(!0)},He=async K=>{he(!0);try{let de=[];if(K.role==="supplier_admin"||K.role==="sales_representative"){console.log("Loading permissions for supplier admin user:",K.id,K.first_name,K.last_name);const Dt=await Mr.getUserModulePermissions(K.id);console.log("Supplier admin permissions API response:",Dt);let Ht=[];Dt.success&&Dt.data?(Ht=Dt.data.modules||[],console.log("Supplier admin has existing permissions (success+data):",Ht)):Dt.data&&Array.isArray(Dt.data)?(Ht=Dt.data,console.log("Supplier admin has direct array permissions:",Ht)):Dt.modules&&Array.isArray(Dt.modules)?(Ht=Dt.modules,console.log("Supplier admin has direct modules permissions:",Ht)):(console.log("Supplier admin has no existing permissions or API error"),Ht=[]),ge(Ht);const Bt={};Ht.forEach(sr=>{Bt[sr.id]=sr.has_access,sr.sub_modules.forEach(As=>{Bt[As.id]=As.has_access})}),U(Bt),fe(Ht);return}const Le=await Mr.getUsers();if(!Le.success||!Le.data)throw new Error("Failed to load users");const an=Le.data.filter(Dt=>Dt.organization_id===Ue).filter(Dt=>Dt.role==="pharmacy_owner").sort((Dt,Ht)=>new Date(Ht.created_at).getTime()-new Date(Dt.created_at).getTime())[0];if(!an){Te({title:"Error",description:"No pharmacy owner found for this organization",variant:"destructive"});return}const br=await Mr.getUserModulePermissions(an.id);if(!br.success||!br.data)throw new Error("Failed to load pharmacy owner permissions");de=(br.data.modules||[]).filter(Dt=>Dt.has_access),console.log("Pharmacy owner allowed modules:",de),console.log("Loading permissions for user:",K.id,K.first_name,K.last_name);const Nr=await Mr.getUserModulePermissions(K.id);console.log("User permissions API response:",Nr);let zr=[];Nr.success&&Nr.data?(zr=Nr.data.modules||[],console.log("User has existing permissions (success+data):",zr)):Nr.data&&Array.isArray(Nr.data)?(zr=Nr.data,console.log("User has direct array permissions:",zr)):Nr.modules&&Array.isArray(Nr.modules)?(zr=Nr.modules,console.log("User has direct modules permissions:",zr)):(console.log("User has no existing permissions or API error"),zr=[]),console.log("Final extracted userModules:",zr);const _s=de.map(Dt=>{const Ht=zr.find(Bt=>Bt.id===Dt.id);if(Ht){let Bt=Ht.sub_modules.filter(sr=>Dt.sub_modules.some(As=>As.id===sr.id&&As.has_access));return{...Ht,sub_modules:Bt}}else{let Bt=Dt.sub_modules.filter(sr=>sr.has_access);return{...Dt,has_access:!1,sub_modules:Bt.map(sr=>({...sr,has_access:!1}))}}});console.log("Final user modules with permissions:",_s),ge(_s);const Dn={};_s.forEach(Dt=>{Dn[Dt.id]=Dt.has_access,Dt.sub_modules.forEach(Ht=>{Dn[Ht.id]=Ht.has_access})}),U(Dn),fe(de)}catch(de){console.error("Failed to load user permissions:",de),Te({title:"Error",description:"Failed to load user permissions",variant:"destructive"})}finally{he(!1)}},ae=(K,de)=>{const Le={...q};Le[K]=de;const Ve=xe.find(St=>St.id===K);if(Ve)de?Ve.sub_modules.forEach(St=>{Le[St.id]=!0}):Ve.sub_modules.forEach(St=>{Le[St.id]=!1});else{const St=xe.find(an=>an.sub_modules.some(br=>br.id===K));if(St){const an=St.sub_modules.some(br=>Le[br.id]||br.id===K&&de);Le[St.id]=an}}U(Le)},je=async()=>{if(x)try{he(!0);const K=await Mr.updateUserModulePermissions(x.id,q);if(console.log("Save permissions response:",K),K.success){const de=(x==null?void 0:x.role)==="pharmacy_owner";Te({title:"Success",description:de?"Permissions updated successfully. Changes may affect other users in the organization.":"Permissions updated successfully"});const Le=xe.map(Ve=>({...Ve,has_access:q[Ve.id]||!1,sub_modules:Ve.sub_modules.map(St=>({...St,has_access:q[St.id]||!1}))}));ge(Le)}else Te({title:"Error",description:K.error||"Failed to update permissions",variant:"destructive"})}catch(K){console.error("Failed to save permissions:",K),Te({title:"Error",description:"Failed to update permissions",variant:"destructive"})}finally{he(!1)}},W=()=>xe,se=K=>{b(K),E(!0)},le=async()=>{var K,de;if(x){if(D.new_password!==D.confirm_password){Te({title:"Validation Error",description:"Passwords do not match",variant:"destructive"});return}try{w(!0);const Le=await Mr.changeUserPassword(x.id,{new_password:D.new_password,confirm_password:D.confirm_password});console.log("Password change response:",Le),Le.success||Le.user?(Te({title:"Success",description:"Password updated successfully"}),E(!1),J({new_password:"",confirm_password:""}),b(null),be()):Te({title:"Error",description:Le.error||"Failed to update password",variant:"destructive"})}catch(Le){Te({title:"Error",description:((de=(K=Le.response)==null?void 0:K.data)==null?void 0:de.error)||"Failed to update password",variant:"destructive"})}finally{w(!1)}}},ne=e.length,Y=e.filter(K=>K.status==="active").length,ce=e.filter(K=>K.status==="inactive").length,Ne=[...new Set(e.map(K=>K.role))].length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage users for your organization"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{onClick:be,variant:"outline",className:"gap-2",disabled:o,children:[t.jsx(Ul,{className:`w-4 h-4 ${o?"animate-spin":""}`}),"Refresh"]}),t.jsxs(rt,{open:v,onOpenChange:j,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{className:"gap-2",children:[t.jsx(zt,{className:"w-4 h-4"}),"Add User"]})}),t.jsxs(nt,{children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New User"}),t.jsx(Pt,{children:"Create a new user account with role-based permissions"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"firstName",children:"First Name *"}),t.jsx(Z,{id:"firstName",placeholder:"Enter first name",value:A.first_name,onChange:K=>M({...A,first_name:K.target.value})})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"lastName",children:"Last Name *"}),t.jsx(Z,{id:"lastName",placeholder:"Enter last name",value:A.last_name,onChange:K=>M({...A,last_name:K.target.value})})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"userEmail",children:"Email Address *"}),t.jsx(Z,{id:"userEmail",type:"email",placeholder:"Enter email address",value:A.email,onChange:K=>M({...A,email:K.target.value})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"username",children:"Username *"}),t.jsx(Z,{id:"username",placeholder:"Enter username",value:A.username,onChange:K=>M({...A,username:K.target.value})})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"phone",children:"Phone"}),t.jsx(Z,{id:"phone",placeholder:"Enter phone number",value:A.phone,onChange:K=>M({...A,phone:K.target.value})})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"password",children:"Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Z,{id:"password",type:N?"text":"password",placeholder:"Enter password",value:A.password,onChange:K=>M({...A,password:K.target.value})}),t.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>P(!N),children:N?t.jsx(Sm,{className:"h-4 w-4"}):t.jsx(yt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"passwordConfirm",children:"Confirm Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Z,{id:"passwordConfirm",type:_?"text":"password",placeholder:"Confirm password",value:A.password_confirm,onChange:K=>M({...A,password_confirm:K.target.value})}),t.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>C(!_),children:_?t.jsx(Sm,{className:"h-4 w-4"}):t.jsx(yt,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"userRole",children:"Role *"}),t.jsxs(_e,{value:A.role,onValueChange:K=>M({...A,role:K}),children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select user role"})}),t.jsx(Ce,{children:vk.map(K=>t.jsx($,{value:K,children:K.replace(/_/g," ")},K))})]})]}),(Se==null?void 0:Se.role)!=="super_admin"&&t.jsxs("div",{children:[t.jsx(I,{htmlFor:"userBranch",children:"Branch *"}),t.jsxs(_e,{value:A.branch_id,onValueChange:K=>M({...A,branch_id:K}),disabled:c,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:c?"Loading branches...":"Select branch"})}),t.jsx(Ce,{children:n.length===0?t.jsx($,{value:"",disabled:!0,children:c?"Loading...":"No branches available"}):n.map(K=>t.jsxs($,{value:K.id.toString(),children:[K.name," (",K.type,")"]},K.id))})]}),n.length===0&&!c&&t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'No branches found. A default "Main Branch" will be created automatically.'})]})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>{j(!1),tt()},children:"Cancel"}),t.jsxs(O,{onClick:Fe,disabled:S||c,children:[S&&t.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Add User"]})]})]})]}),t.jsx(rt,{open:R,onOpenChange:K=>{E(K),K||(b(null),J({new_password:"",confirm_password:""}))},children:t.jsxs(nt,{className:"max-w-md",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Change Password"}),t.jsxs(Pt,{children:["Change password for ",x==null?void 0:x.first_name," ",x==null?void 0:x.last_name]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"font-medium",children:"Username:"}),t.jsx("span",{className:"text-gray-600",children:x==null?void 0:x.email})]}),(x==null?void 0:x.plain_text_password)&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"font-medium",children:"Current Password:"}),t.jsx("span",{className:"text-gray-600 font-mono",children:x.plain_text_password})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"new_password",children:"New Password *"}),t.jsx(Z,{id:"new_password",type:"password",value:D.new_password,onChange:K=>J({...D,new_password:K.target.value}),placeholder:"Enter new password"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"confirm_new_password",children:"Confirm New Password *"}),t.jsx(Z,{id:"confirm_new_password",type:"password",value:D.confirm_password,onChange:K=>J({...D,confirm_password:K.target.value}),placeholder:"Confirm new password"})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[t.jsx(O,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),t.jsxs(O,{onClick:le,disabled:S,children:[S&&t.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Update Password"]})]})]})}),t.jsx(rt,{open:F,onOpenChange:G,children:t.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Module Permissions"}),t.jsxs(Pt,{children:["Manage module permissions for ",x==null?void 0:x.first_name," ",x==null?void 0:x.last_name,(x==null?void 0:x.role)==="supplier_admin"||(x==null?void 0:x.role)==="sales_representative"?t.jsx("span",{className:"block text-sm text-green-600 mt-1",children:"Supplier users have independent permissions not limited by pharmacy owner"}):t.jsx("span",{className:"block text-sm text-amber-600 mt-1",children:"Only modules permitted to the latest pharmacy owner are shown"}),(x==null?void 0:x.role)==="pharmacy_owner"&&t.jsx("span",{className:"block text-sm text-blue-600 mt-1",children:"Pharmacy owner permissions are managed by the system administrator"})]})]}),t.jsx("div",{className:"space-y-6",children:re?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(Zt,{className:"w-8 h-8 animate-spin"})}):t.jsx(t.Fragment,{children:W().length===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-gray-600",children:"No modules available for this user."})}):W().map(K=>t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("input",{type:"checkbox",id:K.id,checked:q[K.id]||!1,onChange:de=>ae(K.id,de.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:K.id,className:"text-lg font-medium text-gray-900",children:K.name})]}),t.jsx("div",{className:"ml-7",children:t.jsx("div",{className:"flex flex-wrap gap-4",children:K.sub_modules.map(de=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:de.id,checked:q[de.id]||!1,onChange:Le=>ae(de.id,Le.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:de.id,className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:de.name})]},de.id))})})]},K.id))})}),t.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[t.jsx(O,{variant:"outline",onClick:()=>{G(!1),b(null),U({}),ge([])},children:"Close"}),t.jsxs(O,{onClick:je,disabled:re,children:[re&&t.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Permissions"]})]})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(it,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:ne}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Mw,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:Y}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(bB,{className:"h-8 w-8 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:ce}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Inactive Users"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ss,{className:"h-8 w-8 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:Ne}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"User Roles"})]})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search users...",value:u,onChange:K=>m(K.target.value),className:"pl-10"})]})}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by branch"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Branches"}),n.map(K=>t.jsxs($,{value:K.id.toString(),children:[K.name," (",K.type,")"]},K.id))]})]}),t.jsxs(_e,{value:h,onValueChange:p,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by role"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Roles"}),vk.map(K=>t.jsx($,{value:K,children:K.replace(/_/g," ")},K))]})]}),t.jsxs(_e,{value:y,onValueChange:f,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Status"}),t.jsx($,{value:"active",children:"Active"}),t.jsx($,{value:"inactive",children:"Inactive"})]})]})]})})}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Users"})}),t.jsx(k,{children:o?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(Zt,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading users..."})]}):oe.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(it,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium",children:"No users found"}),t.jsx("p",{className:"text-muted-foreground",children:u||h!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first user."})]}):t.jsx("div",{className:"space-y-4",children:oe.map(K=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:t.jsx(it,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium",children:[K.first_name," ",K.last_name]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[K.email,K.branch_name&&t.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:K.branch_name})]}),K.phone&&t.jsx("div",{className:"text-sm text-muted-foreground",children:K.phone})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(te,{className:ze(K.role),children:K.role.replace("_"," ")}),t.jsx(te,{variant:K.status==="active"?"default":"secondary",children:K.status}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(O,{variant:"ghost",size:"sm",onClick:()=>me(K),title:"Module Permissions",children:t.jsx(cn,{className:"w-4 h-4"})}),t.jsx(O,{variant:"ghost",size:"sm",onClick:()=>se(K),title:"Change Password",children:t.jsx(I4,{className:"w-4 h-4"})}),t.jsx(O,{variant:"ghost",size:"sm",onClick:()=>lt(K.id,K.status),title:K.status==="active"?"Deactivate User":"Activate User",disabled:S,children:t.jsx(L4,{className:`w-4 h-4 ${K.status==="active"?"text-green-600":"text-red-600"}`})})]})]})]},K.id))})})]})]})}const gj=["main","branch","warehouse","distribution"],V1e=["active","inactive","maintenance","closed"];function q1e(){const[e,r]=g.useState([]),[n,s]=g.useState([]),[a,i]=g.useState(!0),[o,l]=g.useState(""),[c,d]=g.useState("all"),[u,m]=g.useState("all"),[h,p]=g.useState(!1),[y,f]=g.useState(!1),[v,j]=g.useState(!1),[x,b]=g.useState(null),[S,w]=g.useState(null),[N,P]=g.useState(!1),[_,C]=g.useState(!1),[A,M]=g.useState(!1),[R,E]=g.useState({name:"",code:"",type:"branch",address:"",city:"Kathmandu",state:"Bagmati",postal_code:"44600",country:"Nepal",phone:"",email:"",license_number:"",license_expiry:""}),{toast:F}=Tt(),G=JSON.parse(localStorage.getItem("currentUser")||"{}"),D=G==null?void 0:G.organization_id;g.useEffect(()=>{J(),q()},[]);const J=async()=>{try{i(!0),console.log("DEBUG: Loading branches for user:",G==null?void 0:G.email,"Organization ID:",D);const Q=await un.getBranches();console.log("DEBUG: API Response:",Q);let pe=[];Q.success&&Q.data?pe=Q.data:Array.isArray(Q)?pe=Q:(console.warn("Unexpected branch API response format:",Q),pe=[]),console.log("DEBUG: All branches from API:",pe);const oe=pe.filter(ze=>ze.organization===D);console.log("DEBUG: Filtered branches for organization",D,":",oe),r(oe)}catch(Q){console.error("Failed to load branches:",Q),F({title:"Error",description:"Failed to load branches",variant:"destructive"})}finally{i(!1)}},q=async()=>{try{console.log("DEBUG: Loading organization users for organization:",D);const Q=await Mr.getUsers();console.log("DEBUG: Users API Response:",Q);let pe=[];Q.success&&Q.data?pe=Q.data:Array.isArray(Q)?pe=Q:(console.warn("Unexpected users API response format:",Q),pe=[]),console.log("DEBUG: All users from API:",pe);const oe=pe.filter(ze=>ze.organization_id===D&&(ze.role==="branch_manager"||ze.role==="senior_pharmacist"||ze.role==="pharmacist"));console.log("DEBUG: Filtered manager users for organization",D,":",oe),s(oe)}catch(Q){console.error("Failed to load organization users:",Q)}},U=async Q=>{var pe,oe;if(x)try{M(!0);const ze={name:x.name,code:x.code,type:x.type,address:x.address,city:x.city,state:x.state,postal_code:x.postal_code,country:x.country,phone:x.phone||"",email:x.email||"",organization:x.organization,status:x.status,manager:Q,license_number:x.license_number||"",license_expiry:x.license_expiry||null},tt=await un.updateBranch(x.id,ze);tt&&(tt.branch||tt.data||tt.success)?(F({title:"Success",description:"Manager assigned successfully"}),j(!1),b(null),J()):F({title:"Error",description:(tt==null?void 0:tt.error)||"Failed to assign manager",variant:"destructive"})}catch(ze){F({title:"Error",description:((oe=(pe=ze.response)==null?void 0:pe.data)==null?void 0:oe.error)||"Failed to assign manager",variant:"destructive"})}finally{M(!1)}},re=Q=>{b(Q),j(!0)},he=Q=>{w(Q),E({name:Q.name,code:Q.code,type:Q.type,address:Q.address,city:Q.city,state:Q.state,postal_code:Q.postal_code,country:Q.country,phone:Q.phone||"",email:Q.email||"",license_number:Q.license_number||"",license_expiry:Q.license_expiry||""}),f(!0)},ie=async()=>{var Q,pe;if(!S||!R.name||!R.code||!R.address){F({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}try{C(!0);const oe={name:R.name,code:R.code,type:R.type,address:R.address,city:R.city,state:R.state,postal_code:R.postal_code,country:R.country,phone:R.phone,email:R.email,organization:S.organization,status:S.status,manager:S.manager};R.license_number.trim()&&(oe.license_number=R.license_number.trim()),R.license_expiry.trim()&&(oe.license_expiry=R.license_expiry.trim());const Fe=await un.updateBranch(S.id,oe);Fe&&(Fe.branch||Fe.data||Fe.success!==!1)?(F({title:"Success",description:"Branch updated successfully"}),f(!1),w(null),xe(),J()):F({title:"Error",description:(Fe==null?void 0:Fe.error)||"Failed to update branch",variant:"destructive"})}catch(oe){F({title:"Error",description:((pe=(Q=oe.response)==null?void 0:Q.data)==null?void 0:pe.error)||"Failed to update branch",variant:"destructive"})}finally{C(!1)}},fe=async()=>{var Q,pe;if(!R.name||!R.code||!R.address){F({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(R.type==="main"&&e.find(ze=>ze.type==="main")){F({title:"Error",description:"Only one main branch is allowed per organization",variant:"destructive"});return}try{P(!0);const oe={name:R.name,code:R.code,type:R.type,address:R.address,city:R.city,state:R.state,postal_code:R.postal_code,country:R.country,phone:R.phone,email:R.email,organization:D,status:"active"};R.license_number.trim()&&(oe.license_number=R.license_number.trim()),R.license_expiry.trim()&&(oe.license_expiry=R.license_expiry.trim());const Fe=await un.createBranch(oe);Fe&&(Fe.branch||Fe.data)?(F({title:"Success",description:Fe.message||"Branch created successfully"}),p(!1),xe(),J()):F({title:"Error",description:(Fe==null?void 0:Fe.error)||"Failed to create branch",variant:"destructive"})}catch(oe){F({title:"Error",description:((pe=(Q=oe.response)==null?void 0:Q.data)==null?void 0:pe.error)||"Failed to create branch",variant:"destructive"})}finally{P(!1)}},xe=()=>{E({name:"",code:"",type:"branch",address:"",city:"Kathmandu",state:"Bagmati",postal_code:"44600",country:"Nepal",phone:"",email:"",license_number:"",license_expiry:""})},ge=e.filter(Q=>{const pe=Q.name.toLowerCase().includes(o.toLowerCase())||Q.code.toLowerCase().includes(o.toLowerCase())||Q.address.toLowerCase().includes(o.toLowerCase()),oe=c==="all"||Q.status===c,ze=u==="all"||Q.type===u;return pe&&oe&&ze}),Te=Q=>{const pe={active:"bg-green-100 text-green-800 border-green-200",inactive:"bg-gray-100 text-gray-800 border-gray-200",maintenance:"bg-yellow-100 text-yellow-800 border-yellow-200",closed:"bg-red-100 text-red-800 border-red-200"};return t.jsx(te,{className:pe[Q]||pe.inactive,children:Q})},Se=Q=>{const pe={main:"bg-blue-100 text-blue-800 border-blue-200",branch:"bg-purple-100 text-purple-800 border-purple-200",warehouse:"bg-orange-100 text-orange-800 border-orange-200",distribution:"bg-cyan-100 text-cyan-800 border-cyan-200"};return t.jsx(te,{className:pe[Q]||pe.branch,children:Q})},Ue=e.length,be=e.filter(Q=>Q.status==="active").length;return t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Branch Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage pharmacy branches for your organization"})]}),t.jsxs(rt,{open:h,onOpenChange:p,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{children:[t.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Branch"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Branch"}),t.jsx(Pt,{children:"Create a new branch for your organization"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"name",children:"Branch Name *"}),t.jsx(Z,{id:"name",value:R.name,onChange:Q=>E({...R,name:Q.target.value}),placeholder:"Enter branch name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"code",children:"Branch Code *"}),t.jsx(Z,{id:"code",value:R.code,onChange:Q=>E({...R,code:Q.target.value}),placeholder:"Enter unique branch code"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"address",children:"Address *"}),t.jsx(Vt,{id:"address",value:R.address,onChange:Q=>E({...R,address:Q.target.value}),placeholder:"Enter complete address"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"city",children:"City"}),t.jsx(Z,{id:"city",value:R.city,onChange:Q=>E({...R,city:Q.target.value}),placeholder:"Kathmandu"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"state",children:"State"}),t.jsx(Z,{id:"state",value:R.state,onChange:Q=>E({...R,state:Q.target.value}),placeholder:"Bagmati"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"phone",children:"Phone Number"}),t.jsx(Z,{id:"phone",value:R.phone,onChange:Q=>E({...R,phone:Q.target.value}),placeholder:"+977-XX-XXXXXX"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"email",children:"Email"}),t.jsx(Z,{id:"email",type:"email",value:R.email,onChange:Q=>E({...R,email:Q.target.value}),placeholder:"branch@pharmacy.com"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"type",children:"Branch Type *"}),t.jsxs(_e,{value:R.type,onValueChange:Q=>E({...R,type:Q}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsx(Ce,{children:gj.map(Q=>t.jsx($,{value:Q,children:Q},Q))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"license_number",children:"License Number"}),t.jsx(Z,{id:"license_number",value:R.license_number,onChange:Q=>E({...R,license_number:Q.target.value}),placeholder:"DDA License Number"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(O,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),t.jsxs(O,{onClick:fe,disabled:N,children:[N&&t.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Branch"]})]})]})]}),t.jsx(rt,{open:y,onOpenChange:f,children:t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Edit Branch"}),t.jsx(Pt,{children:"Update branch information"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"edit-name",children:"Branch Name *"}),t.jsx(Z,{id:"edit-name",value:R.name,onChange:Q=>E({...R,name:Q.target.value}),placeholder:"Enter branch name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"edit-code",children:"Branch Code *"}),t.jsx(Z,{id:"edit-code",value:R.code,onChange:Q=>E({...R,code:Q.target.value}),placeholder:"Enter unique branch code"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"edit-address",children:"Address *"}),t.jsx(Vt,{id:"edit-address",value:R.address,onChange:Q=>E({...R,address:Q.target.value}),placeholder:"Enter complete address"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"edit-city",children:"City"}),t.jsx(Z,{id:"edit-city",value:R.city,onChange:Q=>E({...R,city:Q.target.value}),placeholder:"Kathmandu"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"edit-state",children:"State"}),t.jsx(Z,{id:"edit-state",value:R.state,onChange:Q=>E({...R,state:Q.target.value}),placeholder:"Bagmati"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"edit-phone",children:"Phone Number"}),t.jsx(Z,{id:"edit-phone",value:R.phone,onChange:Q=>E({...R,phone:Q.target.value}),placeholder:"+977-XX-XXXXXX"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"edit-email",children:"Email"}),t.jsx(Z,{id:"edit-email",type:"email",value:R.email,onChange:Q=>E({...R,email:Q.target.value}),placeholder:"branch@pharmacy.com"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"edit-type",children:"Branch Type *"}),t.jsxs(_e,{value:R.type,onValueChange:Q=>E({...R,type:Q}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsx(Ce,{children:gj.map(Q=>t.jsx($,{value:Q,children:Q},Q))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"edit-license_number",children:"License Number"}),t.jsx(Z,{id:"edit-license_number",value:R.license_number,onChange:Q=>E({...R,license_number:Q.target.value}),placeholder:"DDA License Number"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(O,{variant:"outline",onClick:()=>{f(!1),w(null),xe()},children:"Cancel"}),t.jsxs(O,{onClick:ie,disabled:_,children:[_&&t.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Update Branch"]})]})]})}),t.jsx(rt,{open:v,onOpenChange:j,children:t.jsxs(nt,{className:"max-w-md",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Assign Manager"}),t.jsxs(Pt,{children:["Assign a manager to ",x==null?void 0:x.name]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{children:"Select Manager"}),t.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:n.length===0?t.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No eligible managers found"}):n.map(Q=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>U(Q.id),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:t.jsxs("span",{className:"text-blue-600 font-medium text-sm",children:[Q.first_name.charAt(0),Q.last_name.charAt(0)]})}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium text-sm",children:[Q.first_name," ",Q.last_name]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[Q.role.replace("_"," "),"  ",Q.email]})]})]}),t.jsxs(O,{size:"sm",disabled:A,onClick:pe=>{pe.stopPropagation(),U(Q.id)},children:[A&&t.jsx(Zt,{className:"w-3 h-3 mr-1 animate-spin"}),"Assign"]})]},Q.id))})]})}),t.jsx("div",{className:"flex justify-end",children:t.jsx(O,{variant:"outline",onClick:()=>j(!1),children:"Cancel"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Total Branches"}),t.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:Ue}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"In your organization"})]})]}),t.jsxs(T,{children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Active Branches"}),t.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:be}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently operational"})]})]})]}),t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Branch Directory"}),t.jsx(Et,{children:"View and manage branches for your organization"})]}),t.jsxs(k,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search branches...",value:o,onChange:Q=>l(Q.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:c,onValueChange:d,children:[t.jsx(Pe,{className:"w-full md:w-40",children:t.jsx(Ae,{placeholder:"Status"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Status"}),V1e.map(Q=>t.jsx($,{value:Q,children:Q},Q))]})]}),t.jsxs(_e,{value:u,onValueChange:m,children:[t.jsx(Pe,{className:"w-full md:w-40",children:t.jsx(Ae,{placeholder:"Type"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Types"}),gj.map(Q=>t.jsx($,{value:Q,children:Q},Q))]})]})]}),a?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(Zt,{className:"w-8 h-8 animate-spin"})}):t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Branch Details"}),t.jsx(H,{children:"Type"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Manager"}),t.jsx(H,{children:"Contact"}),t.jsx(H,{children:"Actions"})]})}),t.jsxs(At,{children:[ge.map(Q=>t.jsxs(Ie,{children:[t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:Q.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:Q.code}),t.jsxs("div",{className:"text-sm text-muted-foreground flex items-center mt-1",children:[t.jsx(Ma,{className:"h-3 w-3 mr-1"}),Q.address]})]})}),t.jsx(V,{children:Se(Q.type)}),t.jsx(V,{children:Te(Q.status)}),t.jsx(V,{children:t.jsx("div",{className:"text-sm",children:Q.manager_name?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Si,{className:"h-4 w-4"}),Q.manager_name]}):t.jsx("span",{className:"text-muted-foreground",children:"Not assigned"})})}),t.jsx(V,{children:t.jsxs("div",{className:"text-sm",children:[Q.phone&&t.jsx("div",{children:Q.phone}),Q.email&&t.jsx("div",{className:"text-muted-foreground",children:Q.email})]})}),t.jsx(V,{children:t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{variant:"ghost",size:"sm",onClick:()=>he(Q),className:"text-green-600 hover:text-green-800",children:[t.jsx(hn,{className:"h-4 w-4 mr-1"}),"Edit"]}),t.jsxs(O,{variant:"ghost",size:"sm",onClick:()=>re(Q),className:"text-blue-600 hover:text-blue-800",children:[t.jsx(Iw,{className:"h-4 w-4 mr-1"}),"Manager"]})]})})]},Q.id)),ge.length===0&&t.jsx(Ie,{children:t.jsx(V,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No branches found"})})]})]})})]})]})]})}const yk=[{month:"Jan",central:45e4,branchA:28e4,branchB:19e4,express:15e4},{month:"Feb",central:52e4,branchA:31e4,branchB:22e4,express:18e4},{month:"Mar",central:48e4,branchA:295e3,branchB:205e3,express:165e3},{month:"Apr",central:63e4,branchA:34e4,branchB:25e4,express:2e5},{month:"May",central:59e4,branchA:325e3,branchB:235e3,express:195e3},{month:"Jun",central:68e4,branchA:38e4,branchB:28e4,express:22e4}],W1e=[{name:"Sales Performance",value:85,target:90,status:"good"},{name:"Inventory Turnover",value:78,target:80,status:"warning"},{name:"Staff Efficiency",value:92,target:85,status:"excellent"},{name:"Customer Satisfaction",value:88,target:90,status:"good"},{name:"Compliance Score",value:95,target:95,status:"excellent"},{name:"Sync Reliability",value:82,target:98,status:"critical"}],Vo=[{name:"Central Pharmacy",revenue:68e4,efficiency:92,customers:1250,growth:15.2},{name:"Branch Pharmacy A",revenue:38e4,efficiency:88,customers:850,growth:12.8},{name:"Branch Pharmacy B",revenue:28e4,efficiency:85,customers:620,growth:18.5},{name:"Express Pharmacy",revenue:22e4,efficiency:78,customers:480,growth:22.1}],jk=[{name:"Central Pharmacy",value:42,color:"#8884d8"},{name:"Branch A",value:23,color:"#82ca9d"},{name:"Branch B",value:18,color:"#ffc658"},{name:"Express",value:17,color:"#ff7300"}],H1e=[{product:"Paracetamol 500mg",central:450,branchA:320,branchB:280,express:190,total:1240},{product:"Amoxicillin 250mg",central:380,branchA:250,branchB:220,express:150,total:1e3},{product:"Omeprazole 20mg",central:320,branchA:200,branchB:180,express:120,total:820},{product:"Metformin 500mg",central:280,branchA:180,branchB:160,express:100,total:720},{product:"Cetirizine 10mg",central:250,branchA:150,branchB:140,express:90,total:630}],K1e=["Last 7 days","Last 30 days","Last 3 months","Last 6 months","Last year"];function G1e(){const[e,r]=g.useState("overview"),[n,s]=g.useState("Last 6 months");g.useState("Performance");const{toast:a}=Tt(),i=h=>{switch(h){case"excellent":return"text-green-600";case"good":return"text-blue-600";case"warning":return"text-yellow-600";case"critical":return"text-red-600";default:return"text-gray-600"}},o=h=>{const p={excellent:"bg-green-100 text-green-800 border-green-200",good:"bg-blue-100 text-blue-800 border-blue-200",warning:"bg-yellow-100 text-yellow-800 border-yellow-200",critical:"bg-red-100 text-red-800 border-red-200"};return t.jsx(te,{className:p[h]||p.good,children:h})},l=()=>{a({title:"Export Started",description:"Report is being generated and will be downloaded shortly"})},c=Vo.reduce((h,p)=>h+p.revenue,0),d=(Vo.reduce((h,p)=>h+Number(p.efficiency),0)/Vo.length).toFixed(1),u=Vo.reduce((h,p)=>h+p.customers,0),m=(Vo.reduce((h,p)=>h+Number(p.growth),0)/Vo.length).toFixed(1);return t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Network Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Comprehensive analytics across all pharmacy branches"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsxs(Pe,{className:"w-48",children:[t.jsx(Ot,{className:"mr-2 h-4 w-4"}),t.jsx(Ae,{})]}),t.jsx(Ce,{children:K1e.map(h=>t.jsx($,{value:h,children:h},h))})]}),t.jsxs(O,{variant:"outline",onClick:l,children:[t.jsx(bt,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Total Revenue"}),t.jsx(ft,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["Rs. ",(c/1e5).toFixed(1),"L"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Network-wide monthly revenue"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Avg Efficiency"}),t.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[d,"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all branches"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Total Customers"}),t.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:u}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active customer base"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Avg Growth"}),t.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["+",m,"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Month-over-month growth"})]})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(Or,{value:e,onValueChange:r,className:"w-full",children:t.jsxs(Ar,{className:"grid w-full grid-cols-5",children:[t.jsx(Oe,{value:"overview",children:"Overview"}),t.jsx(Oe,{value:"performance",children:"Performance"}),t.jsx(Oe,{value:"comparison",children:"Branch Comparison"}),t.jsx(Oe,{value:"products",children:"Product Analysis"}),t.jsx(Oe,{value:"metrics",children:"Key Metrics"})]})})}),t.jsxs(k,{children:[t.jsx($e,{value:"overview",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Revenue Trends"}),t.jsx(Et,{children:"Monthly revenue across all branches"})]}),t.jsx(k,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs($l,{data:yk,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Br,{formatter:h=>[`Rs. ${(Number(h)/1e3).toFixed(0)}K`,""]}),t.jsx(qa,{}),t.jsx(Vn,{type:"monotone",dataKey:"central",stroke:"#8884d8",strokeWidth:2}),t.jsx(Vn,{type:"monotone",dataKey:"branchA",stroke:"#82ca9d",strokeWidth:2}),t.jsx(Vn,{type:"monotone",dataKey:"branchB",stroke:"#ffc658",strokeWidth:2}),t.jsx(Vn,{type:"monotone",dataKey:"express",stroke:"#ff7300",strokeWidth:2})]})})})]}),t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Market Share Distribution"}),t.jsx(Et,{children:"Revenue contribution by branch"})]}),t.jsx(k,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(ou,{children:[t.jsx(ls,{data:jk,cx:"50%",cy:"50%",labelLine:!1,label:({name:h,value:p})=>`${h}: ${p}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:jk.map((h,p)=>t.jsx(Ii,{fill:h.color},`cell-${p}`))}),t.jsx(Br,{})]})})})]})]})}),t.jsx($e,{value:"performance",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Branch Performance Comparison"}),t.jsx(Et,{children:"Revenue performance across branches over time"})]}),t.jsx(k,{children:t.jsx(ur,{width:"100%",height:400,children:t.jsxs(fa,{data:yk,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Br,{formatter:h=>[`Rs. ${(Number(h)/1e3).toFixed(0)}K`,""]}),t.jsx(qa,{}),t.jsx(vr,{dataKey:"central",stackId:"a",fill:"#8884d8",name:"Central Pharmacy"}),t.jsx(vr,{dataKey:"branchA",stackId:"a",fill:"#82ca9d",name:"Branch A"}),t.jsx(vr,{dataKey:"branchB",stackId:"a",fill:"#ffc658",name:"Branch B"}),t.jsx(vr,{dataKey:"express",stackId:"a",fill:"#ff7300",name:"Express"})]})})})]})}),t.jsx($e,{value:"comparison",className:"space-y-4",children:t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Branch Name"}),t.jsx(H,{children:"Monthly Revenue"}),t.jsx(H,{children:"Efficiency Score"}),t.jsx(H,{children:"Active Customers"}),t.jsx(H,{children:"Growth Rate"}),t.jsx(H,{children:"Performance"})]})}),t.jsx(At,{children:Vo.map((h,p)=>t.jsxs(Ie,{className:"animate-fade-in",children:[t.jsx(V,{children:t.jsx("div",{className:"font-medium",children:h.name})}),t.jsx(V,{children:t.jsxs("div",{className:"font-medium",children:["Rs. ",(h.revenue/1e5).toFixed(1),"L"]})}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("div",{className:"font-medium",children:[h.efficiency,"%"]}),t.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${h.efficiency}%`}})})]})}),t.jsx(V,{children:h.customers}),t.jsx(V,{children:t.jsxs("div",{className:"text-green-600 font-medium",children:["+",h.growth,"%"]})}),t.jsx(V,{children:h.efficiency>=90?o("excellent"):h.efficiency>=85?o("good"):h.efficiency>=80?o("warning"):o("critical")})]},p))})]})})}),t.jsx($e,{value:"products",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Top Selling Products"}),t.jsx(Et,{children:"Product sales across all branches"})]}),t.jsx(k,{children:t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Product Name"}),t.jsx(H,{children:"Central"}),t.jsx(H,{children:"Branch A"}),t.jsx(H,{children:"Branch B"}),t.jsx(H,{children:"Express"}),t.jsx(H,{children:"Total Sales"})]})}),t.jsx(At,{children:H1e.map((h,p)=>t.jsxs(Ie,{className:"animate-fade-in",children:[t.jsx(V,{className:"font-medium",children:h.product}),t.jsx(V,{children:h.central}),t.jsx(V,{children:h.branchA}),t.jsx(V,{children:h.branchB}),t.jsx(V,{children:h.express}),t.jsx(V,{className:"font-bold",children:h.total})]},p))})]})})})]})}),t.jsx($e,{value:"metrics",className:"space-y-4",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:W1e.map((h,p)=>t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:h.name}),h.status==="critical"&&t.jsx(bi,{className:"h-4 w-4 text-red-500"})]}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:`text-2xl font-bold ${i(h.status)}`,children:[h.value,"%"]}),o(h.status)]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:"Current"}),t.jsxs("span",{children:["Target: ",h.target,"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full ${h.status==="excellent"?"bg-green-500":h.status==="good"?"bg-blue-500":h.status==="warning"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(h.value,100)}%`}})})]})]})})]},p))})})]})]})]})}const X1e=`
  @media print {
    body * { visibility: hidden; }
    .print\\:block, .print\\:block * { visibility: visible; }
    .print\\:hidden { display: none !important; }
    .print\\:block { position: absolute; left: 0; top: 0; width: 100%; }
    @page { margin: 0.5in; size: A4; }
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.textContent=X1e,document.head.appendChild(e)}function Y1e(){var Te,Se,Ue,be,Q,pe,oe,ze,Fe,tt,lt;const[e,r]=g.useState([]),[n,s]=g.useState(""),[a,i]=g.useState([]),[o,l]=g.useState(!1),[c,d]=g.useState(""),[u,m]=g.useState(!1),[h,p]=g.useState(!1),[y,f]=g.useState(null),[v,j]=g.useState(!1),[x,b]=g.useState(1),[S,w]=g.useState(1),[N,P]=g.useState(0),[_]=g.useState(10),{toast:C}=Tt(),A=JSON.parse(localStorage.getItem("currentUser")||"{}"),M=A==null?void 0:A.organization_id,R=A==null?void 0:A.branch_id,E=(A==null?void 0:A.branch_name)||"BR",[F,G]=g.useState({org:"ORG001",branch:`${E.substring(0,2).toUpperCase()}-001`}),[D,J]=g.useState({id:"",first_name:"",last_name:"",date_of_birth:"",gender:"",phone:"",email:"",address:"",city:"",patient_type:"outpatient",emergency_contact_name:"",emergency_contact_phone:"",blood_group:"",allergies:"",chronic_conditions:""});g.useEffect(()=>{q(1),U()},[]),g.useEffect(()=>{const me=setTimeout(()=>{c?q(1,c):q(1)},500);return()=>clearTimeout(me)},[c]);const q=async(me=1,He="")=>{try{p(!0);const ae=new URLSearchParams({page:me.toString(),page_size:_.toString(),...He&&{search:He}}),je=await fetch(`http://localhost:8000/api/patients/?${ae}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")||localStorage.getItem("token")}`}});if(je.ok){const W=await je.json();r(W.results||[]),P(W.count||0),w(Math.ceil((W.count||0)/_)),b(me)}else throw new Error("Failed to fetch patients")}catch(ae){console.error("Error loading patients:",ae),C({title:"Error",description:"Failed to load patients",variant:"destructive"})}finally{p(!1)}},U=async()=>{try{const me=`ORG${String(e.length+1).padStart(3,"0")}`,He=`${E.substring(0,2).toUpperCase()}-${String(e.length+1).padStart(3,"0")}`;G({org:me,branch:He})}catch(me){console.error("Error generating patient numbers:",me)}},re=async me=>{if(s(me),me.trim())try{const He=e.filter(ae=>{var ce,Ne,K,de,Le;const je=me.toLowerCase(),W=((ce=ae.patient_id)==null?void 0:ce.toLowerCase())||"",se=((Ne=ae.full_name)==null?void 0:Ne.toLowerCase())||"",le=((K=ae.first_name)==null?void 0:K.toLowerCase())||"",ne=((de=ae.last_name)==null?void 0:de.toLowerCase())||"",Y=((Le=ae.phone)==null?void 0:Le.toLowerCase())||"";return W.includes(je)||se.includes(je)||le.includes(je)||ne.includes(je)||Y.includes(je)||W.split("-").some(Ve=>Ve.includes(je))});if(He.length>0)i(He),l(!0);else{const ae=await Ly.searchPatients(me);ae.success&&(i(ae.data||[]),l(!0))}}catch(He){console.error("Error searching patients:",He)}else l(!1),i([])},he=me=>{new Date(me.date_of_birth),J({id:me.id,first_name:me.first_name||"",last_name:me.last_name||"",date_of_birth:me.date_of_birth||"",gender:me.gender||"",phone:me.phone||"",email:me.email||"",address:me.address||"",city:me.city||"",patient_type:me.patient_type||"outpatient",emergency_contact_name:me.emergency_contact_name||"",emergency_contact_phone:me.emergency_contact_phone||"",blood_group:me.blood_group||"",allergies:me.allergies||"",chronic_conditions:me.chronic_conditions||""}),m(!0),l(!1),s("")},ie=(me,He)=>{J(ae=>({...ae,[me]:He}))},fe=async()=>{var me;if(!D.first_name||!D.last_name){C({title:"Validation Error",description:"Please fill in required fields: First Name and Last Name",variant:"destructive"});return}p(!0);try{const He={...D,full_name:`${D.first_name} ${D.last_name}`.trim(),organization_id:M,branch_id:R,phone:D.phone||"9800000000",city:D.city||"N/A",address:D.address||"N/A",email:D.email||"",allergies:D.allergies||"",chronic_conditions:D.chronic_conditions||""};if(!u)He.patient_id=F.branch;else{const je=e.find(W=>W.id===D.id);je!=null&&je.patient_id&&(He.patient_id=je.patient_id)}let ae;if(u&&D.id?ae=await Ly.updatePatient(D.id,He):ae=await Ly.createPatient(He),ae.success)C({title:"Success",description:`Patient ${u?"updated":"created"} successfully`}),q(x),U(),xe();else{let je="Failed to save patient";throw ae.error&&(typeof ae.error=="object"?je=Object.entries(ae.error).map(([se,le])=>`${se}: ${Array.isArray(le)?le.join(", "):le}`).join("; "):je=ae.error),new Error(je)}}catch(He){console.error("Error saving patient:",He);let ae="Failed to save patient";if(He.message)ae=He.message;else if((me=He.response)!=null&&me.data){const je=He.response.data;typeof je=="object"?ae=Object.entries(je).map(([se,le])=>`${se}: ${Array.isArray(le)?le.join(", "):le}`).join("; "):ae=je}C({title:"Error",description:ae,variant:"destructive"})}finally{p(!1)}},xe=()=>{J({id:"",first_name:"",last_name:"",date_of_birth:"",gender:"",phone:"",email:"",address:"",city:"",patient_type:"outpatient",emergency_contact_name:"",emergency_contact_phone:"",blood_group:"",allergies:"",chronic_conditions:""}),m(!1)},ge=e;return t.jsxs("div",{className:"min-h-screen flex flex-col p-4 space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold",children:"Patient Directory"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage patient information"})]}),t.jsx(O,{onClick:xe,size:"sm",children:"New Patient"})]}),t.jsxs(T,{className:"flex-shrink-0",children:[t.jsx(z,{className:"pb-3",children:t.jsxs(B,{className:"text-base flex items-center gap-2",children:[t.jsx(Si,{className:"w-4 h-4"}),"Patient Information"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"relative col-span-2",children:[t.jsx(Xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 z-10",size:14}),t.jsx(Z,{placeholder:"Search by Patient ID or Name...",value:n,onChange:me=>re(me.target.value),className:"pl-8 h-8 text-sm"}),o&&a.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border rounded-md shadow-lg z-10 max-h-32 overflow-y-auto",children:a.map(me=>t.jsxs("div",{className:"p-2 hover:bg-gray-50 cursor-pointer border-b last:border-b-0",onClick:()=>he(me),children:[t.jsx("div",{className:"font-medium text-xs",children:me.full_name||`${me.first_name||""} ${me.last_name||""}`.trim()}),t.jsxs("div",{className:"text-xs text-gray-500",children:[me.patient_id,"  ",me.phone||"No phone"]})]},me.id))})]}),t.jsx("div",{className:"space-y-1",children:t.jsxs("div",{className:"text-xs bg-gray-50 p-2 rounded border flex gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Org:"})," ",t.jsx("span",{className:"font-mono font-medium",children:F.org})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Branch:"})," ",t.jsx("span",{className:"font-mono font-medium",children:F.branch})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(I,{htmlFor:"first_name",className:"text-xs",children:"First Name *"}),t.jsx(Z,{id:"first_name",placeholder:"First name",value:D.first_name,onChange:me=>ie("first_name",me.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(I,{htmlFor:"last_name",className:"text-xs",children:"Last Name *"}),t.jsx(Z,{id:"last_name",placeholder:"Last name",value:D.last_name,onChange:me=>ie("last_name",me.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(I,{htmlFor:"date_of_birth",className:"text-xs",children:"Date of Birth"}),t.jsx(Z,{id:"date_of_birth",type:"date",value:D.date_of_birth,onChange:me=>ie("date_of_birth",me.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(I,{htmlFor:"gender",className:"text-xs",children:"Gender *"}),t.jsxs(_e,{value:D.gender,onValueChange:me=>ie("gender",me),children:[t.jsx(Pe,{className:"h-8 text-sm",children:t.jsx(Ae,{placeholder:"Select"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"male",children:"Male"}),t.jsx($,{value:"female",children:"Female"}),t.jsx($,{value:"other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(I,{htmlFor:"phone",className:"text-xs",children:"Phone"}),t.jsx(Z,{id:"phone",placeholder:"Phone number",value:D.phone,onChange:me=>ie("phone",me.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(I,{htmlFor:"email",className:"text-xs",children:"Email"}),t.jsx(Z,{id:"email",type:"email",placeholder:"Email address",value:D.email,onChange:me=>ie("email",me.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(I,{htmlFor:"patient_type",className:"text-xs",children:"Patient Type"}),t.jsxs(_e,{value:D.patient_type,onValueChange:me=>ie("patient_type",me),children:[t.jsx(Pe,{className:"h-8 text-sm",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"outpatient",children:"Outpatient"}),t.jsx($,{value:"inpatient",children:"Inpatient"}),t.jsx($,{value:"emergency",children:"Emergency"}),t.jsx($,{value:"regular",children:"Regular"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(I,{htmlFor:"blood_group",className:"text-xs",children:"Blood Group"}),t.jsxs(_e,{value:D.blood_group,onValueChange:me=>ie("blood_group",me),children:[t.jsx(Pe,{className:"h-8 text-sm",children:t.jsx(Ae,{placeholder:"Select"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"A+",children:"A+"}),t.jsx($,{value:"A-",children:"A-"}),t.jsx($,{value:"B+",children:"B+"}),t.jsx($,{value:"B-",children:"B-"}),t.jsx($,{value:"AB+",children:"AB+"}),t.jsx($,{value:"AB-",children:"AB-"}),t.jsx($,{value:"O+",children:"O+"}),t.jsx($,{value:"O-",children:"O-"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(I,{htmlFor:"address",className:"text-xs",children:"Address"}),t.jsx(Z,{id:"address",placeholder:"Full address",value:D.address,onChange:me=>ie("address",me.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(I,{htmlFor:"city",className:"text-xs",children:"City"}),t.jsx(Z,{id:"city",placeholder:"City",value:D.city,onChange:me=>ie("city",me.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(I,{htmlFor:"emergency_contact_name",className:"text-xs",children:"Emergency Contact"}),t.jsx(Z,{id:"emergency_contact_name",placeholder:"Contact name",value:D.emergency_contact_name,onChange:me=>ie("emergency_contact_name",me.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(I,{htmlFor:"emergency_contact_phone",className:"text-xs",children:"Emergency Phone"}),t.jsx(Z,{id:"emergency_contact_phone",placeholder:"Emergency phone",value:D.emergency_contact_phone,onChange:me=>ie("emergency_contact_phone",me.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1 col-span-2",children:[t.jsx(I,{htmlFor:"allergies",className:"text-xs",children:"Allergies"}),t.jsx(Z,{id:"allergies",placeholder:"Known allergies",value:D.allergies,onChange:me=>ie("allergies",me.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1 col-span-2",children:[t.jsx(I,{htmlFor:"chronic_conditions",className:"text-xs",children:"Medical History"}),t.jsx(Z,{id:"chronic_conditions",placeholder:"Chronic conditions",value:D.chronic_conditions,onChange:me=>ie("chronic_conditions",me.target.value),className:"h-8 text-sm"})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(O,{onClick:fe,size:"sm",className:"h-8",disabled:h,children:[t.jsx(Ni,{className:"w-3 h-3 mr-1"}),h?"Saving...":u?"Update Patient":"Save Patient"]})})]})]}),t.jsxs(T,{className:"flex-1",children:[t.jsx(z,{className:"pb-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(B,{className:"text-base",children:"All Patients"}),t.jsxs("div",{className:"relative w-64",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:14}),t.jsx(Z,{placeholder:"Search patients...",value:c,onChange:me=>d(me.target.value),className:"pl-7 h-8 text-sm"})]})]})}),t.jsx(k,{children:h?t.jsx("div",{className:"flex justify-center items-center py-8",children:t.jsx("div",{className:"text-sm text-gray-500",children:"Loading patients..."})}):t.jsxs(t.Fragment,{children:[t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left p-2 font-medium",children:"ID"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Name"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Age/Gender"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Contact"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Type"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Last Visit"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Visits"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Status"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:ge.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"text-center py-8 text-gray-500",children:"No patients found"})}):ge.map(me=>t.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[t.jsx("td",{className:"p-2 font-medium text-blue-600",children:me.patient_id}),t.jsx("td",{className:"p-2",children:me.full_name?me.full_name:`${me.first_name||""} ${me.last_name||""}`}),t.jsxs("td",{className:"p-2",children:[me.age,"Y / ",me.gender]}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[t.jsx(Ld,{size:10}),me.phone]}),me.email&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[t.jsx(Ei,{size:10}),me.email]})]})}),t.jsx("td",{className:"p-2",children:t.jsx(te,{variant:me.patient_type==="inpatient"?"default":"secondary",className:"text-xs",children:me.patient_type})}),t.jsx("td",{className:"p-2 text-xs",children:me.created_at?new Date(me.created_at).toLocaleDateString():"-"}),t.jsx("td",{className:"p-2 text-center",children:"-"}),t.jsx("td",{className:"p-2",children:t.jsx(te,{variant:me.status==="active"?"default":"secondary",className:"text-xs",children:me.status})}),t.jsx("td",{className:"p-2",children:t.jsx(O,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",onClick:()=>{f(me),j(!0)},children:t.jsx(yt,{size:12})})})]},me.id))})]}),t.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[t.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(x-1)*_+1," to ",Math.min(x*_,N)," of ",N," patients"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(O,{size:"sm",variant:"outline",onClick:()=>q(x-1,c),disabled:x<=1||h,children:"Previous"}),t.jsxs("span",{className:"flex items-center px-3 text-sm",children:["Page ",x," of ",S]}),t.jsx(O,{size:"sm",variant:"outline",onClick:()=>q(x+1,c),disabled:x>=S||h,children:"Next"})]})]})]})})]}),v&&y&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto m-4",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold",children:"Patient Details"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(O,{size:"sm",onClick:()=>{const me={patientId:y.patient_id,name:y.full_name||`${y.first_name||""} ${y.last_name||""}`,registrationDate:new Date().toLocaleDateString(),branchNumber:F.branch,orgNumber:F.org};console.log("Registration Receipt:",me),window.print()},className:"print:hidden",children:"Print Prescription"}),t.jsx(O,{size:"sm",variant:"outline",onClick:()=>j(!1),className:"print:hidden",children:"Close"})]})]}),t.jsxs("div",{className:"print:block",children:[t.jsxs("div",{className:"text-center border-b-2 border-gray-300 pb-4 mb-6",children:[t.jsxs("h1",{className:"text-2xl font-bold",children:[((Te=A==null?void 0:A.organization)==null?void 0:Te.name)||(A==null?void 0:A.organization_name)||"Medical Center",((Se=A==null?void 0:A.branch)==null?void 0:Se.name)&&((Ue=A==null?void 0:A.branch)==null?void 0:Ue.name)!==(((be=A==null?void 0:A.organization)==null?void 0:be.name)||(A==null?void 0:A.organization_name))&&t.jsxs("span",{children:[" (",(Q=A==null?void 0:A.branch)==null?void 0:Q.name,")"]})]}),(((pe=A==null?void 0:A.organization)==null?void 0:pe.address)||(A==null?void 0:A.address))&&t.jsx("p",{className:"text-sm",children:((oe=A==null?void 0:A.organization)==null?void 0:oe.address)||(A==null?void 0:A.address)}),(((ze=A==null?void 0:A.organization)==null?void 0:ze.phone)||(A==null?void 0:A.phone))&&t.jsxs("p",{className:"text-sm",children:["Phone: ",((Fe=A==null?void 0:A.organization)==null?void 0:Fe.phone)||(A==null?void 0:A.phone)]}),(((tt=A==null?void 0:A.organization)==null?void 0:tt.email)||(A==null?void 0:A.email))&&t.jsxs("p",{className:"text-sm",children:["Email: ",((lt=A==null?void 0:A.organization)==null?void 0:lt.email)||(A==null?void 0:A.email)]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3 border-b border-gray-200 pb-1",children:"Patient Information"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Patient ID:"})," ",y.patient_id]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Name:"})," ",y.full_name||`${y.first_name||""} ${y.last_name||""}`]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Age/Gender:"})," ",y.age,"Y / ",y.gender]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Phone:"})," ",y.phone||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Email:"})," ",y.email||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Blood Group:"})," ",y.blood_group||"N/A"]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3 border-b border-gray-200 pb-1",children:"Contact & Address"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Address:"})," ",y.address||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"City:"})," ",y.city||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Emergency Contact:"})," ",y.emergency_contact_name||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Emergency Phone:"})," ",y.emergency_contact_phone||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Patient Type:"})," ",y.patient_type]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Registration Date:"})," ",y.created_at?new Date(y.created_at).toLocaleDateString():"N/A"]})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-3 border-b border-gray-200 pb-1",children:"Medical Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Allergies:"})," ",y.allergies||"None reported"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Medical History:"})," ",y.chronic_conditions||"None reported"]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-3 border-b border-gray-200 pb-1",children:"Prescription"}),t.jsxs("div",{className:"min-h-[200px] border border-gray-300 p-4",children:[t.jsx("p",{className:"text-sm text-gray-500 italic",children:"Prescription details to be filled by doctor..."}),t.jsxs("div",{className:"mt-4 space-y-2",children:[t.jsx("div",{className:"border-b border-dotted border-gray-300 h-6"}),t.jsx("div",{className:"border-b border-dotted border-gray-300 h-6"}),t.jsx("div",{className:"border-b border-dotted border-gray-300 h-6"}),t.jsx("div",{className:"border-b border-dotted border-gray-300 h-6"}),t.jsx("div",{className:"border-b border-dotted border-gray-300 h-6"})]})]})]}),t.jsx("div",{className:"border-t-2 border-gray-300 pt-4 mt-6",children:t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Date:"})," ",new Date().toLocaleDateString()]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Time:"})," ",new Date().toLocaleTimeString()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"mb-8",children:"Doctor's Signature"}),t.jsx("div",{className:"border-t border-gray-400 w-32"})]})]})})]})]})})})]})}const Q1e=[{id:"MR001",patientId:"PAT001",patientName:"Ram Bahadur Thapa",date:"2024-01-15",type:"prescription",title:"Hypertension Management",description:"Regular medication for blood pressure control",doctor:"Dr. Rajesh Sharma",medications:["Amlodipine 5mg","Losartan 50mg"],status:"active"},{id:"MR002",patientId:"PAT002",patientName:"Sita Devi Sharma",date:"2024-01-10",type:"consultation",title:"Diabetes Follow-up",description:"Regular check-up for diabetes management",doctor:"Dr. Priya Patel",medications:["Metformin 500mg","Glimepiride 2mg"],status:"completed"}];function Z1e(){const[e]=g.useState(Q1e),[r,n]=g.useState(""),[s,a]=g.useState("all"),i=e.filter(c=>{const d=c.patientName.toLowerCase().includes(r.toLowerCase())||c.title.toLowerCase().includes(r.toLowerCase())||c.patientId.toLowerCase().includes(r.toLowerCase());return s==="all"?d:d&&c.type===s}),o=c=>{switch(c){case"prescription":return t.jsx(Ua,{className:"w-4 h-4"});case"consultation":return t.jsx(Si,{className:"w-4 h-4"});case"test":return t.jsx($t,{className:"w-4 h-4"});case"diagnosis":return t.jsx($t,{className:"w-4 h-4"});default:return t.jsx($t,{className:"w-4 h-4"})}},l=c=>{switch(c){case"prescription":return"bg-blue-100 text-blue-800";case"consultation":return"bg-green-100 text-green-800";case"test":return"bg-yellow-100 text-yellow-800";case"diagnosis":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Medical Records"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage patient medical records and history"})]}),t.jsxs(O,{children:[t.jsx(zt,{className:"w-4 h-4 mr-2"}),"Add Record"]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(B,{children:"Patient Records"}),t.jsxs("div",{className:"relative w-64",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),t.jsx(Z,{placeholder:"Search records...",value:r,onChange:c=>n(c.target.value),className:"pl-8"})]})]})}),t.jsx(k,{children:t.jsxs(Or,{value:s,onValueChange:a,children:[t.jsxs(Ar,{className:"grid w-full grid-cols-5",children:[t.jsx(Oe,{value:"all",children:"All Records"}),t.jsx(Oe,{value:"prescription",children:"Prescriptions"}),t.jsx(Oe,{value:"consultation",children:"Consultations"}),t.jsx(Oe,{value:"test",children:"Tests"}),t.jsx(Oe,{value:"diagnosis",children:"Diagnosis"})]}),t.jsx($e,{value:s,className:"mt-4",children:t.jsxs("div",{className:"space-y-4",children:[i.map(c=>t.jsx(T,{className:"hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:`p-2 rounded-full ${l(c.type)}`,children:o(c.type)}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:c.title}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.patientName," (",c.patientId,")"]})]})]}),t.jsx("p",{className:"text-sm mb-3",children:c.description}),c.medications&&c.medications.length>0&&t.jsxs("div",{className:"mb-3",children:[t.jsx("p",{className:"text-sm font-medium mb-1",children:"Medications:"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:c.medications.map((d,u)=>t.jsx(te,{variant:"outline",className:"text-xs",children:d},u))})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ot,{className:"w-3 h-3"}),c.date]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Si,{className:"w-3 h-3"}),c.doctor]})]})]}),t.jsxs("div",{className:"flex flex-col items-end gap-2",children:[t.jsx(te,{variant:c.status==="active"?"default":c.status==="completed"?"secondary":"destructive",children:c.status}),t.jsx(O,{size:"sm",variant:"outline",children:"View Details"})]})]})})},c.id)),i.length===0&&t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No medical records found matching your search."})]})})]})})]})]})}const J1e=[{id:"RX001",patientId:"PAT001",patientName:"Ram Bahadur Thapa",doctorName:"Dr. Rajesh Sharma",prescriptionDate:"2024-01-15",validUntil:"2024-02-15",status:"pending",medications:[{name:"Amlodipine",dosage:"5mg",frequency:"Once daily",duration:"30 days",quantity:30},{name:"Losartan",dosage:"50mg",frequency:"Once daily",duration:"30 days",quantity:30}],notes:"Take with food. Monitor blood pressure regularly."},{id:"RX002",patientId:"PAT002",patientName:"Sita Devi Sharma",doctorName:"Dr. Priya Patel",prescriptionDate:"2024-01-10",validUntil:"2024-02-10",status:"completed",medications:[{name:"Metformin",dosage:"500mg",frequency:"Twice daily",duration:"30 days",quantity:60}],notes:"Take after meals. Check blood sugar levels."}];function e2e(){const[e]=g.useState(J1e),[r,n]=g.useState(""),[s,a]=g.useState("all"),i=e.filter(c=>{const d=c.patientName.toLowerCase().includes(r.toLowerCase())||c.id.toLowerCase().includes(r.toLowerCase())||c.doctorName.toLowerCase().includes(r.toLowerCase());return s==="all"?d:d&&c.status===s}),o=c=>{switch(c){case"pending":return"bg-yellow-100 text-yellow-800";case"partial":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},l=c=>{const d=new Date,m=new Date(c).getTime()-d.getTime(),h=Math.ceil(m/(1e3*60*60*24));return h<=7&&h>0};return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Patient Prescriptions"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage patient prescriptions and medication orders"})]}),t.jsxs(O,{children:[t.jsx(zt,{className:"w-4 h-4 mr-2"}),"Add Prescription"]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(B,{children:"All Prescriptions"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs(_e,{value:s,onValueChange:a,children:[t.jsx(Pe,{className:"w-40",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Status"}),t.jsx($,{value:"pending",children:"Pending"}),t.jsx($,{value:"partial",children:"Partial"}),t.jsx($,{value:"completed",children:"Completed"}),t.jsx($,{value:"expired",children:"Expired"})]})]}),t.jsxs("div",{className:"relative w-64",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),t.jsx(Z,{placeholder:"Search prescriptions...",value:r,onChange:c=>n(c.target.value),className:"pl-8"})]})]})]})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[i.map(c=>t.jsx(T,{className:"hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 rounded-full bg-blue-100 text-blue-800",children:t.jsx(Ua,{className:"w-4 h-4"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold",children:["Prescription ",c.id]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.patientName," (",c.patientId,")"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(Si,{className:"w-3 h-3"}),"Dr. ",c.doctorName]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(Ot,{className:"w-3 h-3"}),c.prescriptionDate]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(Ut,{className:"w-3 h-3"}),"Valid until: ",c.validUntil,l(c.validUntil)&&t.jsx(te,{variant:"destructive",className:"ml-2 text-xs",children:"Expiring Soon"})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Medications:"}),t.jsx("div",{className:"space-y-2",children:c.medications.map((d,u)=>t.jsx("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("span",{className:"font-medium",children:[d.name," ",d.dosage]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.frequency," for ",d.duration," (Qty: ",d.quantity,")"]})]})},u))})]}),c.notes&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"font-medium mb-1",children:"Notes:"}),t.jsx("p",{className:"text-sm text-muted-foreground bg-yellow-50 p-2 rounded",children:c.notes})]})]}),t.jsxs("div",{className:"flex flex-col items-end gap-2",children:[t.jsx(te,{className:o(c.status),children:c.status}),t.jsxs("div",{className:"flex gap-1",children:[t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx($t,{className:"w-3 h-3 mr-1"}),"View"]}),c.status==="pending"&&t.jsx(O,{size:"sm",children:"Process"})]})]})]})})},c.id)),i.length===0&&t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No prescriptions found matching your criteria."})]})})]})]})}const t2e=[{id:"BILL001",patientId:"PAT001",patientName:"Ram Bahadur Thapa",date:"2024-01-15",items:[{name:"Amlodipine 5mg",quantity:30,price:2.5,total:75},{name:"Losartan 50mg",quantity:30,price:3,total:90}],subtotal:165,discount:8.25,tax:20.38,total:177.13,paymentMethod:"cash",status:"completed"},{id:"BILL002",patientId:"PAT002",patientName:"Sita Devi Sharma",date:"2024-01-10",items:[{name:"Metformin 500mg",quantity:60,price:1.5,total:90},{name:"Glimepiride 2mg",quantity:30,price:4,total:120}],subtotal:210,discount:10.5,tax:25.94,total:225.44,paymentMethod:"card",status:"completed"}];function r2e(){const[e]=g.useState(t2e),[r,n]=g.useState(""),[s,a]=g.useState("all"),[i,o]=g.useState("all"),l=e.filter(h=>{const p=h.patientName.toLowerCase().includes(r.toLowerCase())||h.id.toLowerCase().includes(r.toLowerCase())||h.patientId.toLowerCase().includes(r.toLowerCase()),y=s==="all"||h.status===s,f=i==="all"||h.paymentMethod===i;return p&&y&&f}),c=h=>{switch(h){case"completed":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"refunded":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=h=>{switch(h){case"cash":return"bg-blue-100 text-blue-800";case"card":return"bg-purple-100 text-purple-800";case"credit":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},u=l.reduce((h,p)=>h+p.total,0),m=l.length;return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Purchase History"}),t.jsx("p",{className:"text-muted-foreground",children:"Track patient purchase history and transactions"})]}),t.jsxs(O,{children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export Report"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transactions"}),t.jsx("p",{className:"text-2xl font-bold",children:m})]}),t.jsx(vt,{className:"w-8 h-8 text-blue-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",u.toFixed(2)]})]}),t.jsx(ht,{className:"w-8 h-8 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Transaction"}),t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",m>0?(u/m).toFixed(2):"0.00"]})]}),t.jsx(Ot,{className:"w-8 h-8 text-purple-600"})]})})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(B,{children:"Purchase Transactions"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs(_e,{value:s,onValueChange:a,children:[t.jsx(Pe,{className:"w-32",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Status"}),t.jsx($,{value:"completed",children:"Completed"}),t.jsx($,{value:"partial",children:"Partial"}),t.jsx($,{value:"refunded",children:"Refunded"})]})]}),t.jsxs(_e,{value:i,onValueChange:o,children:[t.jsx(Pe,{className:"w-32",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Payment"}),t.jsx($,{value:"cash",children:"Cash"}),t.jsx($,{value:"card",children:"Card"}),t.jsx($,{value:"credit",children:"Credit"})]})]}),t.jsxs("div",{className:"relative w-64",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),t.jsx(Z,{placeholder:"Search purchases...",value:r,onChange:h=>n(h.target.value),className:"pl-8"})]})]})]})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[l.map(h=>t.jsx(T,{className:"hover:shadow-md transition-shadow",children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 rounded-full bg-green-100 text-green-800",children:t.jsx(vt,{className:"w-4 h-4"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold",children:["Bill ",h.id]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.patientName," (",h.patientId,")"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(Ot,{className:"w-3 h-3"}),h.date]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(ht,{className:"w-3 h-3"}),"NPR ",h.total.toFixed(2)]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Items Purchased:"}),t.jsx("div",{className:"space-y-1",children:h.items.map((p,y)=>t.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-gray-50 rounded",children:[t.jsx("span",{children:p.name}),t.jsxs("span",{children:[p.quantity,"  NPR ",p.price.toFixed(2)," = NPR ",p.total.toFixed(2)]})]},y))})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),t.jsxs("p",{className:"font-medium",children:["NPR ",h.subtotal.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Discount:"}),t.jsxs("p",{className:"font-medium text-green-600",children:["-NPR ",h.discount.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Tax:"}),t.jsxs("p",{className:"font-medium",children:["NPR ",h.tax.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Total:"}),t.jsxs("p",{className:"font-bold",children:["NPR ",h.total.toFixed(2)]})]})]})]}),t.jsxs("div",{className:"flex flex-col items-end gap-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(te,{className:c(h.status),children:h.status}),t.jsx(te,{className:d(h.paymentMethod),children:h.paymentMethod})]}),t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(yt,{className:"w-3 h-3 mr-1"}),"View Receipt"]})]})]})})},h.id)),l.length===0&&t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No purchase history found matching your criteria."})]})})]})]})}const n2e={totalPatients:1247,activePatients:892,newPatientsThisMonth:45,averageAge:42.5,genderDistribution:{male:567,female:634,other:46},topMedications:[{name:"Metformin",prescriptions:234,patients:189},{name:"Amlodipine",prescriptions:198,patients:156},{name:"Losartan",prescriptions:167,patients:134},{name:"Atorvastatin",prescriptions:145,patients:112},{name:"Omeprazole",prescriptions:123,patients:98}],monthlyVisits:[{month:"Jan",visits:456,newPatients:23},{month:"Feb",visits:523,newPatients:31},{month:"Mar",visits:489,newPatients:28},{month:"Apr",visits:567,newPatients:35},{month:"May",visits:612,newPatients:42},{month:"Jun",visits:578,newPatients:38}]};function s2e(){const[e]=g.useState(n2e),[r,n]=g.useState("overview"),[s,a]=g.useState("month");return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Patient Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Analytics and insights about patient data"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{variant:"outline",children:[t.jsx(ba,{className:"w-4 h-4 mr-2"}),"Filters"]}),t.jsxs(O,{children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsxs(_e,{value:r,onValueChange:n,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"overview",children:"Overview Report"}),t.jsx($,{value:"demographics",children:"Demographics"}),t.jsx($,{value:"medications",children:"Medication Analysis"}),t.jsx($,{value:"visits",children:"Visit Patterns"}),t.jsx($,{value:"revenue",children:"Revenue by Patient"})]})]}),t.jsxs(_e,{value:s,onValueChange:a,children:[t.jsx(Pe,{className:"w-32",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"week",children:"This Week"}),t.jsx($,{value:"month",children:"This Month"}),t.jsx($,{value:"quarter",children:"This Quarter"}),t.jsx($,{value:"year",children:"This Year"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ot,{className:"w-4 h-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"Custom Range:"}),t.jsx(O,{variant:"outline",size:"sm",children:"Select Dates"})]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Patients"}),t.jsx("p",{className:"text-2xl font-bold",children:e.totalPatients.toLocaleString()}),t.jsx("p",{className:"text-xs text-green-600",children:"+12.5% from last month"})]}),t.jsx(it,{className:"w-8 h-8 text-blue-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Patients"}),t.jsx("p",{className:"text-2xl font-bold",children:e.activePatients.toLocaleString()}),t.jsx("p",{className:"text-xs text-green-600",children:"+8.3% from last month"})]}),t.jsx(ft,{className:"w-8 h-8 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"New This Month"}),t.jsx("p",{className:"text-2xl font-bold",children:e.newPatientsThisMonth}),t.jsx("p",{className:"text-xs text-blue-600",children:"+15.2% from last month"})]}),t.jsx(it,{className:"w-8 h-8 text-purple-600"})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Age"}),t.jsxs("p",{className:"text-2xl font-bold",children:[e.averageAge," years"]}),t.jsx("p",{className:"text-xs text-gray-600",children:"Stable"})]}),t.jsx(ir,{className:"w-8 h-8 text-orange-600"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(ci,{className:"w-5 h-5"}),"Gender Distribution"]})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),t.jsx("span",{children:"Male"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:e.genderDistribution.male}),t.jsxs(te,{variant:"outline",children:[(e.genderDistribution.male/e.totalPatients*100).toFixed(1),"%"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full"}),t.jsx("span",{children:"Female"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:e.genderDistribution.female}),t.jsxs(te,{variant:"outline",children:[(e.genderDistribution.female/e.totalPatients*100).toFixed(1),"%"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),t.jsx("span",{children:"Other"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:e.genderDistribution.other}),t.jsxs(te,{variant:"outline",children:[(e.genderDistribution.other/e.totalPatients*100).toFixed(1),"%"]})]})]})]})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(ir,{className:"w-5 h-5"}),"Top Prescribed Medications"]})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-3",children:e.topMedications.map((i,o)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:i.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.patients," patients"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-bold",children:i.prescriptions}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"prescriptions"})]})]},o))})})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(ft,{className:"w-5 h-5"}),"Monthly Visit Trends"]})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:t.jsx("div",{className:"grid grid-cols-6 gap-4",children:e.monthlyVisits.map((i,o)=>t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg mb-2",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.visits}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"visits"})]}),t.jsx("div",{className:"text-sm font-medium",children:i.month}),t.jsxs("div",{className:"text-xs text-green-600",children:["+",i.newPatients," new"]})]},o))})})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Export Options"})}),t.jsx(k,{children:t.jsxs("div",{className:"flex gap-4",children:[t.jsxs(O,{variant:"outline",children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export as PDF"]}),t.jsxs(O,{variant:"outline",children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export as Excel"]}),t.jsxs(O,{variant:"outline",children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export as CSV"]})]})})]})]})}const bk={general:{autoAssignPatientId:!0,patientIdPrefix:"PAT",requirePhoneNumber:!0,requireEmail:!1,requireAddress:!0,allowDuplicateNames:!1},privacy:{dataRetentionPeriod:7,anonymizeAfterPeriod:!0,requireConsentForMarketing:!0,allowDataExport:!0,encryptSensitiveData:!0},notifications:{birthdayReminders:!0,appointmentReminders:!0,prescriptionRefillReminders:!0,emailNotifications:!0,smsNotifications:!1},records:{defaultRecordType:"consultation",autoArchiveOldRecords:!0,archiveAfterMonths:24,requireDoctorSignature:!0,allowPatientAccess:!1}};function a2e(){const[e,r]=g.useState(bk),[n,s]=g.useState(!1),a=(l,c,d)=>{r(u=>({...u,[l]:{...u[l],[c]:d}})),s(!0)},i=()=>{console.log("Saving settings:",e),s(!1)},o=()=>{r(bk),s(!0)};return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Patient Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure patient management preferences and policies"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(O,{variant:"outline",onClick:o,children:"Reset to Default"}),t.jsxs(O,{onClick:i,disabled:!n,children:[t.jsx(Ni,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]}),t.jsxs(Or,{defaultValue:"general",className:"space-y-4",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-4",children:[t.jsxs(Oe,{value:"general",className:"flex items-center gap-2",children:[t.jsx(cn,{className:"w-4 h-4"}),"General"]}),t.jsxs(Oe,{value:"privacy",className:"flex items-center gap-2",children:[t.jsx(Ss,{className:"w-4 h-4"}),"Privacy"]}),t.jsxs(Oe,{value:"notifications",className:"flex items-center gap-2",children:[t.jsx(Sl,{className:"w-4 h-4"}),"Notifications"]}),t.jsxs(Oe,{value:"records",className:"flex items-center gap-2",children:[t.jsx($t,{className:"w-4 h-4"}),"Records"]})]}),t.jsx($e,{value:"general",children:t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(it,{className:"w-5 h-5"}),"General Patient Settings"]})}),t.jsx(k,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Auto-assign Patient ID"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically generate unique patient IDs"})]}),t.jsx(ot,{checked:e.general.autoAssignPatientId,onCheckedChange:l=>a("general","autoAssignPatientId",l)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"patientIdPrefix",children:"Patient ID Prefix"}),t.jsx(Z,{id:"patientIdPrefix",value:e.general.patientIdPrefix,onChange:l=>a("general","patientIdPrefix",l.target.value),placeholder:"PAT"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Require Phone Number"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Make phone number mandatory"})]}),t.jsx(ot,{checked:e.general.requirePhoneNumber,onCheckedChange:l=>a("general","requirePhoneNumber",l)})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Require Email Address"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Make email address mandatory"})]}),t.jsx(ot,{checked:e.general.requireEmail,onCheckedChange:l=>a("general","requireEmail",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Require Address"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Make address mandatory"})]}),t.jsx(ot,{checked:e.general.requireAddress,onCheckedChange:l=>a("general","requireAddress",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Allow Duplicate Names"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow patients with same name"})]}),t.jsx(ot,{checked:e.general.allowDuplicateNames,onCheckedChange:l=>a("general","allowDuplicateNames",l)})]})]})]})})]})}),t.jsx($e,{value:"privacy",children:t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(Ss,{className:"w-5 h-5"}),"Privacy & Data Protection"]})}),t.jsx(k,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"dataRetention",children:"Data Retention Period (Years)"}),t.jsx(Z,{id:"dataRetention",type:"number",value:e.privacy.dataRetentionPeriod,onChange:l=>a("privacy","dataRetentionPeriod",parseInt(l.target.value))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Anonymize After Retention Period"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Remove personal identifiers after retention period"})]}),t.jsx(ot,{checked:e.privacy.anonymizeAfterPeriod,onCheckedChange:l=>a("privacy","anonymizeAfterPeriod",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Require Marketing Consent"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Require explicit consent for marketing communications"})]}),t.jsx(ot,{checked:e.privacy.requireConsentForMarketing,onCheckedChange:l=>a("privacy","requireConsentForMarketing",l)})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Allow Data Export"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow patients to export their data"})]}),t.jsx(ot,{checked:e.privacy.allowDataExport,onCheckedChange:l=>a("privacy","allowDataExport",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Encrypt Sensitive Data"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Encrypt sensitive patient information"})]}),t.jsx(ot,{checked:e.privacy.encryptSensitiveData,onCheckedChange:l=>a("privacy","encryptSensitiveData",l)})]})]})]})})]})}),t.jsx($e,{value:"notifications",children:t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(Sl,{className:"w-5 h-5"}),"Notification Settings"]})}),t.jsx(k,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Birthday Reminders"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Send birthday wishes to patients"})]}),t.jsx(ot,{checked:e.notifications.birthdayReminders,onCheckedChange:l=>a("notifications","birthdayReminders",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Appointment Reminders"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Send appointment reminders"})]}),t.jsx(ot,{checked:e.notifications.appointmentReminders,onCheckedChange:l=>a("notifications","appointmentReminders",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Prescription Refill Reminders"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Remind patients about prescription refills"})]}),t.jsx(ot,{checked:e.notifications.prescriptionRefillReminders,onCheckedChange:l=>a("notifications","prescriptionRefillReminders",l)})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Email Notifications"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications via email"})]}),t.jsx(ot,{checked:e.notifications.emailNotifications,onCheckedChange:l=>a("notifications","emailNotifications",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"SMS Notifications"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications via SMS"})]}),t.jsx(ot,{checked:e.notifications.smsNotifications,onCheckedChange:l=>a("notifications","smsNotifications",l)})]})]})]})})]})}),t.jsx($e,{value:"records",children:t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx($t,{className:"w-5 h-5"}),"Medical Records Settings"]})}),t.jsx(k,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"defaultRecordType",children:"Default Record Type"}),t.jsxs(_e,{value:e.records.defaultRecordType,onValueChange:l=>a("records","defaultRecordType",l),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"consultation",children:"Consultation"}),t.jsx($,{value:"prescription",children:"Prescription"}),t.jsx($,{value:"test",children:"Test Result"}),t.jsx($,{value:"diagnosis",children:"Diagnosis"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Auto-archive Old Records"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically archive old medical records"})]}),t.jsx(ot,{checked:e.records.autoArchiveOldRecords,onCheckedChange:l=>a("records","autoArchiveOldRecords",l)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"archiveAfter",children:"Archive After (Months)"}),t.jsx(Z,{id:"archiveAfter",type:"number",value:e.records.archiveAfterMonths,onChange:l=>a("records","archiveAfterMonths",parseInt(l.target.value))})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Require Doctor Signature"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Require digital signature for medical records"})]}),t.jsx(ot,{checked:e.records.requireDoctorSignature,onCheckedChange:l=>a("records","requireDoctorSignature",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Allow Patient Access"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow patients to view their medical records"})]}),t.jsx(ot,{checked:e.records.allowPatientAccess,onCheckedChange:l=>a("records","allowPatientAccess",l)})]})]})]})})]})})]}),n&&t.jsx(T,{className:"border-orange-200 bg-orange-50",children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-orange-800",children:[t.jsx(cn,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:"You have unsaved changes"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(O,{variant:"outline",size:"sm",onClick:()=>s(!1),children:"Discard"}),t.jsx(O,{size:"sm",onClick:i,children:"Save Changes"})]})]})})})]})}var qL={exports:{}},WL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=g;function i2e(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var o2e=typeof Object.is=="function"?Object.is:i2e,l2e=Od.useState,c2e=Od.useEffect,d2e=Od.useLayoutEffect,u2e=Od.useDebugValue;function m2e(e,r){var n=r(),s=l2e({inst:{value:n,getSnapshot:r}}),a=s[0].inst,i=s[1];return d2e(function(){a.value=n,a.getSnapshot=r,vj(a)&&i({inst:a})},[e,n,r]),c2e(function(){return vj(a)&&i({inst:a}),e(function(){vj(a)&&i({inst:a})})},[e]),u2e(n),n}function vj(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!o2e(e,n)}catch{return!0}}function h2e(e,r){return r()}var f2e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h2e:m2e;WL.useSyncExternalStore=Od.useSyncExternalStore!==void 0?Od.useSyncExternalStore:f2e;qL.exports=WL;var p2e=qL.exports;function x2e(){return p2e.useSyncExternalStore(g2e,()=>!0,()=>!1)}function g2e(){return()=>{}}var T2="Avatar",[v2e,yPe]=Gn(T2),[y2e,HL]=v2e(T2),KL=g.forwardRef((e,r)=>{const{__scopeAvatar:n,...s}=e,[a,i]=g.useState("idle");return t.jsx(y2e,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:t.jsx(Je.span,{...s,ref:r})})});KL.displayName=T2;var GL="AvatarImage",XL=g.forwardRef((e,r)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=HL(GL,n),l=j2e(s,i),c=Xr(d=>{a(d),o.onImageLoadingStatusChange(d)});return Lr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?t.jsx(Je.img,{...i,ref:r,src:s}):null});XL.displayName=GL;var YL="AvatarFallback",QL=g.forwardRef((e,r)=>{const{__scopeAvatar:n,delayMs:s,...a}=e,i=HL(YL,n),[o,l]=g.useState(s===void 0);return g.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?t.jsx(Je.span,{...a,ref:r}):null});QL.displayName=YL;function Nk(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function j2e(e,{referrerPolicy:r,crossOrigin:n}){const s=x2e(),a=g.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=g.useState(()=>Nk(i,e));return Lr(()=>{l(Nk(i,e))},[i,e]),Lr(()=>{const c=m=>()=>{l(m)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),r&&(i.referrerPolicy=r),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,n,r]),o}var ZL=KL,JL=XL,e6=QL;const wo=g.forwardRef(({className:e,...r},n)=>t.jsx(ZL,{ref:n,className:ke("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));wo.displayName=ZL.displayName;const CN=g.forwardRef(({className:e,...r},n)=>t.jsx(JL,{ref:n,className:ke("aspect-square h-full w-full",e),...r}));CN.displayName=JL.displayName;const So=g.forwardRef(({className:e,...r},n)=>t.jsx(e6,{ref:n,className:ke("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));So.displayName=e6.displayName;const b2e=["Male","Female","Other"],N2e=["A+","A-","B+","B-","AB+","AB-","O+","O-"];function wk(){const[e,r]=g.useState([]),[n,s]=g.useState(!0),[a,i]=g.useState("");g.useState("all");const[o,l]=g.useState("all"),[c,d]=g.useState(null),[u,m]=g.useState(null),[h,p]=g.useState(!1),[y,f]=g.useState(!1),[v,j]=g.useState(!1),[x,b]=g.useState({name:"",email:"",phone:"",address:"",dateOfBirth:"",gender:"Male",bloodGroup:"O+",emergencyContact:"",allergies:"",chronicConditions:"",preferredBranch:"Central Pharmacy"}),{toast:S}=Tt(),w=async()=>{try{s(!0);const D=localStorage.getItem("access_token")||localStorage.getItem("token"),J=await fetch("http://localhost:8000/api/inventory/customers/",{headers:{"Content-Type":"application/json",...D&&{Authorization:`Bearer ${D}`}}});if(J.ok){const U=(await J.json()).map(re=>({id:re.id,name:re.organization_name,organization_name:re.organization_name,branch_name:re.branch_name,totalOrders:re.order_count,totalSpent:re.total_orders,totalPaid:re.total_paid,totalCredit:re.total_credit,lastOrderDate:re.last_order_date,firstOrderDate:re.first_order_date,status:"active"}));r(U)}else S({title:"Error",description:"Failed to load customer data",variant:"destructive"})}catch(D){console.error("Error fetching customers:",D),S({title:"Error",description:"Failed to load customer data",variant:"destructive"})}finally{s(!1)}};g.useEffect(()=>{w()},[]);const N=e.filter(D=>{const J=D.name.toLowerCase().includes(a.toLowerCase())||D.organization_name.toLowerCase().includes(a.toLowerCase())||D.branch_name.toLowerCase().includes(a.toLowerCase()),q=o==="all"||D.branch_name===o;return J&&q}),P=[...new Set(e.map(D=>D.branch_name))].filter(Boolean),_=D=>{const J={Platinum:"bg-purple-100 text-purple-800 border-purple-200",Gold:"bg-yellow-100 text-yellow-800 border-yellow-200",Silver:"bg-gray-100 text-gray-800 border-gray-200",Bronze:"bg-orange-100 text-orange-800 border-orange-200"};return t.jsx(te,{className:J[D]||J.Bronze,children:D})},C=D=>{const J={active:"bg-green-100 text-green-800 border-green-200",inactive:"bg-gray-100 text-gray-800 border-gray-200"};return t.jsx(te,{className:J[D]||J.inactive,children:D})},A=()=>{if(!x.name||!x.email||!x.phone){S({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}S({title:"Success",description:"Customer added successfully"}),f(!1),b({name:"",email:"",phone:"",address:"",dateOfBirth:"",gender:"Male",bloodGroup:"O+",emergencyContact:"",allergies:"",chronicConditions:"",preferredBranch:"Central Pharmacy"})},M=async D=>{try{p(!0),d(D),j(!0);const J=localStorage.getItem("access_token")||localStorage.getItem("token"),q=await fetch(`http://localhost:8000/api/inventory/customers/${D.id}/details/`,{headers:{"Content-Type":"application/json",...J&&{Authorization:`Bearer ${J}`}}});if(q.ok){const U=await q.json();m(U)}else S({title:"Error",description:"Failed to load customer details",variant:"destructive"})}catch(J){console.error("Error fetching customer details:",J),S({title:"Error",description:"Failed to load customer details",variant:"destructive"})}finally{p(!1)}},R=e.length,E=e.reduce((D,J)=>D+(parseFloat(J.totalSpent)||0),0),F=e.reduce((D,J)=>D+(parseFloat(J.totalPaid)||0),0),G=e.reduce((D,J)=>D+(parseFloat(J.totalCredit)||0),0);return t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Customer Directory"}),t.jsx("p",{className:"text-muted-foreground",children:"Pharmacy organizations that have placed orders with you"})]}),t.jsxs(rt,{open:y,onOpenChange:f,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{className:"animate-fade-in",children:[t.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Customer"]})}),t.jsxs(nt,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Customer"}),t.jsx(Pt,{children:"Enter customer details to create a new profile"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"name",children:"Full Name *"}),t.jsx(Z,{id:"name",value:x.name,onChange:D=>b({...x,name:D.target.value}),placeholder:"Enter full name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"email",children:"Email *"}),t.jsx(Z,{id:"email",type:"email",value:x.email,onChange:D=>b({...x,email:D.target.value}),placeholder:"customer@email.com"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"phone",children:"Phone Number *"}),t.jsx(Z,{id:"phone",value:x.phone,onChange:D=>b({...x,phone:D.target.value}),placeholder:"+977-9XXXXXXXXX"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"emergency",children:"Emergency Contact"}),t.jsx(Z,{id:"emergency",value:x.emergencyContact,onChange:D=>b({...x,emergencyContact:D.target.value}),placeholder:"+977-9XXXXXXXXX"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"address",children:"Address"}),t.jsx(Vt,{id:"address",value:x.address,onChange:D=>b({...x,address:D.target.value}),placeholder:"Enter complete address"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"dob",children:"Date of Birth"}),t.jsx(Z,{id:"dob",type:"date",value:x.dateOfBirth,onChange:D=>b({...x,dateOfBirth:D.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"gender",children:"Gender"}),t.jsxs(_e,{value:x.gender,onValueChange:D=>b({...x,gender:D}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsx(Ce,{className:"bg-background border z-50",children:b2e.map(D=>t.jsx($,{value:D,children:D},D))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"blood",children:"Blood Group"}),t.jsxs(_e,{value:x.bloodGroup,onValueChange:D=>b({...x,bloodGroup:D}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsx(Ce,{className:"bg-background border z-50",children:N2e.map(D=>t.jsx($,{value:D,children:D},D))})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"branch",children:"Preferred Branch"}),t.jsxs(_e,{value:x.preferredBranch,onValueChange:D=>b({...x,preferredBranch:D}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsx(Ce,{className:"bg-background border z-50",children:P.map(D=>t.jsx($,{value:D,children:D},D))})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"allergies",children:"Known Allergies"}),t.jsx(Vt,{id:"allergies",value:x.allergies,onChange:D=>b({...x,allergies:D.target.value}),placeholder:"List any known allergies (comma separated)"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"conditions",children:"Chronic Conditions"}),t.jsx(Vt,{id:"conditions",value:x.chronicConditions,onChange:D=>b({...x,chronicConditions:D.target.value}),placeholder:"List chronic conditions (comma separated)"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(O,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),t.jsx(O,{onClick:A,children:"Add Customer"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Total Customers"}),t.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:R}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered customers"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Total Sales Amount"}),t.jsx(ht,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["Rs. ",E.toFixed(2).replace(/\.00$/,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total sales revenue"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Total Paid"}),t.jsx(ft,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["Rs. ",F.toFixed(2).replace(/\.00$/,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Amount received"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Total Credit to Receive"}),t.jsx(Dw,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["Rs. ",G.toFixed(2).replace(/\.00$/,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Outstanding amount"})]})]})]}),t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Customer Directory"}),t.jsx(Et,{children:"Pharmacy organizations that have placed orders with you"})]}),t.jsxs(k,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search customers...",value:a,onChange:D=>i(D.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:o,onValueChange:l,children:[t.jsx(Pe,{className:"w-full md:w-40",children:t.jsx(Ae,{placeholder:"Branch"})}),t.jsxs(Ce,{className:"bg-background border z-50",children:[t.jsx($,{value:"all",children:"All Branches"}),P.map(D=>t.jsx($,{value:D,children:D},D))]})]})]}),t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Organization"}),t.jsx(H,{children:"Branch"}),t.jsx(H,{children:"Total Orders"}),t.jsx(H,{children:"Total Amount"}),t.jsx(H,{children:"Paid Amount"}),t.jsx(H,{children:"Credit Amount"}),t.jsx(H,{children:"Last Order"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:n?t.jsx(Ie,{children:t.jsx(V,{colSpan:8,className:"text-center py-8",children:"Loading customers..."})}):N.length===0?t.jsx(Ie,{children:t.jsx(V,{colSpan:8,className:"text-center py-8",children:"No customers found"})}):N.map(D=>t.jsxs(Ie,{className:"animate-fade-in",children:[t.jsx(V,{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(wo,{children:t.jsx(So,{children:D.organization_name.split(" ").map(J=>J[0]).join("").substring(0,2)})}),t.jsxs("div",{children:[t.jsx(wr,{to:`/customers/detail/${D.id}`,className:"font-medium text-blue-600 hover:underline",children:D.organization_name}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Customer since: ",new Date(D.firstOrderDate).toLocaleDateString()]})]})]})}),t.jsx(V,{children:t.jsx("div",{className:"font-medium",children:D.branch_name})}),t.jsxs(V,{children:[t.jsx("div",{className:"font-medium",children:D.totalOrders}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"orders placed"})]}),t.jsx(V,{children:t.jsxs("div",{className:"font-medium",children:["Rs. ",D.totalSpent.toLocaleString()]})}),t.jsx(V,{children:t.jsxs("div",{className:"font-medium text-green-600",children:["Rs. ",D.totalPaid.toLocaleString()]})}),t.jsx(V,{children:t.jsxs("div",{className:"font-medium text-orange-600",children:["Rs. ",D.totalCredit.toLocaleString()]})}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center text-sm",children:[t.jsx(Ot,{className:"h-3 w-3 mr-1"}),new Date(D.lastOrderDate).toLocaleDateString()]})}),t.jsx(V,{children:t.jsx("div",{className:"flex space-x-2",children:t.jsx(O,{variant:"ghost",size:"sm",onClick:()=>M(D),children:t.jsx(yt,{className:"h-4 w-4"})})})})]},D.id))})]})})]})]}),t.jsx(rt,{open:v,onOpenChange:D=>{j(D),D||(m(null),d(null))},children:t.jsxs(nt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Customer Details"}),t.jsx(Pt,{children:"Complete customer information and order history"})]}),h?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),t.jsx("div",{children:"Loading customer details..."})]})}):u&&c?t.jsxs(Or,{defaultValue:"summary",className:"w-full",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-4",children:[t.jsx(Oe,{value:"summary",children:"Summary"}),t.jsx(Oe,{value:"orders",children:"Order History"}),t.jsx(Oe,{value:"items",children:"Recent Items"}),t.jsx(Oe,{value:"loyalty",children:"Loyalty"})]}),t.jsxs($e,{value:"summary",className:"space-y-6",children:[t.jsxs("div",{className:"flex items-start space-x-6",children:[t.jsx(wo,{className:"w-20 h-20",children:t.jsx(So,{className:"text-xl",children:u.customer.organization_name.split(" ").map(D=>D[0]).join("").substring(0,2)})}),t.jsx("div",{className:"flex-1 space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{className:"text-sm font-medium text-muted-foreground",children:"Organization Name"}),t.jsx("div",{className:"text-lg font-semibold",children:u.customer.organization_name})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-sm font-medium text-muted-foreground",children:"Branch"}),t.jsx("div",{className:"text-lg font-semibold",children:u.customer.branch_name})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-sm font-medium text-muted-foreground",children:"Customer Since"}),t.jsx("div",{className:"text-lg font-semibold",children:new Date(u.customer.customer_since).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[C(u.customer.status),u.summary.status==="released"?t.jsx(te,{className:"bg-green-100 text-green-800 border-green-200",children:"Released"}):u.summary.status==="pending"?t.jsx(te,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:"Pending"}):null]})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(z,{className:"pb-3",children:t.jsx(B,{className:"text-sm",children:"Total Orders"})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:u.summary.total_orders}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Orders placed"})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-3",children:t.jsx(B,{className:"text-sm",children:"Total Amount"})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["Rs. ",u.summary.total_amount.toLocaleString()]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total value"})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-3",children:t.jsx(B,{className:"text-sm",children:"Paid Amount"})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["Rs. ",u.summary.paid_amount.toLocaleString()]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Amount received"})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-3",children:t.jsx(B,{className:"text-sm",children:"Credit Amount"})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["Rs. ",u.summary.credit_amount.toLocaleString()]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Outstanding"})]})]})]})]}),t.jsx($e,{value:"orders",className:"space-y-4",children:t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Order Number"}),t.jsx(H,{children:"Date"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Items"}),t.jsx(H,{children:"Amount"}),t.jsx(H,{children:"Paid"}),t.jsx(H,{children:"Remaining"}),t.jsx(H,{children:"Released"})]})}),t.jsx(At,{children:u.order_history.map(D=>t.jsxs(Ie,{children:[t.jsx(V,{className:"font-medium",children:D.order_number}),t.jsx(V,{children:new Date(D.order_date).toLocaleDateString()}),t.jsx(V,{children:t.jsx(te,{className:D.status==="completed"?"bg-green-100 text-green-800":D.status==="delivered"?"bg-blue-100 text-blue-800":D.status==="shipped"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800",children:D.status.replace("_"," ")})}),t.jsx(V,{children:D.items_count}),t.jsxs(V,{children:["Rs. ",D.total_amount.toLocaleString()]}),t.jsxs(V,{className:"text-green-600",children:["Rs. ",D.paid_amount.toLocaleString()]}),t.jsxs(V,{className:"text-orange-600",children:["Rs. ",D.remaining_amount.toLocaleString()]}),t.jsx(V,{children:D.is_released?t.jsx(te,{className:"bg-green-100 text-green-800 border-green-200",children:"Yes"}):t.jsx(te,{className:"bg-gray-100 text-gray-800 border-gray-200",children:"No"})})]},D.id))})]})})}),t.jsx($e,{value:"items",className:"space-y-4",children:t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Product Name"}),t.jsx(H,{children:"Quantity"}),t.jsx(H,{children:"Unit Price"}),t.jsx(H,{children:"Order Date"}),t.jsx(H,{children:"Order Number"})]})}),t.jsx(At,{children:u.recent_items.map((D,J)=>t.jsxs(Ie,{children:[t.jsx(V,{className:"font-medium",children:D.product_name}),t.jsx(V,{children:D.quantity}),t.jsxs(V,{children:["Rs. ",D.unit_price.toLocaleString()]}),t.jsx(V,{children:new Date(D.order_date).toLocaleDateString()}),t.jsx(V,{children:D.order_number})]},J))})]})})}),t.jsx($e,{value:"loyalty",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(z,{className:"pb-3",children:t.jsx(B,{className:"text-sm",children:"Loyalty Tier"})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:u.loyalty_metrics.tier}),_(u.loyalty_metrics.tier)]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-3",children:t.jsx(B,{className:"text-sm",children:"Loyalty Points"})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:u.loyalty_metrics.points.toLocaleString()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Available points"})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-3",children:t.jsx(B,{className:"text-sm",children:"Avg Order Value"})}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["Rs. ",Math.round(u.loyalty_metrics.avg_order_value).toLocaleString()]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Per order"})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-3",children:t.jsx(B,{className:"text-sm",children:"Order Frequency"})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:u.loyalty_metrics.order_frequency}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Customer type"})]})]})]})})]}):t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No customer details available"})]})})]})}function w2e(){var w,N,P,_,C,A,M,R,E,F,G,D,J,q;const{id:e}=e1(),[r,n]=g.useState(null),[s,a]=g.useState({transactions:[],summary:{}}),[i,o]=g.useState(!0),[l,c]=g.useState(1),[d,u]=g.useState(!1),[m,h]=g.useState({amount:"",method:"cash",reference:""}),[p,y]=g.useState(!1),f=10,{toast:v}=Tt();g.useEffect(()=>{e&&(async()=>{try{o(!0);const re=localStorage.getItem("access_token")||localStorage.getItem("token"),[he,ie]=e.split("-");n({id:e,organization_name:he,branch_name:ie,customer_type:"buyer"});const fe=await fetch(`http://localhost:8000/api/inventory/customers/${encodeURIComponent(e)}/transactions/`,{headers:{"Content-Type":"application/json",...re&&{Authorization:`Bearer ${re}`}}});if(fe.ok){const xe=await fe.json();a({summary:xe.summary||{},transactions:xe.transactions||[]})}else v({title:"Error",description:"Failed to load customer transaction data",variant:"destructive"})}catch(re){console.error("Error fetching customer data:",re),v({title:"Error",description:"Failed to load customer data",variant:"destructive"})}finally{o(!1)}})()},[e]);const j=async()=>{if(!m.amount||parseFloat(m.amount)<=0){v({title:"Error",description:"Please enter a valid payment amount",variant:"destructive"});return}y(!0);try{const U=localStorage.getItem("access_token")||localStorage.getItem("token"),re=await fetch(`http://localhost:8000/api/inventory/customers/${encodeURIComponent(e)}/collect-payment/`,{method:"POST",headers:{"Content-Type":"application/json",...U&&{Authorization:`Bearer ${U}`}},body:JSON.stringify({payment_amount:parseFloat(m.amount),payment_method:m.method,payment_reference:m.reference})});if(re.ok){const he=await re.json();v({title:"Success",description:`Payment of NPR ${parseFloat(m.amount).toLocaleString()} collected successfully`}),u(!1),h({amount:"",method:"cash",reference:""});const ie=await fetch(`http://localhost:8000/api/inventory/customers/${encodeURIComponent(e)}/transactions/`,{headers:{"Content-Type":"application/json",...U&&{Authorization:`Bearer ${U}`}}});if(ie.ok){const fe=await ie.json();a({summary:fe.summary||{},transactions:fe.transactions||[]})}}else{const he=await re.json();v({title:"Error",description:he.error||"Failed to collect payment",variant:"destructive"})}}catch{v({title:"Error",description:"Failed to collect payment",variant:"destructive"})}finally{y(!1)}},x=s.transactions||[],b=x.slice((l-1)*f,l*f),S=Math.ceil(x.length/f);return i?t.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):r?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(O,{variant:"outline",size:"sm",asChild:!0,children:t.jsxs(wr,{to:"/customers",children:[t.jsx(Ao,{size:16,className:"mr-2"}),"Back"]})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:r.organization_name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Customer ID: ",e]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ht,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["NPR ",((N=(w=s.summary)==null?void 0:w.total_orders)==null?void 0:N.toLocaleString())||"0"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Order Amount"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Wn,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold text-green-600",children:["NPR ",((_=(P=s.summary)==null?void 0:P.total_paid)==null?void 0:_.toLocaleString())||"0"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Payment Received"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ft,{className:"h-5 w-5 text-orange-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["NPR ",((A=(C=s.summary)==null?void 0:C.total_credit)==null?void 0:A.toLocaleString())||"0"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Outstanding Balance"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:((R=(M=s.transactions)==null?void 0:M.filter(U=>U.transaction_type==="order"))==null?void 0:R.length)||0}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"})]})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",children:"Customer Information"}),t.jsxs("div",{className:"space-y-2 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Bs,{size:12}),t.jsxs("span",{children:["Organization: ",(r==null?void 0:r.organization_name)||"N/A"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Bs,{size:12}),t.jsxs("span",{children:["Branch: ",(r==null?void 0:r.branch_name)||"N/A"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ot,{size:12}),t.jsx("span",{children:"Customer Type: Buyer Organization"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",children:"Transaction Summary"}),t.jsxs("div",{className:"space-y-2 text-xs",children:[t.jsxs("div",{children:["Total Transactions: ",x.length]}),t.jsxs("div",{children:["Orders: ",((F=(E=s.transactions)==null?void 0:E.filter(U=>U.transaction_type==="order"))==null?void 0:F.length)||0]}),t.jsxs("div",{children:["Payments: ",((D=(G=s.transactions)==null?void 0:G.filter(U=>U.transaction_type==="payment"))==null?void 0:D.length)||0]})]})]})]})})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx("h3",{className:"text-sm font-medium",children:"Transaction History & Payment Records"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(rt,{open:d,onOpenChange:u,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{size:"sm",className:"text-xs",children:[t.jsx(zt,{size:12,className:"mr-1"}),"Collect Payment"]})}),t.jsxs(nt,{className:"max-w-md",children:[t.jsx(st,{children:t.jsxs(at,{children:["Collect Payment from ",r==null?void 0:r.organization_name]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-sm",children:[t.jsx("div",{className:"font-medium",children:"Outstanding Balance"}),t.jsxs("div",{className:"text-lg font-bold text-orange-600",children:["NPR ",((q=(J=s.summary)==null?void 0:J.total_credit)==null?void 0:q.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"amount",children:"Payment Amount (NPR)"}),t.jsx(Z,{id:"amount",type:"number",placeholder:"Enter amount",value:m.amount,onChange:U=>h(re=>({...re,amount:U.target.value}))})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"method",children:"Payment Method"}),t.jsxs(_e,{value:m.method,onValueChange:U=>h(re=>({...re,method:U})),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"cash",children:"Cash"}),t.jsx($,{value:"bank_transfer",children:"Bank Transfer"}),t.jsx($,{value:"cheque",children:"Cheque"}),t.jsx($,{value:"digital_wallet",children:"Digital Wallet"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"reference",children:"Reference/Notes (Optional)"}),t.jsx(Z,{id:"reference",placeholder:"Transaction reference or notes",value:m.reference,onChange:U=>h(re=>({...re,reference:U.target.value}))})]})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx(O,{variant:"outline",onClick:()=>u(!1),className:"flex-1",children:"Cancel"}),t.jsx(O,{onClick:j,disabled:p,className:"flex-1",children:p?"Processing...":"Collect Payment"})]})]})]})]}),t.jsxs(O,{variant:"outline",size:"sm",className:"text-xs",children:[t.jsx(Pm,{size:12,className:"mr-1"}),"Print"]}),t.jsxs(O,{variant:"outline",size:"sm",className:"text-xs",children:[t.jsx(bt,{size:12,className:"mr-1"}),"Export"]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{className:"text-xs py-2",children:"Date"}),t.jsx(H,{className:"text-xs py-2",children:"Description"}),t.jsx(H,{className:"text-xs py-2",children:"Order Amount"}),t.jsx(H,{className:"text-xs py-2",children:"Payment Received"}),t.jsx(H,{className:"text-xs py-2",children:"Payment Method"}),t.jsx(H,{className:"text-xs py-2",children:"Outstanding Balance"}),t.jsx(H,{className:"text-xs py-2",children:"Status"}),t.jsx(H,{className:"text-xs py-2",children:"Action"})]})}),t.jsx(At,{children:b.map(U=>t.jsxs(Ie,{className:"border-b hover:bg-muted/50",children:[t.jsx(V,{className:"py-2 text-xs",children:new Date(U.date).toLocaleDateString()}),t.jsx(V,{className:"py-2 text-xs",children:U.description}),t.jsx(V,{className:"py-2 text-xs font-medium text-blue-600",children:(U.order_amount||0)>0?`NPR ${(U.order_amount||0).toLocaleString()}`:"-"}),t.jsx(V,{className:"py-2 text-xs font-medium text-green-600",children:(U.payment||0)>0?`NPR ${(U.payment||0).toLocaleString()}`:"-"}),t.jsx(V,{className:"py-2 text-xs",children:U.transaction_type==="payment"?t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:U.payment_method||"Cash"}),U.payment_reference&&t.jsx("div",{className:"text-muted-foreground text-xs",children:U.payment_reference})]}):"-"}),t.jsx(V,{className:`py-2 text-xs font-medium ${(U.balance||0)>0?"text-orange-600":"text-green-600"}`,children:U.transaction_type==="payment"&&(U.balance||0)===0?"-":`NPR ${(U.balance||0).toLocaleString()}`}),t.jsx(V,{className:"py-2",children:t.jsx(te,{variant:U.status==="Cleared"?"default":"secondary",className:"text-xs",children:U.status})}),t.jsx(V,{className:"py-2",children:U.transaction_type==="order"&&t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsx(O,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:t.jsx(yt,{size:12})})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsx(st,{children:t.jsxs(at,{className:"text-lg",children:["Order Details - ",U.reference_id]})}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 bg-muted/50 rounded-lg text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Order ID:"}),t.jsx("div",{children:U.reference_id})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Date:"}),t.jsx("div",{children:new Date(U.date).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total Amount:"}),t.jsxs("div",{className:"font-bold text-blue-600",children:["NPR ",(U.order_amount||0).toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Status:"}),t.jsx("div",{children:U.status})]})]})})]})]})})]},U.id))})]})}),S>1&&t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing ",(l-1)*f+1," to ",Math.min(l*f,x.length)," of ",x.length," entries"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(O,{variant:"outline",size:"sm",onClick:()=>c(U=>Math.max(U-1,1)),disabled:l===1,className:"h-7 px-2 text-xs",children:"Previous"}),Array.from({length:S},(U,re)=>re+1).map(U=>t.jsx(O,{variant:U===l?"default":"outline",size:"sm",onClick:()=>c(U),className:"h-7 w-7 text-xs",children:U},U)),t.jsx(O,{variant:"outline",size:"sm",onClick:()=>c(U=>Math.min(U+1,S)),disabled:l===S,className:"h-7 px-2 text-xs",children:"Next"})]})]})]})]})]}):t.jsx("div",{className:"text-center text-muted-foreground",children:"Customer not found"})}const S2e=[{id:"P001",prescriptionNumber:"RX-2024-001",customerId:"C001",customerName:"Ram Sharma",customerAge:38,customerGender:"Male",doctorName:"Dr. Sita Rai",doctorLicense:"DL-12345",clinic:"Kathmandu Medical Center",issueDate:"2024-01-15",expiryDate:"2024-02-15",status:"active",urgency:"normal",medications:[{name:"Metformin HCl",strength:"500mg",form:"Tablet",quantity:60,dosage:"1 tablet twice daily",duration:"30 days",instructions:"Take with meals"},{name:"Lisinopril",strength:"10mg",form:"Tablet",quantity:30,dosage:"1 tablet once daily",duration:"30 days",instructions:"Take in the morning"}],diagnosis:"Type 2 Diabetes, Hypertension",notes:"Patient education provided on diabetes management",dispensedBy:"Pharmacist A",dispensedDate:"2024-01-15",branch:"Central Pharmacy",totalAmount:1250,insuranceCovered:750,patientPaid:500},{id:"P002",prescriptionNumber:"RX-2024-002",customerId:"C002",customerName:"Sita Gurung",customerAge:33,customerGender:"Female",doctorName:"Dr. Ram Poudel",doctorLicense:"DL-54321",clinic:"Pokhara General Hospital",issueDate:"2024-01-12",expiryDate:"2024-02-12",status:"completed",urgency:"urgent",medications:[{name:"Salbutamol",strength:"100mcg",form:"Inhaler",quantity:2,dosage:"2 puffs as needed",duration:"As required",instructions:"Use during asthma attacks"},{name:"Prednisolone",strength:"5mg",form:"Tablet",quantity:20,dosage:"1 tablet daily",duration:"10 days",instructions:"Take with food, taper dose"}],diagnosis:"Acute Asthma Exacerbation",notes:"Emergency prescription for asthma management",dispensedBy:"Pharmacist B",dispensedDate:"2024-01-12",branch:"Branch Pharmacy A",totalAmount:980,insuranceCovered:0,patientPaid:980},{id:"P003",prescriptionNumber:"RX-2024-003",customerId:"C003",customerName:"Hari Thapa",customerAge:45,customerGender:"Male",doctorName:"Dr. Maya Singh",doctorLicense:"DL-67890",clinic:"Chitwan Medical College",issueDate:"2024-01-10",expiryDate:"2024-02-10",status:"partially_filled",urgency:"normal",medications:[{name:"Atorvastatin",strength:"20mg",form:"Tablet",quantity:30,dosage:"1 tablet at bedtime",duration:"30 days",instructions:"Take with water"},{name:"Ibuprofen",strength:"400mg",form:"Tablet",quantity:20,dosage:"1 tablet twice daily",duration:"10 days",instructions:"Take with food"}],diagnosis:"Hypercholesterolemia, Arthritis",notes:"Monitor liver function tests",dispensedBy:"Pharmacist C",dispensedDate:"2024-01-10",branch:"Express Pharmacy",totalAmount:1850,insuranceCovered:1110,patientPaid:740}],P2e=["all","active","completed","partially_filled","expired","cancelled"],C2e=["all","normal","urgent","emergency"];function _2e(){const[e]=g.useState(S2e),[r,n]=g.useState(""),[s,a]=g.useState("all"),[i,o]=g.useState("all"),[l,c]=g.useState(null),[d,u]=g.useState(!1),[m,h]=g.useState(!1),[p,y]=g.useState({customerId:"",customerName:"",doctorName:"",doctorLicense:"",clinic:"",diagnosis:"",notes:"",urgency:"normal",medications:[]}),{toast:f}=Tt(),v=e.filter(C=>{const A=C.customerName.toLowerCase().includes(r.toLowerCase())||C.prescriptionNumber.toLowerCase().includes(r.toLowerCase())||C.doctorName.toLowerCase().includes(r.toLowerCase()),M=s==="all"||C.status===s,R=i==="all"||C.urgency===i;return A&&M&&R}),j=C=>{const A={active:"bg-green-100 text-green-800 border-green-200",completed:"bg-blue-100 text-blue-800 border-blue-200",partially_filled:"bg-yellow-100 text-yellow-800 border-yellow-200",expired:"bg-red-100 text-red-800 border-red-200",cancelled:"bg-gray-100 text-gray-800 border-gray-200"};return t.jsx(te,{className:A[C]||A.active,children:C.replace("_"," ")})},x=C=>{const A={normal:"bg-gray-100 text-gray-800 border-gray-200",urgent:"bg-orange-100 text-orange-800 border-orange-200",emergency:"bg-red-100 text-red-800 border-red-200"};return t.jsx(te,{className:A[C]||A.normal,children:C})},b=()=>{if(!p.customerName||!p.doctorName){f({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}f({title:"Success",description:"Prescription added successfully"}),u(!1),y({customerId:"",customerName:"",doctorName:"",doctorLicense:"",clinic:"",diagnosis:"",notes:"",urgency:"normal",medications:[]})},S=C=>{const A=new Date,R=new Date(C).getTime()-A.getTime();return Math.ceil(R/(1e3*3600*24))},w=e.length,N=e.filter(C=>C.status==="active").length,P=e.filter(C=>C.urgency==="urgent"||C.urgency==="emergency").length,_=e.filter(C=>S(C.expiryDate)<=7&&C.status==="active").length;return t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Customer Prescriptions"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage customer prescriptions and medication history"})]}),t.jsxs(rt,{open:d,onOpenChange:u,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{className:"animate-fade-in",children:[t.jsx(zt,{className:"mr-2 h-4 w-4"}),"New Prescription"]})}),t.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Prescription"}),t.jsx(Pt,{children:"Enter prescription details and medications"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"customer",children:"Customer Name *"}),t.jsx(Z,{id:"customer",value:p.customerName,onChange:C=>y({...p,customerName:C.target.value}),placeholder:"Enter customer name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"customerId",children:"Customer ID"}),t.jsx(Z,{id:"customerId",value:p.customerId,onChange:C=>y({...p,customerId:C.target.value}),placeholder:"Customer ID"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"doctor",children:"Doctor Name *"}),t.jsx(Z,{id:"doctor",value:p.doctorName,onChange:C=>y({...p,doctorName:C.target.value}),placeholder:"Dr. Name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"license",children:"Doctor License"}),t.jsx(Z,{id:"license",value:p.doctorLicense,onChange:C=>y({...p,doctorLicense:C.target.value}),placeholder:"DL-XXXXX"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"clinic",children:"Clinic/Hospital"}),t.jsx(Z,{id:"clinic",value:p.clinic,onChange:C=>y({...p,clinic:C.target.value}),placeholder:"Clinic name"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"diagnosis",children:"Diagnosis"}),t.jsx(Vt,{id:"diagnosis",value:p.diagnosis,onChange:C=>y({...p,diagnosis:C.target.value}),placeholder:"Patient diagnosis"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"urgency",children:"Urgency Level"}),t.jsxs(_e,{value:p.urgency,onValueChange:C=>y({...p,urgency:C}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsxs(Ce,{className:"bg-background border z-50",children:[t.jsx($,{value:"normal",children:"Normal"}),t.jsx($,{value:"urgent",children:"Urgent"}),t.jsx($,{value:"emergency",children:"Emergency"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"notes",children:"Additional Notes"}),t.jsx(Vt,{id:"notes",value:p.notes,onChange:C=>y({...p,notes:C.target.value}),placeholder:"Any special instructions or notes"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(O,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),t.jsx(O,{onClick:b,children:"Add Prescription"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Total Prescriptions"}),t.jsx($t,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:w}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"All time prescriptions"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Active Prescriptions"}),t.jsx(mt,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:N}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Urgent Prescriptions"}),t.jsx(rr,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:P}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Need immediate attention"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Expiring Soon"}),t.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:_}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Expiring within 7 days"})]})]})]}),t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Prescription Management"}),t.jsx(Et,{children:"Search and manage customer prescriptions"})]}),t.jsxs(k,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search prescriptions...",value:r,onChange:C=>n(C.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:s,onValueChange:a,children:[t.jsx(Pe,{className:"w-full md:w-40",children:t.jsx(Ae,{placeholder:"Status"})}),t.jsxs(Ce,{className:"bg-background border z-50",children:[t.jsx($,{value:"all",children:"All Status"}),P2e.filter(C=>C!=="all").map(C=>t.jsx($,{value:C,children:C.replace("_"," ")},C))]})]}),t.jsxs(_e,{value:i,onValueChange:o,children:[t.jsx(Pe,{className:"w-full md:w-40",children:t.jsx(Ae,{placeholder:"Urgency"})}),t.jsxs(Ce,{className:"bg-background border z-50",children:[t.jsx($,{value:"all",children:"All Urgency"}),C2e.filter(C=>C!=="all").map(C=>t.jsx($,{value:C,children:C},C))]})]})]}),t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Prescription Details"}),t.jsx(H,{children:"Customer"}),t.jsx(H,{children:"Doctor"}),t.jsx(H,{children:"Medications"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Urgency"}),t.jsx(H,{children:"Expiry"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:v.map(C=>t.jsxs(Ie,{className:"animate-fade-in",children:[t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:C.prescriptionNumber}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsx(Ot,{className:"inline h-3 w-3 mr-1"}),C.issueDate]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:C.branch})]})}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(wo,{className:"w-8 h-8",children:t.jsx(So,{children:C.customerName.split(" ").map(A=>A[0]).join("")})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:C.customerName}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.customerAge,"y, ",C.customerGender]})]})]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:C.doctorName}),t.jsx("div",{className:"text-sm text-muted-foreground",children:C.doctorLicense}),t.jsx("div",{className:"text-sm text-muted-foreground",children:C.clinic})]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium",children:[C.medications.length," medications"]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.medications.slice(0,2).map((A,M)=>t.jsxs("div",{children:[A.name," ",A.strength]},M)),C.medications.length>2&&t.jsxs("div",{className:"text-xs",children:["+",C.medications.length-2," more"]})]})]})}),t.jsx(V,{children:j(C.status)}),t.jsx(V,{children:x(C.urgency)}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm",children:C.expiryDate}),t.jsxs("div",{className:`text-xs ${S(C.expiryDate)<=7?"text-red-600":S(C.expiryDate)<=14?"text-yellow-600":"text-muted-foreground"}`,children:[S(C.expiryDate)," days left"]})]})}),t.jsx(V,{children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(O,{variant:"ghost",size:"sm",onClick:()=>{c(C),h(!0)},children:t.jsx(yt,{className:"h-4 w-4"})}),t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(hn,{className:"h-4 w-4"})}),t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(ss,{className:"h-4 w-4"})})]})})]},C.id))})]})})]})]}),t.jsx(rt,{open:m,onOpenChange:h,children:t.jsxs(nt,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Prescription Details"}),t.jsx(Pt,{children:"Complete prescription information and medication list"})]}),l&&t.jsxs(Or,{defaultValue:"details",className:"w-full",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-3",children:[t.jsx(Oe,{value:"details",children:"Prescription Details"}),t.jsx(Oe,{value:"medications",children:"Medications"}),t.jsx(Oe,{value:"billing",children:"Billing & Insurance"})]}),t.jsxs($e,{value:"details",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{className:"text-lg",children:"Patient Information"})}),t.jsxs(k,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(wo,{className:"w-12 h-12",children:t.jsx(So,{children:l.customerName.split(" ").map(C=>C[0]).join("")})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:l.customerName}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.customerAge," years, ",l.customerGender]})]})]}),t.jsx($a,{}),t.jsxs("div",{children:[t.jsx(I,{children:"Patient ID"}),t.jsx("div",{className:"font-medium",children:l.customerId})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Diagnosis"}),t.jsx("div",{className:"font-medium",children:l.diagnosis})]})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{className:"text-lg",children:"Prescription Information"})}),t.jsxs(k,{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Prescription Number"}),t.jsx("div",{className:"font-medium",children:l.prescriptionNumber})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Issue Date"}),t.jsx("div",{className:"font-medium",children:l.issueDate})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Expiry Date"}),t.jsx("div",{className:"font-medium",children:l.expiryDate})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Status"}),t.jsx("div",{children:j(l.status)})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Urgency"}),t.jsx("div",{children:x(l.urgency)})]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Branch"}),t.jsx("div",{className:"font-medium",children:l.branch})]})]})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{className:"text-lg",children:"Prescriber Information"})}),t.jsx(k,{children:t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Doctor Name"}),t.jsx("div",{className:"font-medium",children:l.doctorName})]}),t.jsxs("div",{children:[t.jsx(I,{children:"License Number"}),t.jsx("div",{className:"font-medium",children:l.doctorLicense})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Clinic/Hospital"}),t.jsx("div",{className:"font-medium",children:l.clinic})]})]})})]}),l.notes&&t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{className:"text-lg",children:"Additional Notes"})}),t.jsx(k,{children:t.jsx("div",{className:"font-medium",children:l.notes})})]})]}),t.jsx($e,{value:"medications",className:"space-y-4",children:t.jsx("div",{className:"space-y-4",children:l.medications.map((C,A)=>t.jsxs(T,{children:[t.jsx(z,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(B,{className:"text-lg flex items-center",children:[t.jsx(Ua,{className:"mr-2 h-5 w-5"}),C.name," ",C.strength]}),t.jsx(te,{variant:"outline",children:C.form})]})}),t.jsxs(k,{children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Quantity"}),t.jsx("div",{className:"font-medium",children:C.quantity})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Dosage"}),t.jsx("div",{className:"font-medium",children:C.dosage})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Duration"}),t.jsx("div",{className:"font-medium",children:C.duration})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Form"}),t.jsx("div",{className:"font-medium",children:C.form})]})]}),C.instructions&&t.jsxs("div",{className:"mt-3",children:[t.jsx(I,{children:"Special Instructions"}),t.jsx("div",{className:"font-medium text-blue-600",children:C.instructions})]})]})]},A))})}),t.jsx($e,{value:"billing",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{className:"text-lg",children:"Billing Summary"})}),t.jsxs(k,{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Total Amount:"}),t.jsxs("span",{className:"font-medium",children:["Rs. ",l.totalAmount]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Insurance Covered:"}),t.jsxs("span",{className:"font-medium text-green-600",children:["Rs. ",l.insuranceCovered]})]}),t.jsx($a,{}),t.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[t.jsx("span",{children:"Patient Paid:"}),t.jsxs("span",{children:["Rs. ",l.patientPaid]})]})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{className:"text-lg",children:"Dispensing Information"})}),t.jsxs(k,{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Dispensed By"}),t.jsx("div",{className:"font-medium",children:l.dispensedBy})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Dispensed Date"}),t.jsx("div",{className:"font-medium",children:l.dispensedDate})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Dispensing Branch"}),t.jsx("div",{className:"font-medium",children:l.branch})]})]})]})]})})]})]})})]})}var k2="Progress",E2=100,[A2e,jPe]=Gn(k2),[T2e,k2e]=A2e(k2),t6=g.forwardRef((e,r)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:i=E2e,...o}=e;(a||a===0)&&!Sk(a)&&console.error(O2e(`${a}`,"Progress"));const l=Sk(a)?a:E2;s!==null&&!Pk(s,l)&&console.error(R2e(`${s}`,"Progress"));const c=Pk(s,l)?s:null,d=Yx(c)?i(c,l):void 0;return t.jsx(T2e,{scope:n,value:c,max:l,children:t.jsx(Je.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Yx(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":s6(c,l),"data-value":c??void 0,"data-max":l,...o,ref:r})})});t6.displayName=k2;var r6="ProgressIndicator",n6=g.forwardRef((e,r)=>{const{__scopeProgress:n,...s}=e,a=k2e(r6,n);return t.jsx(Je.div,{"data-state":s6(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:r})});n6.displayName=r6;function E2e(e,r){return`${Math.round(e/r*100)}%`}function s6(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function Yx(e){return typeof e=="number"}function Sk(e){return Yx(e)&&!isNaN(e)&&e>0}function Pk(e,r){return Yx(e)&&!isNaN(e)&&e<=r&&e>=0}function O2e(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${E2}\`.`}function R2e(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${E2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var a6=t6,D2e=n6;const Da=g.forwardRef(({className:e,value:r,...n},s)=>t.jsx(a6,{ref:s,className:ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:t.jsx(D2e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));Da.displayName=a6.displayName;const M2e=[{id:"C001",customerId:"C001",customerName:"Ram Sharma",email:"ram.sharma@email.com",phone:"+977-9841234567",currentTier:"Gold",totalPoints:2450,usedPoints:200,availablePoints:2250,totalSpent:25e3,joinDate:"2023-01-15",lastActivity:"2024-01-10",tierProgress:75,nextTierRequired:3e3,rewardsEarned:12,rewardsRedeemed:3,avatar:""},{id:"C002",customerId:"C002",customerName:"Sita Gurung",email:"sita.gurung@email.com",phone:"+977-9856789012",currentTier:"Silver",totalPoints:1850,usedPoints:150,availablePoints:1700,totalSpent:18500,joinDate:"2023-03-20",lastActivity:"2024-01-12",tierProgress:62,nextTierRequired:2500,rewardsEarned:8,rewardsRedeemed:2,avatar:""},{id:"C003",customerId:"C003",customerName:"Hari Thapa",email:"hari.thapa@email.com",phone:"+977-9812345678",currentTier:"Platinum",totalPoints:4500,usedPoints:500,availablePoints:4e3,totalSpent:45e3,joinDate:"2022-11-10",lastActivity:"2024-01-08",tierProgress:100,nextTierRequired:5e3,rewardsEarned:25,rewardsRedeemed:8,avatar:""},{id:"C004",customerId:"C004",customerName:"Maya Shrestha",email:"maya.shrestha@email.com",phone:"+977-9823456789",currentTier:"Bronze",totalPoints:1200,usedPoints:50,availablePoints:1150,totalSpent:12e3,joinDate:"2023-06-05",lastActivity:"2024-01-05",tierProgress:48,nextTierRequired:1500,rewardsEarned:5,rewardsRedeemed:1,avatar:""}],I2e=[{id:"R001",name:"10% Discount Voucher",description:"Get 10% off on your next purchase",pointsCost:500,category:"discount",validityDays:30,usageLimit:1,isActive:!0,totalRedeemed:125},{id:"R002",name:"Free Health Checkup",description:"Complimentary basic health checkup",pointsCost:1e3,category:"service",validityDays:60,usageLimit:1,isActive:!0,totalRedeemed:45},{id:"R003",name:"Vitamin Supplement Pack",description:"Free vitamin supplement pack worth Rs. 1500",pointsCost:1500,category:"product",validityDays:90,usageLimit:1,isActive:!0,totalRedeemed:28},{id:"R004",name:"Free Prescription Delivery",description:"Complimentary home delivery for 3 orders",pointsCost:300,category:"service",validityDays:180,usageLimit:3,isActive:!0,totalRedeemed:89}],$2e=[{id:"T001",customerId:"C001",customerName:"Ram Sharma",type:"earned",points:250,description:"Purchase - Invoice #INV-001",date:"2024-01-10",orderAmount:2500},{id:"T002",customerId:"C001",customerName:"Ram Sharma",type:"redeemed",points:-500,description:"10% Discount Voucher",date:"2024-01-08",orderAmount:0},{id:"T003",customerId:"C002",customerName:"Sita Gurung",type:"earned",points:185,description:"Purchase - Invoice #INV-002",date:"2024-01-12",orderAmount:1850}],Ck=["Bronze","Silver","Gold","Platinum"];function L2e(){const[e,r]=g.useState("members"),[n]=g.useState(M2e),[s]=g.useState(I2e),[a]=g.useState($2e),[i,o]=g.useState(""),[l,c]=g.useState("all"),[d,u]=g.useState(null),[m,h]=g.useState(!1),[p,y]=g.useState(!1),{toast:f}=Tt(),v=n.filter(C=>{const A=C.customerName.toLowerCase().includes(i.toLowerCase())||C.email.toLowerCase().includes(i.toLowerCase()),M=l==="all"||C.currentTier===l;return A&&M}),j=C=>{const A={Platinum:"bg-purple-100 text-purple-800 border-purple-200",Gold:"bg-yellow-100 text-yellow-800 border-yellow-200",Silver:"bg-gray-100 text-gray-800 border-gray-200",Bronze:"bg-orange-100 text-orange-800 border-orange-200"};return t.jsx(te,{className:A[C]||A.Bronze,children:C})},x=C=>{switch(C){case"Platinum":return t.jsx(tB,{className:"h-4 w-4 text-purple-600"});case"Gold":return t.jsx(Jo,{className:"h-4 w-4 text-yellow-600"});case"Silver":return t.jsx(On,{className:"h-4 w-4 text-gray-600"});default:return t.jsx(by,{className:"h-4 w-4 text-orange-600"})}},b=C=>{const A={discount:"bg-green-100 text-green-800 border-green-200",service:"bg-blue-100 text-blue-800 border-blue-200",product:"bg-purple-100 text-purple-800 border-purple-200"};return t.jsx(te,{className:A[C]||A.discount,children:C})},S=(C,A)=>{f({title:"Reward Redeemed",description:"Points have been deducted and reward has been issued"})},w=n.length,N=n.reduce((C,A)=>C+A.totalPoints,0),P=n.reduce((C,A)=>C+A.usedPoints,0),_=s.reduce((C,A)=>C+A.totalRedeemed,0);return t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Loyalty Program"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage customer loyalty points and rewards"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(rt,{open:p,onOpenChange:y,children:t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{variant:"outline",children:[t.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Reward"]})})}),t.jsxs(O,{children:[t.jsx(by,{className:"mr-2 h-4 w-4"}),"Program Settings"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Total Members"}),t.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:w}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active loyalty members"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Points Issued"}),t.jsx(On,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:N.toLocaleString()}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total points earned"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Points Redeemed"}),t.jsx(by,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:P.toLocaleString()}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Points used for rewards"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Rewards Redeemed"}),t.jsx(ft,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:_}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total reward redemptions"})]})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(Or,{value:e,onValueChange:r,className:"w-full",children:t.jsxs(Ar,{className:"grid w-full grid-cols-4",children:[t.jsx(Oe,{value:"members",children:"Members"}),t.jsx(Oe,{value:"rewards",children:"Rewards Catalog"}),t.jsx(Oe,{value:"transactions",children:"Transactions"}),t.jsx(Oe,{value:"analytics",children:"Analytics"})]})})}),t.jsxs(k,{children:[t.jsxs($e,{value:"members",className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search members...",value:i,onChange:C=>o(C.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:l,onValueChange:c,children:[t.jsx(Pe,{className:"w-full md:w-40",children:t.jsx(Ae,{placeholder:"Tier"})}),t.jsxs(Ce,{className:"bg-background border z-50",children:[t.jsx($,{value:"all",children:"All Tiers"}),Ck.map(C=>t.jsx($,{value:C,children:C},C))]})]})]}),t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Member"}),t.jsx(H,{children:"Current Tier"}),t.jsx(H,{children:"Points"}),t.jsx(H,{children:"Total Spent"}),t.jsx(H,{children:"Tier Progress"}),t.jsx(H,{children:"Last Activity"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:v.map(C=>t.jsxs(Ie,{className:"animate-fade-in",children:[t.jsx(V,{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(wo,{children:[t.jsx(CN,{src:C.avatar}),t.jsx(So,{children:C.customerName.split(" ").map(A=>A[0]).join("")})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:C.customerName}),t.jsx("div",{className:"text-sm text-muted-foreground",children:C.email})]})]})}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[x(C.currentTier),j(C.currentTier)]})}),t.jsx(V,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:C.availablePoints.toLocaleString()}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.usedPoints," used | ",C.totalPoints," total"]})]})}),t.jsx(V,{children:t.jsxs("div",{className:"font-medium",children:["Rs. ",C.totalSpent.toLocaleString()]})}),t.jsx(V,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{children:[C.tierProgress,"%"]}),t.jsxs("span",{children:["Next: ",C.nextTierRequired]})]}),t.jsx(Da,{value:C.tierProgress,className:"w-full"})]})}),t.jsx(V,{children:C.lastActivity}),t.jsx(V,{children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(O,{variant:"ghost",size:"sm",onClick:()=>{u(C),h(!0)},children:t.jsx(yt,{className:"h-4 w-4"})}),t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(hn,{className:"h-4 w-4"})})]})})]},C.id))})]})})]}),t.jsx($e,{value:"rewards",className:"space-y-4",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(C=>t.jsxs(T,{className:"hover-scale",children:[t.jsxs(z,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(B,{className:"text-lg",children:C.name}),b(C.category)]}),t.jsx(Et,{children:C.description})]}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(On,{className:"h-4 w-4 text-yellow-500"}),t.jsxs("span",{className:"font-bold text-lg",children:[C.pointsCost," points"]})]}),t.jsx(te,{variant:C.isActive?"default":"secondary",children:C.isActive?"Active":"Inactive"})]}),t.jsx($a,{}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Validity:"}),t.jsxs("div",{className:"font-medium",children:[C.validityDays," days"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Usage:"}),t.jsxs("div",{className:"font-medium",children:[C.usageLimit,"x"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Redeemed:"}),t.jsx("div",{className:"font-medium",children:C.totalRedeemed})]})]}),t.jsxs(O,{className:"w-full",variant:"outline",children:[t.jsx(hn,{className:"mr-2 h-4 w-4"}),"Edit Reward"]})]})})]},C.id))})}),t.jsx($e,{value:"transactions",className:"space-y-4",children:t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Customer"}),t.jsx(H,{children:"Type"}),t.jsx(H,{children:"Points"}),t.jsx(H,{children:"Description"}),t.jsx(H,{children:"Date"}),t.jsx(H,{children:"Order Amount"})]})}),t.jsx(At,{children:a.map(C=>t.jsxs(Ie,{className:"animate-fade-in",children:[t.jsxs(V,{children:[t.jsx("div",{className:"font-medium",children:C.customerName}),t.jsx("div",{className:"text-sm text-muted-foreground",children:C.customerId})]}),t.jsx(V,{children:t.jsx(te,{className:C.type==="earned"?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",children:C.type})}),t.jsx(V,{children:t.jsxs("span",{className:`font-bold ${C.type==="earned"?"text-green-600":"text-red-600"}`,children:[C.type==="earned"?"+":"",C.points]})}),t.jsx(V,{children:C.description}),t.jsx(V,{children:C.date}),t.jsx(V,{children:C.orderAmount>0?`Rs. ${C.orderAmount.toLocaleString()}`:"-"})]},C.id))})]})})}),t.jsx($e,{value:"analytics",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Tier Distribution"}),t.jsx(Et,{children:"Member distribution across loyalty tiers"})]}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:Ck.map(C=>{const A=n.filter(R=>R.currentTier===C).length,M=A/w*100;return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[x(C),t.jsx("span",{className:"font-medium",children:C})]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[A," members (",M.toFixed(1),"%)"]})]}),t.jsx(Da,{value:M,className:"w-full"})]},C)})})})]}),t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Points Analytics"}),t.jsx(Et,{children:"Point earning and redemption overview"})]}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.toLocaleString()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Points Issued"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:P.toLocaleString()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Points Redeemed"})]})]}),t.jsx($a,{}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[t.jsx("span",{children:"Redemption Rate"}),t.jsxs("span",{children:[(P/N*100).toFixed(1),"%"]})]}),t.jsx(Da,{value:P/N*100,className:"w-full"})]})]})})]})]})})]})]}),t.jsx(rt,{open:m,onOpenChange:h,children:t.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Loyalty Member Details"}),t.jsx(Pt,{children:"Complete loyalty program information"})]}),d&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-start space-x-6",children:[t.jsxs(wo,{className:"w-20 h-20",children:[t.jsx(CN,{src:d.avatar}),t.jsx(So,{className:"text-xl",children:d.customerName.split(" ").map(C=>C[0]).join("")})]}),t.jsx("div",{className:"flex-1 space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{children:"Member Name"}),t.jsx("div",{className:"text-lg font-medium",children:d.customerName})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Current Tier"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[x(d.currentTier),j(d.currentTier)]})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Available Points"}),t.jsx("div",{className:"text-lg font-medium text-green-600",children:d.availablePoints.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx(I,{children:"Total Earned"}),t.jsx("div",{className:"text-lg font-medium",children:d.totalPoints.toLocaleString()})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{className:"text-lg",children:"Tier Progress"})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{children:["Progress to ",d.currentTier==="Platinum"?"Platinum Max":"Next Tier"]}),t.jsxs("span",{children:[d.tierProgress,"%"]})]}),t.jsx(Da,{value:d.tierProgress,className:"w-full"}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.nextTierRequired-d.totalPoints," more points needed"]})]})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{className:"text-lg",children:"Rewards Summary"})}),t.jsx(k,{children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:d.rewardsEarned}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Rewards Earned"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:d.rewardsRedeemed}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Rewards Used"})]})]})})]})]}),t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{className:"text-lg",children:"Available Rewards"}),t.jsx(Et,{children:"Rewards this member can redeem"})]}),t.jsx(k,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.filter(C=>C.pointsCost<=d.availablePoints&&C.isActive).map(C=>t.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium",children:C.name}),b(C.category)]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:C.description}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(On,{className:"h-4 w-4 text-yellow-500"}),t.jsxs("span",{className:"font-medium",children:[C.pointsCost," points"]})]}),t.jsx(O,{size:"sm",onClick:()=>S(d.id,C.id),children:"Redeem"})]})]},C.id))})})]})]})]})})]})}const F2e={light:"",dark:".dark"},i6=g.createContext(null);function o6(){const e=g.useContext(i6);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const xs=g.forwardRef(({id:e,className:r,children:n,config:s,...a},i)=>{const o=g.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return t.jsx(i6.Provider,{value:{config:s},children:t.jsxs("div",{"data-chart":l,ref:i,className:ke("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",r),...a,children:[t.jsx(z2e,{id:l,config:s}),t.jsx(ur,{children:n})]})})});xs.displayName="Chart";const z2e=({id:e,config:r})=>{const n=Object.entries(r).filter(([s,a])=>a.theme||a.color);return n.length?t.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(F2e).map(([s,a])=>`
${a} [data-chart=${e}] {
${n.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[s])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Zn=Br,gs=g.forwardRef(({active:e,payload:r,className:n,indicator:s="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:d,color:u,nameKey:m,labelKey:h},p)=>{const{config:y}=o6(),f=g.useMemo(()=>{var w;if(a||!(r!=null&&r.length))return null;const[j]=r,x=`${h||j.dataKey||j.name||"value"}`,b=AN(y,j,x),S=!h&&typeof o=="string"?((w=y[o])==null?void 0:w.label)||o:b==null?void 0:b.label;return l?t.jsx("div",{className:ke("font-medium",c),children:l(S,r)}):S?t.jsx("div",{className:ke("font-medium",c),children:S}):null},[o,l,r,a,c,y,h]);if(!e||!(r!=null&&r.length))return null;const v=r.length===1&&s!=="dot";return t.jsxs("div",{ref:p,className:ke("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[v?null:f,t.jsx("div",{className:"grid gap-1.5",children:r.map((j,x)=>{const b=`${m||j.name||j.dataKey||"value"}`,S=AN(y,j,b),w=u||j.payload.fill||j.color;return t.jsx("div",{className:ke("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",s==="dot"&&"items-center"),children:d&&(j==null?void 0:j.value)!==void 0&&j.name?d(j.value,j.name,j,x,j.payload):t.jsxs(t.Fragment,{children:[S!=null&&S.icon?t.jsx(S.icon,{}):!i&&t.jsx("div",{className:ke("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":s==="dot","w-1":s==="line","w-0 border-[1.5px] border-dashed bg-transparent":s==="dashed","my-0.5":v&&s==="dashed"}),style:{"--color-bg":w,"--color-border":w}}),t.jsxs("div",{className:ke("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[t.jsxs("div",{className:"grid gap-1.5",children:[v?f:null,t.jsx("span",{className:"text-muted-foreground",children:(S==null?void 0:S.label)||j.name})]}),j.value&&t.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:j.value.toLocaleString()})]})]})},j.dataKey)})})]})});gs.displayName="ChartTooltip";const _N=qa,Qx=g.forwardRef(({className:e,hideIcon:r=!1,payload:n,verticalAlign:s="bottom",nameKey:a},i)=>{const{config:o}=o6();return n!=null&&n.length?t.jsx("div",{ref:i,className:ke("flex items-center justify-center gap-4",s==="top"?"pb-3":"pt-3",e),children:n.map(l=>{const c=`${a||l.dataKey||"value"}`,d=AN(o,l,c);return t.jsxs("div",{className:ke("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!r?t.jsx(d.icon,{}):t.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),d==null?void 0:d.label]},l.value)})}):null});Qx.displayName="ChartLegend";function AN(e,r,n){if(typeof r!="object"||r===null)return;const s="payload"in r&&typeof r.payload=="object"&&r.payload!==null?r.payload:void 0;let a=n;return n in r&&typeof r[n]=="string"?a=r[n]:s&&n in s&&typeof s[n]=="string"&&(a=s[n]),a in e?e[a]:e[n]}const _k=[{month:"Jan",revenue:124500,orders:456,profit:36800,customers:234},{month:"Feb",revenue:132e3,orders:523,profit:42100,customers:267},{month:"Mar",revenue:118e3,orders:478,profit:35400,customers:245},{month:"Apr",revenue:145e3,orders:567,profit:47300,customers:298},{month:"May",revenue:152e3,orders:634,profit:51200,customers:321},{month:"Jun",revenue:139e3,orders:589,profit:44700,customers:289}],B2e=[{day:"Mon",sales:18500,orders:45},{day:"Tue",sales:22300,orders:52},{day:"Wed",sales:25100,orders:61},{day:"Thu",sales:21800,orders:48},{day:"Fri",sales:28900,orders:73},{day:"Sat",sales:31200,orders:78},{day:"Sun",sales:15600,orders:38}],Ak=[{name:"Prescription Drugs",value:45,color:"#1f77b4"},{name:"OTC Medicines",value:25,color:"#ff7f0e"},{name:"Health Products",value:15,color:"#2ca02c"},{name:"Personal Care",value:10,color:"#d62728"},{name:"Equipment",value:5,color:"#9467bd"}],U2e=[{name:"Ibuprofen 400mg",revenue:12450,units:340,growth:"+12%"},{name:"Vitamin D3",revenue:8900,units:210,growth:"+8%"},{name:"Amoxicillin 500mg",revenue:7650,units:132,growth:"+15%"},{name:"Blood Pressure Monitor",revenue:6420,units:89,growth:"+5%"},{name:"Insulin Pen",revenue:5280,units:67,growth:"+18%"}],V2e=[{label:"Total Revenue",value:"$152,000",change:"+15.2%",trend:"up",icon:ht},{label:"Total Orders",value:"634",change:"+8.7%",trend:"up",icon:Fn},{label:"Avg Order Value",value:"$239.75",change:"+6.1%",trend:"up",icon:di},{label:"New Customers",value:"89",change:"+22%",trend:"up",icon:it}],yj={revenue:{label:"Revenue",color:"hsl(var(--primary))"},orders:{label:"Orders",color:"hsl(var(--warning))"},profit:{label:"Profit",color:"hsl(var(--success))"}};function q2e(){const e=Vs();return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(O,{variant:"ghost",onClick:()=>e("/reports"),children:[t.jsx(Ao,{size:16,className:"mr-2"}),"Back to Reports"]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Sales Analytics"}),t.jsx("p",{className:"text-muted-foreground",children:"Revenue tracking and sales performance insights"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{variant:"outline",children:[t.jsx(ba,{size:16,className:"mr-2"}),"Filter"]}),t.jsxs(O,{variant:"outline",children:[t.jsx(Ot,{size:16,className:"mr-2"}),"Date Range"]}),t.jsxs(O,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Report"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:V2e.map(r=>t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:r.label}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.value}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(ft,{size:10,className:"mr-1"}),r.change," from last month"]})]}),t.jsx(r.icon,{className:"text-primary",size:24})]})})},r.label))}),t.jsxs(Or,{defaultValue:"overview",className:"space-y-6",children:[t.jsxs(Ar,{className:"bg-panel",children:[t.jsx(Oe,{value:"overview",children:"Overview"}),t.jsx(Oe,{value:"trends",children:"Trends"}),t.jsx(Oe,{value:"products",children:"Products"}),t.jsx(Oe,{value:"performance",children:"Performance"})]}),t.jsx($e,{value:"overview",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Monthly Revenue Trend"})}),t.jsx(k,{children:t.jsx(xs,{config:yj,className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(fa,{data:_k,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(gs,{})}),t.jsx(vr,{dataKey:"revenue",fill:"var(--color-revenue)"})]})})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Sales by Category"})}),t.jsx(k,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(ou,{children:[t.jsx(ls,{data:Ak,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:r,percent:n})=>`${r}: ${(n*100).toFixed(0)}%`,children:Ak.map((r,n)=>t.jsx(Ii,{fill:r.color},`cell-${n}`))}),t.jsx(Zn,{})]})})})})]})]})}),t.jsx($e,{value:"trends",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Weekly Sales Trend"})}),t.jsx(k,{children:t.jsx(xs,{config:yj,className:"h-[400px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs($l,{data:B2e,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"day"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(gs,{})}),t.jsx(Vn,{type:"monotone",dataKey:"sales",stroke:"var(--color-revenue)",strokeWidth:2})]})})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Revenue vs Profit Analysis"})}),t.jsx(k,{children:t.jsx(xs,{config:yj,className:"h-[400px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(fa,{data:_k,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(gs,{})}),t.jsx(_N,{content:t.jsx(Qx,{})}),t.jsx(vr,{dataKey:"revenue",fill:"var(--color-revenue)"}),t.jsx(vr,{dataKey:"profit",fill:"var(--color-profit)"})]})})})})]})]})}),t.jsx($e,{value:"products",className:"space-y-6",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Top Selling Products"})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:U2e.map((r,n)=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-panel rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold text-sm",children:n+1}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-panel-foreground",children:r.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.units," units sold"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-bold text-lg text-panel-foreground",children:["$",r.revenue.toLocaleString()]}),t.jsx(te,{variant:"secondary",className:"text-success",children:r.growth})]})]},r.name))})})]})}),t.jsx($e,{value:"performance",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Performance Indicators"})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Sales Target Achievement"}),t.jsx("span",{className:"font-medium text-success",children:"112%"})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"100%"}})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Customer Retention Rate"}),t.jsx("span",{className:"font-medium text-primary",children:"87%"})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:"87%"}})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Deal Size Growth"}),t.jsx("span",{className:"font-medium text-warning",children:"65%"})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-warning h-2 rounded-full",style:{width:"65%"}})})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Sales Team Performance"})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:[{name:"Sarah Johnson",sales:45600,target:4e4,percentage:114},{name:"Mike Chen",sales:38900,target:35e3,percentage:111},{name:"Emily Davis",sales:42300,target:45e3,percentage:94},{name:"James Wilson",sales:33800,target:3e4,percentage:113}].map(r=>t.jsxs("div",{className:"p-3 bg-panel rounded-lg",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"font-medium text-panel-foreground",children:r.name}),t.jsxs(te,{variant:r.percentage>=100?"default":"secondary",children:[r.percentage,"%"]})]}),t.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mb-1",children:[t.jsxs("span",{children:["$",r.sales.toLocaleString()]}),t.jsxs("span",{children:["Target: $",r.target.toLocaleString()]})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full ${r.percentage>=100?"bg-success":"bg-warning"}`,style:{width:`${Math.min(r.percentage,100)}%`}})})]},r.name))})})]})]})})]})]})}const jj=[{month:"Jan",stockValue:145e3,turnover:4.2,incoming:25e3,outgoing:32e3},{month:"Feb",stockValue:152e3,turnover:3.8,incoming:28e3,outgoing:35e3},{month:"Mar",stockValue:138e3,turnover:4.5,incoming:22e3,outgoing:38e3},{month:"Apr",stockValue:165e3,turnover:3.9,incoming:31e3,outgoing:29e3},{month:"May",stockValue:158e3,turnover:4.1,incoming:27e3,outgoing:33e3},{month:"Jun",stockValue:172e3,turnover:4.3,incoming:35e3,outgoing:36e3}],W2e=[{month:"Jul",expiring:12,expired:3,value:8500},{month:"Aug",expiring:18,expired:5,value:12300},{month:"Sep",expiring:25,expired:8,value:15600},{month:"Oct",expiring:22,expired:6,value:13900},{month:"Nov",expiring:15,expired:4,value:9800},{month:"Dec",expiring:28,expired:9,value:18200}],H2e=[{name:"Ibuprofen 400mg",current:45,minimum:100,status:"critical",category:"Pain Relief"},{name:"Vitamin B12",current:78,minimum:150,status:"low",category:"Vitamins"},{name:"Insulin Pens",current:12,minimum:50,status:"critical",category:"Diabetes"},{name:"Blood Test Strips",current:89,minimum:200,status:"low",category:"Testing"},{name:"Thermometer Digital",current:8,minimum:25,status:"critical",category:"Equipment"}],K2e=[{name:"Paracetamol 500mg",movement:450,trend:"+12%",value:15600},{name:"Vitamin D3",movement:380,trend:"+8%",value:12400},{name:"Amoxicillin",movement:220,trend:"+15%",value:18900},{name:"Face Masks",movement:680,trend:"+25%",value:8900},{name:"Hand Sanitizer",movement:520,trend:"+18%",value:11200}],G2e=[{label:"Total Stock Value",value:"$172,000",change:"+8.9%",trend:"up",icon:ht},{label:"Inventory Turnover",value:"4.3x",change:"+0.2",trend:"up",icon:Ul},{label:"Low Stock Items",value:"23",change:"-3",trend:"down",icon:rr},{label:"Expiring Soon",value:"28",change:"+5",trend:"up",icon:Ut}],If={stockValue:{label:"Stock Value",color:"hsl(var(--primary))"},turnover:{label:"Turnover",color:"hsl(var(--success))"},incoming:{label:"Incoming",color:"hsl(var(--warning))"},outgoing:{label:"Outgoing",color:"hsl(var(--destructive))"}};function Tk(){const e=Vs(),r=s=>{switch(s){case"critical":return"text-destructive";case"low":return"text-warning";default:return"text-success"}},n=s=>{switch(s){case"critical":return"destructive";case"low":return"secondary";default:return"default"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(O,{variant:"ghost",onClick:()=>e("/reports"),children:[t.jsx(Ao,{size:16,className:"mr-2"}),"Back to Reports"]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Inventory Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Stock management and movement analysis"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{variant:"outline",children:[t.jsx(ba,{size:16,className:"mr-2"}),"Filter"]}),t.jsxs(O,{variant:"outline",children:[t.jsx(Ot,{size:16,className:"mr-2"}),"Date Range"]}),t.jsxs(O,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Report"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:G2e.map(s=>t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:s.label}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.value}),t.jsxs("p",{className:`text-xs flex items-center mt-1 ${s.trend==="up"?"text-success":"text-destructive"}`,children:[s.trend==="up"?t.jsx(ft,{size:10,className:"mr-1"}):t.jsx(wi,{size:10,className:"mr-1"}),s.change," from last month"]})]}),t.jsx(s.icon,{className:"text-primary",size:24})]})})},s.label))}),t.jsxs(Or,{defaultValue:"overview",className:"space-y-6",children:[t.jsxs(Ar,{className:"bg-panel",children:[t.jsx(Oe,{value:"overview",children:"Overview"}),t.jsx(Oe,{value:"movement",children:"Movement"}),t.jsx(Oe,{value:"expiry",children:"Expiry Tracking"}),t.jsx(Oe,{value:"alerts",children:"Stock Alerts"})]}),t.jsx($e,{value:"overview",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Stock Value Trend"})}),t.jsx(k,{children:t.jsx(xs,{config:If,className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs($l,{data:jj,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(gs,{})}),t.jsx(Vn,{type:"monotone",dataKey:"stockValue",stroke:"var(--color-stockValue)",strokeWidth:2})]})})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Inventory Turnover Rate"})}),t.jsx(k,{children:t.jsx(xs,{config:If,className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(fa,{data:jj,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(gs,{})}),t.jsx(vr,{dataKey:"turnover",fill:"var(--color-turnover)"})]})})})})]})]})}),t.jsx($e,{value:"movement",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Stock Movement Analysis"})}),t.jsx(k,{children:t.jsx(xs,{config:If,className:"h-[400px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(fa,{data:jj,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(gs,{})}),t.jsx(vr,{dataKey:"incoming",fill:"var(--color-incoming)"}),t.jsx(vr,{dataKey:"outgoing",fill:"var(--color-outgoing)"})]})})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Fast Moving Items"})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:K2e.map((s,a)=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-panel rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold text-sm",children:a+1}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-panel-foreground",children:s.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.movement," units moved"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-bold text-lg text-panel-foreground",children:["$",s.value.toLocaleString()]}),t.jsx(te,{variant:"secondary",className:"text-success",children:s.trend})]})]},s.name))})})]})]})}),t.jsx($e,{value:"expiry",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Expiry Tracking Analysis"})}),t.jsx(k,{children:t.jsx(xs,{config:If,className:"h-[400px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(fa,{data:W2e,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(gs,{})}),t.jsx(vr,{dataKey:"expiring",fill:"hsl(var(--warning))"}),t.jsx(vr,{dataKey:"expired",fill:"hsl(var(--destructive))"})]})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ut,{className:"mx-auto text-warning mb-2",size:32}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"28"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiring This Month"}),t.jsx("p",{className:"text-xs text-warning mt-1",children:"Value: $18,200"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(bi,{className:"mx-auto text-destructive mb-2",size:32}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"9"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Already Expired"}),t.jsx("p",{className:"text-xs text-destructive mt-1",children:"Loss: $3,400"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(wi,{className:"mx-auto text-success mb-2",size:32}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"2.1%"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Waste Reduction"}),t.jsx("p",{className:"text-xs text-success mt-1",children:"vs Last Month"})]})})})]})]})}),t.jsxs($e,{value:"alerts",className:"space-y-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(rr,{className:"mr-2 text-warning",size:20}),"Low Stock Alerts"]})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:H2e.map(s=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-panel rounded-lg border-l-4 border-destructive",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(rr,{className:r(s.status),size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-panel-foreground",children:s.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:s.category})]})]}),t.jsxs("div",{className:"text-right space-x-4 flex items-center",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current: ",s.current]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Minimum: ",s.minimum]})]}),t.jsx(te,{variant:n(s.status),children:s.status}),t.jsx(O,{variant:"outline",size:"sm",children:"Reorder"})]})]},s.name))})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Reorder Recommendations"})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:[{name:"Ibuprofen 400mg",supplier:"MedSupply Co",leadTime:"3-5 days",suggestedQty:500,cost:1250},{name:"Insulin Pens",supplier:"DiabetesCare",leadTime:"7-10 days",suggestedQty:100,cost:2800},{name:"Thermometer Digital",supplier:"HealthTech",leadTime:"2-3 days",suggestedQty:50,cost:890}].map(s=>t.jsx("div",{className:"p-4 bg-success/10 rounded-lg border border-success/20",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-foreground",children:s.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Supplier: ",s.supplier]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Lead Time: ",s.leadTime]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium text-foreground",children:["Qty: ",s.suggestedQty]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Cost: $",s.cost]}),t.jsx(O,{variant:"outline",size:"sm",className:"mt-2",children:"Create PO"})]})]})},s.name))})})]})]})]})]})}const $f=[{month:"Jan",revenue:124500,expenses:87200,profit:37300,cashFlow:25600},{month:"Feb",revenue:132e3,expenses:89800,profit:42200,cashFlow:31400},{month:"Mar",revenue:118e3,expenses:92100,profit:25900,cashFlow:18200},{month:"Apr",revenue:145e3,expenses:94500,profit:50500,cashFlow:42800},{month:"May",revenue:152e3,expenses:97200,profit:54800,cashFlow:48600},{month:"Jun",revenue:139e3,expenses:89300,profit:49700,cashFlow:38900}],bj=[{category:"Inventory Purchase",value:45,amount:43740,color:"#1f77b4"},{category:"Staff Salaries",value:25,amount:24325,color:"#ff7f0e"},{category:"Rent & Utilities",value:15,amount:14595,color:"#2ca02c"},{category:"Equipment & Maintenance",value:8,amount:7786,color:"#d62728"},{category:"Marketing & Admin",value:7,amount:6811,color:"#9467bd"}],X2e=[{week:"Week 1",inflow:35600,outflow:28900,net:6700},{week:"Week 2",inflow:42300,outflow:31200,net:11100},{week:"Week 3",inflow:38900,outflow:29800,net:9100},{week:"Week 4",inflow:44200,outflow:33100,net:11100}],Y2e=[{category:"Prescription Drugs",margin:32.5,revenue:68400},{category:"OTC Medicines",margin:28.8,revenue:34200},{category:"Health Products",margin:42.1,revenue:18900},{category:"Personal Care",margin:35.6,revenue:12800},{category:"Equipment",margin:18.2,revenue:8700}],Q2e=[{label:"Total Revenue",value:"$152,000",change:"+9.2%",trend:"up",icon:ht},{label:"Net Profit",value:"$54,800",change:"+8.4%",trend:"up",icon:ft},{label:"Profit Margin",value:"36.1%",change:"+1.2%",trend:"up",icon:di},{label:"Cash Flow",value:"$48,600",change:"+25%",trend:"up",icon:z4}],Iu={revenue:{label:"Revenue",color:"hsl(var(--primary))"},expenses:{label:"Expenses",color:"hsl(var(--destructive))"},profit:{label:"Profit",color:"hsl(var(--success))"},cashFlow:{label:"Cash Flow",color:"hsl(var(--warning))"}};function Z2e(){const e=Vs();return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(O,{variant:"ghost",onClick:()=>e("/reports"),children:[t.jsx(Ao,{size:16,className:"mr-2"}),"Back to Reports"]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Financial Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Revenue, expenses, and financial health analysis"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{variant:"outline",children:[t.jsx(ba,{size:16,className:"mr-2"}),"Filter"]}),t.jsxs(O,{variant:"outline",children:[t.jsx(Ot,{size:16,className:"mr-2"}),"Date Range"]}),t.jsxs(O,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Report"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:Q2e.map(r=>t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:r.label}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.value}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(ft,{size:10,className:"mr-1"}),r.change," from last month"]})]}),t.jsx(r.icon,{className:"text-primary",size:24})]})})},r.label))}),t.jsxs(Or,{defaultValue:"overview",className:"space-y-6",children:[t.jsxs(Ar,{className:"bg-panel",children:[t.jsx(Oe,{value:"overview",children:"Overview"}),t.jsx(Oe,{value:"profitability",children:"Profitability"}),t.jsx(Oe,{value:"expenses",children:"Expenses"}),t.jsx(Oe,{value:"cashflow",children:"Cash Flow"})]}),t.jsxs($e,{value:"overview",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Revenue vs Expenses"})}),t.jsx(k,{children:t.jsx(xs,{config:Iu,className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(fa,{data:$f,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(gs,{})}),t.jsx(_N,{content:t.jsx(Qx,{})}),t.jsx(vr,{dataKey:"revenue",fill:"var(--color-revenue)"}),t.jsx(vr,{dataKey:"expenses",fill:"var(--color-expenses)"})]})})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Profit Trend"})}),t.jsx(k,{children:t.jsx(xs,{config:Iu,className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs($l,{data:$f,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(gs,{})}),t.jsx(Vn,{type:"monotone",dataKey:"profit",stroke:"var(--color-profit)",strokeWidth:3})]})})})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(T,{className:"bg-success/10 border border-success/20",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ft,{className:"mx-auto text-success mb-2",size:32}),t.jsx("p",{className:"text-2xl font-bold text-success",children:"36.1%"}),t.jsx("p",{className:"text-sm text-success",children:"Profit Margin"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Above industry average"})]})})}),t.jsx(T,{className:"bg-primary/10 border border-primary/20",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ht,{className:"mx-auto text-primary mb-2",size:32}),t.jsx("p",{className:"text-2xl font-bold text-primary",children:"$312,000"}),t.jsx("p",{className:"text-sm text-primary",children:"YTD Revenue"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"+12% vs last year"})]})})}),t.jsx(T,{className:"bg-warning/10 border border-warning/20",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Op,{className:"mx-auto text-warning mb-2",size:32}),t.jsx("p",{className:"text-2xl font-bold text-warning",children:"2.8x"}),t.jsx("p",{className:"text-sm text-warning",children:"ROI"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Return on Investment"})]})})})]})]}),t.jsxs($e,{value:"profitability",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Profit Margins by Category"})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:Y2e.map(r=>t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-medium text-foreground",children:r.category}),t.jsxs("div",{className:"text-right",children:[t.jsxs("span",{className:"font-bold text-foreground",children:[r.margin,"%"]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",r.revenue.toLocaleString()]})]})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${r.margin}%`}})})]},r.category))})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Monthly Profitability"})}),t.jsx(k,{children:t.jsx(xs,{config:Iu,className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs($l,{data:$f,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(gs,{})}),t.jsx(Vn,{type:"monotone",dataKey:"profit",stroke:"var(--color-profit)",strokeWidth:3,dot:{fill:"var(--color-profit)",strokeWidth:2,r:4}})]})})})})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Profitability Analysis"})}),t.jsx(k,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Key Insights"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-success/10 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-success",children:"Strong Performance"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Health Products showing highest margins at 42.1%"})]}),t.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-primary",children:"Growth Opportunity"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Equipment category has room for margin improvement"})]}),t.jsxs("div",{className:"p-3 bg-warning/10 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-warning",children:"Monitor Closely"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep expenses under control to maintain margins"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Recommendations"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-panel rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-panel-foreground",children:"Focus on Health Products"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Expand high-margin health product lines"})]}),t.jsxs("div",{className:"p-3 bg-panel rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-panel-foreground",children:"Optimize Equipment Sales"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Review pricing strategy for equipment category"})]}),t.jsxs("div",{className:"p-3 bg-panel rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-panel-foreground",children:"Cost Management"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Regular review of operational expenses"})]})]})]})]})})]})]}),t.jsxs($e,{value:"expenses",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Expense Breakdown"})}),t.jsx(k,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(ou,{children:[t.jsx(ls,{data:bj,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:r,percent:n})=>`${r}: ${(n*100).toFixed(0)}%`,children:bj.map((r,n)=>t.jsx(Ii,{fill:r.color},`cell-${n}`))}),t.jsx(Zn,{})]})})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Expense Details"})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:bj.map(r=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:r.color}}),t.jsx("span",{className:"font-medium text-panel-foreground",children:r.category})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-bold text-panel-foreground",children:["$",r.amount.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.value,"%"]})]})]},r.category))})})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Monthly Expense Trends"})}),t.jsx(k,{children:t.jsx(xs,{config:Iu,className:"h-[400px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(fa,{data:$f,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(gs,{})}),t.jsx(vr,{dataKey:"expenses",fill:"var(--color-expenses)"})]})})})})]})]}),t.jsx($e,{value:"cashflow",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Weekly Cash Flow"})}),t.jsx(k,{children:t.jsx(xs,{config:Iu,className:"h-[400px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(fa,{data:X2e,children:[t.jsx(Yr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"week"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(gs,{})}),t.jsx(_N,{content:t.jsx(Qx,{})}),t.jsx(vr,{dataKey:"inflow",fill:"var(--color-profit)"}),t.jsx(vr,{dataKey:"outflow",fill:"var(--color-expenses)"})]})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ft,{className:"mx-auto text-success mb-2",size:24}),t.jsx("p",{className:"text-xl font-bold text-foreground",children:"$161,000"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Inflow"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(wi,{className:"mx-auto text-destructive mb-2",size:24}),t.jsx("p",{className:"text-xl font-bold text-foreground",children:"$123,000"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Outflow"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(z4,{className:"mx-auto text-primary mb-2",size:24}),t.jsx("p",{className:"text-xl font-bold text-foreground",children:"$38,000"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Cash Flow"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Wn,{className:"mx-auto text-warning mb-2",size:24}),t.jsx("p",{className:"text-xl font-bold text-foreground",children:"$85,000"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Cash Balance"})]})})})]})]})})]})]})}const J2e=[{label:"Overall Compliance",value:"94.2%",status:"good",icon:Ss},{label:"Active Violations",value:"3",status:"warning",icon:rr},{label:"Upcoming Audits",value:"2",status:"info",icon:Ot},{label:"License Renewals",value:"1",status:"warning",icon:$t}],eSe=[{date:"2024-05-15",type:"DEA Inspection",status:"Passed",score:96,inspector:"John Smith",findings:2},{date:"2024-03-22",type:"State Board Review",status:"Passed",score:94,inspector:"Sarah Johnson",findings:3},{date:"2024-01-18",type:"Internal Audit",status:"Passed",score:98,inspector:"Internal Team",findings:1},{date:"2023-11-10",type:"FDA Inspection",status:"Passed",score:92,inspector:"Michael Brown",findings:4},{date:"2023-09-05",type:"Insurance Audit",status:"Passed",score:97,inspector:"Lisa Wilson",findings:2}],tSe=[{id:"V001",type:"Documentation",description:"Missing prescription logs for controlled substances",severity:"Medium",date:"2024-06-10",status:"In Progress"},{id:"V002",type:"Storage",description:"Temperature logging gap in refrigerated section",severity:"Low",date:"2024-06-08",status:"Resolved"},{id:"V003",type:"Staff Training",description:"Annual HIPAA training overdue for 2 staff members",severity:"Medium",date:"2024-06-05",status:"Open"}],rSe=[{name:"Pharmacy License",number:"PH-2024-001",expiry:"2024-12-31",status:"Active",authority:"State Board"},{name:"DEA Registration",number:"DEA-123456",expiry:"2024-09-15",status:"Expiring Soon",authority:"DEA"},{name:"Controlled Substance License",number:"CS-789",expiry:"2025-03-20",status:"Active",authority:"State"},{name:"Medicare Provider",number:"MP-456789",expiry:"2025-01-10",status:"Active",authority:"CMS"}],nSe=[{employee:"Dr. Sarah Chen",course:"HIPAA Compliance",completion:"2024-05-20",expiry:"2025-05-20",status:"Current"},{employee:"Mike Johnson",course:"Controlled Substances",completion:"2024-04-15",expiry:"2025-04-15",status:"Current"},{employee:"Lisa Williams",course:"FDA Regulations",completion:"2024-02-10",expiry:"2025-02-10",status:"Current"},{employee:"John Davis",course:"HIPAA Compliance",completion:"2023-06-01",expiry:"2024-06-01",status:"Overdue"},{employee:"Emily Brown",course:"Safety Protocols",completion:"2024-03-25",expiry:"2025-03-25",status:"Current"}];function sSe(){const e=Vs(),r=s=>{switch(s.toLowerCase()){case"passed":case"active":case"current":return"text-success";case"warning":case"expiring soon":case"overdue":return"text-warning";case"failed":case"expired":return"text-destructive";default:return"text-muted-foreground"}},n=s=>{switch(s.toLowerCase()){case"passed":case"active":case"current":case"resolved":return"default";case"warning":case"expiring soon":case"overdue":case"in progress":return"secondary";case"failed":case"expired":case"open":return"destructive";default:return"outline"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(O,{variant:"ghost",onClick:()=>e("/reports"),children:[t.jsx(Ao,{size:16,className:"mr-2"}),"Back to Reports"]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Compliance Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Regulatory compliance and audit documentation"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{variant:"outline",children:[t.jsx(ba,{size:16,className:"mr-2"}),"Filter"]}),t.jsxs(O,{variant:"outline",children:[t.jsx(Ot,{size:16,className:"mr-2"}),"Schedule Audit"]}),t.jsxs(O,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Report"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:J2e.map(s=>t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:s.label}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.value}),t.jsx("p",{className:`text-xs mt-1 ${r(s.status)}`,children:s.status==="good"?"Excellent compliance":s.status==="warning"?"Needs attention":"Monitor closely"})]}),t.jsx(s.icon,{className:"text-primary",size:24})]})})},s.label))}),t.jsxs(Or,{defaultValue:"overview",className:"space-y-6",children:[t.jsxs(Ar,{className:"bg-panel",children:[t.jsx(Oe,{value:"overview",children:"Overview"}),t.jsx(Oe,{value:"audits",children:"Audit History"}),t.jsx(Oe,{value:"violations",children:"Violations"}),t.jsx(Oe,{value:"licenses",children:"Licenses"}),t.jsx(Oe,{value:"training",children:"Training"})]}),t.jsxs($e,{value:"overview",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Compliance Status Overview"})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"DEA Compliance"}),t.jsx("span",{className:"font-medium text-success",children:"97%"})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"97%"}})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"FDA Regulations"}),t.jsx("span",{className:"font-medium text-success",children:"94%"})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"94%"}})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"HIPAA Compliance"}),t.jsx("span",{className:"font-medium text-warning",children:"89%"})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-warning h-2 rounded-full",style:{width:"89%"}})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"State Regulations"}),t.jsx("span",{className:"font-medium text-success",children:"96%"})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"96%"}})})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Recent Compliance Activity"})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-success/10 rounded-lg",children:[t.jsx(mt,{className:"text-success mt-1",size:16}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"DEA Inspection Completed"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Passed with 96% compliance score"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"2 days ago"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-warning/10 rounded-lg",children:[t.jsx(Ut,{className:"text-warning mt-1",size:16}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"License Renewal Due"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"DEA Registration expires in 3 months"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"1 week ago"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-primary/10 rounded-lg",children:[t.jsx(it,{className:"text-primary mt-1",size:16}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Staff Training Updated"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"3 employees completed HIPAA training"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"3 days ago"})]})]})]})})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Upcoming Compliance Requirements"})}),t.jsx(k,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 bg-warning/10 rounded-lg border border-warning/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(Ot,{className:"text-warning",size:20}),t.jsx(te,{variant:"secondary",children:"30 days"})]}),t.jsx("h4",{className:"font-medium text-foreground",children:"Annual DEA Inventory"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete controlled substance inventory count"})]}),t.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg border border-primary/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(it,{className:"text-primary",size:20}),t.jsx(te,{variant:"secondary",children:"45 days"})]}),t.jsx("h4",{className:"font-medium text-foreground",children:"Staff Training Review"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Annual compliance training assessment"})]}),t.jsxs("div",{className:"p-4 bg-destructive/10 rounded-lg border border-destructive/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx($t,{className:"text-destructive",size:20}),t.jsx(te,{variant:"destructive",children:"15 days"})]}),t.jsx("h4",{className:"font-medium text-foreground",children:"License Renewal"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"DEA registration renewal application"})]})]})})]})]}),t.jsx($e,{value:"audits",className:"space-y-6",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Audit History"})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Date"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Type"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Inspector"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Score"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Findings"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Action"})]})}),t.jsx("tbody",{children:eSe.map((s,a)=>t.jsxs("tr",{className:"border-b border-border hover:bg-panel transition-colors",children:[t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.date}),t.jsx("td",{className:"py-3 px-4 font-medium text-foreground",children:s.type}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.inspector}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsxs("span",{className:"font-medium text-foreground",children:[s.score,"%"]}),t.jsx("div",{className:"ml-2 w-16 bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:`${s.score}%`}})})]})}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.findings}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(te,{variant:n(s.status),children:s.status})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs(O,{variant:"ghost",size:"sm",children:[t.jsx(yt,{size:14,className:"mr-1"}),"View"]})})]},a))})]})})})]})}),t.jsx($e,{value:"violations",className:"space-y-6",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(rr,{className:"mr-2 text-warning",size:20}),"Compliance Violations"]})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:tSe.map(s=>t.jsx("div",{className:"p-4 bg-panel rounded-lg border-l-4 border-warning",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsxs("span",{className:"font-medium text-panel-foreground",children:["#",s.id]}),t.jsx(te,{variant:"outline",children:s.type}),t.jsx(te,{variant:s.severity==="High"?"destructive":s.severity==="Medium"?"secondary":"default",children:s.severity})]}),t.jsx("p",{className:"text-sm text-panel-foreground mb-2",children:s.description}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Reported: ",s.date]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(te,{variant:n(s.status),children:s.status}),t.jsxs(O,{variant:"outline",size:"sm",children:[t.jsx(yt,{size:14,className:"mr-1"}),"Details"]})]})]})},s.id))})})]})}),t.jsx($e,{value:"licenses",className:"space-y-6",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"License Management"})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"License Name"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Number"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Authority"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Expiry Date"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Action"})]})}),t.jsx("tbody",{children:rSe.map((s,a)=>t.jsxs("tr",{className:"border-b border-border hover:bg-panel transition-colors",children:[t.jsx("td",{className:"py-3 px-4 font-medium text-foreground",children:s.name}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.number}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.authority}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.expiry}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(te,{variant:n(s.status),children:s.status})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(O,{variant:"outline",size:"sm",children:s.status==="Expiring Soon"?"Renew":"View"})})]},a))})]})})})]})}),t.jsx($e,{value:"training",className:"space-y-6",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Staff Training Records"})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Employee"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Course"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Completion Date"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Expiry Date"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Action"})]})}),t.jsx("tbody",{children:nSe.map((s,a)=>t.jsxs("tr",{className:"border-b border-border hover:bg-panel transition-colors",children:[t.jsx("td",{className:"py-3 px-4 font-medium text-foreground",children:s.employee}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.course}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.completion}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.expiry}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(te,{variant:n(s.status),children:s.status})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(O,{variant:"outline",size:"sm",children:s.status==="Overdue"?"Schedule":"View Certificate"})})]},a))})]})})})]})})]})]})}var Vv="Checkbox",[aSe,bPe]=Gn(Vv),[iSe,O2]=aSe(Vv);function oSe(e){const{__scopeCheckbox:r,checked:n,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:m}=e,[h,p]=xa({prop:n,defaultProp:a??!1,onChange:c,caller:Vv}),[y,f]=g.useState(null),[v,j]=g.useState(null),x=g.useRef(!1),b=y?!!o||!!y.closest("form"):!0,S={checked:h,disabled:i,setChecked:p,control:y,setControl:f,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:vo(a)?!1:a,isFormControl:b,bubbleInput:v,setBubbleInput:j};return t.jsx(iSe,{scope:r,...S,children:lSe(m)?m(S):s})}var l6="CheckboxTrigger",c6=g.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:n,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:m,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:y}=O2(l6,e),f=Rt(a,u),v=g.useRef(c);return g.useEffect(()=>{const j=i==null?void 0:i.form;if(j){const x=()=>m(v.current);return j.addEventListener("reset",x),()=>j.removeEventListener("reset",x)}},[i,m]),t.jsx(Je.button,{type:"button",role:"checkbox","aria-checked":vo(c)?"mixed":c,"aria-required":d,"data-state":f6(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:f,onKeyDown:Ye(r,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Ye(n,j=>{m(x=>vo(x)?!0:!x),y&&p&&(h.current=j.isPropagationStopped(),h.current||j.stopPropagation())})})});c6.displayName=l6;var R2=g.forwardRef((e,r)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...m}=e;return t.jsx(oSe,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:h})=>t.jsxs(t.Fragment,{children:[t.jsx(c6,{...m,ref:r,__scopeCheckbox:n}),h&&t.jsx(h6,{__scopeCheckbox:n})]})})});R2.displayName=Vv;var d6="CheckboxIndicator",u6=g.forwardRef((e,r)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,i=O2(d6,n);return t.jsx(Xn,{present:s||vo(i.checked)||i.checked===!0,children:t.jsx(Je.span,{"data-state":f6(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:r,style:{pointerEvents:"none",...e.style}})})});u6.displayName=d6;var m6="CheckboxBubbleInput",h6=g.forwardRef(({__scopeCheckbox:e,...r},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:m,bubbleInput:h,setBubbleInput:p}=O2(m6,e),y=Rt(n,p),f=f1(i),v=Ww(s);g.useEffect(()=>{const x=h;if(!x)return;const b=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(b,"checked").set,N=!a.current;if(f!==i&&w){const P=new Event("click",{bubbles:N});x.indeterminate=vo(i),w.call(x,vo(i)?!1:i),x.dispatchEvent(P)}},[h,f,i,a]);const j=g.useRef(vo(i)?!1:i);return t.jsx(Je.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:l,disabled:c,name:d,value:u,form:m,...r,tabIndex:-1,ref:y,style:{...r.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});h6.displayName=m6;function lSe(e){return typeof e=="function"}function vo(e){return e==="indeterminate"}function f6(e){return vo(e)?"indeterminate":e?"checked":"unchecked"}const p6=g.forwardRef(({className:e,...r},n)=>t.jsx(R2,{ref:n,className:ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:t.jsx(u6,{className:ke("flex items-center justify-center text-current"),children:t.jsx(R4,{className:"h-4 w-4"})})}));p6.displayName=R2.displayName;const cSe=[{id:1,name:"Monthly Sales Summary",description:"Comprehensive sales performance analysis",category:"Sales",fields:["Revenue","Orders","Products","Customers"],chartType:"Bar Chart",lastUsed:"2024-06-10"},{id:2,name:"Inventory Turnover Analysis",description:"Stock movement and turnover rates",category:"Inventory",fields:["Stock Value","Turnover Rate","Fast Movers","Slow Movers"],chartType:"Line Chart",lastUsed:"2024-06-08"},{id:3,name:"Expense Breakdown Report",description:"Detailed expense categorization and trends",category:"Financial",fields:["Total Expenses","Categories","Trends","Budgets"],chartType:"Pie Chart",lastUsed:"2024-06-05"}],kk={Sales:["Revenue","Orders","Order Value","Customers","Products Sold","Profit Margin","Sales Rep"],Inventory:["Stock Value","Quantity","Turnover Rate","Reorder Point","Supplier","Category","Location"],Financial:["Revenue","Expenses","Profit","Cash Flow","Budget","Variance","ROI"],Compliance:["Audit Score","Violations","License Status","Training Records","Inspection Date"],Customer:["Customer Name","Purchase History","Loyalty Points","Contact Info","Preferences"]},Ek=[{value:"bar",label:"Bar Chart",icon:ir},{value:"line",label:"Line Chart",icon:Zz},{value:"pie",label:"Pie Chart",icon:ci},{value:"table",label:"Table",icon:yB}];function dSe(){var h,p;const e=Vs(),[r,n]=g.useState("Sales"),[s,a]=g.useState([]),[i,o]=g.useState(""),[l,c]=g.useState(""),[d,u]=g.useState("bar"),m=y=>{a(f=>f.includes(y)?f.filter(v=>v!==y):[...f,y])};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(O,{variant:"ghost",onClick:()=>e("/reports"),children:[t.jsx(Ao,{size:16,className:"mr-2"}),"Back to Reports"]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Custom Report Builder"}),t.jsx("p",{className:"text-muted-foreground",children:"Create and manage custom reports with advanced analytics"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{variant:"outline",children:[t.jsx(Ni,{size:16,className:"mr-2"}),"Save Template"]}),t.jsxs(O,{variant:"outline",children:[t.jsx(b0,{size:16,className:"mr-2"}),"Share"]}),t.jsxs(O,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(xB,{size:16,className:"mr-2"}),"Generate Report"]})]})]}),t.jsxs(Or,{defaultValue:"builder",className:"space-y-6",children:[t.jsxs(Ar,{className:"bg-panel",children:[t.jsx(Oe,{value:"builder",children:"Report Builder"}),t.jsx(Oe,{value:"templates",children:"Saved Templates"}),t.jsx(Oe,{value:"scheduled",children:"Scheduled Reports"})]}),t.jsx($e,{value:"builder",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Report Information"})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"reportName",children:"Report Name"}),t.jsx(Z,{id:"reportName",placeholder:"Enter report name",value:i,onChange:y=>o(y.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"reportDescription",children:"Description"}),t.jsx(Vt,{id:"reportDescription",placeholder:"Describe your report",value:l,onChange:y=>c(y.target.value)})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"category",children:"Data Category"}),t.jsxs(_e,{value:r,onValueChange:n,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select category"})}),t.jsx(Ce,{children:Object.keys(kk).map(y=>t.jsx($,{value:y,children:y},y))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"chartType",children:"Chart Type"}),t.jsxs(_e,{value:d,onValueChange:u,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select chart type"})}),t.jsx(Ce,{children:Ek.map(y=>t.jsx($,{value:y.value,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(y.icon,{size:16,className:"mr-2"}),y.label]})},y.value))})]})]})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(z,{children:[t.jsx(B,{className:"text-card-foreground",children:"Data Fields"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Select the fields to include in your report"})]}),t.jsx(k,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(h=kk[r])==null?void 0:h.map(y=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(p6,{id:y,checked:s.includes(y),onCheckedChange:()=>m(y)}),t.jsx(I,{htmlFor:y,className:"text-sm font-medium",children:y})]},y))})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Filters & Parameters"})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"dateFrom",children:"Date From"}),t.jsx(Z,{type:"date",id:"dateFrom"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"dateTo",children:"Date To"}),t.jsx(Z,{type:"date",id:"dateTo"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"additionalFilters",children:"Additional Filters"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Add filter"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"category",children:"Product Category"}),t.jsx($,{value:"supplier",children:"Supplier"}),t.jsx($,{value:"location",children:"Location"}),t.jsx($,{value:"employee",children:"Employee"})]})]})]})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Report Preview"})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-panel rounded-lg",children:[t.jsx("h4",{className:"font-medium text-panel-foreground mb-2",children:i||"Untitled Report"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:l||"No description"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Category:"}),t.jsx("span",{className:"text-panel-foreground",children:r})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Chart Type:"}),t.jsx("span",{className:"text-panel-foreground",children:(p=Ek.find(y=>y.value===d))==null?void 0:p.label})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Fields:"}),t.jsx("span",{className:"text-panel-foreground",children:s.length})]})]})]}),s.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Selected Fields:"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:s.map(y=>t.jsx(te,{variant:"secondary",className:"text-xs",children:y},y))})]})]})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Quick Actions"})}),t.jsxs(k,{className:"space-y-3",children:[t.jsxs(O,{variant:"outline",className:"w-full",children:[t.jsx(Ot,{size:16,className:"mr-2"}),"Schedule Report"]}),t.jsxs(O,{variant:"outline",className:"w-full",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Template"]}),t.jsxs(O,{variant:"outline",className:"w-full",children:[t.jsx(ba,{size:16,className:"mr-2"}),"Advanced Filters"]})]})]})]})]})}),t.jsxs($e,{value:"templates",className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Saved Report Templates"}),t.jsxs(O,{variant:"outline",children:[t.jsx(zt,{size:16,className:"mr-2"}),"New Template"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:cSe.map(y=>t.jsxs(T,{className:"bg-card border border-border hover:shadow-lg transition-all duration-200",children:[t.jsx(z,{children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx(B,{className:"text-card-foreground text-lg",children:y.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})]}),t.jsx(te,{variant:"secondary",children:y.category})]})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Fields:"}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[y.fields.slice(0,3).map(f=>t.jsx(te,{variant:"outline",className:"text-xs",children:f},f)),y.fields.length>3&&t.jsxs(te,{variant:"outline",className:"text-xs",children:["+",y.fields.length-3," more"]})]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Chart:"}),t.jsx("span",{className:"text-foreground",children:y.chartType})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Last used:"}),t.jsx("span",{className:"text-foreground",children:y.lastUsed})]}),t.jsxs("div",{className:"flex space-x-2 pt-2",children:[t.jsx(O,{variant:"outline",size:"sm",className:"flex-1",children:"Edit"}),t.jsx(O,{size:"sm",className:"flex-1",children:"Use Template"})]})]})})]},y.id))})]}),t.jsxs($e,{value:"scheduled",className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Scheduled Reports"}),t.jsxs(O,{variant:"outline",children:[t.jsx(zt,{size:16,className:"mr-2"}),"Schedule New Report"]})]}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Report Name"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Frequency"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Next Run"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Recipients"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Actions"})]})}),t.jsx("tbody",{children:[{name:"Weekly Sales Summary",frequency:"Weekly",nextRun:"2024-06-17",recipients:3,status:"Active"},{name:"Monthly Inventory Report",frequency:"Monthly",nextRun:"2024-07-01",recipients:2,status:"Active"},{name:"Quarterly Financial Analysis",frequency:"Quarterly",nextRun:"2024-09-01",recipients:5,status:"Paused"}].map((y,f)=>t.jsxs("tr",{className:"border-b border-border hover:bg-panel transition-colors",children:[t.jsx("td",{className:"py-3 px-4 font-medium text-foreground",children:y.name}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:y.frequency}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:y.nextRun}),t.jsxs("td",{className:"py-3 px-4 text-foreground",children:[y.recipients," people"]}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(te,{variant:y.status==="Active"?"default":"secondary",children:y.status})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(O,{variant:"ghost",size:"sm",children:"Edit"}),t.jsx(O,{variant:"ghost",size:"sm",children:y.status==="Active"?"Pause":"Resume"})]})})]},f))})]})})})})]})]})]})}function uSe(){var m,h,p,y,f,v,j;const{toast:e}=Tt(),[r,n]=g.useState([]),[s,a]=g.useState(null),[i,o]=g.useState(!0),[l,c]=g.useState(!0);g.useEffect(()=>{u(),d()},[]);const d=async()=>{try{c(!0);const x=await un.getDashboardStats();x.success&&x.data&&a(x.data)}catch(x){console.error("Failed to fetch dashboard stats:",x),a({total_organizations:r.length,active_organizations:r.filter(b=>b.status==="active").length,total_users:0,active_users:0,monthly_revenue:0,active_subscriptions:r.filter(b=>b.subscription_plan!=="trial").length,subscription_distribution:{trial:0,basic:0,professional:0,enterprise:0}})}finally{c(!1)}},u=async()=>{try{o(!0);const x=await un.getOrganizations();x.success&&x.data?n(x.data):(n([]),console.warn("API returned success but no data:",x))}catch(x){console.error("Failed to fetch organizations:",x),e({title:"Connection Error",description:"Failed to load organizations from server. Please check your connection.",variant:"destructive"}),n([])}finally{o(!1)}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ss,{className:"w-8 h-8 text-warning"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Super Admin Dashboard"}),t.jsx("p",{className:"text-muted-foreground",children:"System-wide control and organization management"})]})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(O,{onClick:()=>{u(),d()},variant:"outline",className:"gap-2",disabled:i||l,children:[t.jsx(Ul,{className:`w-4 h-4 ${i||l?"animate-spin":""}`}),"Refresh"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(T,{className:"border-warning/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4"}),"Total Organizations"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:l?"...":(s==null?void 0:s.total_organizations)||r.length}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",l?"...":(s==null?void 0:s.monthly_growth)||0," this month",s!=null&&s.growth_percentage?` (${s.growth_percentage>0?"+":""}${s.growth_percentage}%)`:""]})]})]}),t.jsxs(T,{className:"border-primary/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),"Total Users"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:l?"...":(s==null?void 0:s.total_users)||0}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[l?"...":`${(s==null?void 0:s.active_users)||0} active`," across all organizations"]})]})]}),t.jsxs(T,{className:"border-success/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ht,{className:"w-4 h-4"}),"Monthly Revenue"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:l?"...":`${((s==null?void 0:s.monthly_revenue)||0).toLocaleString("en-IN")}`}),t.jsx("p",{className:"text-xs text-muted-foreground",children:l?"...":`${s!=null&&s.growth_percentage?"+":""}${(s==null?void 0:s.growth_percentage)||0}% growth`})]})]}),t.jsxs(T,{className:"border-accent/20",children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(vt,{className:"w-4 h-4"}),"Active Subscriptions"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:l?"...":(s==null?void 0:s.active_subscriptions)||0}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Paying customers"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Subscription Distribution"})}),t.jsx(k,{className:"space-y-4",children:l?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(Zt,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading subscription data..."})]}):[{tier:"Enterprise",count:((m=s==null?void 0:s.subscription_distribution)==null?void 0:m.enterprise)||0,revenue:(((h=s==null?void 0:s.subscription_distribution)==null?void 0:h.enterprise)||0)*5e4,color:"destructive"},{tier:"Professional",count:((p=s==null?void 0:s.subscription_distribution)==null?void 0:p.professional)||0,revenue:(((y=s==null?void 0:s.subscription_distribution)==null?void 0:y.professional)||0)*15e3,color:"default"},{tier:"Basic",count:((f=s==null?void 0:s.subscription_distribution)==null?void 0:f.basic)||0,revenue:(((v=s==null?void 0:s.subscription_distribution)==null?void 0:v.basic)||0)*5e3,color:"outline"},{tier:"Trial",count:((j=s==null?void 0:s.subscription_distribution)==null?void 0:j.trial)||0,revenue:0,color:"secondary"}].map(x=>t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(te,{variant:x.color,children:x.tier}),t.jsxs("span",{className:"font-medium",children:[x.count," organizations"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-medium",children:["",(x.revenue/1e5).toFixed(1),"L"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"per month"})]})]},x.tier))})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"System Health Monitoring"})}),t.jsx(k,{className:"space-y-4",children:[{metric:"Database Performance",value:"98.5%",status:"excellent"},{metric:"API Response Time",value:"145ms",status:"good"},{metric:"Active Connections",value:"1,247",status:"normal"},{metric:"Error Rate",value:"0.02%",status:"excellent"},{metric:"Storage Usage",value:"67%",status:"normal"}].map((x,b)=>t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsx("span",{className:"font-medium",children:x.metric}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:x.value}),t.jsx(te,{variant:x.status==="excellent"?"default":x.status==="good"?"secondary":"outline",children:x.status})]})]},b))})]})]})]})}const mSe="modulepreload",hSe=function(e){return"/"+e},Ok={},fSe=function(r,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=hSe(c),c in Ok)return;Ok[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":mSe,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((h,p)=>{m.addEventListener("load",h),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})},pSe=Bl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),x6=g.forwardRef(({className:e,variant:r,...n},s)=>t.jsx("div",{ref:s,role:"alert",className:ke(pSe({variant:r}),e),...n}));x6.displayName="Alert";const xSe=g.forwardRef(({className:e,...r},n)=>t.jsx("h5",{ref:n,className:ke("mb-1 font-medium leading-none tracking-tight",e),...r}));xSe.displayName="AlertTitle";const g6=g.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:ke("text-sm [&_p]:leading-relaxed",e),...r}));g6.displayName="AlertDescription";function gSe(){const{toast:e}=Tt(),[r,n]=g.useState([]),[s,a]=g.useState([]),[i,o]=g.useState([]),[l,c]=g.useState(!1),[d,u]=g.useState("organizations"),[m,h]=g.useState(!1);g.useState(null);const[p,y]=g.useState({}),[f,v]=g.useState({name:"",type:"retail_pharmacy",address:"",city:"Kathmandu",state:"Bagmati",postal_code:"44600",country:"Nepal",phone:"+977-1-234567",email:"",website:"",license_number:"",license_expiry:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],tax_id:"",registration_number:"",currency:"NPR",tax_rate:"13.00",timezone:"Asia/Kathmandu",language:"en",subscription_plan:"basic",subscription_status:"active",subscription_expiry:"",logo:void 0});g.useEffect(()=>{j(),x(),b()},[]);const j=async()=>{try{c(!0);const P=await un.getOrganizations();P.success&&P.data&&n(P.data)}catch{e({title:"Error",description:"Failed to load organizations",variant:"destructive"})}finally{c(!1)}},x=async()=>{try{const P=await un.getBranches();console.log("DEBUG: Branch API Response:",P),P.success&&P.data?a(P.data):Array.isArray(P)?a(P):(console.warn("Unexpected branch API response format:",P),a([]))}catch(P){console.error("Failed to load branches:",P),a([])}},b=async()=>{try{const P=await Mr.getUsers();console.log("DEBUG: Users API Response:",P),P.success&&P.data?o(P.data):Array.isArray(P)?o(P):(console.warn("Unexpected users API response format:",P),o([]))}catch(P){console.error("Failed to load users:",P),o([])}},S=async()=>{var P;try{if(c(!0),y({}),!f.name||!f.email||!f.address||!f.license_number||!f.license_expiry||!f.city||!f.state||!f.postal_code||!f.phone||!f.subscription_plan){e({title:"Validation Error",description:"Please fill in all required organization fields marked with *",variant:"destructive"});return}const _={name:f.name.trim(),type:f.type,address:f.address.trim(),city:f.city.trim(),state:f.state.trim(),postal_code:f.postal_code.trim(),country:f.country.trim(),phone:f.phone.trim(),email:f.email.replace(/,+$/,"").trim(),license_number:f.license_number.trim(),license_expiry:f.license_expiry,currency:f.currency,tax_rate:parseFloat(f.tax_rate)||13,timezone:f.timezone,language:f.language,subscription_plan:f.subscription_plan,subscription_status:f.subscription_status,subscription_expiry:f.subscription_expiry||null};f.website.trim()&&(_.website=f.website.trim()),f.tax_id.trim()&&(_.tax_id=f.tax_id.trim()),f.registration_number.trim()&&(_.registration_number=f.registration_number.trim());let C;if(f.logo){const A=new FormData;Object.entries(_).forEach(([F,G])=>{G!=null&&A.append(F,G.toString())}),A.append("logo",f.logo);const M=(await fSe(async()=>{const{default:F}=await Promise.resolve().then(()=>SK);return{default:F}},void 0)).default,R=localStorage.getItem("access_token"),E=await M.post("https://drpharmas.com/backend/backend/organizations/",A,{headers:{"Content-Type":"multipart/form-data",...R&&{Authorization:`Bearer ${R}`}}});E.data&&E.data.organization?C={success:!0,data:E.data.organization,message:E.data.message||"Organization created successfully"}:C={success:!0,data:E.data,message:"Organization created successfully"}}else C=await un.createOrganization(_);C.success?(e({title:"Success",description:"Organization created successfully"}),h(!1),w(),j(),b()):e({title:"Error",description:C.error||"Failed to create organization",variant:"destructive"})}catch(_){const C=(P=_.response)==null?void 0:P.data;y(C||{}),e({title:"Error",description:(C==null?void 0:C.error)||JSON.stringify(C)||"Failed to create organization",variant:"destructive"})}finally{c(!1)}},w=()=>{v({name:"",type:"retail_pharmacy",address:"",city:"Kathmandu",state:"Bagmati",postal_code:"44600",country:"Nepal",phone:"+977-1-234567",email:"",website:"",license_number:"",license_expiry:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],tax_id:"",registration_number:"",currency:"NPR",tax_rate:"13.00",timezone:"Asia/Kathmandu",language:"en",subscription_plan:"basic",subscription_status:"active",subscription_expiry:"",logo:void 0}),y({})},N=P=>{const _={active:{variant:"default",icon:mt,color:"text-green-600"},inactive:{variant:"secondary",icon:ga,color:"text-gray-600"},suspended:{variant:"destructive",icon:ga,color:"text-red-600"},pending:{variant:"outline",icon:Zt,color:"text-yellow-600"}},C=_[P]||_.pending,A=C.icon;return t.jsxs(te,{variant:C.variant,className:"flex items-center gap-1",children:[t.jsx(A,{className:"w-3 h-3"}),P.charAt(0).toUpperCase()+P.slice(1)]})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Organization Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage pharmacy organizations and their branches"})]}),t.jsxs(rt,{open:m,onOpenChange:h,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{children:[t.jsx(zt,{className:"w-4 h-4 mr-2"}),"Create Organization"]})}),t.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Create New Organization"}),t.jsx(Pt,{children:"Create a new pharmacy organization."})]}),Object.keys(p).length>0&&t.jsx(x6,{variant:"destructive",children:t.jsxs(g6,{children:["Please correct the following errors:",t.jsx("ul",{className:"list-disc pl-5",children:Object.entries(p).map(([P,_])=>t.jsxs("li",{children:[P,": ",Array.isArray(_)?_.join(", "):_]},P))})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"org-name",children:"Organization Name *"}),t.jsx(Z,{id:"org-name",value:f.name,onChange:P=>v({...f,name:P.target.value}),placeholder:"Enter organization name",className:"border",required:!0}),p.name&&t.jsx("span",{className:"text-red-500 text-sm",children:p.name[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"org-email",children:"Email *"}),t.jsx(Z,{id:"org-email",type:"email",value:f.email,onChange:P=>v({...f,email:P.target.value}),placeholder:"organization@example.com",className:"border",required:!0}),p.email&&t.jsx("span",{className:"text-red-500 text-sm",children:p.email[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"org-license",children:"License Number *"}),t.jsx(Z,{id:"org-license",value:f.license_number,onChange:P=>v({...f,license_number:P.target.value}),placeholder:"PH-2024-001234",className:"border",required:!0}),p.license_number&&t.jsx("span",{className:"text-red-500 text-sm",children:p.license_number[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"org-license-expiry",children:"License Expiry *"}),t.jsx(Z,{id:"org-license-expiry",type:"date",value:f.license_expiry,onChange:P=>v({...f,license_expiry:P.target.value}),className:"border",required:!0}),p.license_expiry&&t.jsx("span",{className:"text-red-500 text-sm",children:p.license_expiry[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"org-city",children:"City *"}),t.jsx(Z,{id:"org-city",value:f.city,onChange:P=>v({...f,city:P.target.value}),placeholder:"Kathmandu",className:"border",required:!0}),p.city&&t.jsx("span",{className:"text-red-500 text-sm",children:p.city[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"org-state",children:"State *"}),t.jsx(Z,{id:"org-state",value:f.state,onChange:P=>v({...f,state:P.target.value}),placeholder:"Bagmati",className:"border",required:!0}),p.state&&t.jsx("span",{className:"text-red-500 text-sm",children:p.state[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"org-postal-code",children:"Postal Code *"}),t.jsx(Z,{id:"org-postal-code",value:f.postal_code,onChange:P=>v({...f,postal_code:P.target.value}),placeholder:"44600",className:"border",required:!0}),p.postal_code&&t.jsx("span",{className:"text-red-500 text-sm",children:p.postal_code[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"org-phone",children:"Phone *"}),t.jsx(Z,{id:"org-phone",value:f.phone,onChange:P=>v({...f,phone:P.target.value}),placeholder:"+977-1-234567",className:"border",required:!0}),p.phone&&t.jsx("span",{className:"text-red-500 text-sm",children:p.phone[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"org-subscription-plan",children:"Subscription Plan *"}),t.jsxs(_e,{value:f.subscription_plan,onValueChange:P=>v({...f,subscription_plan:P}),children:[t.jsx(Pe,{className:"border",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"trial",children:"Trial (Free)"}),t.jsx($,{value:"basic",children:"Basic"}),t.jsx($,{value:"professional",children:"Professional"}),t.jsx($,{value:"enterprise",children:"Enterprise"})]})]}),p.subscription_plan&&t.jsx("span",{className:"text-red-500 text-sm",children:p.subscription_plan[0]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"org-address",children:"Address *"}),t.jsx(Vt,{id:"org-address",value:f.address,onChange:P=>v({...f,address:P.target.value}),placeholder:"Enter full address",rows:2,className:"border",required:!0}),p.address&&t.jsx("span",{className:"text-red-500 text-sm",children:p.address[0]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(O,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),t.jsxs(O,{onClick:S,disabled:l,children:[l&&t.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Organization"]})]})]})]})]}),t.jsxs(Or,{value:d,onValueChange:u,children:[t.jsxs(Ar,{children:[t.jsx(Oe,{value:"organizations",children:"Organizations"}),t.jsx(Oe,{value:"branches",children:"Branches"}),t.jsx(Oe,{value:"users",children:"Users"})]}),t.jsx($e,{value:"organizations",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(qr,{className:"w-5 h-5"}),"Organizations (",r.length,")"]}),t.jsx(Et,{children:"Manage pharmacy organizations and their details"})]}),t.jsx(k,{children:l?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(Zt,{className:"w-8 h-8 animate-spin"})}):t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{className:"w-16",children:"S.No"}),t.jsx(H,{children:"ID"}),t.jsx(H,{children:"Logo"}),t.jsx(H,{children:"Name"}),t.jsx(H,{children:"Type"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Owner"}),t.jsx(H,{children:"Branches"}),t.jsx(H,{children:"Users"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:r.map((P,_)=>t.jsxs(Ie,{children:[t.jsx(V,{className:"font-medium",children:_+1}),t.jsx(V,{className:"font-mono text-sm",children:P.id}),t.jsx(V,{children:t.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:P.logo?t.jsx("img",{src:P.logo,alt:`${P.name} logo`,className:"w-full h-full object-cover",onError:C=>{const A=C.target;A.style.display="none";const M=A.parentElement;M&&(M.innerHTML='<div class="w-full h-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-lg">'+P.name.charAt(0).toUpperCase()+"</div>")}}):t.jsx("div",{className:"w-full h-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-lg",children:P.name.charAt(0).toUpperCase()})})}),t.jsx(V,{className:"font-medium",children:t.jsx("button",{onClick:()=>{window.location.href=`/admin/organizations/${P.id}`},className:"text-blue-600 hover:text-blue-800 hover:underline text-left",children:P.name})}),t.jsx(V,{children:P.type.replace("_"," ")}),t.jsx(V,{children:N(P.status)}),t.jsx(V,{children:P.owner_name||"Not assigned"}),t.jsx(V,{children:P.total_branches||0}),t.jsx(V,{children:P.total_users||0}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(O,{variant:"ghost",size:"sm",onClick:()=>{window.location.href=`/admin/organizations/${P.id}`},children:t.jsx(yt,{className:"w-4 h-4"})}),t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(hn,{className:"w-4 h-4"})}),t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(ss,{className:"w-4 h-4"})})]})})]},P.id))})]})})]})}),t.jsx($e,{value:"branches",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(Ma,{className:"w-5 h-5"}),"Branches (",s.length,")"]}),t.jsx(Et,{children:"Manage organization branches and locations"})]}),t.jsx(k,{children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Name"}),t.jsx(H,{children:"Code"}),t.jsx(H,{children:"Organization"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Manager"}),t.jsx(H,{children:"Users"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:s.map(P=>t.jsxs(Ie,{children:[t.jsx(V,{className:"font-medium",children:P.name}),t.jsx(V,{children:P.code}),t.jsx(V,{children:P.organization_name}),t.jsx(V,{children:N(P.status)}),t.jsx(V,{children:P.manager_name||"Not assigned"}),t.jsx(V,{children:P.total_users||0}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(yt,{className:"w-4 h-4"})}),t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(hn,{className:"w-4 h-4"})}),t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(ss,{className:"w-4 h-4"})})]})})]},P.id))})]})})]})}),t.jsx($e,{value:"users",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(it,{className:"w-5 h-5"}),"Users (",i.length,")"]}),t.jsx(Et,{children:"Manage user accounts and permissions"})]}),t.jsx(k,{children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Name"}),t.jsx(H,{children:"Email"}),t.jsx(H,{children:"Role"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Organization"}),t.jsx(H,{children:"Branch"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:i.map(P=>t.jsxs(Ie,{children:[t.jsxs(V,{className:"font-medium",children:[P.first_name," ",P.last_name]}),t.jsx(V,{children:P.email}),t.jsx(V,{children:P.role.replace("_"," ")}),t.jsx(V,{children:N(P.status)}),t.jsx(V,{children:P.organization_name||"N/A"}),t.jsx(V,{children:P.branch_name||"N/A"}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(yt,{className:"w-4 h-4"})}),t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(hn,{className:"w-4 h-4"})}),t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(ss,{className:"w-4 h-4"})})]})})]},P.id))})]})})]})})]})]})}function vSe(){return t.jsx("div",{className:"container mx-auto py-6",children:t.jsx(gSe,{})})}function ySe(){var se,le;const{id:e}=e1(),r=Vs(),{toast:n}=Tt(),[s,a]=g.useState(null),[i,o]=g.useState(!0),[l,c]=g.useState("users"),[d,u]=g.useState([]),[m,h]=g.useState([]),[p,y]=g.useState("all"),[f,v]=g.useState(!1),[j,x]=g.useState(!1),[b,S]=g.useState(!1),[w,N]=g.useState(!1),[P,_]=g.useState(!1),[C,A]=g.useState(!1),[M,R]=g.useState(!1),[E,F]=g.useState(null),[G,D]=g.useState({new_password:"",confirm_password:""}),[J,q]=g.useState({}),[U,re]=g.useState(!1),[he,ie]=g.useState([]),[fe,xe]=g.useState([]),[ge,Te]=g.useState({first_name:"",last_name:"",email:"",username:"",password:"",password_confirm:"",role:"staff",phone:"",organization_id:e||"",branch_id:""});g.useEffect(()=>{e&&(Se(),Ue(),be())},[e]),g.useEffect(()=>{e&&Ue()},[p]);const Se=async()=>{try{o(!0);const ne=await un.getOrganization(e);ne.success&&ne.data&&a(ne.data)}catch(ne){console.error("Failed to load organization:",ne)}finally{o(!1)}},Ue=async()=>{try{const ne={organization_id:e};p!=="all"&&(ne.branch_id=p);const Y=await Mr.getUsers(ne);if(console.log("Users API response:",Y),Y.success&&Y.data){const ce=Y.data.filter(Ne=>(console.log("User organization_id:",Ne.organization_id,"Current org ID:",parseInt(e)),Ne.organization_id===parseInt(e)));console.log("Filtered users:",ce),u(ce)}else console.log("No success or data in response:",Y)}catch(ne){console.error("Failed to load users:",ne)}},be=async()=>{try{S(!0);const ne=await un.getBranches();let Y=[];ne.success&&ne.data?Y=ne.data:Array.isArray(ne)&&(Y=ne);const ce=Y.filter(Ne=>Ne.organization===parseInt(e));h(ce)}catch(ne){console.error("Failed to load branches:",ne)}finally{S(!1)}},Q=async()=>{try{const Y=await un.createDefaultBranch();if(Y&&(Y.branch||Y.data))return await be(),Y.branch||Y.data;throw new Error((Y==null?void 0:Y.error)||"Failed to create default branch")}catch(ne){throw console.error("Failed to create default branch:",ne),ne}},pe=async()=>{var ne,Y;try{if(x(!0),!ge.first_name||!ge.last_name||!ge.email||!ge.username||!ge.password||!ge.password_confirm){n({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(ge.password!==ge.password_confirm){n({title:"Validation Error",description:"Passwords do not match",variant:"destructive"});return}const ce=JSON.parse(localStorage.getItem("currentUser")||"{}"),Ne=(ce==null?void 0:ce.role)==="super_admin";let K=ge.branch_id;if(!Ne&&ge.role!=="super_admin"){if(m.length===0)try{n({title:"Info",description:"Creating default main branch..."});const Ve=await Q();h([Ve]),K=Ve.id.toString()}catch{n({title:"Error",description:"Failed to create default branch. Please create a branch first.",variant:"destructive"});return}else if(!K||K===""){const Ve=m.find(St=>St.type==="main")||m[0];Ve&&(K=Ve.id.toString())}}const de={first_name:ge.first_name,last_name:ge.last_name,email:ge.email,username:ge.username,password:ge.password,password_confirm:ge.password_confirm,role:ge.role,phone:ge.phone,organization_id:parseInt(e),status:"active"};ge.role!=="super_admin"&&K&&K!==""&&(de.branch_id=parseInt(K));const Le=await Mr.createUser(de);console.log("Create user API response:",Le),Le.success?(n({title:"Success",description:"User created successfully"}),v(!1),oe(),Ue()):(console.log("Create user failed:",Le),n({title:"Error",description:Le.error||"Failed to create user",variant:"destructive"}))}catch(ce){n({title:"Error",description:((Y=(ne=ce.response)==null?void 0:ne.data)==null?void 0:Y.error)||"Failed to create user",variant:"destructive"})}finally{x(!1)}},oe=()=>{Te({first_name:"",last_name:"",email:"",username:"",password:"",password_confirm:"",role:"staff",phone:"",organization_id:e||"",branch_id:""})},ze=async()=>{var ne,Y;if(E){if(G.new_password!==G.confirm_password){n({title:"Validation Error",description:"Passwords do not match",variant:"destructive"});return}try{x(!0);const ce=await Mr.changeUserPassword(E.id,{new_password:G.new_password,confirm_password:G.confirm_password});console.log("Password change response:",ce),ce.success||ce.user?(n({title:"Success",description:"Password updated successfully"}),A(!1),D({new_password:"",confirm_password:""}),F(null),Ue()):n({title:"Error",description:ce.error||"Failed to update password",variant:"destructive"})}catch(ce){n({title:"Error",description:((Y=(ne=ce.response)==null?void 0:ne.data)==null?void 0:Y.error)||"Failed to update password",variant:"destructive"})}finally{x(!1)}}},Fe=async ne=>{var Y,ce;try{x(!0);const Ne=ne.status==="active"?"inactive":"active",K={status:Ne,phone:ne.phone,first_name:ne.first_name,last_name:ne.last_name,email:ne.email},de=await Mr.updateUser(ne.id,K);de.success||de.user?(n({title:"Success",description:`User ${Ne==="active"?"activated":"deactivated"} successfully`}),Ue()):n({title:"Error",description:de.error||"Failed to update user status",variant:"destructive"})}catch(Ne){n({title:"Error",description:((ce=(Y=Ne.response)==null?void 0:Y.data)==null?void 0:ce.error)||"Failed to update user status",variant:"destructive"})}finally{x(!1)}},tt=ne=>{F(ne),A(!0)},lt=ne=>{F(ne),me(ne),R(!0)},me=async ne=>{var Y;re(!0);try{const ce=await Mr.getAvailableModules();ce.success&&ce.data&&ce.data.modules&&ie(ce.data.modules);const Ne=await Mr.getUserModulePermissions(ne.id);if(console.log("Permissions response:",Ne),console.log("Permissions response.data:",Ne.data),Ne.success&&Ne.data){const K=((Y=Ne.data.data)==null?void 0:Y.modules)||Ne.data.modules||[];console.log("Setting userModules to:",K),xe(K);const de={};K&&K.forEach(Le=>{de[Le.id]=Le.has_access,Le.sub_modules&&Le.sub_modules.forEach(Ve=>{de[Ve.id]=Ve.has_access})}),q(de)}}catch(ce){console.error("Failed to load user permissions:",ce),n({title:"Error",description:"Failed to load user permissions",variant:"destructive"})}finally{re(!1)}},He=(ne,Y)=>{q(Ne=>({...Ne,[ne]:Y}));const ce=fe.find(Ne=>Ne.id===ne);if(ce)if(Y){const Ne={...J};ce.sub_modules.forEach(K=>{Ne[K.id]=!0}),q(Ne)}else{const Ne={...J};ce.sub_modules.forEach(K=>{Ne[K.id]=!1}),q(Ne)}else{const Ne={...J};Ne[ne]=Y;const K=fe.find(de=>de.sub_modules.some(Le=>Le.id===ne));if(K){const de=K.sub_modules.some(Le=>Ne[Le.id]||Le.id===ne&&Y);Ne[K.id]=de}q(Ne)}},ae=async()=>{if(E)try{re(!0);const ne=await Mr.updateUserModulePermissions(E.id,J);if(ne.success){const Y=(E==null?void 0:E.role)==="pharmacy_owner";n({title:"Success",description:Y?"Permissions updated successfully. Changes may affect other users in the organization.":"Permissions updated successfully"}),R(!1),F(null),q({}),xe([])}else n({title:"Error",description:ne.error||"Failed to update permissions",variant:"destructive"})}catch(ne){console.error("Failed to save permissions:",ne),n({title:"Error",description:"Failed to update permissions",variant:"destructive"})}finally{re(!1)}},je=()=>(console.log("getFilteredModules called, userModules:",fe),fe||[]),W=ne=>{const Y={active:{variant:"default",color:"bg-green-100 text-green-800"},inactive:{variant:"secondary",color:"bg-gray-100 text-gray-800"},suspended:{variant:"destructive",color:"bg-red-100 text-red-800"},pending:{variant:"outline",color:"bg-yellow-100 text-yellow-800"}},ce=Y[ne]||Y.pending;return t.jsx(te,{variant:ce.variant,className:ce.color,children:ne.charAt(0).toUpperCase()+ne.slice(1)})};return i?t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(O,{variant:"outline",onClick:()=>r("/admin/organizations"),className:"flex items-center gap-2",children:[t.jsx(Ao,{className:"w-4 h-4"}),"Back to Organizations"]}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:s.name}),t.jsx("p",{className:"text-muted-foreground",children:"Organization Details & Management"})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(qr,{className:"w-5 h-5"}),"Organization Overview"]})}),t.jsx(k,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"font-medium",children:"Type:"}),t.jsx("span",{className:"capitalize",children:s.type.replace("_"," ")})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:"Status:"}),W(s.status)]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ot,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"font-medium",children:"Created:"}),t.jsx("span",{children:new Date(s.created_at).toLocaleDateString()})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ei,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"font-medium",children:"Email:"}),t.jsx("span",{className:"text-sm",children:s.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ld,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"font-medium",children:"Phone:"}),t.jsx("span",{children:s.phone})]}),s.website&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(lB,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{className:"font-medium",children:"Website:"}),t.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:s.website})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ma,{className:"w-4 h-4 text-red-600"}),t.jsx("span",{className:"font-medium",children:"Address:"})]}),t.jsxs("div",{className:"text-sm text-gray-600 ml-6",children:[t.jsx("div",{children:s.address}),t.jsxs("div",{children:[s.city,", ",s.state," ",s.postal_code]}),t.jsx("div",{children:s.country})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4 text-indigo-600"}),t.jsx("span",{className:"font-medium",children:"Users:"}),t.jsx("span",{children:s.total_users||0})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ma,{className:"w-4 h-4 text-orange-600"}),t.jsx("span",{className:"font-medium",children:"Branches:"}),t.jsx("span",{children:s.total_branches||0})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Wn,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"font-medium",children:"Plan:"}),t.jsx("span",{className:"capitalize",children:s.subscription_plan})]})]})]})})]}),t.jsxs(Or,{value:l,onValueChange:c,children:[t.jsxs(Ar,{className:"grid w-full grid-cols-3",children:[t.jsx(Oe,{value:"users",children:"Users"}),t.jsx(Oe,{value:"branches",children:"Branches"}),t.jsx(Oe,{value:"subscription",children:"Subscription"})]}),t.jsx($e,{value:"users",className:"space-y-4",children:t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(it,{className:"w-5 h-5"}),"Organization Users (",(d==null?void 0:d.length)||0,")"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(_e,{value:p,onValueChange:y,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by branch"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Branches"}),m.map(ne=>t.jsxs($,{value:ne.id.toString(),children:[ne.name," (",ne.type,")"]},ne.id))]})]}),t.jsxs(rt,{open:f,onOpenChange:v,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{children:[t.jsx(zt,{className:"w-4 h-4 mr-2"}),"Add User"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New User"}),t.jsxs(Pt,{children:["Create a new user for ",s.name]})]}),t.jsxs("div",{className:"space-y-6 p-6",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"first_name",children:"First Name *"}),t.jsx(Z,{id:"first_name",value:ge.first_name,onChange:ne=>Te({...ge,first_name:ne.target.value}),placeholder:"John"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"last_name",children:"Last Name *"}),t.jsx(Z,{id:"last_name",value:ge.last_name,onChange:ne=>Te({...ge,last_name:ne.target.value}),placeholder:"Doe"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"username",children:"Username *"}),t.jsx(Z,{id:"username",value:ge.username,onChange:ne=>Te({...ge,username:ne.target.value}),placeholder:"johndoe"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"email",children:"Email *"}),t.jsx(Z,{id:"email",type:"email",value:ge.email,onChange:ne=>Te({...ge,email:ne.target.value}),placeholder:"john.doe@example.com"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"phone",children:"Phone"}),t.jsx(Z,{id:"phone",value:ge.phone,onChange:ne=>Te({...ge,phone:ne.target.value}),placeholder:"+977-1-234567"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"role",children:"Role *"}),t.jsxs(_e,{value:ge.role,onValueChange:ne=>Te({...ge,role:ne}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"super_admin",children:"Super Administrator"}),t.jsx($,{value:"pharmacy_owner",children:"Pharmacy Owner"}),t.jsx($,{value:"branch_manager",children:"Branch Manager"}),t.jsx($,{value:"senior_pharmacist",children:"Senior Pharmacist"}),t.jsx($,{value:"pharmacist",children:"Pharmacist"}),t.jsx($,{value:"pharmacy_technician",children:"Pharmacy Technician"}),t.jsx($,{value:"cashier",children:"Cashier"}),t.jsx($,{value:"supplier_admin",children:"Supplier Administrator"}),t.jsx($,{value:"sales_representative",children:"Sales Representative"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"password",children:"Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Z,{id:"password",type:w?"text":"password",value:ge.password,onChange:ne=>Te({...ge,password:ne.target.value}),placeholder:"Enter password"}),t.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>N(!w),children:w?t.jsx(Sm,{className:"h-4 w-4"}):t.jsx(yt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"password_confirm",children:"Confirm Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Z,{id:"password_confirm",type:P?"text":"password",value:ge.password_confirm,onChange:ne=>Te({...ge,password_confirm:ne.target.value}),placeholder:"Confirm password"}),t.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>_(!P),children:P?t.jsx(Sm,{className:"h-4 w-4"}):t.jsx(yt,{className:"h-4 w-4"})})]})]}),ge.role!=="super_admin"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"branch",children:"Branch *"}),t.jsxs(_e,{value:ge.branch_id,onValueChange:ne=>Te({...ge,branch_id:ne}),disabled:b,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:b?"Loading branches...":"Select branch"})}),t.jsx(Ce,{children:m.length===0?t.jsx($,{value:"no-branches",disabled:!0,children:b?"Loading...":"No branches available"}):m.map(ne=>t.jsxs($,{value:ne.id.toString(),children:[ne.name," (",ne.type,")"]},ne.id))})]}),m.length===0&&!b&&t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'No branches found. A default "Main Branch" will be created automatically.'})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 mt-6 px-6 pb-6",children:[t.jsx(O,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),t.jsxs(O,{onClick:pe,disabled:j||b,children:[j&&t.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Create User"]})]})]})]}),t.jsx(rt,{open:C,onOpenChange:ne=>{A(ne),ne||(F(null),D({new_password:"",confirm_password:""}))},children:t.jsxs(nt,{className:"max-w-md",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Change Password"}),t.jsxs(Pt,{children:["Change password for ",E==null?void 0:E.first_name," ",E==null?void 0:E.last_name]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"font-medium",children:"Username:"}),t.jsx("span",{className:"text-gray-600",children:E==null?void 0:E.email})]}),(E==null?void 0:E.plain_text_password)&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"font-medium",children:"Current Password:"}),t.jsx("span",{className:"text-gray-600 font-mono",children:E.plain_text_password})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"new_password",children:"New Password *"}),t.jsx(Z,{id:"new_password",type:"password",value:G.new_password,onChange:ne=>D({...G,new_password:ne.target.value}),placeholder:"Enter new password"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{htmlFor:"confirm_new_password",children:"Confirm New Password *"}),t.jsx(Z,{id:"confirm_new_password",type:"password",value:G.confirm_password,onChange:ne=>D({...G,confirm_password:ne.target.value}),placeholder:"Confirm new password"})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[t.jsx(O,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),t.jsxs(O,{onClick:ze,disabled:j,children:[j&&t.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Update Password"]})]})]})}),t.jsx(rt,{open:M,onOpenChange:R,children:t.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Module Permissions"}),t.jsxs(Pt,{children:["Manage module permissions for ",E==null?void 0:E.first_name," ",E==null?void 0:E.last_name,(E==null?void 0:E.role)==="pharmacy_owner"?t.jsx("span",{className:"block text-sm text-blue-600 mt-1",children:"Owner role has access to all modules by default"}):t.jsx("span",{className:"block text-sm text-amber-600 mt-1",children:"Only modules permitted by the organization's pharmacy owner are shown"})]})]}),t.jsx("div",{className:"space-y-6",children:U?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(Zt,{className:"w-8 h-8 animate-spin"})}):t.jsx(t.Fragment,{children:((se=je())==null?void 0:se.length)===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-gray-600",children:"No modules available for this user."})}):(le=je())==null?void 0:le.map(ne=>t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("input",{type:"checkbox",id:ne.id,checked:J[ne.id]||!1,onChange:Y=>He(ne.id,Y.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:ne.id,className:"text-lg font-medium text-gray-900",children:ne.name})]}),t.jsx("div",{className:"ml-7",children:t.jsx("div",{className:"flex flex-wrap gap-4",children:ne.sub_modules.map(Y=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:Y.id,checked:J[Y.id]||!1,onChange:ce=>He(Y.id,ce.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:Y.id,className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:Y.name})]},Y.id))})})]},ne.id))})}),t.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[t.jsx(O,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),t.jsxs(O,{onClick:ae,disabled:U,children:[U&&t.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Permissions"]})]})]})})]})]})}),t.jsx(k,{children:d.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(it,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Users Yet"}),t.jsxs("p",{className:"text-gray-600 mb-4",children:["Start by adding the first user for ",s.name]})]}):t.jsx("div",{className:"space-y-4",children:d.map(ne=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:t.jsxs("span",{className:"text-blue-600 font-medium",children:[ne.first_name.charAt(0),ne.last_name.charAt(0)]})}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium",children:[ne.first_name," ",ne.last_name]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[ne.email,"  ",ne.role,ne.branch_name&&t.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:ne.branch_name})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(te,{variant:ne.status==="active"?"default":"secondary",children:ne.status}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(O,{variant:"ghost",size:"sm",onClick:()=>lt(ne),title:"Module Permissions",children:t.jsx(cn,{className:"w-4 h-4"})}),t.jsx(O,{variant:"ghost",size:"sm",onClick:()=>tt(ne),title:"Change Password",children:t.jsx(I4,{className:"w-4 h-4"})}),t.jsx(O,{variant:"ghost",size:"sm",onClick:()=>Fe(ne),title:ne.status==="active"?"Deactivate User":"Activate User",disabled:j,children:t.jsx(L4,{className:`w-4 h-4 ${ne.status==="active"?"text-green-600":"text-red-600"}`})})]})]})]},ne.id))})})]})}),t.jsx($e,{value:"branches",className:"space-y-4",children:t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(Ma,{className:"w-5 h-5"}),"Organization Branches"]})}),t.jsx(k,{children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Ma,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Branches Management"}),t.jsxs("p",{className:"text-gray-600 mb-4",children:["Manage branches for ",s.name]}),t.jsx(O,{children:"Add New Branch"})]})})]})}),t.jsx($e,{value:"subscription",className:"space-y-4",children:t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(Wn,{className:"w-5 h-5"}),"Subscription Details"]})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Wn,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"font-medium",children:"Current Plan"})]}),t.jsx("div",{className:"text-2xl font-bold capitalize",children:s.subscription_plan}),t.jsx("div",{className:"text-sm text-gray-600",children:"Active subscription"})]}),t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Ot,{className:"w-5 h-5 text-green-600"}),t.jsx("span",{className:"font-medium",children:"Status"})]}),t.jsx("div",{className:"text-2xl font-bold capitalize",children:s.subscription_status}),t.jsx("div",{className:"text-sm text-gray-600",children:"Subscription status"})]}),t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(it,{className:"w-5 h-5 text-purple-600"}),t.jsx("span",{className:"font-medium",children:"Users"})]}),t.jsx("div",{className:"text-2xl font-bold",children:s.total_users||0}),t.jsx("div",{className:"text-sm text-gray-600",children:"Active users"})]})]}),t.jsx("div",{className:"flex justify-center",children:t.jsx(O,{children:"Manage Subscription"})})]})})]})})]})]}):t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Organization not found"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"The organization you're looking for doesn't exist."}),t.jsx(O,{onClick:()=>r("/admin/organizations"),className:"mt-4",children:"Back to Organizations"})]})})}function jSe(){const{toast:e}=Tt(),[r,n]=g.useState([]),[s,a]=g.useState(!0),[i,o]=g.useState(""),[l,c]=g.useState("all"),[d,u]=g.useState(!1),[m,h]=g.useState(!1),[p,y]=g.useState({first_name:"",last_name:"",email:"",phone:"",role:"cashier",plain_text_password:""});g.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const b=await Mr.getUsers();b.success&&b.data?n(b.data):n([])}catch(b){console.error("Failed to fetch users:",b),e({title:"Error",description:"Failed to load users from server.",variant:"destructive"}),n([])}finally{a(!1)}},v=async()=>{if(!p.first_name||!p.last_name||!p.email||!p.plain_text_password){e({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{h(!0);const b=await Mr.createUser(p);b.success?(e({title:"Success",description:"User created successfully"}),y({first_name:"",last_name:"",email:"",phone:"",role:"cashier",plain_text_password:""}),u(!1),f()):e({title:"Error",description:b.message||"Failed to create user",variant:"destructive"})}catch(b){console.error("Failed to create user:",b),e({title:"Error",description:"Failed to create user",variant:"destructive"})}finally{h(!1)}},j=r.filter(b=>{const S=b.email.toLowerCase().includes(i.toLowerCase())||`${b.first_name} ${b.last_name}`.toLowerCase().includes(i.toLowerCase()),w=l==="all"||b.role===l;return S&&w}),x=b=>({super_admin:"bg-red-100 text-red-800",owner:"bg-blue-100 text-blue-800",manager:"bg-green-100 text-green-800",pharmacist:"bg-purple-100 text-purple-800",technician:"bg-yellow-100 text-yellow-800",cashier:"bg-orange-100 text-orange-800"})[b]||"bg-gray-100 text-gray-800";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ss,{className:"w-8 h-8 text-warning"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage system users and their permissions"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{onClick:f,variant:"outline",className:"gap-2",children:[t.jsx(Ul,{className:`w-4 h-4 ${s?"animate-spin":""}`}),"Refresh"]}),t.jsxs(rt,{open:d,onOpenChange:u,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{className:"gap-2",children:[t.jsx(Iw,{className:"w-4 h-4"}),"Add User"]})}),t.jsxs(nt,{className:"max-w-md",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New User"}),t.jsx(Pt,{children:"Create a new user account with role and permissions"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"first_name",children:"First Name"}),t.jsx(Z,{id:"first_name",value:p.first_name,onChange:b=>y({...p,first_name:b.target.value}),placeholder:"John"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"last_name",children:"Last Name"}),t.jsx(Z,{id:"last_name",value:p.last_name,onChange:b=>y({...p,last_name:b.target.value}),placeholder:"Doe"})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"email",children:"Email"}),t.jsx(Z,{id:"email",type:"email",value:p.email,onChange:b=>y({...p,email:b.target.value}),placeholder:"john.doe@example.com"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"phone",children:"Phone"}),t.jsx(Z,{id:"phone",value:p.phone,onChange:b=>y({...p,phone:b.target.value}),placeholder:"+1234567890"})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"role",children:"Role"}),t.jsxs(_e,{value:p.role,onValueChange:b=>y({...p,role:b}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"owner",children:"Pharmacy Owner"}),t.jsx($,{value:"manager",children:"Branch Manager"}),t.jsx($,{value:"pharmacist",children:"Pharmacist"}),t.jsx($,{value:"technician",children:"Technician"}),t.jsx($,{value:"cashier",children:"Cashier"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{htmlFor:"password",children:"Password"}),t.jsx(Z,{id:"password",type:"password",value:p.plain_text_password,onChange:b=>y({...p,plain_text_password:b.target.value}),placeholder:"Enter password"})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),t.jsxs(O,{onClick:v,disabled:m,children:[m?t.jsx(Zt,{className:"w-4 h-4 animate-spin mr-2"}):null,"Add User"]})]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsx(B,{className:"text-sm font-medium",children:"Total Users"})}),t.jsx(k,{children:t.jsx("div",{className:"text-2xl font-bold",children:r.length})})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsx(B,{className:"text-sm font-medium",children:"Active Users"})}),t.jsx(k,{children:t.jsx("div",{className:"text-2xl font-bold",children:r.filter(b=>b.status==="active"&&b.is_active).length})})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsx(B,{className:"text-sm font-medium",children:"Super Admins"})}),t.jsx(k,{children:t.jsx("div",{className:"text-2xl font-bold",children:r.filter(b=>b.role==="super_admin").length})})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsx(B,{className:"text-sm font-medium",children:"Pharmacy Owners"})}),t.jsx(k,{children:t.jsx("div",{className:"text-2xl font-bold",children:r.filter(b=>b.role==="owner").length})})]})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Users"})}),t.jsxs(k,{children:[t.jsxs("div",{className:"flex gap-4 mb-6",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search users...",value:i,onChange:b=>o(b.target.value),className:"pl-8"})]})}),t.jsxs(_e,{value:l,onValueChange:c,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by role"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Roles"}),t.jsx($,{value:"super_admin",children:"Super Admin"}),t.jsx($,{value:"owner",children:"Pharmacy Owner"}),t.jsx($,{value:"manager",children:"Branch Manager"}),t.jsx($,{value:"pharmacist",children:"Pharmacist"}),t.jsx($,{value:"technician",children:"Technician"}),t.jsx($,{value:"cashier",children:"Cashier"})]})]})]}),s?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(Zt,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading users..."})]}):j.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(it,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium",children:"No users found"}),t.jsx("p",{className:"text-muted-foreground",children:i||l!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first user."})]}):t.jsx("div",{className:"space-y-4",children:j.map(b=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:t.jsx(it,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium",children:[b.first_name," ",b.last_name]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:b.email}),t.jsx("div",{className:"text-sm text-muted-foreground",children:b.phone})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(te,{className:x(b.role),children:b.role.replace("_"," ")}),t.jsx(te,{variant:b.status==="active"?"default":"secondary",children:b.status}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(hn,{className:"w-4 h-4"})}),t.jsx(O,{variant:"ghost",size:"sm",children:t.jsx(rB,{className:"w-4 h-4"})})]})]})]},b.id))})]})]})]})}function bSe(){var p,y,f,v,j,x,b;const{toast:e}=Tt(),[r,n]=g.useState([]),[s,a]=g.useState(!0),[i,o]=g.useState(!0),[l,c]=g.useState(null);g.useEffect(()=>{d(),u()},[]);const d=async()=>{try{a(!0);const S=await un.getOrganizations();S.success&&S.data?n(S.data):n([])}catch(S){console.error("Failed to fetch organizations:",S),e({title:"Error",description:"Failed to load organizations.",variant:"destructive"}),n([])}finally{a(!1)}},u=async()=>{try{o(!0);const S=await un.getDashboardStats();S.success&&S.data&&c(S.data)}catch(S){console.error("Failed to fetch dashboard stats:",S)}finally{o(!1)}},m=S=>({trial:"bg-gray-100 text-gray-800",basic:"bg-blue-100 text-blue-800",professional:"bg-green-100 text-green-800",enterprise:"bg-purple-100 text-purple-800"})[S]||"bg-gray-100 text-gray-800",h=[{name:"Trial",price:"0",period:"month",features:["Basic features","Up to 10 users","1 organization","Community support"],color:"gray"},{name:"Basic",price:"5,000",period:"month",features:["All trial features","Up to 50 users","5 organizations","Email support","Basic reporting"],color:"blue"},{name:"Professional",price:"15,000",period:"month",features:["All basic features","Unlimited users","Unlimited organizations","Priority support","Advanced reporting","API access"],color:"green"},{name:"Enterprise",price:"50,000",period:"month",features:["All professional features","Custom integrations","Dedicated support","SLA guarantee","White-label option"],color:"purple"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Wn,{className:"w-8 h-8 text-warning"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Subscription Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage subscription plans and billing"})]})]}),t.jsxs(O,{onClick:()=>{d(),u()},variant:"outline",className:"gap-2",children:[t.jsx(Ul,{className:`w-4 h-4 ${s||i?"animate-spin":""}`}),"Refresh"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4"}),"Total Organizations"]})}),t.jsx(k,{children:t.jsx("div",{className:"text-2xl font-bold",children:i?"...":(l==null?void 0:l.total_organizations)||r.length})})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(Wn,{className:"w-4 h-4"}),"Active Subscriptions"]})}),t.jsx(k,{children:t.jsx("div",{className:"text-2xl font-bold",children:i?"...":(l==null?void 0:l.active_subscriptions)||0})})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ht,{className:"w-4 h-4"}),"Monthly Revenue"]})}),t.jsx(k,{children:t.jsx("div",{className:"text-2xl font-bold",children:i?"...":`${((l==null?void 0:l.monthly_revenue)||0).toLocaleString("en-IN")}`})})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ft,{className:"w-4 h-4"}),"Growth Rate"]})}),t.jsx(k,{children:t.jsx("div",{className:"text-2xl font-bold",children:i?"...":`${(l==null?void 0:l.growth_percentage)||0}%`})})]})]}),t.jsxs(Or,{defaultValue:"plans",className:"space-y-6",children:[t.jsxs(Ar,{children:[t.jsx(Oe,{value:"plans",children:"Subscription Plans"}),t.jsx(Oe,{value:"organizations",children:"Organization Subscriptions"}),t.jsx(Oe,{value:"analytics",children:"Analytics"})]}),t.jsx($e,{value:"plans",className:"space-y-6",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map(S=>t.jsxs(T,{className:"relative",children:[t.jsxs(z,{children:[t.jsxs(B,{className:"flex items-center justify-between",children:[S.name,t.jsx(te,{className:m(S.name.toLowerCase()),children:S.name})]}),t.jsxs("div",{className:"text-3xl font-bold",children:[S.price,t.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["/",S.period]})]})]}),t.jsxs(k,{children:[t.jsx("ul",{className:"space-y-2",children:S.features.map((w,N)=>t.jsxs("li",{className:"text-sm flex items-center gap-2",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),w]},N))}),t.jsx(O,{className:"w-full mt-4",variant:"outline",children:"Manage Plan"})]})]},S.name))})}),t.jsx($e,{value:"organizations",className:"space-y-6",children:t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Organization Subscriptions"})}),t.jsx(k,{children:s?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(Zt,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading organizations..."})]}):r.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(qr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium",children:"No organizations found"}),t.jsx("p",{className:"text-muted-foreground",children:"Organizations will appear here once they are created."})]}):t.jsx("div",{className:"space-y-4",children:r.map(S=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:t.jsx(qr,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:S.name}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created ",new Date(S.created_at).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(te,{className:m(S.subscription_plan),children:S.subscription_plan||"Trial"}),t.jsx(te,{variant:S.status==="active"?"default":"secondary",children:S.status}),t.jsx(O,{variant:"outline",size:"sm",children:"Manage"})]})]},S.id))})})]})}),t.jsx($e,{value:"analytics",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Subscription Distribution"})}),t.jsx(k,{className:"space-y-4",children:i?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(Zt,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading analytics..."})]}):[{tier:"Enterprise",count:((p=l==null?void 0:l.subscription_distribution)==null?void 0:p.enterprise)||0,revenue:(((y=l==null?void 0:l.subscription_distribution)==null?void 0:y.enterprise)||0)*5e4,color:"destructive"},{tier:"Professional",count:((f=l==null?void 0:l.subscription_distribution)==null?void 0:f.professional)||0,revenue:(((v=l==null?void 0:l.subscription_distribution)==null?void 0:v.professional)||0)*15e3,color:"default"},{tier:"Basic",count:((j=l==null?void 0:l.subscription_distribution)==null?void 0:j.basic)||0,revenue:(((x=l==null?void 0:l.subscription_distribution)==null?void 0:x.basic)||0)*5e3,color:"outline"},{tier:"Trial",count:((b=l==null?void 0:l.subscription_distribution)==null?void 0:b.trial)||0,revenue:0,color:"secondary"}].map(S=>t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(te,{variant:S.color,children:S.tier}),t.jsxs("span",{className:"font-medium",children:[S.count," organizations"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-medium",children:["",(S.revenue/1e5).toFixed(1),"L"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"per month"})]})]},S.tier))})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Revenue Trends"})}),t.jsx(k,{children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx(ft,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium",children:"Revenue Analytics"}),t.jsx("p",{className:"text-muted-foreground",children:"Detailed revenue analytics coming soon"})]})})]})]})})]})]})}function NSe(){var f,v,j,x,b,S,w;const{toast:e}=Tt(),[r,n]=g.useState(!0),[s,a]=g.useState(!0),[i,o]=g.useState(null),[l,c]=g.useState([]),[d,u]=g.useState([]),[m,h]=g.useState("30d");g.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0),a(!0);const[N,P,_]=await Promise.all([un.getDashboardStats(),Mr.getUsers(),un.getOrganizations()]);N.success&&N.data&&o(N.data),P.success&&P.data&&c(P.data),_.success&&_.data&&u(_.data)}catch(N){console.error("Failed to fetch report data:",N),e({title:"Error",description:"Failed to load report data.",variant:"destructive"})}finally{n(!1),a(!1)}},y=N=>{e({title:"Export Started",description:`${N} report export has been initiated.`})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ir,{className:"w-8 h-8 text-warning"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Admin Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Comprehensive system analytics and insights"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(_e,{value:m,onValueChange:h,children:[t.jsx(Pe,{className:"w-32",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx($,{value:"7d",children:"Last 7 days"}),t.jsx($,{value:"30d",children:"Last 30 days"}),t.jsx($,{value:"90d",children:"Last 90 days"}),t.jsx($,{value:"1y",children:"Last year"})]})]}),t.jsxs(O,{onClick:p,variant:"outline",className:"gap-2",children:[t.jsx(Ul,{className:`w-4 h-4 ${r||s?"animate-spin":""}`}),"Refresh"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4"}),"Total Organizations"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:s?"...":(i==null?void 0:i.total_organizations)||d.length}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",s?"...":(i==null?void 0:i.monthly_growth)||0," this month"]})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),"Total Users"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:s?"...":(i==null?void 0:i.total_users)||l.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:s?"...":`${(i==null?void 0:i.active_users)||0} active`})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ht,{className:"w-4 h-4"}),"Monthly Revenue"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:s?"...":`${((i==null?void 0:i.monthly_revenue)||0).toLocaleString("en-IN")}`}),t.jsx("p",{className:"text-xs text-muted-foreground",children:s?"...":`${i!=null&&i.growth_percentage?"+":""}${(i==null?void 0:i.growth_percentage)||0}% growth`})]})]}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ft,{className:"w-4 h-4"}),"System Health"]})}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:"98.5%"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Uptime"})]})]})]}),t.jsxs(Or,{defaultValue:"overview",className:"space-y-6",children:[t.jsxs(Ar,{children:[t.jsx(Oe,{value:"overview",children:"Overview"}),t.jsx(Oe,{value:"organizations",children:"Organizations"}),t.jsx(Oe,{value:"users",children:"Users"}),t.jsx(Oe,{value:"financial",children:"Financial"}),t.jsx(Oe,{value:"system",children:"System"})]}),t.jsx($e,{value:"overview",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"Subscription Distribution"})}),t.jsx(k,{className:"space-y-4",children:s?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(Zt,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading data..."})]}):[{tier:"Enterprise",count:((f=i==null?void 0:i.subscription_distribution)==null?void 0:f.enterprise)||0,revenue:(((v=i==null?void 0:i.subscription_distribution)==null?void 0:v.enterprise)||0)*5e4,color:"destructive"},{tier:"Professional",count:((j=i==null?void 0:i.subscription_distribution)==null?void 0:j.professional)||0,revenue:(((x=i==null?void 0:i.subscription_distribution)==null?void 0:x.professional)||0)*15e3,color:"default"},{tier:"Basic",count:((b=i==null?void 0:i.subscription_distribution)==null?void 0:b.basic)||0,revenue:(((S=i==null?void 0:i.subscription_distribution)==null?void 0:S.basic)||0)*5e3,color:"outline"},{tier:"Trial",count:((w=i==null?void 0:i.subscription_distribution)==null?void 0:w.trial)||0,revenue:0,color:"secondary"}].map(N=>t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-3 h-3 rounded-full bg-${N.color==="destructive"?"red":N.color==="default"?"blue":N.color==="outline"?"gray":"yellow"}-500`}),t.jsx("span",{className:"font-medium",children:N.tier})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-medium",children:[N.count," organizations"]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["",(N.revenue/1e5).toFixed(1),"L/month"]})]})]},N.tier))})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsx(B,{children:"System Performance"})}),t.jsx(k,{className:"space-y-4",children:[{metric:"Database Performance",value:"98.5%",status:"excellent"},{metric:"API Response Time",value:"145ms",status:"good"},{metric:"Active Connections",value:"1,247",status:"normal"},{metric:"Error Rate",value:"0.02%",status:"excellent"},{metric:"Storage Usage",value:"67%",status:"normal"}].map((N,P)=>t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsx("span",{className:"font-medium",children:N.metric}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:N.value}),t.jsx("div",{className:`w-2 h-2 rounded-full ${N.status==="excellent"?"bg-green-500":N.status==="good"?"bg-yellow-500":"bg-blue-500"}`})]})]},P))})]})]})}),t.jsx($e,{value:"organizations",className:"space-y-6",children:t.jsxs(T,{children:[t.jsxs(z,{className:"flex flex-row items-center justify-between",children:[t.jsx(B,{children:"Organization Analytics"}),t.jsxs(O,{onClick:()=>y("Organizations"),variant:"outline",className:"gap-2",children:[t.jsx(bt,{className:"w-4 h-4"}),"Export"]})]}),t.jsx(k,{children:r?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(Zt,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading organizations..."})]}):t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:d.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Organizations"})]}),t.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:d.filter(N=>N.status==="active").length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Organizations"})]}),t.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:d.filter(N=>N.status==="pending").length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Organizations"})]})]})})})]})}),t.jsx($e,{value:"users",className:"space-y-6",children:t.jsxs(T,{children:[t.jsxs(z,{className:"flex flex-row items-center justify-between",children:[t.jsx(B,{children:"User Analytics"}),t.jsxs(O,{onClick:()=>y("Users"),variant:"outline",className:"gap-2",children:[t.jsx(bt,{className:"w-4 h-4"}),"Export"]})]}),t.jsx(k,{children:r?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(Zt,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading users..."})]}):t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:l.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Users"})]}),t.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:l.filter(N=>N.status==="active"&&N.is_active).length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Users"})]}),t.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:l.filter(N=>N.role==="super_admin").length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Super Admins"})]}),t.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:l.filter(N=>N.role==="owner").length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Pharmacy Owners"})]})]})})})]})}),t.jsx($e,{value:"financial",className:"space-y-6",children:t.jsxs(T,{children:[t.jsxs(z,{className:"flex flex-row items-center justify-between",children:[t.jsx(B,{children:"Financial Reports"}),t.jsxs(O,{onClick:()=>y("Financial"),variant:"outline",className:"gap-2",children:[t.jsx(bt,{className:"w-4 h-4"}),"Export"]})]}),t.jsx(k,{children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx(ht,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium",children:"Financial Analytics"}),t.jsx("p",{className:"text-muted-foreground",children:"Detailed financial reports coming soon"})]})})]})}),t.jsx($e,{value:"system",className:"space-y-6",children:t.jsxs(T,{children:[t.jsxs(z,{className:"flex flex-row items-center justify-between",children:[t.jsx(B,{children:"System Reports"}),t.jsxs(O,{onClick:()=>y("System"),variant:"outline",className:"gap-2",children:[t.jsx(bt,{className:"w-4 h-4"}),"Export"]})]}),t.jsx(k,{children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx($t,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium",children:"System Analytics"}),t.jsx("p",{className:"text-muted-foreground",children:"Detailed system reports coming soon"})]})})]})})]})]})}const ip=[{id:"emp1",name:"Dr. Sarah Johnson",email:"sarah.johnson@pharmacy.com",phone:"+1 234 567 8901",role:"Senior Pharmacist",department:"Pharmacy",hireDate:"2020-01-15",status:"Active",salary:85e3,employeeId:"PH001"},{id:"emp2",name:"Mike Thompson",email:"mike.thompson@pharmacy.com",phone:"+1 234 567 8902",role:"Pharmacy Technician",department:"Pharmacy",hireDate:"2021-03-10",status:"Active",salary:45e3,employeeId:"PT001"},{id:"emp3",name:"Lisa Rodriguez",email:"lisa.rodriguez@pharmacy.com",phone:"+1 234 567 8903",role:"Sales Associate",department:"Sales",hireDate:"2022-06-01",status:"Active",salary:35e3,employeeId:"SA001"},{id:"emp4",name:"David Wilson",email:"david.wilson@pharmacy.com",phone:"+1 234 567 8904",role:"Delivery Driver",department:"Logistics",hireDate:"2021-09-15",status:"Active",salary:38e3,employeeId:"DD001"},{id:"emp5",name:"Emma Davis",email:"emma.davis@pharmacy.com",phone:"+1 234 567 8905",role:"Cashier",department:"Sales",hireDate:"2023-01-20",status:"Active",salary:32e3,employeeId:"CA001"}],TN=[{id:"shift1",employeeId:"emp1",employeeName:"Dr. Sarah Johnson",date:"2024-01-15",startTime:"08:00",endTime:"16:00",role:"Senior Pharmacist",status:"Scheduled",branch:"Main Branch",notes:"Morning consultation hours"},{id:"shift2",employeeId:"emp2",employeeName:"Mike Thompson",date:"2024-01-15",startTime:"12:00",endTime:"20:00",role:"Pharmacy Technician",status:"In Progress",branch:"Main Branch"},{id:"shift3",employeeId:"emp3",employeeName:"Lisa Rodriguez",date:"2024-01-15",startTime:"09:00",endTime:"17:00",role:"Sales Associate",status:"Scheduled",branch:"Downtown Branch"},{id:"shift4",employeeId:"emp4",employeeName:"David Wilson",date:"2024-01-15",startTime:"10:00",endTime:"18:00",role:"Delivery Driver",status:"Completed",branch:"Main Branch",notes:"Route A completed successfully"}],kN=[{id:"comm1",employeeId:"emp3",employeeName:"Lisa Rodriguez",period:"December 2023",salesAmount:45e3,commissionRate:.03,commissionAmount:1350,status:"Paid",paidDate:"2024-01-05"},{id:"comm2",employeeId:"emp5",employeeName:"Emma Davis",period:"December 2023",salesAmount:32e3,commissionRate:.025,commissionAmount:800,status:"Approved"},{id:"comm3",employeeId:"emp3",employeeName:"Lisa Rodriguez",period:"January 2024",salesAmount:38e3,commissionRate:.03,commissionAmount:1140,status:"Pending"}],EN=[{id:"del1",orderId:"ORD001",driverId:"emp4",driverName:"David Wilson",customerName:"John Smith",customerAddress:"123 Main St, City, State 12345",customerPhone:"+1 234 567 9001",items:[{name:"Amoxicillin 500mg",quantity:21,price:25.99},{name:"Lisinopril 10mg",quantity:30,price:15.49}],totalAmount:41.48,status:"Delivered",assignedDate:"2024-01-15T10:00:00Z",estimatedDelivery:"2024-01-15T14:00:00Z",actualDelivery:"2024-01-15T13:45:00Z",route:"Route A"},{id:"del2",orderId:"ORD002",driverId:"emp4",driverName:"David Wilson",customerName:"Mary Johnson",customerAddress:"456 Oak Ave, City, State 12345",customerPhone:"+1 234 567 9002",items:[{name:"Metformin 500mg",quantity:60,price:12.99},{name:"Blood Pressure Monitor",quantity:1,price:89.99}],totalAmount:102.98,status:"In Transit",assignedDate:"2024-01-15T11:30:00Z",estimatedDelivery:"2024-01-15T15:30:00Z",route:"Route B"},{id:"del3",orderId:"ORD003",driverId:"emp4",driverName:"David Wilson",customerName:"Robert Brown",customerAddress:"789 Pine St, City, State 12345",customerPhone:"+1 234 567 9003",items:[{name:"Atorvastatin 20mg",quantity:30,price:22.49}],totalAmount:22.49,status:"Pending",assignedDate:"2024-01-15T12:00:00Z",estimatedDelivery:"2024-01-15T16:00:00Z",route:"Route A"}],wSe=[{id:"route1",name:"Route A - Downtown",description:"Central business district and nearby residential areas",area:"Downtown/Central",estimatedTime:"4-6 hours",distance:"25 miles",deliveryCount:8,status:"Active"},{id:"route2",name:"Route B - Suburbs North",description:"Northern suburban areas and residential neighborhoods",area:"North Suburbs",estimatedTime:"5-7 hours",distance:"35 miles",deliveryCount:12,status:"Active"},{id:"route3",name:"Route C - Industrial",description:"Industrial district and commercial areas",area:"Industrial/Commercial",estimatedTime:"3-5 hours",distance:"20 miles",deliveryCount:6,status:"Active"}],Qs={totalEmployees:ip.length,activeEmployees:ip.filter(e=>e.status==="Active").length,onLeave:ip.filter(e=>e.status==="On Leave").length,totalShiftsToday:TN.filter(e=>e.date==="2024-01-15").length,inProgressShifts:TN.filter(e=>e.status==="In Progress").length,pendingCommissions:kN.filter(e=>e.status==="Pending").length,totalCommissionsPending:kN.filter(e=>e.status==="Pending").reduce((e,r)=>e+r.commissionAmount,0),pendingDeliveries:EN.filter(e=>e.status==="Pending").length,inTransitDeliveries:EN.filter(e=>e.status==="In Transit").length,activeRoutes:wSe.filter(e=>e.status==="Active").length};function SSe(){const e=a=>{switch(a){case"Active":return t.jsx(te,{variant:"success",children:a});case"Inactive":return t.jsx(te,{variant:"destructive",children:a});case"On Leave":return t.jsx(te,{variant:"warning",children:a});default:return t.jsx(te,{variant:"default",children:a})}},r=a=>{switch(a){case"Scheduled":return t.jsx(te,{variant:"default",children:a});case"In Progress":return t.jsx(te,{variant:"primary",children:a});case"Completed":return t.jsx(te,{variant:"success",children:a});case"Cancelled":return t.jsx(te,{variant:"destructive",children:a});default:return t.jsx(te,{variant:"outline",children:a})}},n=a=>{switch(a){case"Paid":return t.jsx(te,{variant:"success",children:a});case"Approved":return t.jsx(te,{variant:"primary",children:a});case"Pending":return t.jsx(te,{variant:"warning",children:a});default:return t.jsx(te,{variant:"outline",children:a})}},s=a=>{switch(a){case"Delivered":return t.jsx(te,{variant:"success",children:a});case"In Transit":return t.jsx(te,{variant:"primary",children:a});case"Assigned":return t.jsx(te,{variant:"default",children:a});case"Pending":return t.jsx(te,{variant:"warning",children:a});case"Failed":return t.jsx(te,{variant:"destructive",children:a});default:return t.jsx(te,{variant:"outline",children:a})}};return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Staff Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage employees, shifts, performance, and delivery operations"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(O,{children:[t.jsx(Iw,{className:"mr-2 h-4 w-4"}),"Add Employee"]}),t.jsxs(O,{variant:"outline",children:[t.jsx(Qz,{className:"mr-2 h-4 w-4"}),"Schedule Shift"]})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxs(T,{children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Total Employees"}),t.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:Qs.totalEmployees}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[Qs.activeEmployees," active, ",Qs.onLeave," on leave"]})]})]}),t.jsxs(T,{children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Today's Shifts"}),t.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:Qs.totalShiftsToday}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[Qs.inProgressShifts," currently in progress"]})]})]}),t.jsxs(T,{children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Pending Commissions"}),t.jsx(ht,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["$",Qs.totalCommissionsPending.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[Qs.pendingCommissions," employees awaiting payment"]})]})]}),t.jsxs(T,{children:[t.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(B,{className:"text-sm font-medium",children:"Active Deliveries"}),t.jsx(fn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(k,{children:[t.jsx("div",{className:"text-2xl font-bold",children:Qs.pendingDeliveries+Qs.inTransitDeliveries}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[Qs.inTransitDeliveries," in transit, ",Qs.pendingDeliveries," pending"]})]})]})]}),t.jsxs(Or,{defaultValue:"employees",className:"space-y-4",children:[t.jsxs(Ar,{children:[t.jsx(Oe,{value:"employees",children:"Employees"}),t.jsx(Oe,{value:"shifts",children:"Shift Management"}),t.jsx(Oe,{value:"commissions",children:"Commission Tracking"}),t.jsx(Oe,{value:"reviews",children:"Performance Reviews"}),t.jsx(Oe,{value:"deliveries",children:"Delivery Management"})]}),t.jsx($e,{value:"employees",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Employee Overview"}),t.jsx(Et,{children:"Current staff members and their roles"})]}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:ip.map(a=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(wo,{children:t.jsx(So,{children:a.name.split(" ").map(i=>i[0]).join("")})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:a.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.role}),t.jsx("p",{className:"text-xs text-muted-foreground",children:a.email})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-medium",children:a.employeeId}),t.jsx("p",{className:"text-xs text-muted-foreground",children:a.department})]}),e(a.status)]})]},a.id))})})]})}),t.jsx($e,{value:"shifts",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Today's Shifts"}),t.jsx(Et,{children:"Current shift schedule and status"})]}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:TN.map(a=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(Ut,{className:"h-5 w-5 text-muted-foreground"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:a.employeeName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.role}),t.jsx("p",{className:"text-xs text-muted-foreground",children:a.branch})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-sm font-medium",children:[a.startTime," - ",a.endTime]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:a.date})]}),r(a.status)]})]},a.id))})})]})}),t.jsx($e,{value:"commissions",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Commission Tracking"}),t.jsx(Et,{children:"Sales-based incentive management"})]}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:kN.map(a=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(ht,{className:"h-5 w-5 text-muted-foreground"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:a.employeeName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.period}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sales: $",a.salesAmount.toLocaleString()," | Rate: ",a.commissionRate*100,"%"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-sm font-medium",children:["$",a.commissionAmount.toLocaleString()]}),a.paidDate&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",a.paidDate]})]}),n(a.status)]})]},a.id))})})]})}),t.jsx($e,{value:"reviews",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Performance Reviews"}),t.jsx(Et,{children:"Employee evaluation and development tracking"})]}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(On,{className:"h-5 w-5 text-muted-foreground"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Mike Thompson"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Q4 2023 Review"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Reviewed by: Dr. Sarah Johnson"})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-medium",children:"Overall Rating: 4.2/5.0"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed: 2024-01-10"})]}),t.jsx(te,{variant:"success",children:"Completed"})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"Customer Service"}),t.jsx(Da,{value:90,className:"h-2"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"4.5/5.0"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"Teamwork"}),t.jsx(Da,{value:80,className:"h-2"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"4.0/5.0"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"Productivity"}),t.jsx(Da,{value:86,className:"h-2"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"4.3/5.0"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"Punctuality"}),t.jsx(Da,{value:96,className:"h-2"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"4.8/5.0"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"Knowledge"}),t.jsx(Da,{value:76,className:"h-2"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"3.8/5.0"})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-green-600 mb-2",children:"Achievements"}),t.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsx("li",{children:" Completed Advanced Pharmacy Technician Certification"}),t.jsx("li",{children:" Reduced prescription processing time by 15%"}),t.jsx("li",{children:" Zero medication errors for 6 months"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-yellow-600 mb-2",children:"Areas for Improvement"}),t.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsx("li",{children:" Expand knowledge of new drug interactions"}),t.jsx("li",{children:" Improve inventory management skills"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-blue-600 mb-2",children:"Goals"}),t.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsx("li",{children:" Complete specialized training in compounding"}),t.jsx("li",{children:" Mentor new pharmacy technicians"}),t.jsx("li",{children:" Achieve 98% customer satisfaction rating"})]})]})]})]})})]})}),t.jsx($e,{value:"deliveries",className:"space-y-4",children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Active Deliveries"}),t.jsx(Et,{children:"Current delivery status and tracking"})]}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:EN.map(a=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(fn,{className:"h-5 w-5 text-muted-foreground"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:a.customerName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.driverName}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",a.totalAmount.toFixed(2)," | ",a.items.length," items"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-medium",children:a.route}),t.jsx("p",{className:"text-xs text-muted-foreground",children:a.orderId})]}),s(a.status)]})]},a.id))})})]}),t.jsxs(T,{children:[t.jsxs(z,{children:[t.jsx(B,{children:"Delivery Routes"}),t.jsx(Et,{children:"Route optimization and management"})]}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"font-medium",children:"Route A - Downtown"}),t.jsx(te,{variant:"success",children:"Active"})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Central business district and nearby residential areas"}),t.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[t.jsx("span",{children:"25 miles"}),t.jsx("span",{children:"4-6 hours"}),t.jsx("span",{children:"8 deliveries"})]})]}),t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"font-medium",children:"Route B - Suburbs North"}),t.jsx(te,{variant:"success",children:"Active"})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Northern suburban areas and residential neighborhoods"}),t.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[t.jsx("span",{children:"35 miles"}),t.jsx("span",{children:"5-7 hours"}),t.jsx("span",{children:"12 deliveries"})]})]}),t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"font-medium",children:"Route C - Industrial"}),t.jsx(te,{variant:"success",children:"Active"})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Industrial district and commercial areas"}),t.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[t.jsx("span",{children:"20 miles"}),t.jsx("span",{children:"3-5 hours"}),t.jsx("span",{children:"6 deliveries"})]})]})]})})]})]})})]})]})}function PSe(){const[e,r]=g.useState({lowStockThreshold:10,criticalStockThreshold:5,autoReorder:!0,reorderQuantity:50,expiryWarningDays:30,criticalExpiryDays:7,enableExpiryAlerts:!0,removeExpiredFromSales:!0,defaultMarkupPercent:25,allowNegativeStock:!1,trackLotNumbers:!0,requireApprovalForOrders:!0,stockAlerts:!0,expiryAlerts:!0,orderAlerts:!0,emailNotifications:!1}),[n,s]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState(!0),[c,d]=g.useState(!1),[u,m]=g.useState(!1),[h,p]=g.useState(null);g.useState(null);const{toast:y}=Tt();Ag();const[f,v]=g.useState({name:"",description:"",parent:"",is_active:!0}),[j,x]=g.useState({name:"",contact_person:"",phone:"",email:"",address:"",website:"",license_number:"",is_active:!0});g.useEffect(()=>{b()},[]);const b=async()=>{try{l(!0);const[E,F]=await Promise.all([hs.getCategories(),hs.getManufacturers()]);E.success&&s(E.data||[]),F.success&&i(F.data||[])}catch(E){console.error("Failed to load data:",E),y({title:"Error",description:"Failed to load categories and manufacturers",variant:"destructive"})}finally{l(!1)}},S=E=>{r(F=>({...F,[E]:!F[E]}))},w=(E,F)=>{r(G=>({...G,[E]:F}))},N=async()=>{if(!f.name.trim()){y({title:"Error",description:"Category name is required",variant:"destructive"});return}try{const E={name:f.name,description:f.description,parent:f.parent||null,is_active:f.is_active,organization:1},F=await hs.createCategory(E);F.success?(y({title:"Success",description:"Category added successfully"}),d(!1),A(),b()):y({title:"Error",description:F.message||"Failed to add category",variant:"destructive"})}catch{y({title:"Error",description:"Failed to add category",variant:"destructive"})}},P=E=>{var F;p(E),v({name:E.name,description:E.description||"",parent:((F=E.parent)==null?void 0:F.toString())||"",is_active:E.is_active}),d(!0)},_=async()=>{if(!(!h||!f.name.trim()))try{const E={name:f.name,description:f.description,parent:f.parent?parseInt(f.parent):null,is_active:f.is_active,organization:1},F=await hs.updateCategory(h.id,E);if(F.success){const G=F.data||{...h,...E};s(D=>D.map(J=>J.id===h.id?G:J)),y({title:"Success",description:"Category updated successfully"}),d(!1),A(),p(null)}}catch{y({title:"Error",description:"Failed to update category",variant:"destructive"})}},C=async E=>{if(confirm("Are you sure you want to delete this category?"))try{(await hs.deleteCategory(E)).success&&(s(G=>G.filter(D=>D.id!==E)),y({title:"Success",description:"Category deleted successfully"}))}catch{y({title:"Error",description:"Failed to delete category",variant:"destructive"})}},A=()=>{v({name:"",description:"",parent:"",is_active:!0})},M=async()=>{if(!j.name.trim()){y({title:"Error",description:"Manufacturer name is required",variant:"destructive"});return}try{const E={name:j.name,contact_person:j.contact_person,phone:j.phone,email:j.email,address:j.address,website:j.website,license_number:j.license_number,is_active:j.is_active,organization:1};(await hs.createManufacturer(E)).success&&(y({title:"Success",description:"Manufacturer added successfully"}),m(!1),R(),b())}catch{y({title:"Error",description:"Failed to add manufacturer",variant:"destructive"})}},R=()=>{x({name:"",contact_person:"",phone:"",email:"",address:"",website:"",license_number:"",is_active:!0})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Inventory Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure inventory management preferences and manage categories"})]}),t.jsxs(O,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(Ni,{size:16,className:"mr-2"}),"Save Settings"]})]}),t.jsxs(Or,{defaultValue:"general",className:"space-y-6",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-3",children:[t.jsx(Oe,{value:"general",children:"General Settings"}),t.jsx(Oe,{value:"categories",children:"Categories"}),t.jsx(Oe,{value:"manufacturers",children:"Manufacturers"})]}),t.jsx($e,{value:"general",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(vt,{className:"mr-2 text-primary",size:20}),"Stock Management"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Low Stock Threshold"}),t.jsx(Z,{type:"number",value:e.lowStockThreshold,onChange:E=>w("lowStockThreshold",parseInt(E.target.value)),className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Alert when stock falls below this level"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Critical Stock Threshold"}),t.jsx(Z,{type:"number",value:e.criticalStockThreshold,onChange:E=>w("criticalStockThreshold",parseInt(E.target.value)),className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Urgent alert when stock falls below this level"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Auto Reorder"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically suggest reorders for low stock"})]}),t.jsx(ot,{checked:e.autoReorder,onCheckedChange:()=>S("autoReorder")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Reorder Quantity"}),t.jsx(Z,{type:"number",value:e.reorderQuantity,onChange:E=>w("reorderQuantity",parseInt(E.target.value)),className:"mt-1"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Allow Negative Stock"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow sales even when out of stock"})]}),t.jsx(ot,{checked:e.allowNegativeStock,onCheckedChange:()=>S("allowNegativeStock")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(Ot,{className:"mr-2 text-warning",size:20}),"Expiry Management"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Expiry Warning (Days)"}),t.jsx(Z,{type:"number",value:e.expiryWarningDays,onChange:E=>w("expiryWarningDays",parseInt(E.target.value)),className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Warn when products expire within this many days"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Critical Expiry Warning (Days)"}),t.jsx(Z,{type:"number",value:e.criticalExpiryDays,onChange:E=>w("criticalExpiryDays",parseInt(E.target.value)),className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Urgent alert for near-expiry products"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Enable Expiry Alerts"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive notifications for expiring products"})]}),t.jsx(ot,{checked:e.enableExpiryAlerts,onCheckedChange:()=>S("enableExpiryAlerts")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Remove Expired from Sales"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically hide expired products from POS"})]}),t.jsx(ot,{checked:e.removeExpiredFromSales,onCheckedChange:()=>S("removeExpiredFromSales")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(ht,{className:"mr-2 text-success",size:20}),"Cost & Pricing"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Markup (%)"}),t.jsx(Z,{type:"number",step:"0.1",value:e.defaultMarkupPercent,onChange:E=>w("defaultMarkupPercent",parseFloat(E.target.value)),className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Default markup percentage for new products"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Track Lot Numbers"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Track inventory by lot/batch numbers"})]}),t.jsx(ot,{checked:e.trackLotNumbers,onCheckedChange:()=>S("trackLotNumbers")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Require Order Approval"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Purchase orders need manager approval"})]}),t.jsx(ot,{checked:e.requireApprovalForOrders,onCheckedChange:()=>S("requireApprovalForOrders")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(Sl,{className:"mr-2 text-primary",size:20}),"Notifications"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Stock Alerts"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Notifications for low/critical stock"})]}),t.jsx(ot,{checked:e.stockAlerts,onCheckedChange:()=>S("stockAlerts")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Expiry Alerts"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Notifications for expiring products"})]}),t.jsx(ot,{checked:e.expiryAlerts,onCheckedChange:()=>S("expiryAlerts")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Order Alerts"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Notifications for order status changes"})]}),t.jsx(ot,{checked:e.orderAlerts,onCheckedChange:()=>S("orderAlerts")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Email Notifications"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Send alerts via email"})]}),t.jsx(ot,{checked:e.emailNotifications,onCheckedChange:()=>S("emailNotifications")})]})]})]})]})}),t.jsx($e,{value:"categories",className:"space-y-6",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center justify-between text-card-foreground",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(cn,{className:"mr-2 text-primary",size:20}),"Product Categories"]}),t.jsxs(rt,{open:c,onOpenChange:d,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{onClick:()=>{p(null),A()},children:[t.jsx(zt,{size:16,className:"mr-2"}),"Add Category"]})}),t.jsxs(nt,{children:[t.jsxs(st,{children:[t.jsx(at,{children:h?"Edit Category":"Add New Category"}),t.jsx(Pt,{children:h?"Update category information":"Create a new product category"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(I,{htmlFor:"category-name",className:"text-right",children:"Name"}),t.jsx(Z,{id:"category-name",value:f.name,onChange:E=>v({...f,name:E.target.value}),className:"col-span-3"})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(I,{htmlFor:"category-description",className:"text-right",children:"Description"}),t.jsx(Vt,{id:"category-description",value:f.description,onChange:E=>v({...f,description:E.target.value}),className:"col-span-3",rows:3})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(I,{htmlFor:"category-parent",className:"text-right",children:"Parent Category"}),t.jsxs(_e,{value:f.parent||"none",onValueChange:E=>v({...f,parent:E==="none"?"":E}),children:[t.jsx(Pe,{className:"col-span-3",children:t.jsx(Ae,{placeholder:"Select parent category (optional)"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"none",children:"None"}),n.filter(E=>E.id!==(h==null?void 0:h.id)).map(E=>t.jsx($,{value:E.id.toString(),children:E.name},E.id))]})]})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(I,{className:"text-right",children:"Active"}),t.jsx("div",{className:"col-span-3",children:t.jsx(ot,{checked:f.is_active,onCheckedChange:E=>v({...f,is_active:E})})})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),t.jsxs(O,{onClick:h?_:N,children:[h?"Update":"Add"," Category"]})]})]})]})]})}),t.jsx(k,{children:o?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Name"}),t.jsx(H,{children:"Description"}),t.jsx(H,{children:"Parent"}),t.jsx(H,{children:"Status"}),t.jsx(H,{children:"Actions"})]})}),t.jsx(At,{children:n.map(E=>{var F;return t.jsxs(Ie,{children:[t.jsx(V,{className:"font-medium",children:E.name}),t.jsx(V,{children:E.description||"-"}),t.jsx(V,{children:E.parent?(F=n.find(G=>G.id===E.parent))==null?void 0:F.name:"-"}),t.jsx(V,{children:t.jsx(te,{variant:E.is_active?"default":"secondary",children:E.is_active?"Active":"Inactive"})}),t.jsx(V,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(O,{size:"sm",variant:"outline",onClick:()=>P(E),children:[t.jsx(hn,{size:12,className:"mr-1"}),"Edit"]}),t.jsxs(O,{size:"sm",variant:"outline",onClick:()=>C(E.id),children:[t.jsx(ss,{size:12,className:"mr-1"}),"Delete"]})]})})]},E.id)})})]})})]})}),t.jsx($e,{value:"manufacturers",className:"space-y-6",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center justify-between text-card-foreground",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(cn,{className:"mr-2 text-primary",size:20}),"Manufacturers"]}),t.jsxs(rt,{open:u,onOpenChange:m,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{onClick:()=>R(),children:[t.jsx(zt,{size:16,className:"mr-2"}),"Add Manufacturer"]})}),t.jsxs(nt,{children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Manufacturer"}),t.jsx(Pt,{children:"Create a new medication manufacturer/supplier"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(I,{htmlFor:"manufacturer-name",className:"text-right",children:"Name *"}),t.jsx(Z,{id:"manufacturer-name",value:j.name,onChange:E=>x({...j,name:E.target.value}),className:"col-span-3"})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(I,{htmlFor:"manufacturer-contact",className:"text-right",children:"Contact Person"}),t.jsx(Z,{id:"manufacturer-contact",value:j.contact_person,onChange:E=>x({...j,contact_person:E.target.value}),className:"col-span-3"})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(I,{htmlFor:"manufacturer-phone",className:"text-right",children:"Phone"}),t.jsx(Z,{id:"manufacturer-phone",value:j.phone,onChange:E=>x({...j,phone:E.target.value}),className:"col-span-3"})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(I,{htmlFor:"manufacturer-email",className:"text-right",children:"Email"}),t.jsx(Z,{id:"manufacturer-email",type:"email",value:j.email,onChange:E=>x({...j,email:E.target.value}),className:"col-span-3"})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(I,{htmlFor:"manufacturer-address",className:"text-right",children:"Address"}),t.jsx(Vt,{id:"manufacturer-address",value:j.address,onChange:E=>x({...j,address:E.target.value}),className:"col-span-3",rows:2})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(I,{htmlFor:"manufacturer-website",className:"text-right",children:"Website"}),t.jsx(Z,{id:"manufacturer-website",value:j.website,onChange:E=>x({...j,website:E.target.value}),className:"col-span-3"})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(I,{htmlFor:"manufacturer-license",className:"text-right",children:"License Number"}),t.jsx(Z,{id:"manufacturer-license",value:j.license_number,onChange:E=>x({...j,license_number:E.target.value}),className:"col-span-3"})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(I,{className:"text-right",children:"Active"}),t.jsx("div",{className:"col-span-3",children:t.jsx(ot,{checked:j.is_active,onCheckedChange:E=>x({...j,is_active:E})})})]})]}),t.jsxs(jr,{children:[t.jsx(O,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),t.jsx(O,{onClick:M,children:"Add Manufacturer"})]})]})]})]})}),t.jsx(k,{children:o?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{children:"Name"}),t.jsx(H,{children:"Contact"}),t.jsx(H,{children:"Phone"}),t.jsx(H,{children:"Email"}),t.jsx(H,{children:"Status"})]})}),t.jsx(At,{children:a.map(E=>t.jsxs(Ie,{children:[t.jsx(V,{className:"font-medium",children:E.name}),t.jsx(V,{children:E.contact_person||"-"}),t.jsx(V,{children:E.phone||"-"}),t.jsx(V,{children:E.email||"-"}),t.jsx(V,{children:t.jsx(te,{variant:E.is_active?"default":"secondary",children:E.is_active?"Active":"Inactive"})})]},E.id))})]})})]})})]})]})}function v6({data:e,searchFields:r,filterFn:n}){const[s,a]=g.useState(""),[i,o]=g.useState({}),[l,c]=g.useState(""),[d,u]=g.useState("asc"),m=g.useMemo(()=>{let f=e;return s&&(f=f.filter(v=>r.some(j=>{const x=v[j];return x&&String(x).toLowerCase().includes(s.toLowerCase())}))),n&&Object.keys(i).length>0&&(f=f.filter(v=>n(v,i))),l&&(f=[...f].sort((v,j)=>{const x=v[l],b=j[l];if(x===void 0||b===void 0)return 0;let S=0;return x>b?S=1:x<b&&(S=-1),d==="desc"?-S:S})),f},[e,s,i,l,d,r,n]);return{searchTerm:s,setSearchTerm:a,filters:i,setFilters:o,updateFilter:(f,v)=>{o(j=>({...j,[f]:v}))},removeFilter:f=>{o(v=>{const j={...v};return delete j[f],j})},sortBy:l,setSortBy:c,sortOrder:d,setSortOrder:u,filteredData:m,clearSearch:()=>{a(""),o({}),c(""),u("asc")},resultCount:m.length,totalCount:e.length}}const oc=[{id:"1",name:"Office Supplies",description:"Paper, pens, printing materials",budget:2e3,spent:1450,transactions:23,color:"blue",isActive:!0},{id:"2",name:"Medical Equipment",description:"Thermometers, blood pressure monitors",budget:5e3,spent:3200,transactions:8,color:"green",isActive:!0},{id:"3",name:"Marketing",description:"Advertising, promotional materials",budget:1500,spent:890,transactions:12,color:"purple",isActive:!0},{id:"4",name:"Utilities",description:"Electricity, water, internet",budget:3e3,spent:2750,transactions:6,color:"orange",isActive:!0}];function CSe(){const[e,r]=g.useState(!1),{searchTerm:n,setSearchTerm:s,filteredData:a}=v6({data:oc,searchFields:["name","description"]}),i=(o,l)=>{const c=o/l*100;return c>=90?{variant:"destructive",label:"Over Budget"}:c>=75?{variant:"secondary",label:"High Usage"}:{variant:"default",label:"On Track"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Expense Categories"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage and organize expense categories"})]}),t.jsxs(O,{onClick:()=>r(!0),children:[t.jsx(zt,{size:16,className:"mr-2"}),"Add Category"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Categories"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:oc.length})]}),t.jsx(jB,{className:"text-primary",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Budget"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",oc.reduce((o,l)=>o+l.budget,0).toLocaleString()]})]}),t.jsx(Op,{className:"text-success",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spent"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",oc.reduce((o,l)=>o+l.spent,0).toLocaleString()]})]}),t.jsx(ht,{className:"text-warning",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Usage"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Math.round(oc.reduce((o,l)=>o+l.spent/l.budget,0)/oc.length*100),"%"]})]}),t.jsx(ft,{className:"text-primary",size:24})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:16}),t.jsx(Z,{placeholder:"Search categories...",value:n,onChange:o=>s(o.target.value),className:"pl-10"})]})})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(o=>{const l=i(o.spent,o.budget),c=Math.round(o.spent/o.budget*100);return t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs(B,{className:"text-card-foreground flex items-center",children:[t.jsx("div",{className:`w-3 h-3 rounded-full bg-${o.color}-500 mr-2`}),o.name]}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:o.description})]}),t.jsx(te,{variant:l.variant,children:l.label})]})}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-muted-foreground",children:"Budget Usage"}),t.jsxs("span",{className:"text-foreground",children:[c,"%"]})]}),t.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full ${c>=90?"bg-destructive":c>=75?"bg-warning":"bg-primary"}`,style:{width:`${Math.min(c,100)}%`}})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Budget"}),t.jsxs("p",{className:"font-medium text-foreground",children:["$",o.budget.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Spent"}),t.jsxs("p",{className:"font-medium text-foreground",children:["$",o.spent.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Remaining"}),t.jsxs("p",{className:"font-medium text-foreground",children:["$",(o.budget-o.spent).toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Transactions"}),t.jsx("p",{className:"font-medium text-foreground",children:o.transactions})]})]}),t.jsxs("div",{className:"flex justify-between pt-2 border-t border-border",children:[t.jsxs(O,{variant:"outline",size:"sm",children:[t.jsx(hn,{size:14,className:"mr-1"}),"Edit"]}),t.jsxs(O,{variant:"destructive",size:"sm",children:[t.jsx(ss,{size:14,className:"mr-1"}),"Delete"]})]})]})})]},o.id)})})]})}const lc=[{id:"EXP-001",submittedBy:"John Doe",category:"Office Supplies",amount:450.75,description:"Monthly office supplies - paper, pens, folders",date:"2024-01-13",receipt:"receipt_001.pdf",status:"pending",urgency:"normal",submittedDate:"2024-01-13"},{id:"EXP-002",submittedBy:"Jane Smith",category:"Medical Equipment",amount:1250,description:"New blood pressure monitor for patient care",date:"2024-01-12",receipt:"receipt_002.pdf",status:"pending",urgency:"high",submittedDate:"2024-01-12"},{id:"EXP-003",submittedBy:"Mike Wilson",category:"Marketing",amount:320.5,description:"Social media advertising campaign",date:"2024-01-11",receipt:"receipt_003.pdf",status:"pending",urgency:"low",submittedDate:"2024-01-11"}];function _Se(){const[e,r]=g.useState(null),[n,s]=g.useState(""),{searchTerm:a,setSearchTerm:i,filteredData:o}=v6({data:lc,searchFields:["id","submittedBy","category","description"]}),l=d=>{const u={high:"destructive",normal:"default",low:"outline"};return t.jsx(te,{variant:u[d],children:d.toUpperCase()})},c=(d,u)=>{console.log(`${u} expense ${d} with notes: ${n}`),r(null),s("")};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Expense Approval"}),t.jsx("p",{className:"text-muted-foreground",children:"Review and approve pending expense claims"})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Approval"}),t.jsx("p",{className:"text-2xl font-bold text-warning",children:lc.length})]}),t.jsx(Ut,{className:"text-warning",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",lc.reduce((d,u)=>d+u.amount,0).toLocaleString()]})]}),t.jsx(ht,{className:"text-success",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"High Priority"}),t.jsx("p",{className:"text-2xl font-bold text-destructive",children:lc.filter(d=>d.urgency==="high").length})]}),t.jsx(mt,{className:"text-destructive",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Amount"}),t.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",Math.round(lc.reduce((d,u)=>d+u.amount,0)/lc.length)]})]}),t.jsx(ht,{className:"text-primary",size:24})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(B,{className:"text-card-foreground",children:"Pending Expenses"}),t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:16}),t.jsx(Z,{placeholder:"Search expenses...",value:a,onChange:d=>i(d.target.value),className:"pl-10 w-64"})]})]})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:o.map(d=>t.jsx("div",{className:"p-4 border border-border rounded-lg hover:bg-panel cursor-pointer transition-colors",onClick:()=>r(d),children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h4",{className:"font-medium text-foreground",children:d.id}),l(d.urgency)]}),t.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[t.jsx("p",{className:"text-foreground font-medium",children:d.description}),t.jsxs("div",{className:"flex items-center",children:[t.jsxs("span",{children:["By: ",d.submittedBy]}),t.jsx("span",{className:"mx-2",children:""}),t.jsx("span",{children:d.category})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ot,{size:14,className:"mr-1"}),t.jsxs("span",{children:["Submitted: ",d.submittedDate]})]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-xl font-bold text-foreground",children:["$",d.amount.toFixed(2)]}),t.jsxs("div",{className:"flex space-x-1 mt-2",children:[t.jsxs(O,{size:"sm",className:"bg-success hover:bg-success-hover",onClick:u=>{u.stopPropagation(),c(d.id,"approve")},children:[t.jsx(mt,{size:14,className:"mr-1"}),"Approve"]}),t.jsxs(O,{size:"sm",variant:"destructive",onClick:u=>{u.stopPropagation(),c(d.id,"reject")},children:[t.jsx(ga,{size:14,className:"mr-1"}),"Reject"]})]})]})]})},d.id))})})]})}),t.jsx("div",{className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:e?"Expense Details":"Select Expense"})}),t.jsx(k,{children:e?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"font-medium text-foreground",children:e.id}),l(e.urgency)]}),t.jsxs("div",{className:"p-3 bg-panel rounded",children:[t.jsxs("p",{className:"font-medium text-panel-foreground",children:["$",e.amount.toFixed(2)]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e.category})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Description"}),t.jsx("p",{className:"text-sm text-muted-foreground p-3 bg-panel rounded",children:e.description})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Submitted By"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Name:"}),t.jsx("span",{className:"text-foreground",children:e.submittedBy})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Date:"}),t.jsx("span",{className:"text-foreground",children:e.submittedDate})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Receipt:"}),t.jsxs(O,{variant:"outline",size:"sm",children:[t.jsx(yt,{size:12,className:"mr-1"}),"View"]})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Approval Notes"}),t.jsx(Vt,{placeholder:"Add notes for approval/rejection...",value:n,onChange:d=>s(d.target.value),rows:3})]}),t.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[t.jsxs(O,{className:"w-full bg-success hover:bg-success-hover",onClick:()=>c(e.id,"approve"),children:[t.jsx(mt,{size:14,className:"mr-2"}),"Approve Expense"]}),t.jsxs(O,{variant:"destructive",className:"w-full",onClick:()=>c(e.id,"reject"),children:[t.jsx(ga,{size:14,className:"mr-2"}),"Reject Expense"]}),t.jsxs(O,{variant:"outline",className:"w-full",children:[t.jsx($t,{size:14,className:"mr-2"}),"Request More Info"]})]})]}):t.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Select an expense to view details and take action."})})]})})]})]})}const $u=[{month:"Jan",amount:4500,transactions:45},{month:"Feb",amount:3800,transactions:38},{month:"Mar",amount:5200,transactions:52},{month:"Apr",amount:4100,transactions:41},{month:"May",amount:4800,transactions:48},{month:"Jun",amount:5500,transactions:55}],Nj=[{category:"Office Supplies",amount:8900,percentage:32},{category:"Medical Equipment",amount:7200,percentage:26},{category:"Marketing",amount:4800,percentage:17},{category:"Utilities",amount:3500,percentage:13},{category:"Travel",amount:2100,percentage:8},{category:"Other",amount:1100,percentage:4}],ASe=[{id:"EXP-156",category:"Office Supplies",amount:234.5,date:"2024-01-13",status:"approved",submittedBy:"John Doe"},{id:"EXP-155",category:"Medical Equipment",amount:1250,date:"2024-01-12",status:"approved",submittedBy:"Jane Smith"},{id:"EXP-154",category:"Marketing",amount:456.75,date:"2024-01-11",status:"pending",submittedBy:"Mike Wilson"},{id:"EXP-153",category:"Utilities",amount:890,date:"2024-01-10",status:"approved",submittedBy:"Sarah Johnson"}];function TSe(){var o;const[e,r]=g.useState({from:"2024-01-01",to:"2024-01-31"}),[n,s]=g.useState("all"),a=l=>{const c={approved:"default",pending:"secondary",rejected:"destructive"};return t.jsx(te,{variant:c[l],children:l})},i=Nj.reduce((l,c)=>l+c.amount,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Expense Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Analyze spending patterns and generate reports"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{variant:"outline",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export PDF"]}),t.jsxs(O,{variant:"outline",children:[t.jsx(aB,{size:16,className:"mr-2"}),"Export CSV"]})]})]}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"pt-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ot,{size:16,className:"text-muted-foreground"}),t.jsx("span",{className:"text-sm font-medium text-foreground",children:"Date Range:"}),t.jsx(Z,{type:"date",value:e.from,onChange:l=>r({...e,from:l.target.value}),className:"w-40"}),t.jsx("span",{className:"text-muted-foreground",children:"to"}),t.jsx(Z,{type:"date",value:e.to,onChange:l=>r({...e,to:l.target.value}),className:"w-40"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium text-foreground",children:"Category:"}),t.jsxs("select",{value:n,onChange:l=>s(l.target.value),className:"px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[t.jsx("option",{value:"all",children:"All Categories"}),t.jsx("option",{value:"office",children:"Office Supplies"}),t.jsx("option",{value:"medical",children:"Medical Equipment"}),t.jsx("option",{value:"marketing",children:"Marketing"}),t.jsx("option",{value:"utilities",children:"Utilities"})]})]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsxs(k,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Expenses"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",i.toLocaleString()]})]}),t.jsx(ht,{className:"text-primary",size:24})]}),t.jsx("p",{className:"text-xs text-success mt-1",children:"+12% from last month"})]})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsxs(k,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",(o=$u[$u.length-1])==null?void 0:o.amount.toLocaleString()]})]}),t.jsx(ft,{className:"text-success",size:24})]}),t.jsx("p",{className:"text-xs text-warning mt-1",children:"+8% from last month"})]})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsxs(k,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. per Transaction"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",Math.round(i/$u.reduce((l,c)=>l+c.transactions,0))]})]}),t.jsx(ir,{className:"text-warning",size:24})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Based on recent data"})]})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsxs(k,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Categories"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:Nj.length})]}),t.jsx(ci,{className:"text-primary",size:24})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active categories"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(ir,{className:"mr-2 text-primary",size:20}),"Monthly Expense Trend"]})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:$u.map((l,c)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"w-12 text-sm text-muted-foreground",children:l.month}),t.jsx("div",{className:"flex-1 mx-4",children:t.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsx("div",{className:"h-2 bg-primary rounded-full",style:{width:`${l.amount/Math.max(...$u.map(d=>d.amount))*100}%`}})})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium text-foreground",children:["$",l.amount.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.transactions," transactions"]})]})]},l.month))})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(ci,{className:"mr-2 text-success",size:20}),"Expense by Category"]})}),t.jsx(k,{children:t.jsx("div",{className:"space-y-4",children:Nj.map((l,c)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:`hsl(${c*60}, 70%, 50%)`}}),t.jsx("span",{className:"text-sm text-foreground",children:l.category})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium text-foreground",children:["$",l.amount.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.percentage,"%"]})]})]},l.category))})})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsx(B,{className:"text-card-foreground",children:"Recent Expenses"})}),t.jsx(k,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Expense ID"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Category"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Amount"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Date"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Submitted By"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Status"})]})}),t.jsx("tbody",{children:ASe.map(l=>t.jsxs("tr",{className:"border-b border-border hover:bg-panel transition-colors",children:[t.jsx("td",{className:"py-3 px-4",children:t.jsx("p",{className:"font-medium text-primary",children:l.id})}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:l.category}),t.jsxs("td",{className:"py-3 px-4 font-medium text-foreground",children:["$",l.amount.toFixed(2)]}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:l.date}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:l.submittedBy}),t.jsx("td",{className:"py-3 px-4",children:a(l.status)})]},l.id))})]})})})]})]})}function kSe(){const[e,r]=g.useState({requireApproval:!0,approvalThreshold:500,autoApproveBelow:100,requireReceipts:!0,enableBudgetLimits:!0,budgetWarningPercent:80,budgetLimitPercent:100,monthlyBudgetReset:!0,approvalNotifications:!0,budgetAlerts:!0,expiryReminders:!0,weeklyReports:!1,mileageRate:.65,perDiemRate:75,maxMealAmount:50,receiptRetentionDays:365}),n=a=>{r(i=>({...i,[a]:!i[a]}))},s=(a,i)=>{r(o=>({...o,[a]:i}))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Expense Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure expense management policies and limits"})]}),t.jsxs(O,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(Ni,{size:16,className:"mr-2"}),"Save Settings"]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(mt,{className:"mr-2 text-primary",size:20}),"Approval Workflow"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Require Approval"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"All expenses need manager approval"})]}),t.jsx(ot,{checked:e.requireApproval,onCheckedChange:()=>n("requireApproval")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Approval Threshold ($)"}),t.jsx(Z,{type:"number",value:e.approvalThreshold,onChange:a=>s("approvalThreshold",parseFloat(a.target.value)),className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Expenses above this amount require approval"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Auto-approve Below ($)"}),t.jsx(Z,{type:"number",value:e.autoApproveBelow,onChange:a=>s("autoApproveBelow",parseFloat(a.target.value)),className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically approve small expenses"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Require Receipts"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Mandatory receipt upload for all expenses"})]}),t.jsx(ot,{checked:e.requireReceipts,onCheckedChange:()=>n("requireReceipts")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(ht,{className:"mr-2 text-success",size:20}),"Budget Management"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Enable Budget Limits"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Enforce category budget limits"})]}),t.jsx(ot,{checked:e.enableBudgetLimits,onCheckedChange:()=>n("enableBudgetLimits")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Budget Warning (%)"}),t.jsx(Z,{type:"number",value:e.budgetWarningPercent,onChange:a=>s("budgetWarningPercent",parseInt(a.target.value)),className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Warn when reaching this percentage of budget"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Budget Limit (%)"}),t.jsx(Z,{type:"number",value:e.budgetLimitPercent,onChange:a=>s("budgetLimitPercent",parseInt(a.target.value)),className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Block expenses when exceeding this percentage"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Monthly Budget Reset"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Reset budget limits every month"})]}),t.jsx(ot,{checked:e.monthlyBudgetReset,onCheckedChange:()=>n("monthlyBudgetReset")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(Sl,{className:"mr-2 text-warning",size:20}),"Notifications"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Approval Notifications"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Notify when expenses need approval"})]}),t.jsx(ot,{checked:e.approvalNotifications,onCheckedChange:()=>n("approvalNotifications")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Budget Alerts"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Alert when approaching budget limits"})]}),t.jsx(ot,{checked:e.budgetAlerts,onCheckedChange:()=>n("budgetAlerts")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Receipt Expiry Reminders"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Remind to submit receipts before expiry"})]}),t.jsx(ot,{checked:e.expiryReminders,onCheckedChange:()=>n("expiryReminders")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Weekly Reports"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Send weekly expense summary emails"})]}),t.jsx(ot,{checked:e.weeklyReports,onCheckedChange:()=>n("weeklyReports")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(cn,{className:"mr-2 text-primary",size:20}),"Expense Policies"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Mileage Rate ($/mile)"}),t.jsx(Z,{type:"number",step:"0.01",value:e.mileageRate,onChange:a=>s("mileageRate",parseFloat(a.target.value)),className:"mt-1"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Per Diem Rate ($/day)"}),t.jsx(Z,{type:"number",value:e.perDiemRate,onChange:a=>s("perDiemRate",parseFloat(a.target.value)),className:"mt-1"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Max Meal Amount ($)"}),t.jsx(Z,{type:"number",value:e.maxMealAmount,onChange:a=>s("maxMealAmount",parseFloat(a.target.value)),className:"mt-1"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Receipt Retention (Days)"}),t.jsx(Z,{type:"number",value:e.receiptRetentionDays,onChange:a=>s("receiptRetentionDays",parseInt(a.target.value)),className:"mt-1"})]})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(Wn,{className:"mr-2 text-success",size:20}),"Accepted Payment Methods"]})}),t.jsx(k,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Cards"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Corporate Credit Card"}),t.jsx(te,{variant:"default",children:"Allowed"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Personal Cards"}),t.jsx(te,{variant:"outline",children:"Reimbursable"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Cash & Check"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Cash Payments"}),t.jsx(te,{variant:"default",children:"Allowed"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Personal Checks"}),t.jsx(te,{variant:"outline",children:"Reimbursable"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Digital"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Digital Wallets"}),t.jsx(te,{variant:"default",children:"Allowed"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Online Banking"}),t.jsx(te,{variant:"default",children:"Allowed"})]})]})]})]})})]})]})}function ESe(){return t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Supplier Orders"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage orders from suppliers"})]})}function OSe(){const[e,r]=g.useState(!1),[n,s]=g.useState("30"),[a,i]=g.useState("overview"),{toast:o}=Tt(),l=async()=>{r(!0),setTimeout(()=>{r(!1),o({title:"Report Generated",description:"Supplier report has been generated successfully."})},2e3)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Supplier Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Analytics and insights on supplier performance"})]}),t.jsxs(O,{onClick:l,disabled:e,children:[t.jsx(bt,{size:16,className:"mr-2"}),e?"Generating...":"Export Report"]})]}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select report type"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"overview",children:"Overview"}),t.jsx($,{value:"performance",children:"Performance"}),t.jsx($,{value:"orders",children:"Order Analysis"}),t.jsx($,{value:"financial",children:"Financial"})]})]})}),t.jsx("div",{className:"flex-1",children:t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select date range"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"7",children:"Last 7 days"}),t.jsx($,{value:"30",children:"Last 30 days"}),t.jsx($,{value:"90",children:"Last 3 months"}),t.jsx($,{value:"365",children:"Last year"})]})]})}),t.jsxs(O,{variant:"outline",children:[t.jsx(ba,{size:16,className:"mr-2"}),"More Filters"]})]})})}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ht,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:"NPR 0"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Purchases"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:"0"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ft,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:"0%"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Growth Rate"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ir,{className:"h-5 w-5 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:"0"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Order Value"})]})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(ci,{size:20}),"Top Suppliers by Volume"]})}),t.jsx(k,{children:t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No data available for the selected period"})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(ir,{size:20}),"Order Trends"]})}),t.jsx(k,{children:t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No data available for the selected period"})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(ht,{size:20}),"Payment Analysis"]})}),t.jsx(k,{children:t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No data available for the selected period"})})]}),t.jsxs(T,{children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(Ot,{size:20}),"Delivery Performance"]})}),t.jsx(k,{children:t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No data available for the selected period"})})]})]})]})}function RSe(){var j;const[e,r]=g.useState([]),[n,s]=g.useState(!0),[a,i]=g.useState(""),[o,l]=g.useState("all"),[c,d]=g.useState("all"),[u,m]=g.useState({totalCredit:0,totalSuppliers:0}),{toast:h}=Tt(),p=async()=>{try{s(!0);const x=localStorage.getItem("access_token")||localStorage.getItem("token"),b=await fetch("http://localhost:8000/api/inventory/supplier-ledger/suppliers/",{headers:{"Content-Type":"application/json",...x&&{Authorization:`Bearer ${x}`}}}),S=await fetch("http://localhost:8000/api/auth/users/?role=supplier_admin&has_transactions=true",{headers:{"Content-Type":"application/json",...x&&{Authorization:`Bearer ${x}`}}}),w=await fetch("http://localhost:8000/api/inventory/supplier-ledger/summary/",{headers:{"Content-Type":"application/json",...x&&{Authorization:`Bearer ${x}`}}});let N=[],P=[],_=[];b.ok&&(P=await b.json()),S.ok&&(_=(await S.json()).results||[]);const C=new Map;if(P.forEach(A=>{const M=A.supplier_name,R=_.find(E=>`${E.first_name} ${E.last_name}`.trim()===M||E.organization_name===M);if(R){const E=R.id;C.has(E)||C.set(E,{...R,supplier_type:"pharmacy",total_credit:A.total_credit,pending_credit:A.pending_credit})}else{const E=`custom_${M.replace(/\s+/g,"_")}`;C.has(E)||C.set(E,{id:E,first_name:M.split(" ")[0]||"",last_name:M.split(" ").slice(1).join(" ")||"",organization_name:M,email:"N/A",phone:"N/A",supplier_type:"custom",is_active:!0,total_credit:A.total_credit,pending_credit:A.pending_credit})}}),N=Array.from(C.values()),console.log("Final suppliers list:",N),r(N),w.ok){const A=await w.json();m(A)}}catch(x){console.error("Error fetching suppliers:",x),h({title:"Error",description:"Failed to load suppliers with transaction history",variant:"destructive"})}finally{s(!1)}};g.useEffect(()=>{p()},[]);const y=e.filter(x=>{var N,P,_,C,A;const b=((N=x.first_name)==null?void 0:N.toLowerCase().includes(a.toLowerCase()))||((P=x.last_name)==null?void 0:P.toLowerCase().includes(a.toLowerCase()))||((_=x.organization_name)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))||((C=x.email)==null?void 0:C.toLowerCase().includes(a.toLowerCase()))||((A=x.branch_name)==null?void 0:A.toLowerCase().includes(a.toLowerCase())),S=o==="all"||o==="organization"&&x.organization_name||o==="branch"&&x.branch_name||o==="name"&&(x.first_name||x.last_name),w=c==="all"||c==="pharmacy"&&x.supplier_type==="pharmacy"||c==="custom"&&x.supplier_type==="custom";return b&&S&&w}),f=e.filter(x=>x.supplier_type==="pharmacy"),v=e.filter(x=>x.supplier_type==="custom");return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Supplier Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage suppliers with transaction history for your branch"})]}),t.jsxs(O,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Add Supplier"]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(F4,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:e.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Suppliers"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Bs,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:f.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pharmacy Suppliers"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(On,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:v.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Custom Suppliers"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ht,{className:"h-5 w-5 text-orange-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold",children:["NPR ",((j=u.totalCredit)==null?void 0:j.toLocaleString())||"0"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Pending Credit"})]})]})})})]}),t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Z,{placeholder:"Search suppliers by name, organization, branch, or email...",value:a,onChange:x=>i(x.target.value),className:"pl-10"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(ba,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsxs(_e,{value:o,onValueChange:l,children:[t.jsx(Pe,{className:"pl-10",children:t.jsx(Ae,{placeholder:"Filter by..."})}),t.jsxs(Ce,{children:[t.jsx($,{value:"all",children:"All Suppliers"}),t.jsx($,{value:"organization",children:"By Organization"}),t.jsx($,{value:"branch",children:"By Branch"}),t.jsx($,{value:"name",children:"By Name"})]})]})]})]})})}),t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-lg",children:["Suppliers (",y.length,")"]})}),t.jsx(k,{children:t.jsxs(Or,{value:c,onValueChange:d,className:"w-full",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-3 bg-muted/50 border border-border rounded-lg p-1 h-8",children:[t.jsxs(Oe,{value:"all",className:"text-xs h-6 data-[state=active]:bg-background data-[state=active]:shadow-sm",children:["All (",e.length,")"]}),t.jsxs(Oe,{value:"pharmacy",className:"text-xs h-6 data-[state=active]:bg-background data-[state=active]:shadow-sm",children:["Pharmacy (",f.length,")"]}),t.jsxs(Oe,{value:"custom",className:"text-xs h-6 data-[state=active]:bg-background data-[state=active]:shadow-sm",children:["Custom (",v.length,")"]})]}),t.jsx($e,{value:"all",className:"mt-2",children:t.jsx(wj,{suppliers:y,loading:n})}),t.jsx($e,{value:"pharmacy",className:"mt-2",children:t.jsx(wj,{suppliers:y,loading:n})}),t.jsx($e,{value:"custom",className:"mt-2",children:t.jsx(wj,{suppliers:y,loading:n})})]})})]})]})}function wj({suppliers:e,loading:r}){return t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{className:"border-b",children:[t.jsx(H,{className:"text-xs font-medium py-2",children:"Name"}),t.jsx(H,{className:"text-xs font-medium py-2",children:"Organization"}),t.jsx(H,{className:"text-xs font-medium py-2",children:"Branch"}),t.jsx(H,{className:"text-xs font-medium py-2",children:"Contact"}),t.jsx(H,{className:"text-xs font-medium py-2",children:"Type"}),t.jsx(H,{className:"text-xs font-medium py-2",children:"Status"})]})}),t.jsx(At,{children:r?t.jsx(Ie,{children:t.jsx(V,{colSpan:6,className:"text-center py-4 text-xs",children:"Loading suppliers..."})}):e.length===0?t.jsx(Ie,{children:t.jsx(V,{colSpan:6,className:"text-center py-4 text-xs",children:"No suppliers found"})}):e.map(n=>t.jsxs(Ie,{className:"border-b hover:bg-muted/50",children:[t.jsx(V,{className:"py-2",children:t.jsxs("div",{children:[t.jsx(wr,{to:`/suppliers/detail/${n.id}`,className:"text-xs font-medium text-blue-600 hover:underline",children:n.organization_name||`${n.first_name} ${n.last_name}`}),t.jsx("p",{className:"text-xs text-muted-foreground",children:n.email})]})}),t.jsx(V,{className:"py-2 text-xs",children:n.organization_name||"N/A"}),t.jsx(V,{className:"py-2 text-xs",children:n.branch_name||"N/A"}),t.jsx(V,{className:"py-2",children:t.jsxs("div",{className:"space-y-1",children:[n.phone&&t.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[t.jsx(Ld,{size:10}),n.phone]}),n.email&&t.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[t.jsx(Ei,{size:10}),n.email]})]})}),t.jsx(V,{className:"py-2",children:t.jsx(te,{variant:n.supplier_type==="pharmacy"?"default":"secondary",className:"text-xs px-2 py-0",children:n.supplier_type||"Custom"})}),t.jsx(V,{className:"py-2",children:t.jsx(te,{variant:n.is_active?"default":"secondary",className:"text-xs px-2 py-0",children:n.is_active?"Active":"Inactive"})})]},n.id))})]})})}function DSe(){var Q,pe,oe,ze,Fe,tt,lt,me,He,ae,je,W;const{id:e}=e1(),[r,n]=g.useState(""),[s,a]=g.useState(""),[i,o]=g.useState(""),[l,c]=g.useState(!1),[d,u]=g.useState(null),[m,h]=g.useState({transactions:[],summary:{}}),[p,y]=g.useState(!0),{toast:f}=Tt(),[v,j]=g.useState(1),x=10,[b,S]=g.useState(null),[w,N]=g.useState({items:[]}),[P,_]=g.useState(!1),[C,A]=g.useState(1),M=10,[R,E]=g.useState(!1),[F,G]=g.useState(""),[D,J]=g.useState(""),[q,U]=g.useState(!1);g.useEffect(()=>{e&&(async()=>{try{y(!0);const le=localStorage.getItem("access_token")||localStorage.getItem("token");if(e.toString().startsWith("custom_")){const ne=e.toString().replace("custom_","").replace(/_/g," ");u({id:e,first_name:ne.split(" ")[0]||"",last_name:ne.split(" ").slice(1).join(" ")||"",organization_name:ne,email:"N/A",phone:"N/A",address:"N/A",supplier_type:"custom",is_active:!0,joinDate:new Date().toISOString()});const Y=await fetch(`http://localhost:8000/api/inventory/suppliers/custom_${ne.replace(/\s+/g,"_")}/transactions/`,{headers:{"Content-Type":"application/json",...le&&{Authorization:`Bearer ${le}`}}});if(Y.ok){const ce=await Y.json();h({summary:ce.summary||{},transactions:ce.transactions||[]})}else{const ce=await fetch(`http://localhost:8000/api/inventory/supplier-ledger/detail/?supplier_name=${encodeURIComponent(ne)}`,{headers:{"Content-Type":"application/json",...le&&{Authorization:`Bearer ${le}`}}});if(ce.ok){const Ne=await ce.json();h(Ne)}}}else{const ne=await fetch("http://localhost:8000/api/auth/users/?role=supplier_admin",{headers:{"Content-Type":"application/json",...le&&{Authorization:`Bearer ${le}`}}});if(ne.ok){const ce=(await ne.json()).results.find(Ne=>Ne.id===parseInt(e));if(ce){console.log("Supplier data:",ce),u(ce);const Ne=ce.organization_name||`${ce.first_name} ${ce.last_name}`,K=await fetch(`http://localhost:8000/api/inventory/suppliers/${ce.id}/`,{headers:{"Content-Type":"application/json",...le&&{Authorization:`Bearer ${le}`}}});if(K.ok){const de=await K.json();h({summary:de.summary||{},transactions:de.transactions||[]})}}else f({title:"Supplier Not Found",description:"This supplier no longer exists in the system.",variant:"destructive"}),u(null)}else f({title:"Error",description:"Failed to load supplier data",variant:"destructive"}),u(null)}}catch(le){console.error("Error fetching supplier data:",le),f({title:"Error",description:"Failed to load supplier data",variant:"destructive"})}finally{y(!1)}})()},[e]);const re=m.transactions||[],he=re.slice((v-1)*x,v*x),ie=Math.ceil(re.length/x),fe=async se=>{try{_(!0),S(se),A(1);const le=localStorage.getItem("access_token")||localStorage.getItem("token"),ne=await fetch(`http://localhost:8000/api/inventory/transaction-details/?transaction_id=${encodeURIComponent(se.reference_id)}&source_type=${se.source_type}`,{headers:{"Content-Type":"application/json",...le&&{Authorization:`Bearer ${le}`}}});if(ne.ok){const Y=await ne.json();N(Y)}else f({title:"Error",description:"Failed to load transaction details",variant:"destructive"})}catch(le){console.error("Error fetching transaction details:",le),f({title:"Error",description:"Failed to load transaction details",variant:"destructive"})}finally{_(!1)}},xe=w.items.slice((C-1)*M,C*M),ge=Math.ceil(w.items.length/M),Te=()=>{const se=m.transactions||[];return!F&&!D?se:se.filter(le=>{const ne=new Date(le.date),Y=F?new Date(F):new Date("1900-01-01"),ce=D?new Date(D):new Date("2100-12-31");return ne>=Y&&ne<=ce})},Se=()=>{var ce,Ne,K,de,Le;const se=m.transactions||[],le=F||D?Te():se,ne=`
      <html>
        <head>
          <title>Transaction Data</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 10px; font-size: 10px; }
            table { width: 100%; border-collapse: collapse; table-layout: fixed; }
            th, td { border: 1px solid #ddd; padding: 4px; text-align: left; font-size: 9px; word-wrap: break-word; }
            th { background-color: #f5f5f5; font-weight: bold; }
            th:nth-child(1), td:nth-child(1) { width: 12%; } /* Date */
            th:nth-child(2), td:nth-child(2) { width: 25%; } /* Description */
            th:nth-child(3), td:nth-child(3) { width: 13%; } /* Purchase Amount */
            th:nth-child(4), td:nth-child(4) { width: 13%; } /* Payment Made */
            th:nth-child(5), td:nth-child(5) { width: 15%; } /* Payment Method */
            th:nth-child(6), td:nth-child(6) { width: 13%; } /* Remaining Balance */
            th:nth-child(7), td:nth-child(7) { width: 9%; } /* Status */
            @media print { 
              body { margin: 5px; } 
              table { font-size: 8px; }
              th, td { padding: 2px; }
            }
          </style>
        </head>
        <body>
          <div style="margin-bottom: 20px; padding: 10px; border: 1px solid #ddd; background-color: #f9f9f9;">
            <h3 style="margin: 0 0 10px 0; font-size: 14px;">Summary</h3>
            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; font-size: 10px;">
              <div><strong>Total Purchase:</strong><br>NPR ${(((ce=m.summary)==null?void 0:ce.total_purchases)||0).toLocaleString()}</div>
              <div><strong>Total Payment:</strong><br>NPR ${(((Ne=m.summary)==null?void 0:Ne.total_paid)||0).toLocaleString()}</div>
              <div><strong>Remaining Balance:</strong><br>NPR ${(((K=m.summary)==null?void 0:K.total_credit)||0).toLocaleString()}</div>
              <div><strong>Total Orders:</strong><br>${((Le=(de=m.transactions)==null?void 0:de.filter(Ve=>Ve.transaction_type==="purchase"))==null?void 0:Le.length)||0}</div>
            </div>
          </div>
          <table>
            <thead>
              <tr>
                <th>Date</th>
                <th>Description</th>
                <th>Purchase Amount</th>
                <th>Payment Made</th>
                <th>Payment Method</th>
                <th>Remaining Balance</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              ${le.map(Ve=>`
                <tr>
                  <td>${new Date(Ve.date).toLocaleDateString()}</td>
                  <td>${Ve.description}</td>
                  <td>${(Ve.purchase||0)>0?`NPR ${(Ve.purchase||0).toLocaleString()}`:"-"}</td>
                  <td>${(Ve.payment||0)>0?`NPR ${(Ve.payment||0).toLocaleString()}`:"-"}</td>
                  <td>${Ve.transaction_type==="payment"?(Ve.payment_method||"Cash")+(Ve.payment_reference?" - "+Ve.payment_reference:""):"-"}</td>
                  <td>${Ve.transaction_type==="payment"&&(Ve.balance||0)===0?"-":`NPR ${(Ve.balance||0).toLocaleString()}`}</td>
                  <td>${Ve.status}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </body>
      </html>
    `,Y=window.open("","_blank");Y.document.write(ne),Y.document.close(),Y.print(),E(!1)},Ue=()=>{const se=m.transactions||[],le=F||D?Te():se,ne=d.organization_name||`${d.first_name} ${d.last_name}`,Y=[["Date","Description","Purchase Amount","Payment Made","Payment Method","Remaining Balance","Status"],...le.map(de=>[new Date(de.date).toLocaleDateString(),de.description,(de.purchase||0)>0?`NPR ${(de.purchase||0).toLocaleString()}`:"-",(de.payment||0)>0?`NPR ${(de.payment||0).toLocaleString()}`:"-",de.transaction_type==="payment"?(de.payment_method||"Cash")+(de.payment_reference?" - "+de.payment_reference:""):"-",de.transaction_type==="payment"&&(de.balance||0)===0?"-":`NPR ${(de.balance||0).toLocaleString()}`,de.status])].map(de=>de.join(",")).join(`
`),ce=new Blob([Y],{type:"text/csv"}),Ne=window.URL.createObjectURL(ce),K=document.createElement("a");K.href=Ne,K.download=`transactions-${ne.replace(/[^a-zA-Z0-9]/g,"-")}-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(K),K.click(),document.body.removeChild(K),window.URL.revokeObjectURL(Ne),E(!1)},be=async()=>{if(!(!r||!s||!d))try{c(!0);const se=localStorage.getItem("access_token")||localStorage.getItem("token"),le=d.organization_name||`${d.first_name} ${d.last_name}`,ne=await fetch("http://localhost:8000/api/inventory/supplier-payment/",{method:"POST",headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}},body:JSON.stringify({supplier_name:le,payment_amount:parseFloat(r),payment_method:s,payment_reference:i,notes:"Payment recorded from supplier detail page"})});if(ne.ok){const Y=await ne.json();if(f({title:"Payment Recorded",description:`Payment of NPR ${parseFloat(r).toLocaleString()} recorded successfully`}),n(""),a(""),o(""),d.id&&!d.id.toString().startsWith("custom_")){const ce=await fetch(`http://localhost:8000/api/inventory/suppliers/${d.id}/`,{headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}}});if(ce.ok){const Ne=await ce.json();h({summary:Ne.summary||{},transactions:Ne.transactions||[]})}}else{const ce=d.id.toString().replace("custom_","").replace(/_/g," "),Ne=await fetch(`http://localhost:8000/api/inventory/suppliers/custom_${ce.replace(/\s+/g,"_")}/transactions/`,{headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}}});if(Ne.ok){const K=await Ne.json();h({summary:K.summary||{},transactions:K.transactions||[]})}else{const K=await fetch(`http://localhost:8000/api/inventory/supplier-ledger/detail/?supplier_name=${encodeURIComponent(ce)}`,{headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}}});if(K.ok){const de=await K.json();h(de)}}}}else{const Y=await ne.json();f({title:"Payment Failed",description:Y.error||"Failed to record payment",variant:"destructive"})}}catch(se){console.error("Error recording payment:",se),f({title:"Error",description:"Failed to record payment",variant:"destructive"})}finally{c(!1)}};return p?t.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):d?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(O,{variant:"outline",size:"sm",asChild:!0,children:t.jsxs(wr,{to:"/suppliers/management",children:[t.jsx(Ao,{size:16,className:"mr-2"}),"Back"]})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:d.organization_name||`${d.first_name} ${d.last_name}`}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Supplier ID: ",e]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ht,{className:"h-5 w-5 text-red-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold text-red-600",children:["NPR ",((pe=(Q=m.summary)==null?void 0:Q.total_purchases)==null?void 0:pe.toLocaleString())||"0"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Purchase Amount"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Wn,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold text-green-600",children:["NPR ",((ze=(oe=m.summary)==null?void 0:oe.total_paid)==null?void 0:ze.toLocaleString())||"0"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Payment Made"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ft,{className:"h-5 w-5 text-orange-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["NPR ",((tt=(Fe=m.summary)==null?void 0:Fe.total_credit)==null?void 0:tt.toLocaleString())||"0"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Remaining Balance"})]})]})})}),t.jsx(T,{children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:((me=(lt=m.transactions)==null?void 0:lt.filter(se=>se.transaction_type==="purchase"))==null?void 0:me.length)||0}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"})]})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[t.jsx(T,{children:t.jsx(k,{className:"p-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",children:"Contact Information"}),t.jsxs("div",{className:"space-y-2 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ei,{size:12}),t.jsx("span",{children:d.email||"N/A"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ld,{size:12}),t.jsx("span",{children:d.phone||"N/A"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ma,{size:12}),t.jsx("span",{children:d.address||"N/A"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",children:"Business Details"}),t.jsxs("div",{className:"space-y-2 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Bs,{size:12}),t.jsxs("span",{children:["Organization: ",(d==null?void 0:d.organization_name)||"N/A"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Bs,{size:12}),t.jsxs("span",{children:["Branch: ",(d==null?void 0:d.branch_name)||"N/A"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ot,{size:12}),t.jsxs("span",{children:["Joined: ",d!=null&&d.created_at?new Date(d.created_at).toLocaleDateString():"N/A"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(te,{variant:"default",className:"text-xs",children:(d==null?void 0:d.role_display)||"Supplier"}),t.jsx(te,{variant:(d==null?void 0:d.status)==="active"?"default":"secondary",className:"text-xs",children:(d==null?void 0:d.status)==="active"?"Active":"Inactive"})]})]})]})]})})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx("h3",{className:"text-sm font-medium",children:"Credit Summary & Payment History"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(rt,{open:R,onOpenChange:E,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(O,{variant:"outline",size:"sm",className:"text-xs",children:[t.jsx(Pm,{size:12,className:"mr-1"}),"Print"]})}),t.jsxs(nt,{className:"max-w-md",children:[t.jsx(st,{children:t.jsx(at,{children:"Print/Export Statement"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(I,{className:"text-sm",children:"Date Range (Optional)"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx(I,{className:"text-xs text-muted-foreground",children:"Start Date"}),t.jsx(Z,{type:"date",value:F,onChange:se=>G(se.target.value),className:"h-8 text-xs"})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs text-muted-foreground",children:"End Date"}),t.jsx(Z,{type:"date",value:D,onChange:se=>J(se.target.value),className:"h-8 text-xs"})]})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty to include all transactions"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{onClick:Se,disabled:q,className:"flex-1 text-xs",children:[t.jsx(Pm,{size:12,className:"mr-1"}),"Print"]}),t.jsxs(O,{onClick:Ue,disabled:q,variant:"outline",className:"flex-1 text-xs",children:[t.jsx(bt,{size:12,className:"mr-1"}),"Export CSV"]})]})]})]})]}),t.jsxs(O,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>E(!0),children:[t.jsx(bt,{size:12,className:"mr-1"}),"Export"]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{className:"text-xs py-2",children:"Date"}),t.jsx(H,{className:"text-xs py-2",children:"Description"}),t.jsx(H,{className:"text-xs py-2",children:"Purchase Amount"}),t.jsx(H,{className:"text-xs py-2",children:"Payment Made"}),t.jsx(H,{className:"text-xs py-2",children:"Payment Method"}),t.jsx(H,{className:"text-xs py-2",children:"Remaining Balance"}),t.jsx(H,{className:"text-xs py-2",children:"Status"}),t.jsx(H,{className:"text-xs py-2",children:"Action"})]})}),t.jsx(At,{children:he.map(se=>t.jsxs(Ie,{className:"border-b hover:bg-muted/50",children:[t.jsx(V,{className:"py-2 text-xs",children:new Date(se.date).toLocaleDateString()}),t.jsx(V,{className:"py-2 text-xs",children:se.description}),t.jsx(V,{className:"py-2 text-xs font-medium text-red-600",children:(se.purchase||0)>0?`NPR ${(se.purchase||0).toLocaleString()}`:"-"}),t.jsx(V,{className:"py-2 text-xs font-medium text-green-600",children:(se.payment||0)>0?`NPR ${(se.payment||0).toLocaleString()}`:"-"}),t.jsx(V,{className:"py-2 text-xs",children:se.transaction_type==="payment"?t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:se.payment_method||"Cash"}),se.payment_reference&&t.jsx("div",{className:"text-muted-foreground text-xs",children:se.payment_reference})]}):"-"}),t.jsx(V,{className:`py-2 text-xs font-medium ${(se.balance||0)>0?"text-orange-600":"text-green-600"}`,children:se.transaction_type==="payment"&&(se.balance||0)===0?"-":`NPR ${(se.balance||0).toLocaleString()}`}),t.jsx(V,{className:"py-2",children:t.jsx(te,{variant:se.status==="Cleared"?"default":"secondary",className:"text-xs",children:se.status})}),t.jsx(V,{className:"py-2",children:se.transaction_type==="purchase"&&t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsx(O,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>fe(se),children:t.jsx(yt,{size:12})})}),t.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsx(st,{children:t.jsxs(at,{className:"text-lg",children:["Transaction Details - ",b==null?void 0:b.reference_id]})}),P?t.jsx("div",{className:"flex justify-center items-center h-32",children:t.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading details..."})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 bg-muted/50 rounded-lg text-sm",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Transaction ID:"}),t.jsx("div",{children:b==null?void 0:b.reference_id})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Date:"}),t.jsx("div",{children:b?new Date(b.date).toLocaleDateString():""})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total Items:"}),t.jsx("div",{children:w.total_items||0})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total Amount:"}),t.jsxs("div",{className:"font-bold text-blue-600",children:["NPR ",(w.total_amount||0).toLocaleString()]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total Paid:"}),t.jsxs("div",{className:"font-bold text-green-600",children:["NPR ",(w.total_paid||0).toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total Credit:"}),t.jsxs("div",{className:"font-bold text-orange-600",children:["NPR ",(w.total_credit||0).toLocaleString()]})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(H,{className:"text-xs",children:"Medicine Name"}),t.jsx(H,{className:"text-xs",children:"Generic Name"}),t.jsx(H,{className:"text-xs",children:"Strength"}),t.jsx(H,{className:"text-xs",children:"Form"}),t.jsx(H,{className:"text-xs",children:"Quantity"}),t.jsx(H,{className:"text-xs",children:"Unit Price"}),t.jsx(H,{className:"text-xs",children:"Total"}),t.jsx(H,{className:"text-xs",children:"Batch"}),t.jsx(H,{className:"text-xs",children:"Expiry"})]})}),t.jsx(At,{children:xe.map((le,ne)=>t.jsxs(Ie,{className:"border-b",children:[t.jsx(V,{className:"py-2 text-xs font-medium",children:le.name}),t.jsx(V,{className:"py-2 text-xs text-muted-foreground",children:le.generic_name||"-"}),t.jsx(V,{className:"py-2 text-xs",children:le.strength||"-"}),t.jsx(V,{className:"py-2 text-xs",children:le.dosage_form||"-"}),t.jsxs(V,{className:"py-2 text-xs",children:[le.quantity||le.quantity_requested||"-"," ",le.unit||""]}),t.jsxs(V,{className:"py-2 text-xs",children:["NPR ",(le.cost_price||le.unit_price||0).toLocaleString()]}),t.jsxs(V,{className:"py-2 text-xs font-medium",children:["NPR ",(le.total_cost||le.total_price||0).toLocaleString()]}),t.jsx(V,{className:"py-2 text-xs",children:le.batch_number||"-"}),t.jsx(V,{className:"py-2 text-xs",children:le.expiry_date?new Date(le.expiry_date).toLocaleDateString():"-"})]},le.id||ne))})]})}),ge>1&&t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing ",(C-1)*M+1," to ",Math.min(C*M,w.items.length)," of ",w.items.length," items"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(O,{variant:"outline",size:"sm",onClick:()=>A(le=>Math.max(le-1,1)),disabled:C===1,className:"h-7 px-2 text-xs",children:"Previous"}),Array.from({length:ge},(le,ne)=>ne+1).map(le=>t.jsx(O,{variant:le===C?"default":"outline",size:"sm",onClick:()=>A(le),className:"h-7 w-7 text-xs",children:le},le)),t.jsx(O,{variant:"outline",size:"sm",onClick:()=>A(le=>Math.min(le+1,ge)),disabled:C===ge,className:"h-7 px-2 text-xs",children:"Next"})]})]})]})]})]})})]},se.id))})]})}),t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing ",(v-1)*x+1," to ",Math.min(v*x,re.length)," of ",re.length," entries"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(O,{variant:"outline",size:"sm",onClick:()=>j(se=>Math.max(se-1,1)),disabled:v===1,className:"h-7 px-2 text-xs",children:"Previous"}),Array.from({length:ie},(se,le)=>le+1).map(se=>t.jsx(O,{variant:se===v?"default":"outline",size:"sm",onClick:()=>j(se),className:"h-7 w-7 text-xs",children:se},se)),t.jsx(O,{variant:"outline",size:"sm",onClick:()=>j(se=>Math.min(se+1,ie)),disabled:v===ie,className:"h-7 px-2 text-xs",children:"Next"})]})]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs(T,{children:[t.jsx(z,{className:"pb-2",children:t.jsxs(B,{className:"text-lg flex items-center",children:[t.jsx(Wn,{className:"mr-2",size:18}),"Credit Management"]})}),t.jsxs(k,{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Credit Balance"}),t.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["NPR ",(((He=m.summary)==null?void 0:He.pending_credit)||0).toLocaleString()]})]}),t.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",children:[t.jsx(I,{className:"text-xs font-medium",children:"Record Payment"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx(I,{className:"text-xs text-muted-foreground",children:"Amount"}),t.jsx(Z,{type:"number",placeholder:"Enter amount",value:r,onChange:se=>{var Y;const le=parseFloat(se.target.value)||0,ne=((Y=m.summary)==null?void 0:Y.total_credit)||0;le<=ne&&n(se.target.value)},className:"h-7 text-xs",max:((ae=m.summary)==null?void 0:ae.total_credit)||0}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Max: NPR ",(((je=m.summary)==null?void 0:je.total_credit)||0).toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs text-muted-foreground",children:"Method"}),t.jsxs(_e,{value:s,onValueChange:a,children:[t.jsx(Pe,{className:"h-7 text-xs",children:t.jsx(Ae,{placeholder:"Select method"})}),t.jsxs(Ce,{children:[t.jsx($,{value:"cash",children:"Cash"}),t.jsx($,{value:"bank_transfer",children:"Bank Transfer"}),t.jsx($,{value:"cheque",children:"Cheque"}),t.jsx($,{value:"online",children:"Online Payment"})]})]})]}),t.jsxs("div",{children:[t.jsx(I,{className:"text-xs text-muted-foreground",children:"Reference"}),t.jsx(Z,{placeholder:"Reference number",value:i,onChange:se=>o(se.target.value),className:"h-7 text-xs"})]}),t.jsxs(O,{size:"sm",className:"w-full text-xs",disabled:!r||!s||l||parseFloat(r)>(((W=m.summary)==null?void 0:W.total_credit)||0),onClick:be,children:[t.jsx(Dw,{size:12,className:"mr-2"}),l?"Recording...":"Record Payment"]})]})]})]})]})})]})]}):t.jsx("div",{className:"text-center text-muted-foreground",children:"Supplier not found"})}function MSe(){const[e,r]=g.useState({defaultPaymentTerms:"Net 30",autoApproveOrders:!1,requireSignature:!0,enablePartialDeliveries:!0,orderConfirmationEmail:!0,deliveryNotifications:!0,invoiceReminders:!0,communicationPreference:"email",trackDeliveryTime:!0,trackOrderAccuracy:!0,minimumOrderValue:100,preferredDeliveryWindow:"morning",enableEDI:!1,apiIntegration:!0,autoInvoiceProcessing:!1}),n=a=>{r(i=>({...i,[a]:!i[a]}))},s=(a,i)=>{r(o=>({...o,[a]:i}))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Supplier Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure supplier management preferences"})]}),t.jsxs(O,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(Ni,{size:16,className:"mr-2"}),"Save Settings"]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(fn,{className:"mr-2 text-primary",size:20}),"Order Management"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Payment Terms"}),t.jsxs("select",{value:e.defaultPaymentTerms,onChange:a=>s("defaultPaymentTerms",a.target.value),className:"w-full mt-1 px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[t.jsx("option",{value:"Net 15",children:"Net 15 Days"}),t.jsx("option",{value:"Net 30",children:"Net 30 Days"}),t.jsx("option",{value:"Net 45",children:"Net 45 Days"}),t.jsx("option",{value:"Net 60",children:"Net 60 Days"}),t.jsx("option",{value:"COD",children:"Cash on Delivery"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Minimum Order Value ($)"}),t.jsx(Z,{type:"number",value:e.minimumOrderValue,onChange:a=>s("minimumOrderValue",parseFloat(a.target.value)),className:"mt-1"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Auto-approve Orders"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically approve orders below threshold"})]}),t.jsx(ot,{checked:e.autoApproveOrders,onCheckedChange:()=>n("autoApproveOrders")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Require Delivery Signature"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Require signature for all deliveries"})]}),t.jsx(ot,{checked:e.requireSignature,onCheckedChange:()=>n("requireSignature")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Allow Partial Deliveries"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Accept partial shipments for large orders"})]}),t.jsx(ot,{checked:e.enablePartialDeliveries,onCheckedChange:()=>n("enablePartialDeliveries")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(Ei,{className:"mr-2 text-success",size:20}),"Communication"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preferred Communication"}),t.jsxs("select",{value:e.communicationPreference,onChange:a=>s("communicationPreference",a.target.value),className:"w-full mt-1 px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[t.jsx("option",{value:"email",children:"Email"}),t.jsx("option",{value:"phone",children:"Phone"}),t.jsx("option",{value:"portal",children:"Supplier Portal"}),t.jsx("option",{value:"fax",children:"Fax"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Order Confirmation Emails"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Send email confirmations for new orders"})]}),t.jsx(ot,{checked:e.orderConfirmationEmail,onCheckedChange:()=>n("orderConfirmationEmail")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Delivery Notifications"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Notify suppliers about delivery updates"})]}),t.jsx(ot,{checked:e.deliveryNotifications,onCheckedChange:()=>n("deliveryNotifications")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Invoice Reminders"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Send automatic payment reminders"})]}),t.jsx(ot,{checked:e.invoiceReminders,onCheckedChange:()=>n("invoiceReminders")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(Ut,{className:"mr-2 text-warning",size:20}),"Performance Tracking"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preferred Delivery Window"}),t.jsxs("select",{value:e.preferredDeliveryWindow,onChange:a=>s("preferredDeliveryWindow",a.target.value),className:"w-full mt-1 px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[t.jsx("option",{value:"morning",children:"Morning (8AM - 12PM)"}),t.jsx("option",{value:"afternoon",children:"Afternoon (12PM - 5PM)"}),t.jsx("option",{value:"evening",children:"Evening (5PM - 8PM)"}),t.jsx("option",{value:"anytime",children:"Anytime"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Track Delivery Performance"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Monitor on-time delivery rates"})]}),t.jsx(ot,{checked:e.trackDeliveryTime,onCheckedChange:()=>n("trackDeliveryTime")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Track Order Accuracy"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Monitor order fulfillment accuracy"})]}),t.jsx(ot,{checked:e.trackOrderAccuracy,onCheckedChange:()=>n("trackOrderAccuracy")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(cn,{className:"mr-2 text-primary",size:20}),"System Integration"]})}),t.jsxs(k,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Enable EDI"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Electronic Data Interchange for orders"})]}),t.jsx(ot,{checked:e.enableEDI,onCheckedChange:()=>n("enableEDI")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"API Integration"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Connect with supplier APIs"})]}),t.jsx(ot,{checked:e.apiIntegration,onCheckedChange:()=>n("apiIntegration")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Auto-process Invoices"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically process received invoices"})]}),t.jsx(ot,{checked:e.autoInvoiceProcessing,onCheckedChange:()=>n("autoInvoiceProcessing")})]})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(it,{className:"mr-2 text-primary",size:20}),"Supplier Categories"]})}),t.jsx(k,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{name:"Pharmaceutical",count:12,color:"destructive"},{name:"Medical Equipment",count:8,color:"default"},{name:"OTC Products",count:15,color:"secondary"},{name:"Wellness & Nutrition",count:6,color:"outline"},{name:"Office Supplies",count:4,color:"outline"},{name:"Packaging",count:3,color:"outline"}].map((a,i)=>t.jsxs("div",{className:"p-3 border border-border rounded-lg",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h4",{className:"font-medium text-foreground text-sm",children:a.name}),t.jsx(te,{variant:a.color,className:"text-xs",children:a.count})]}),t.jsx(O,{size:"sm",variant:"outline",className:"w-full text-xs",children:"View Suppliers"})]},i))})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{children:t.jsxs(B,{className:"flex items-center text-card-foreground",children:[t.jsx(ht,{className:"mr-2 text-success",size:20}),"Payment Methods"]})}),t.jsx(k,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Bank Transfer"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"ACH Transfer"}),t.jsx(te,{variant:"default",children:"Enabled"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Wire Transfer"}),t.jsx(te,{variant:"default",children:"Enabled"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Cards & Digital"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Corporate Cards"}),t.jsx(te,{variant:"default",children:"Enabled"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"PayPal Business"}),t.jsx(te,{variant:"outline",children:"Disabled"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Traditional"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Check Payment"}),t.jsx(te,{variant:"default",children:"Enabled"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Cash on Delivery"}),t.jsx(te,{variant:"outline",children:"Disabled"})]})]})]})]})})]})]})}function ISe(){return t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Compliance Tracking"}),t.jsx("p",{className:"text-muted-foreground",children:"Track compliance metrics and deadlines"})]})}function $Se(){return t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Network Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure network and system settings"})]})}function LSe(){return t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Customer Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Generate customer analytics and reports"})]})}function FSe(){return t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Customer Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure customer management preferences"})]})}const op=[{id:"vo-1",orderNumber:"ORD-2024-001",pharmacyId:"org-1",pharmacyName:"MediCare Hospital Network",orderDate:"2024-03-15",deliveryDate:"2024-03-20",status:"confirmed",items:[{productId:"vp-1",productName:"Paracetamol 500mg (1000 tablets)",quantity:10,unitPrice:850,total:8500},{productId:"vp-2",productName:"Amoxicillin 250mg (500 capsules)",quantity:5,unitPrice:1200,total:6e3}],subtotal:14500,tax:2610,total:17110,paymentStatus:"pending",notes:"Urgent delivery required for main branch"},{id:"vo-2",orderNumber:"ORD-2024-002",pharmacyId:"org-2",pharmacyName:"HealthPlus Pharmacy Chain",orderDate:"2024-03-12",deliveryDate:"2024-03-18",status:"delivered",items:[{productId:"vp-3",productName:"Insulin Aspart 100 units/ml",quantity:20,unitPrice:680,total:13600}],subtotal:13600,tax:2448,total:16048,paymentStatus:"paid",notes:"Standard delivery"},{id:"vo-3",orderNumber:"ORD-2024-003",pharmacyId:"org-1",pharmacyName:"MediCare Hospital Network",orderDate:"2024-03-10",status:"pending",items:[{productId:"vp-4",productName:"Hand Sanitizer 500ml (24 bottles)",quantity:50,unitPrice:95,total:4750}],subtotal:4750,tax:855,total:5605,paymentStatus:"pending"}],zSe=[{id:"vp-1",name:"Paracetamol 500mg",sku:"PAR-500-1000",category:"Analgesics",description:"High-quality paracetamol tablets, 1000 count bottle",price:850,minimumOrder:5,availability:"in-stock",leadTime:3,status:"active",lastUpdated:"2024-03-14"},{id:"vp-2",name:"Amoxicillin 250mg",sku:"AMX-250-500",category:"Antibiotics",description:"Broad spectrum antibiotic capsules, 500 count",price:1200,minimumOrder:3,availability:"in-stock",leadTime:5,status:"active",lastUpdated:"2024-03-13"},{id:"vp-3",name:"Insulin Aspart 100 units/ml",sku:"INS-ASP-100",category:"Diabetes",description:"Fast-acting insulin for diabetes management",price:680,minimumOrder:10,availability:"low-stock",leadTime:7,status:"active",lastUpdated:"2024-03-12"},{id:"vp-4",name:"Hand Sanitizer 500ml",sku:"SAN-500-24",category:"Personal Care",description:"Alcohol-based hand sanitizer, 24 bottle case",price:95,minimumOrder:20,availability:"in-stock",leadTime:2,status:"active",lastUpdated:"2024-03-15"}],D2=[{id:"vi-1",invoiceNumber:"INV-2024-001",orderIds:["vo-2"],issueDate:"2024-03-18",dueDate:"2024-04-17",amount:16048,status:"paid",paymentMethod:"Bank Transfer",paidDate:"2024-03-25"},{id:"vi-2",invoiceNumber:"INV-2024-002",orderIds:["vo-1"],issueDate:"2024-03-20",dueDate:"2024-04-19",amount:17110,status:"pending"}],Rk=[{period:"March 2024",ordersReceived:45,ordersDelivered:42,onTimeDelivery:95.5,qualityRating:4.8,revenue:245e3,disputesResolved:2},{period:"February 2024",ordersReceived:38,ordersDelivered:36,onTimeDelivery:94.7,qualityRating:4.7,revenue:198e3,disputesResolved:1},{period:"January 2024",ordersReceived:41,ordersDelivered:39,onTimeDelivery:95.1,qualityRating:4.9,revenue:225e3,disputesResolved:0}],y6=[{id:"vc-1",from:"procurement@medicare.com",to:"sales@pharmasupply.com",subject:"Urgent: Stock Update Required for Insulin",message:"We need updated stock levels for Insulin Aspart. Our current order is pending confirmation.",priority:"high",status:"unread",createdAt:"2024-03-15T10:30:00Z"},{id:"vc-2",from:"admin@healthplus.com",to:"sales@pharmasupply.com",subject:"Monthly Order Schedule",message:"Please find attached our monthly order schedule for April 2024.",priority:"medium",status:"read",createdAt:"2024-03-14T14:15:00Z",attachments:["april_schedule.pdf"]},{id:"vc-3",from:"quality@medicare.com",to:"quality@pharmasupply.com",subject:"Quality Certificate Required",message:"We need the latest quality certificates for batch PAR-2024-001.",priority:"medium",status:"replied",createdAt:"2024-03-13T09:45:00Z"}],Dk=e=>op.filter(r=>r.status===e),BSe=e=>D2.filter(r=>r.status===e),USe=()=>D2.filter(e=>e.status==="paid").reduce((e,r)=>e+r.amount,0),VSe=()=>y6.filter(e=>e.status==="unread");function qSe(){const[e,r]=g.useState("dashboard"),n=op.length,s=Dk("pending").length;Dk("confirmed").length;const a=USe(),i=BSe("pending").length,o=VSe().length,l=Rk[0];return t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Vendor Portal"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Supplier self-service platform"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(bt,{className:"w-3 h-3 mr-1"}),"Export Report"]}),t.jsxs(O,{size:"sm",children:[t.jsx(zt,{className:"w-3 h-3 mr-1"}),"New Product"]})]})]}),t.jsxs(Or,{value:e,onValueChange:r,className:"space-y-4",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-6",children:[t.jsx(Oe,{value:"dashboard",children:"Dashboard"}),t.jsx(Oe,{value:"orders",children:"Orders"}),t.jsx(Oe,{value:"products",children:"Products"}),t.jsx(Oe,{value:"invoices",children:"Invoices"}),t.jsx(Oe,{value:"messages",children:"Messages"}),t.jsx(Oe,{value:"performance",children:"Performance"})]}),t.jsxs($e,{value:"dashboard",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:n}),t.jsx("p",{className:"text-xs text-success",children:"+12% this month"})]}),t.jsx(Fn,{className:"w-6 h-6 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue"}),t.jsxs("p",{className:"text-lg font-semibold text-foreground",children:["",a.toLocaleString()]}),t.jsx("p",{className:"text-xs text-success",children:"+8.5% growth"})]}),t.jsx(ht,{className:"w-6 h-6 text-success"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending Orders"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:s}),t.jsx("p",{className:"text-xs text-warning",children:"Needs attention"})]}),t.jsx(Ut,{className:"w-6 h-6 text-warning"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"On-Time Delivery"}),t.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[l.onTimeDelivery,"%"]}),t.jsx("p",{className:"text-xs text-success",children:"Excellent rating"})]}),t.jsx(fn,{className:"w-6 h-6 text-success"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{className:"pb-2",children:t.jsx(B,{className:"text-sm text-card-foreground",children:"Pending Actions"})}),t.jsxs(k,{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ut,{className:"w-4 h-4 text-warning"}),t.jsx("span",{className:"text-xs",children:"Orders pending confirmation"})]}),t.jsx(te,{variant:"secondary",className:"text-xs",children:s})]}),t.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($t,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-xs",children:"Invoices pending payment"})]}),t.jsx(te,{variant:"default",className:"text-xs",children:i})]}),t.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(hB,{className:"w-4 h-4 text-success"}),t.jsx("span",{className:"text-xs",children:"Unread messages"})]}),t.jsx(te,{variant:"success",className:"text-xs",children:o})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{className:"pb-2",children:t.jsx(B,{className:"text-sm text-card-foreground",children:"Recent Activity"})}),t.jsx(k,{className:"space-y-2",children:op.slice(0,3).map(c=>t.jsxs("div",{className:"p-2 bg-muted rounded",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium",children:c.orderNumber}),t.jsx(te,{variant:c.status==="confirmed"?"default":c.status==="delivered"?"success":"warning",className:"text-xs",children:c.status})]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:c.pharmacyName}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["",c.total.toLocaleString()]})]},c.id))})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{className:"pb-2",children:t.jsx(B,{className:"text-sm text-card-foreground",children:"Performance Metrics"})}),t.jsxs(k,{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Quality Rating"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(On,{className:"w-3 h-3 text-warning fill-current"}),t.jsx("span",{className:"text-xs font-medium",children:l.qualityRating})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Orders Delivered"}),t.jsx("span",{className:"text-xs font-medium",children:l.ordersDelivered})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Disputes Resolved"}),t.jsx("span",{className:"text-xs font-medium",children:l.disputesResolved})]})]})]})]})]}),t.jsx($e,{value:"orders",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(z,{className:"pb-2",children:[t.jsx(B,{className:"text-sm text-card-foreground",children:"Order Management"}),t.jsx(Et,{className:"text-xs",children:"View and manage all customer orders"})]}),t.jsx(k,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Order"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Customer"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Date"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Items"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Amount"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Status"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:op.map(c=>t.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[t.jsxs("td",{className:"p-2",children:[t.jsx("div",{className:"font-medium text-foreground",children:c.orderNumber}),c.deliveryDate&&t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Delivery: ",new Date(c.deliveryDate).toLocaleDateString()]})]}),t.jsx("td",{className:"p-2",children:t.jsx("div",{className:"text-foreground",children:c.pharmacyName})}),t.jsx("td",{className:"p-2 text-muted-foreground",children:new Date(c.orderDate).toLocaleDateString()}),t.jsxs("td",{className:"p-2 text-muted-foreground",children:[c.items.length," items"]}),t.jsxs("td",{className:"p-2",children:[t.jsxs("div",{className:"font-medium text-foreground",children:["",c.total.toLocaleString()]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Payment: ",c.paymentStatus]})]}),t.jsx("td",{className:"p-2",children:t.jsx(te,{variant:c.status==="confirmed"?"default":c.status==="delivered"?"success":c.status==="cancelled"?"destructive":"warning",className:"text-xs",children:c.status})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx(O,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(yt,{className:"w-3 h-3"})}),t.jsx(O,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(hn,{className:"w-3 h-3"})}),t.jsx(O,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(bt,{className:"w-3 h-3"})})]})})]},c.id))})]})})})]})}),t.jsx($e,{value:"products",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{className:"pb-2",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(B,{className:"text-sm text-card-foreground",children:"Product Catalog"}),t.jsx(Et,{className:"text-xs",children:"Manage your product listings"})]}),t.jsxs(O,{size:"sm",children:[t.jsx(zt,{className:"w-3 h-3 mr-1"}),"Add Product"]})]})}),t.jsxs(k,{className:"space-y-3",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:14}),t.jsx(Z,{placeholder:"Search products...",className:"pl-7 h-8"})]}),t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(ba,{className:"w-3 h-3 mr-1"}),"Filter"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:zSe.map(c=>t.jsx(T,{className:"bg-muted border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-sm font-medium text-foreground",children:c.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:c.category}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",c.sku]})]}),t.jsx(te,{variant:c.availability==="in-stock"?"success":c.availability==="low-stock"?"warning":"destructive",className:"text-xs",children:c.availability})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Price:"}),t.jsxs("span",{className:"text-sm font-medium text-foreground",children:["",c.price]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Min Order:"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:c.minimumOrder})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Lead Time:"}),t.jsxs("span",{className:"text-xs text-muted-foreground",children:[c.leadTime," days"]})]})]}),t.jsxs("div",{className:"flex gap-1 pt-2",children:[t.jsxs(O,{size:"sm",variant:"outline",className:"flex-1",children:[t.jsx(hn,{className:"w-3 h-3 mr-1"}),"Edit"]}),t.jsx(O,{size:"sm",variant:"outline",children:t.jsx(yt,{className:"w-3 h-3"})})]})]})})},c.id))})]})]})}),t.jsx($e,{value:"invoices",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(z,{className:"pb-2",children:[t.jsx(B,{className:"text-sm text-card-foreground",children:"Invoice Management"}),t.jsx(Et,{className:"text-xs",children:"Track payments and invoice status"})]}),t.jsx(k,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Invoice"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Issue Date"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Due Date"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Amount"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Status"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:D2.map(c=>t.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[t.jsxs("td",{className:"p-2",children:[t.jsx("div",{className:"font-medium text-foreground",children:c.invoiceNumber}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Orders: ",c.orderIds.length]})]}),t.jsx("td",{className:"p-2 text-muted-foreground",children:new Date(c.issueDate).toLocaleDateString()}),t.jsx("td",{className:"p-2 text-muted-foreground",children:new Date(c.dueDate).toLocaleDateString()}),t.jsxs("td",{className:"p-2",children:[t.jsxs("div",{className:"font-medium text-foreground",children:["",c.amount.toLocaleString()]}),c.paidDate&&t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Paid: ",new Date(c.paidDate).toLocaleDateString()]})]}),t.jsx("td",{className:"p-2",children:t.jsx(te,{variant:c.status==="paid"?"success":c.status==="overdue"?"destructive":"warning",className:"text-xs",children:c.status})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx(O,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(yt,{className:"w-3 h-3"})}),t.jsx(O,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(bt,{className:"w-3 h-3"})})]})})]},c.id))})]})})})]})}),t.jsx($e,{value:"messages",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(z,{className:"pb-2",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(B,{className:"text-sm text-card-foreground",children:"Communication Center"}),t.jsx(Et,{className:"text-xs",children:"Messages from customers and system notifications"})]}),t.jsxs(O,{size:"sm",children:[t.jsx(nP,{className:"w-3 h-3 mr-1"}),"New Message"]})]})}),t.jsx(k,{className:"space-y-3",children:y6.map(c=>t.jsx(T,{className:`bg-muted border ${c.status==="unread"?"border-primary":"border-border"}`,children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:"text-sm font-medium text-foreground",children:c.subject}),t.jsx(te,{variant:c.priority==="high"?"destructive":c.priority==="medium"?"warning":"default",className:"text-xs",children:c.priority}),c.status==="unread"&&t.jsx(te,{variant:"primary",className:"text-xs",children:"New"})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["From: ",c.from]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(c.createdAt).toLocaleString()})]}),t.jsx(te,{variant:c.status==="replied"?"success":c.status==="read"?"default":"warning",className:"text-xs",children:c.status})]}),t.jsx("p",{className:"text-sm text-foreground",children:c.message}),c.attachments&&c.attachments.length>0&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx($t,{className:"w-3 h-3 text-muted-foreground"}),t.jsxs("span",{className:"text-xs text-muted-foreground",children:[c.attachments.length," attachment(s)"]})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(nP,{className:"w-3 h-3 mr-1"}),"Reply"]}),t.jsxs(O,{size:"sm",variant:"ghost",children:[t.jsx(yt,{className:"w-3 h-3 mr-1"}),"Mark as Read"]})]})]})})},c.id))})]})}),t.jsx($e,{value:"performance",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(z,{className:"pb-2",children:[t.jsx(B,{className:"text-sm text-card-foreground",children:"Performance Analytics"}),t.jsx(Et,{className:"text-xs",children:"Track your performance metrics and trends"})]}),t.jsx(k,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Period"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Orders Received"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Orders Delivered"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"On-Time Delivery"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Quality Rating"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Revenue"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Disputes"})]})}),t.jsx("tbody",{children:Rk.map((c,d)=>t.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[t.jsx("td",{className:"p-2 font-medium text-foreground",children:c.period}),t.jsx("td",{className:"p-2 text-muted-foreground",children:c.ordersReceived}),t.jsx("td",{className:"p-2 text-muted-foreground",children:c.ordersDelivered}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("span",{className:`${c.onTimeDelivery>=95?"text-success":c.onTimeDelivery>=90?"text-warning":"text-destructive"}`,children:[c.onTimeDelivery,"%"]}),c.onTimeDelivery>=95&&t.jsx(mt,{className:"w-3 h-3 text-success"})]})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(On,{className:"w-3 h-3 text-warning fill-current"}),t.jsx("span",{className:"text-foreground",children:c.qualityRating})]})}),t.jsxs("td",{className:"p-2 font-medium text-foreground",children:["",c.revenue.toLocaleString()]}),t.jsx("td",{className:"p-2",children:t.jsx(te,{variant:c.disputesResolved===0?"success":"warning",className:"text-xs",children:c.disputesResolved})})]},d))})]})})})]})})]})]})}const Yi=[{id:"doc-1",name:"Drug License Certificate",type:"pdf",category:"license",description:"Main drug license certificate for MediCare Hospital Network",fileSize:2457600,mimeType:"application/pdf",version:3,status:"approved",tags:["drug-license","certificate","regulatory","main-branch"],uploadedBy:"user-owner-1",uploadedAt:"2024-01-15T10:30:00Z",lastModified:"2024-02-20T14:15:00Z",expiryDate:"2025-01-15",accessLevel:"confidential",organizationId:"org-1",branchId:"branch-1",checksum:"sha256:abc123def456",downloadCount:15,metadata:{licenseNumber:"DL-MH-001-2024",issuingAuthority:"Maharashtra FDA",renewalRequired:!0}},{id:"doc-2",name:"GST Registration Certificate",type:"pdf",category:"certificate",description:"GST registration certificate for tax compliance",fileSize:1843200,mimeType:"application/pdf",version:1,status:"approved",tags:["gst","tax","registration","compliance"],uploadedBy:"user-manager-1",uploadedAt:"2024-01-20T09:45:00Z",lastModified:"2024-01-20T09:45:00Z",expiryDate:"2027-01-20",accessLevel:"internal",organizationId:"org-1",checksum:"sha256:def456ghi789",downloadCount:8,metadata:{gstNumber:"27ABCDE1234F1Z5",stateCode:"27"}},{id:"doc-3",name:"Monthly Compliance Report - March 2024",type:"docx",category:"report",description:"Comprehensive compliance report for March 2024",fileSize:3276800,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",version:2,status:"under_review",tags:["compliance","monthly","march-2024","report"],uploadedBy:"user-pharmacist-1",uploadedAt:"2024-03-05T16:20:00Z",lastModified:"2024-03-10T11:30:00Z",accessLevel:"internal",organizationId:"org-1",branchId:"branch-1",checksum:"sha256:ghi789jkl012",downloadCount:3,metadata:{reportPeriod:"2024-03",complianceScore:92.5,issuesFound:2}},{id:"doc-4",name:"Supplier Agreement - MedPharma Distributors",type:"pdf",category:"contract",description:"Master agreement with MedPharma Distributors",fileSize:4567890,mimeType:"application/pdf",version:2,status:"approved",tags:["contract","supplier","medpharma","agreement"],uploadedBy:"user-owner-1",uploadedAt:"2024-02-01T12:00:00Z",lastModified:"2024-02-15T14:30:00Z",expiryDate:"2025-02-01",accessLevel:"confidential",organizationId:"org-1",checksum:"sha256:jkl012mno345",downloadCount:12,metadata:{contractValue:5e5,supplierId:"sup-1",paymentTerms:"30 days"}},{id:"doc-5",name:"FSSAI License Certificate",type:"pdf",category:"license",description:"Food Safety and Standards Authority license",fileSize:1234567,mimeType:"application/pdf",version:1,status:"approved",tags:["fssai","food-safety","license","certificate"],uploadedBy:"user-manager-2",uploadedAt:"2024-01-25T08:15:00Z",lastModified:"2024-01-25T08:15:00Z",expiryDate:"2025-01-25",accessLevel:"internal",organizationId:"org-1",branchId:"branch-2",checksum:"sha256:mno345pqr678",downloadCount:6,metadata:{licenseNumber:"FSSAI-001-2024",category:"Drug Retail"}},{id:"doc-6",name:"SOPs - Inventory Management",type:"pdf",category:"policy",description:"Standard Operating Procedures for inventory management",fileSize:2890123,mimeType:"application/pdf",version:4,status:"approved",tags:["sop","inventory","procedures","guidelines"],uploadedBy:"user-pharmacist-1",uploadedAt:"2024-02-10T13:45:00Z",lastModified:"2024-03-01T10:20:00Z",accessLevel:"internal",organizationId:"org-1",checksum:"sha256:pqr678stu901",downloadCount:25,metadata:{department:"Inventory",reviewDate:"2024-09-01"}}],WSe=[{id:"dv-1",documentId:"doc-1",version:3,fileName:"drug_license_v3.pdf",fileSize:2457600,uploadedBy:"user-owner-1",uploadedAt:"2024-02-20T14:15:00Z",changes:"Updated expiry date and added new branch coverage",status:"current"},{id:"dv-2",documentId:"doc-1",version:2,fileName:"drug_license_v2.pdf",fileSize:2398e3,uploadedBy:"user-owner-1",uploadedAt:"2024-01-20T11:30:00Z",changes:"Corrected address information",status:"archived"},{id:"dv-3",documentId:"doc-3",version:2,fileName:"compliance_report_march_v2.docx",fileSize:3276800,uploadedBy:"user-pharmacist-1",uploadedAt:"2024-03-10T11:30:00Z",changes:"Added additional compliance metrics and corrected data errors",status:"current"}],j6=[{id:"dw-1",documentId:"doc-3",workflowType:"approval",status:"in_progress",assignedTo:["user-manager-1","user-owner-1"],currentStep:2,totalSteps:3,dueDate:"2024-03-20",createdBy:"user-pharmacist-1",createdAt:"2024-03-10T11:30:00Z",steps:[{stepNumber:1,title:"Initial Review",description:"Technical review of compliance data",assignedTo:"user-pharmacist-1",status:"completed",completedAt:"2024-03-11T09:15:00Z",comments:"Data verified and accurate",actions:["review","approve"]},{stepNumber:2,title:"Manager Approval",description:"Branch manager review and approval",assignedTo:"user-manager-1",status:"in_progress",actions:["approve","reject","request_changes"]},{stepNumber:3,title:"Final Authorization",description:"Owner final authorization",assignedTo:"user-owner-1",status:"pending",actions:["approve","reject"]}]},{id:"dw-2",documentId:"doc-1",workflowType:"renewal",status:"pending",assignedTo:["user-owner-1"],currentStep:1,totalSteps:2,dueDate:"2024-12-15",createdBy:"system",createdAt:"2024-03-01T00:00:00Z",steps:[{stepNumber:1,title:"Renewal Preparation",description:"Prepare documents for license renewal",assignedTo:"user-owner-1",status:"pending",actions:["prepare","submit"]},{stepNumber:2,title:"Authority Submission",description:"Submit to regulatory authority",assignedTo:"user-owner-1",status:"pending",actions:["submit","track"]}]}],HSe=[{id:"df-1",name:"Licenses & Certificates",type:"category",permissions:["view","download"],createdBy:"user-owner-1",createdAt:"2024-01-01T00:00:00Z",documentCount:3,subfolderCount:2},{id:"df-2",name:"Compliance Reports",type:"category",permissions:["view","download","upload"],createdBy:"user-pharmacist-1",createdAt:"2024-01-05T00:00:00Z",documentCount:12,subfolderCount:0},{id:"df-3",name:"Contracts & Agreements",type:"category",permissions:["view"],createdBy:"user-owner-1",createdAt:"2024-01-10T00:00:00Z",documentCount:5,subfolderCount:1},{id:"df-4",name:"Policies & SOPs",type:"category",permissions:["view","download"],createdBy:"user-manager-1",createdAt:"2024-01-15T00:00:00Z",documentCount:8,subfolderCount:3}],KSe=[{id:"da-1",documentId:"doc-1",userId:"user-manager-1",action:"view",accessedAt:"2024-03-15T10:30:00Z",ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},{id:"da-2",documentId:"doc-1",userId:"user-pharmacist-1",action:"download",accessedAt:"2024-03-14T14:20:00Z",ipAddress:"192.168.1.101",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},{id:"da-3",documentId:"doc-3",userId:"user-owner-1",action:"edit",accessedAt:"2024-03-13T09:45:00Z",ipAddress:"192.168.1.102",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36"}],GSe=e=>Yi.filter(r=>r.status===e),XSe=(e=30)=>{const r=new Date;return r.setDate(r.getDate()+e),Yi.filter(n=>n.expiryDate?new Date(n.expiryDate)<=r:!1)},YSe=()=>j6.filter(e=>e.status==="pending"||e.status==="in_progress"),QSe=()=>Yi.reduce((e,r)=>e+r.fileSize,0);function ZSe(){const[e,r]=g.useState("documents"),[n,s]=g.useState(""),a=Yi.length,i=QSe(),o=XSe().length,l=YSe().length,c=GSe("under_review").length,d=Yi.filter(m=>m.name.toLowerCase().includes(n.toLowerCase())||m.category.toLowerCase().includes(n.toLowerCase())||m.tags.some(h=>h.toLowerCase().includes(n.toLowerCase()))),u=m=>{if(m===0)return"0 Bytes";const h=1024,p=["Bytes","KB","MB","GB"],y=Math.floor(Math.log(m)/Math.log(h));return parseFloat((m/Math.pow(h,y)).toFixed(2))+" "+p[y]};return t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Document Management"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Digital document storage and workflow system"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(iB,{className:"w-3 h-3 mr-1"}),"New Folder"]}),t.jsxs(O,{size:"sm",children:[t.jsx(Sh,{className:"w-3 h-3 mr-1"}),"Upload Document"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Documents"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:a}),t.jsx("p",{className:"text-xs text-success",children:"+15 this month"})]}),t.jsx($t,{className:"w-6 h-6 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Storage Used"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:u(i)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"of 10 GB"})]}),t.jsx(E4,{className:"w-6 h-6 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending Approvals"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:c}),t.jsx("p",{className:"text-xs text-warning",children:"Needs attention"})]}),t.jsx(Ut,{className:"w-6 h-6 text-warning"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Expiring Soon"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:o}),t.jsx("p",{className:"text-xs text-destructive",children:"Within 30 days"})]}),t.jsx(rr,{className:"w-6 h-6 text-destructive"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Workflows"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:l}),t.jsx("p",{className:"text-xs text-primary",children:"In progress"})]}),t.jsx(la,{className:"w-6 h-6 text-primary"})]})})})]}),t.jsxs(Or,{value:e,onValueChange:r,className:"space-y-4",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-5",children:[t.jsx(Oe,{value:"documents",children:"Documents"}),t.jsx(Oe,{value:"folders",children:"Folders"}),t.jsx(Oe,{value:"workflows",children:"Workflows"}),t.jsx(Oe,{value:"versions",children:"Versions"}),t.jsx(Oe,{value:"activity",children:"Activity"})]}),t.jsxs($e,{value:"documents",className:"space-y-4",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:14}),t.jsx(Z,{placeholder:"Search documents by name, category, or tags...",value:n,onChange:m=>s(m.target.value),className:"pl-7 h-8"})]}),t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(ba,{className:"w-3 h-3 mr-1"}),"Filter"]})]})})}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(z,{className:"pb-2",children:[t.jsx(B,{className:"text-sm text-card-foreground",children:"Document Library"}),t.jsx(Et,{className:"text-xs",children:"Manage your organization's documents"})]}),t.jsx(k,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Document"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Category"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Size"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Version"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Status"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Access Level"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Modified"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:d.map(m=>{const h=m.expiryDate&&new Date(m.expiryDate)<=new Date(Date.now()+2592e6);return t.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($t,{className:"w-4 h-4 text-primary"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-foreground",children:m.name}),t.jsx("div",{className:"text-xs text-muted-foreground",children:m.description}),t.jsx("div",{className:"flex gap-1 mt-1",children:m.tags.slice(0,2).map(p=>t.jsx(te,{variant:"outline",className:"text-xs",children:p},p))})]})]})}),t.jsx("td",{className:"p-2",children:t.jsx(te,{variant:"default",className:"text-xs capitalize",children:m.category.replace("_"," ")})}),t.jsx("td",{className:"p-2 text-muted-foreground",children:u(m.fileSize)}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("span",{className:"text-muted-foreground",children:["v",m.version]}),t.jsx(Cm,{className:"w-3 h-3 text-muted-foreground"})]})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"space-y-1",children:[t.jsx(te,{variant:m.status==="approved"?"success":m.status==="under_review"?"warning":m.status==="rejected"?"destructive":"secondary",className:"text-xs",children:m.status.replace("_"," ")}),h&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(rr,{className:"w-3 h-3 text-destructive"}),t.jsx("span",{className:"text-xs text-destructive",children:"Expiring soon"})]})]})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ss,{className:`w-3 h-3 ${m.accessLevel==="confidential"?"text-destructive":m.accessLevel==="restricted"?"text-warning":m.accessLevel==="internal"?"text-primary":"text-muted-foreground"}`}),t.jsx("span",{className:"text-xs capitalize",children:m.accessLevel})]})}),t.jsxs("td",{className:"p-2",children:[t.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(m.lastModified).toLocaleDateString()}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Downloads: ",m.downloadCount]})]}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx(O,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(yt,{className:"w-3 h-3"})}),t.jsx(O,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(bt,{className:"w-3 h-3"})}),t.jsx(O,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(hn,{className:"w-3 h-3"})}),t.jsx(O,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(b0,{className:"w-3 h-3"})})]})})]},m.id)})})]})})})]})]}),t.jsx($e,{value:"folders",className:"space-y-4",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:HSe.map(m=>t.jsx(T,{className:"bg-card border border-border hover:bg-muted/50 cursor-pointer",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(oB,{className:"w-6 h-6 text-primary"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-sm font-medium text-foreground",children:m.name}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.documentCount," documents"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[t.jsxs("span",{children:["Created: ",new Date(m.createdAt).toLocaleDateString()]}),t.jsxs("span",{children:[m.subfolderCount," subfolders"]})]}),t.jsx("div",{className:"flex gap-1",children:m.permissions.slice(0,3).map(h=>t.jsx(te,{variant:"outline",className:"text-xs",children:h},h))})]})})},m.id))})}),t.jsx($e,{value:"workflows",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(z,{className:"pb-2",children:[t.jsx(B,{className:"text-sm text-card-foreground",children:"Document Workflows"}),t.jsx(Et,{className:"text-xs",children:"Track approval and review processes"})]}),t.jsx(k,{className:"space-y-3",children:j6.map(m=>{const h=Yi.find(p=>p.id===m.documentId);return t.jsx(T,{className:"bg-muted border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-sm font-medium text-foreground",children:h==null?void 0:h.name}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.workflowType.replace("_"," ")," workflow"]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(m.createdAt).toLocaleDateString()]})]}),t.jsx(te,{variant:m.status==="completed"?"success":m.status==="in_progress"?"warning":m.status==="cancelled"?"destructive":"default",className:"text-xs",children:m.status.replace("_"," ")})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-muted-foreground",children:"Progress:"}),t.jsxs("span",{className:"text-foreground",children:["Step ",m.currentStep," of ",m.totalSteps]})]}),t.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${m.currentStep/m.totalSteps*100}%`}})})]}),t.jsx("div",{className:"space-y-2",children:m.steps.map(p=>t.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[t.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${p.status==="completed"?"bg-success text-success-foreground":p.status==="in_progress"?"bg-warning text-warning-foreground":"bg-muted text-muted-foreground"}`,children:p.status==="completed"?t.jsx(mt,{className:"w-2 h-2"}):t.jsx("span",{children:p.stepNumber})}),t.jsx("span",{className:"flex-1",children:p.title}),t.jsx("span",{className:"text-muted-foreground",children:p.assignedTo})]},p.stepNumber))}),m.dueDate&&t.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[t.jsx(Ot,{className:"w-3 h-3 text-muted-foreground"}),t.jsxs("span",{className:"text-muted-foreground",children:["Due: ",new Date(m.dueDate).toLocaleDateString()]})]})]})})},m.id)})})]})}),t.jsx($e,{value:"versions",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(z,{className:"pb-2",children:[t.jsx(B,{className:"text-sm text-card-foreground",children:"Document Versions"}),t.jsx(Et,{className:"text-xs",children:"Track document version history"})]}),t.jsx(k,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Document"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Version"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"File Name"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Size"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Changes"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Uploaded By"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Date"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Status"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:WSe.map(m=>{const h=Yi.find(p=>p.id===m.documentId);return t.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[t.jsx("td",{className:"p-2",children:t.jsx("div",{className:"font-medium text-foreground",children:h==null?void 0:h.name})}),t.jsx("td",{className:"p-2",children:t.jsxs(te,{variant:m.status==="current"?"success":"default",className:"text-xs",children:["v",m.version]})}),t.jsx("td",{className:"p-2 text-muted-foreground",children:m.fileName}),t.jsx("td",{className:"p-2 text-muted-foreground",children:u(m.fileSize)}),t.jsx("td",{className:"p-2",children:t.jsx("div",{className:"max-w-48 truncate text-muted-foreground",children:m.changes})}),t.jsx("td",{className:"p-2 text-muted-foreground",children:m.uploadedBy}),t.jsx("td",{className:"p-2 text-muted-foreground",children:new Date(m.uploadedAt).toLocaleDateString()}),t.jsx("td",{className:"p-2",children:t.jsx(te,{variant:m.status==="current"?"success":"default",className:"text-xs",children:m.status})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx(O,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(yt,{className:"w-3 h-3"})}),t.jsx(O,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(bt,{className:"w-3 h-3"})}),m.status==="archived"&&t.jsx(O,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(Cm,{className:"w-3 h-3"})})]})})]},m.id)})})]})})})]})}),t.jsx($e,{value:"activity",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(z,{className:"pb-2",children:[t.jsx(B,{className:"text-sm text-card-foreground",children:"Document Activity"}),t.jsx(Et,{className:"text-xs",children:"Recent document access and modifications"})]}),t.jsx(k,{className:"space-y-3",children:KSe.map(m=>{const h=Yi.find(p=>p.id===m.documentId);return t.jsx(T,{className:"bg-muted border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[m.action==="view"&&t.jsx(yt,{className:"w-4 h-4 text-primary"}),m.action==="download"&&t.jsx(bt,{className:"w-4 h-4 text-success"}),m.action==="edit"&&t.jsx(hn,{className:"w-4 h-4 text-warning"}),m.action==="delete"&&t.jsx(ss,{className:"w-4 h-4 text-destructive"}),m.action==="share"&&t.jsx(b0,{className:"w-4 h-4 text-primary"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-foreground",children:h==null?void 0:h.name}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[m.action.charAt(0).toUpperCase()+m.action.slice(1)," by ",m.userId]})]})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ot,{className:"w-3 h-3"}),new Date(m.accessedAt).toLocaleString()]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Si,{className:"w-3 h-3"}),"IP: ",m.ipAddress]})]})]}),t.jsx(te,{variant:m.action==="view"?"default":m.action==="download"?"success":m.action==="edit"?"warning":m.action==="delete"?"destructive":"primary",className:"text-xs",children:m.action})]})})},m.id)})})]})})]})]})}const ON=[{id:"al-1",timestamp:"2024-03-15T10:30:00Z",userId:"user-pharmacist-1",userName:"Dr. Emily Chen",userRole:"SENIOR_PHARMACIST",action:"UPDATE_INVENTORY",module:"Inventory Management",resourceType:"Product",resourceId:"prod-1",resourceName:"Paracetamol 500mg",details:"Updated stock quantity from 450 to 500",ipAddress:"192.168.1.101",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",sessionId:"sess-abc123",organizationId:"org-1",branchId:"branch-1",severity:"low",category:"data_modification",metadata:{oldQuantity:450,newQuantity:500,reason:"Stock replenishment"},changesBefore:{stock:450},changesAfter:{stock:500}},{id:"al-2",timestamp:"2024-03-15T09:15:00Z",userId:"user-manager-1",userName:"Mike Wilson",userRole:"BRANCH_MANAGER",action:"LOGIN",module:"Authentication",resourceType:"User Session",details:"Successful login",ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",sessionId:"sess-def456",organizationId:"org-1",branchId:"branch-1",severity:"low",category:"authentication",metadata:{loginMethod:"email_password",mfaUsed:!1}},{id:"al-3",timestamp:"2024-03-15T08:45:00Z",userId:"user-cashier-1",userName:"Lisa Brown",userRole:"CASHIER",action:"PROCESS_SALE",module:"Point of Sale",resourceType:"Sale",resourceId:"sale-004",resourceName:"Sale #SALE-2024-004",details:"Processed sale for 295.50",ipAddress:"192.168.1.103",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",sessionId:"sess-ghi789",organizationId:"org-1",branchId:"branch-1",severity:"low",category:"data_access",metadata:{saleAmount:295.5,itemCount:3,paymentMethod:"cash"}},{id:"al-4",timestamp:"2024-03-15T07:30:00Z",userId:"unknown",userName:"Unknown User",userRole:"unknown",action:"FAILED_LOGIN",module:"Authentication",resourceType:"User Session",details:"Failed login attempt for email: admin@test.com",ipAddress:"203.0.113.15",userAgent:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36",sessionId:"sess-jkl012",severity:"medium",category:"security",metadata:{attemptedEmail:"admin@test.com",failureReason:"invalid_credentials",attemptCount:3}},{id:"al-5",timestamp:"2024-03-14T16:20:00Z",userId:"user-owner-1",userName:"Dr. Sarah Johnson",userRole:"PHARMACY_OWNER",action:"CREATE_USER",module:"User Management",resourceType:"User",resourceId:"user-new-1",resourceName:"New Pharmacist Account",details:"Created new pharmacist account for Jane Doe",ipAddress:"192.168.1.105",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36",sessionId:"sess-mno345",organizationId:"org-1",severity:"medium",category:"authorization",metadata:{newUserEmail:"jane.doe@medicare.com",newUserRole:"PHARMACIST",permissions:["prescriptions","basic_inventory"]}}],M2=[{id:"ca-1",auditType:"regulatory",title:"FDA Compliance Audit - Q1 2024",description:"Quarterly compliance audit focusing on drug storage and dispensing practices",auditor:"FDA Inspector John Smith",auditeeId:"org-1",auditeeName:"MediCare Hospital Network",startDate:"2024-03-01",endDate:"2024-03-05",status:"completed",scope:["drug_storage","dispensing_practices","record_keeping","staff_qualifications"],findings:[{id:"af-1",title:"Temperature Monitoring Records",description:"Some gaps found in refrigerator temperature monitoring logs",severity:"medium",category:"record_keeping",evidence:["temperature_logs_jan.pdf","refrigerator_inspection.jpg"],recommendation:"Implement automated temperature monitoring system",status:"in_progress",assignedTo:"user-manager-1",dueDate:"2024-04-15"},{id:"af-2",title:"Controlled Substance Documentation",description:"Minor discrepancies in controlled substance inventory records",severity:"low",category:"documentation",evidence:["cs_inventory_march.xlsx"],recommendation:"Enhanced double-verification process for controlled substances",status:"resolved",assignedTo:"user-pharmacist-1",resolvedAt:"2024-03-10T14:30:00Z",resolvedBy:"user-pharmacist-1"}],recommendations:[{id:"ar-1",title:"Implement Digital Temperature Monitoring",description:"Deploy IoT-based temperature monitoring system for all refrigerated storage",priority:"high",category:"technology",expectedBenefit:"Eliminate manual logging errors and ensure continuous monitoring",implementationEffort:"medium",status:"approved",assignedTo:"user-manager-1",estimatedCost:15e3,dueDate:"2024-05-01"}],overallRating:"good",complianceScore:87.5,createdBy:"FDA Inspector John Smith",createdAt:"2024-03-01T09:00:00Z",completedAt:"2024-03-05T17:00:00Z",reportId:"FDA-2024-Q1-001"},{id:"ca-2",auditType:"internal",title:"Internal Security Audit - March 2024",description:"Monthly internal audit focusing on data security and access controls",auditor:"Internal Audit Team",auditeeId:"branch-1",auditeeName:"MediCare Main Hospital",startDate:"2024-03-10",endDate:"2024-03-12",status:"in_progress",scope:["access_controls","data_security","user_permissions","backup_procedures"],findings:[],recommendations:[],overallRating:"good",complianceScore:0,createdBy:"user-owner-1",createdAt:"2024-03-10T08:00:00Z"}],b6=[{id:"se-1",eventType:"login_failure",severity:"medium",title:"Multiple Failed Login Attempts",description:"Multiple failed login attempts detected from IP 203.0.113.15",ipAddress:"203.0.113.15",userAgent:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36",timestamp:"2024-03-15T07:30:00Z",status:"investigating",assignedTo:"user-owner-1",details:{attemptedEmails:["admin@test.com","root@medicare.com","admin@medicare.com"],attemptCount:15,timeRange:"2024-03-15T07:25:00Z to 2024-03-15T07:35:00Z"},actions:[{id:"sa-1",action:"IP_BLOCKED",description:"Temporarily blocked IP address for 24 hours",takenBy:"system",takenAt:"2024-03-15T07:35:00Z",result:"IP successfully blocked"}]},{id:"se-2",eventType:"unauthorized_access",severity:"high",title:"Unauthorized Access Attempt to Compliance Module",description:"User attempted to access compliance module without proper permissions",userId:"user-cashier-1",ipAddress:"192.168.1.103",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",timestamp:"2024-03-14T14:20:00Z",status:"resolved",assignedTo:"user-manager-1",details:{attemptedModule:"compliance",userRole:"CASHIER",requiredPermissions:["compliance_access"],userPermissions:["pos","basic_reports"]},actions:[{id:"sa-2",action:"ACCESS_DENIED",description:"Access denied and incident logged",takenBy:"system",takenAt:"2024-03-14T14:20:00Z",result:"Access successfully denied"},{id:"sa-3",action:"USER_NOTIFICATION",description:"User notified about security policy",takenBy:"user-manager-1",takenAt:"2024-03-14T15:00:00Z",result:"User acknowledged security policy"}]}],JSe=[{id:"dic-1",checkType:"database_consistency",tableName:"inventory",status:"passed",startTime:"2024-03-15T02:00:00Z",endTime:"2024-03-15T02:15:00Z",recordsChecked:1247,issuesFound:0,details:"All inventory records passed consistency checks",recommendations:[]},{id:"dic-2",checkType:"referential_integrity",tableName:"sales",status:"warning",startTime:"2024-03-15T02:15:00Z",endTime:"2024-03-15T02:25:00Z",recordsChecked:3456,issuesFound:2,details:"2 orphaned sale records found without corresponding customer records",recommendations:["Review customer data cleanup procedures","Implement stronger foreign key constraints"]},{id:"dic-3",checkType:"backup_verification",status:"passed",startTime:"2024-03-15T01:00:00Z",endTime:"2024-03-15T01:30:00Z",recordsChecked:15678,issuesFound:0,details:"All backup files verified successfully",recommendations:[]}],ePe=e=>ON.filter(r=>r.severity===e),tPe=e=>M2.filter(r=>r.status===e),rPe=e=>b6.filter(r=>r.status===e),nPe=()=>M2.flatMap(e=>e.findings.filter(r=>r.status==="open"||r.status==="in_progress"));function sPe(){const e=ON.length,r=ePe("critical").length,n=tPe("in_progress").length,s=nPe().length,a=rPe("open").length;return t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Audit Management"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete audit trail and compliance tracking"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(O,{size:"sm",variant:"outline",children:[t.jsx(bt,{className:"w-3 h-3 mr-1"}),"Export Report"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Logs"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:e}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]}),t.jsx(la,{className:"w-6 h-6 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Security Alerts"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:a}),t.jsx("p",{className:"text-xs text-destructive",children:"Open alerts"})]}),t.jsx(Ss,{className:"w-6 h-6 text-destructive"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Audits"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:n}),t.jsx("p",{className:"text-xs text-primary",children:"In progress"})]}),t.jsx($t,{className:"w-6 h-6 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Open Findings"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:s}),t.jsx("p",{className:"text-xs text-secondary",children:"Needs action"})]}),t.jsx(rr,{className:"w-6 h-6 text-secondary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Critical Events"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:r}),t.jsx("p",{className:"text-xs text-destructive",children:"High priority"})]}),t.jsx(ga,{className:"w-6 h-6 text-destructive"})]})})})]}),t.jsxs(Or,{defaultValue:"logs",className:"space-y-4",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-5",children:[t.jsx(Oe,{value:"logs",children:"Audit Logs"}),t.jsx(Oe,{value:"compliance",children:"Compliance"}),t.jsx(Oe,{value:"security",children:"Security"}),t.jsx(Oe,{value:"integrity",children:"Data Integrity"}),t.jsx(Oe,{value:"reports",children:"Reports"})]}),t.jsx($e,{value:"logs",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(z,{className:"pb-2",children:[t.jsx(B,{className:"text-sm text-card-foreground",children:"System Audit Logs"}),t.jsx(Et,{className:"text-xs",children:"Complete system activity trail"})]}),t.jsx(k,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Timestamp"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"User"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Action"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Module"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Resource"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Severity"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:ON.map(i=>t.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[t.jsx("td",{className:"p-2 text-muted-foreground",children:new Date(i.timestamp).toLocaleString()}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-foreground",children:i.userName}),t.jsx("div",{className:"text-xs text-muted-foreground",children:i.userRole})]})}),t.jsx("td",{className:"p-2 text-foreground",children:i.action}),t.jsx("td",{className:"p-2 text-muted-foreground",children:i.module}),t.jsx("td",{className:"p-2",children:t.jsx("div",{className:"text-foreground",children:i.resourceName||i.resourceType})}),t.jsx("td",{className:"p-2",children:t.jsx(te,{variant:i.severity==="critical"||i.severity==="high"?"destructive":i.severity==="medium"?"secondary":"outline",className:"text-xs",children:i.severity})}),t.jsx("td",{className:"p-2",children:t.jsx(O,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(yt,{className:"w-3 h-3"})})})]},i.id))})]})})})]})}),t.jsx($e,{value:"compliance",className:"space-y-4",children:t.jsx("div",{className:"space-y-3",children:M2.map(i=>t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-foreground",children:i.title}),t.jsx("p",{className:"text-xs text-muted-foreground",children:i.description}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(te,{variant:"outline",className:"text-xs",children:i.auditType.replace("_"," ")}),t.jsxs("span",{className:"text-xs text-muted-foreground",children:["Score: ",i.complianceScore,"%"]})]})]}),t.jsx(te,{variant:i.status==="completed"?"default":i.status==="in_progress"?"secondary":"outline",className:"text-xs",children:i.status.replace("_"," ")})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Auditor:"}),t.jsx("span",{className:"ml-1 text-foreground",children:i.auditor})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),t.jsxs("span",{className:"ml-1 text-foreground",children:[i.startDate," - ",i.endDate]})]})]}),i.findings.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-medium text-foreground mb-2",children:["Findings (",i.findings.length,")"]}),i.findings.slice(0,2).map(o=>t.jsxs("div",{className:"p-2 bg-muted rounded mb-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium",children:o.title}),t.jsx(te,{variant:o.severity==="critical"||o.severity==="high"?"destructive":o.severity==="medium"?"secondary":"outline",className:"text-xs",children:o.severity})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.description})]},o.id))]})]})})},i.id))})}),t.jsx($e,{value:"security",className:"space-y-4",children:t.jsx("div",{className:"space-y-3",children:b6.map(i=>t.jsx(T,{className:"bg-card border border-border",children:t.jsx(k,{className:"p-3",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-foreground",children:i.title}),t.jsx("p",{className:"text-xs text-muted-foreground",children:i.description}),t.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[t.jsxs("span",{children:["IP: ",i.ipAddress]}),t.jsx("span",{children:""}),t.jsx("span",{children:new Date(i.timestamp).toLocaleString()})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx(te,{variant:i.severity==="critical"||i.severity==="high"?"destructive":i.severity==="medium"?"secondary":"outline",className:"text-xs",children:i.severity}),t.jsx("div",{className:"mt-1",children:t.jsx(te,{variant:i.status==="resolved"?"default":i.status==="investigating"?"secondary":"outline",className:"text-xs",children:i.status.replace("_"," ")})})]})]}),i.actions.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-medium text-foreground",children:"Actions Taken:"}),i.actions.map(o=>t.jsxs("div",{className:"text-xs text-muted-foreground",children:[" ",o.description," (",new Date(o.takenAt).toLocaleString(),")"]},o.id))]})]})})},i.id))})}),t.jsx($e,{value:"integrity",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(z,{className:"pb-2",children:[t.jsx(B,{className:"text-sm text-card-foreground",children:"Data Integrity Checks"}),t.jsx(Et,{className:"text-xs",children:"Database consistency and backup verification"})]}),t.jsx(k,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Check Type"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Table/Resource"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Status"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Records Checked"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Issues Found"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Duration"})]})}),t.jsx("tbody",{children:JSe.map(i=>t.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[t.jsx("td",{className:"p-2 text-foreground",children:i.checkType.replace("_"," ")}),t.jsx("td",{className:"p-2 text-muted-foreground",children:i.tableName||"System-wide"}),t.jsx("td",{className:"p-2",children:t.jsx(te,{variant:i.status==="passed"?"default":i.status==="failed"?"destructive":i.status==="warning"?"secondary":"outline",className:"text-xs",children:i.status})}),t.jsx("td",{className:"p-2 text-muted-foreground",children:i.recordsChecked.toLocaleString()}),t.jsx("td",{className:"p-2",children:t.jsx("span",{className:i.issuesFound>0?"text-destructive":"text-success",children:i.issuesFound})}),t.jsx("td",{className:"p-2 text-muted-foreground",children:i.endTime?`${Math.round((new Date(i.endTime).getTime()-new Date(i.startTime).getTime())/6e4)}m`:"Running..."})]},i.id))})]})})})]})}),t.jsx($e,{value:"reports",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(z,{className:"pb-2",children:[t.jsx(B,{className:"text-sm text-card-foreground",children:"Audit Reports"}),t.jsx(Et,{className:"text-xs",children:"Generate comprehensive audit reports"})]}),t.jsxs(k,{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs(O,{variant:"outline",className:"h-20 flex-col",children:[t.jsx($t,{className:"w-6 h-6 mb-2"}),t.jsx("span",{className:"text-xs",children:"Compliance Report"})]}),t.jsxs(O,{variant:"outline",className:"h-20 flex-col",children:[t.jsx(Ss,{className:"w-6 h-6 mb-2"}),t.jsx("span",{className:"text-xs",children:"Security Report"})]}),t.jsxs(O,{variant:"outline",className:"h-20 flex-col",children:[t.jsx(la,{className:"w-6 h-6 mb-2"}),t.jsx("span",{className:"text-xs",children:"Activity Report"})]})]})]})})]})]})}const aPe=new W9,iPe=()=>t.jsx(K9,{client:aPe,children:t.jsx(JV,{children:t.jsx(jq,{children:t.jsx(vq,{children:t.jsxs(CR,{children:[t.jsx(nU,{}),t.jsx(MU,{}),t.jsx(HV,{children:t.jsx(yq,{children:t.jsxs(LV,{children:[t.jsx(We,{path:"/login",element:t.jsx(Lwe,{})}),t.jsxs(We,{path:"/",element:t.jsx(xG,{}),children:[t.jsx(We,{index:!0,element:t.jsx(Ewe,{})}),t.jsx(We,{path:"pos/billing",element:t.jsx(Uwe,{})}),t.jsx(We,{path:"pos/stock-transfers",element:t.jsx(fk,{})}),t.jsx(We,{path:"pos/reports",element:t.jsx(c1e,{})}),t.jsx(We,{path:"pos/settings",element:t.jsx(p1e,{})}),t.jsx(We,{path:"inventory/dashboard",element:t.jsx(j1e,{})}),t.jsx(We,{path:"inventory/stock-management",element:t.jsx(x1e,{})}),t.jsx(We,{path:"inventory/manage-orders",element:t.jsx(b1e,{})}),t.jsx(We,{path:"inventory/purchase-orders",element:t.jsx(S1e,{})}),t.jsx(We,{path:"inventory/stock-transfers",element:t.jsx(fk,{})}),t.jsx(We,{path:"inventory/medication-list",element:t.jsx(P1e,{})}),t.jsx(We,{path:"inventory/reports",element:t.jsx(Tk,{})}),t.jsx(We,{path:"inventory/settings",element:t.jsx(PSe,{})}),t.jsx(We,{path:"expenses/tracking",element:t.jsx(B1e,{})}),t.jsx(We,{path:"expenses/categories",element:t.jsx(CSe,{})}),t.jsx(We,{path:"expenses/approval",element:t.jsx(_Se,{})}),t.jsx(We,{path:"expenses/reports",element:t.jsx(TSe,{})}),t.jsx(We,{path:"expenses/settings",element:t.jsx(kSe,{})}),t.jsx(We,{path:"suppliers/dashboard",element:t.jsx(_1e,{})}),t.jsx(We,{path:"suppliers/management",element:t.jsx(RSe,{})}),t.jsx(We,{path:"suppliers/detail/:id",element:t.jsx(DSe,{})}),t.jsx(We,{path:"suppliers/reports",element:t.jsx(OSe,{})}),t.jsx(We,{path:"suppliers/directory",element:t.jsx(A1e,{})}),t.jsx(We,{path:"suppliers/orders",element:t.jsx(ESe,{})}),t.jsx(We,{path:"suppliers/communications",element:t.jsx(T1e,{})}),t.jsx(We,{path:"suppliers/performance",element:t.jsx(E1e,{})}),t.jsx(We,{path:"suppliers/settings",element:t.jsx(MSe,{})}),t.jsx(We,{path:"compliance/dashboard",element:t.jsx(M1e,{})}),t.jsx(We,{path:"compliance/licenses",element:t.jsx(I1e,{})}),t.jsx(We,{path:"compliance/dda-reporting",element:t.jsx(L1e,{})}),t.jsx(We,{path:"compliance/inspections",element:t.jsx(F1e,{})}),t.jsx(We,{path:"compliance/drug-registers",element:t.jsx(z1e,{})}),t.jsx(We,{path:"compliance/tracking",element:t.jsx(ISe,{})}),t.jsx(We,{path:"network/branches",element:t.jsx(q1e,{})}),t.jsx(We,{path:"network/users",element:t.jsx(U1e,{})}),t.jsx(We,{path:"network/reports",element:t.jsx(G1e,{})}),t.jsx(We,{path:"network/settings",element:t.jsx($Se,{})}),t.jsx(We,{path:"patients/directory",element:t.jsx(Y1e,{})}),t.jsx(We,{path:"patients/records",element:t.jsx(Z1e,{})}),t.jsx(We,{path:"patients/prescriptions",element:t.jsx(e2e,{})}),t.jsx(We,{path:"patients/history",element:t.jsx(r2e,{})}),t.jsx(We,{path:"patients/reports",element:t.jsx(s2e,{})}),t.jsx(We,{path:"patients/settings",element:t.jsx(a2e,{})}),t.jsx(We,{path:"customers",element:t.jsx(wk,{})}),t.jsx(We,{path:"customers/directory",element:t.jsx(wk,{})}),t.jsx(We,{path:"customers/detail/:id",element:t.jsx(w2e,{})}),t.jsx(We,{path:"customers/prescriptions",element:t.jsx(_2e,{})}),t.jsx(We,{path:"customers/loyalty",element:t.jsx(L2e,{})}),t.jsx(We,{path:"customers/reports",element:t.jsx(LSe,{})}),t.jsx(We,{path:"customers/settings",element:t.jsx(FSe,{})}),t.jsx(We,{path:"reports/sales",element:t.jsx(q2e,{})}),t.jsx(We,{path:"reports/inventory",element:t.jsx(Tk,{})}),t.jsx(We,{path:"reports/financial",element:t.jsx(Z2e,{})}),t.jsx(We,{path:"reports/compliance",element:t.jsx(sSe,{})}),t.jsx(We,{path:"reports/custom",element:t.jsx(dSe,{})}),t.jsx(We,{path:"vendor-portal",element:t.jsx(qSe,{})}),t.jsx(We,{path:"documents",element:t.jsx(ZSe,{})}),t.jsx(We,{path:"audit",element:t.jsx(sPe,{})}),t.jsx(We,{path:"staff/dashboard",element:t.jsx(SSe,{})}),t.jsx(We,{path:"reports",element:t.jsx(Mwe,{})}),t.jsx(We,{path:"admin/dashboard",element:t.jsx(uSe,{})}),t.jsx(We,{path:"admin/organizations",element:t.jsx(vSe,{})}),t.jsx(We,{path:"admin/organizations/:id",element:t.jsx(ySe,{})}),t.jsx(We,{path:"admin/users",element:t.jsx(jSe,{})}),t.jsx(We,{path:"admin/subscriptions",element:t.jsx(bSe,{})}),t.jsx(We,{path:"admin/reports",element:t.jsx(NSe,{})})]}),t.jsx(We,{path:"*",element:t.jsx(Fwe,{})})]})})})]})})})})});r4(document.getElementById("root")).render(t.jsx(iPe,{}));
