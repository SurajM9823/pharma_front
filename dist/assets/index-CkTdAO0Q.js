var E6=Object.defineProperty;var U2=e=>{throw TypeError(e)};var k6=(e,r,n)=>r in e?E6(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var V2=(e,r,n)=>k6(e,typeof r!="symbol"?r+"":r,n),Zv=(e,r,n)=>r.has(e)||U2("Cannot "+n);var we=(e,r,n)=>(Zv(e,r,"read from private field"),n?n.call(e):r.get(e)),Gt=(e,r,n)=>r.has(e)?U2("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,n),gt=(e,r,n,s)=>(Zv(e,r,"write to private field"),s?s.call(e,n):r.set(e,n),n),Sn=(e,r,n)=>(Zv(e,r,"access private method"),n);var Xh=(e,r,n,s)=>({set _(a){gt(e,r,a,n)},get _(){return we(e,r,s)}});function O6(e,r){for(var n=0;n<r.length;n++){const s=r[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var YE={exports:{}},ag={},QE={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=Symbol.for("react.element"),R6=Symbol.for("react.portal"),D6=Symbol.for("react.fragment"),M6=Symbol.for("react.strict_mode"),I6=Symbol.for("react.profiler"),$6=Symbol.for("react.provider"),L6=Symbol.for("react.context"),F6=Symbol.for("react.forward_ref"),z6=Symbol.for("react.suspense"),B6=Symbol.for("react.memo"),U6=Symbol.for("react.lazy"),q2=Symbol.iterator;function V6(e){return e===null||typeof e!="object"?null:(e=q2&&e[q2]||e["@@iterator"],typeof e=="function"?e:null)}var ZE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JE=Object.assign,ek={};function zd(e,r,n){this.props=e,this.context=r,this.refs=ek,this.updater=n||ZE}zd.prototype.isReactComponent={};zd.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};zd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tk(){}tk.prototype=zd.prototype;function FN(e,r,n){this.props=e,this.context=r,this.refs=ek,this.updater=n||ZE}var zN=FN.prototype=new tk;zN.constructor=FN;JE(zN,zd.prototype);zN.isPureReactComponent=!0;var W2=Array.isArray,rk=Object.prototype.hasOwnProperty,BN={current:null},nk={key:!0,ref:!0,__self:!0,__source:!0};function sk(e,r,n){var s,a={},i=null,o=null;if(r!=null)for(s in r.ref!==void 0&&(o=r.ref),r.key!==void 0&&(i=""+r.key),r)rk.call(r,s)&&!nk.hasOwnProperty(s)&&(a[s]=r[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Sh,type:e,key:i,ref:o,props:a,_owner:BN.current}}function q6(e,r){return{$$typeof:Sh,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function UN(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sh}function W6(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return r[n]})}var H2=/\/+/g;function Jv(e,r){return typeof e=="object"&&e!==null&&e.key!=null?W6(""+e.key):r.toString(36)}function Wf(e,r,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Sh:case R6:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Jv(o,0):s,W2(a)?(n="",e!=null&&(n=e.replace(H2,"$&/")+"/"),Wf(a,r,n,"",function(d){return d})):a!=null&&(UN(a)&&(a=q6(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(H2,"$&/")+"/")+e)),r.push(a)),1;if(o=0,s=s===""?".":s+":",W2(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Jv(i,l);o+=Wf(i,r,n,c,a)}else if(c=V6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Jv(i,l++),o+=Wf(i,r,n,c,a);else if(i==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return o}function Qh(e,r,n){if(e==null)return e;var s=[],a=0;return Wf(e,s,"","",function(i){return r.call(n,i,a++)}),s}function H6(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var Hn={current:null},Hf={transition:null},K6={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:Hf,ReactCurrentOwner:BN};function ak(){throw Error("act(...) is not supported in production builds of React.")}Lt.Children={map:Qh,forEach:function(e,r,n){Qh(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return Qh(e,function(){r++}),r},toArray:function(e){return Qh(e,function(r){return r})||[]},only:function(e){if(!UN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Lt.Component=zd;Lt.Fragment=D6;Lt.Profiler=I6;Lt.PureComponent=FN;Lt.StrictMode=M6;Lt.Suspense=z6;Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K6;Lt.act=ak;Lt.cloneElement=function(e,r,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=JE({},e.props),a=e.key,i=e.ref,o=e._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,o=BN.current),r.key!==void 0&&(a=""+r.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in r)rk.call(r,c)&&!nk.hasOwnProperty(c)&&(s[c]=r[c]===void 0&&l!==void 0?l[c]:r[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Sh,type:e.type,key:a,ref:i,props:s,_owner:o}};Lt.createContext=function(e){return e={$$typeof:L6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$6,_context:e},e.Consumer=e};Lt.createElement=sk;Lt.createFactory=function(e){var r=sk.bind(null,e);return r.type=e,r};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(e){return{$$typeof:F6,render:e}};Lt.isValidElement=UN;Lt.lazy=function(e){return{$$typeof:U6,_payload:{_status:-1,_result:e},_init:H6}};Lt.memo=function(e,r){return{$$typeof:B6,type:e,compare:r===void 0?null:r}};Lt.startTransition=function(e){var r=Hf.transition;Hf.transition={};try{e()}finally{Hf.transition=r}};Lt.unstable_act=ak;Lt.useCallback=function(e,r){return Hn.current.useCallback(e,r)};Lt.useContext=function(e){return Hn.current.useContext(e)};Lt.useDebugValue=function(){};Lt.useDeferredValue=function(e){return Hn.current.useDeferredValue(e)};Lt.useEffect=function(e,r){return Hn.current.useEffect(e,r)};Lt.useId=function(){return Hn.current.useId()};Lt.useImperativeHandle=function(e,r,n){return Hn.current.useImperativeHandle(e,r,n)};Lt.useInsertionEffect=function(e,r){return Hn.current.useInsertionEffect(e,r)};Lt.useLayoutEffect=function(e,r){return Hn.current.useLayoutEffect(e,r)};Lt.useMemo=function(e,r){return Hn.current.useMemo(e,r)};Lt.useReducer=function(e,r,n){return Hn.current.useReducer(e,r,n)};Lt.useRef=function(e){return Hn.current.useRef(e)};Lt.useState=function(e){return Hn.current.useState(e)};Lt.useSyncExternalStore=function(e,r,n){return Hn.current.useSyncExternalStore(e,r,n)};Lt.useTransition=function(){return Hn.current.useTransition()};Lt.version="18.3.1";QE.exports=Lt;var x=QE.exports;const L=Zt(x),VN=O6({__proto__:null,default:L},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G6=x,X6=Symbol.for("react.element"),Y6=Symbol.for("react.fragment"),Q6=Object.prototype.hasOwnProperty,Z6=G6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J6={key:!0,ref:!0,__self:!0,__source:!0};function ik(e,r,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(o=r.ref);for(s in r)Q6.call(r,s)&&!J6.hasOwnProperty(s)&&(a[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps,r)a[s]===void 0&&(a[s]=r[s]);return{$$typeof:X6,type:e,key:i,ref:o,props:a,_owner:Z6.current}}ag.Fragment=Y6;ag.jsx=ik;ag.jsxs=ik;YE.exports=ag;var t=YE.exports,ok={exports:{}},_s={},lk={exports:{}},ck={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(z,F){var te=z.length;z.push(F);e:for(;0<te;){var de=te-1>>>1,ie=z[de];if(0<a(ie,F))z[de]=F,z[te]=ie,te=de;else break e}}function n(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var F=z[0],te=z.pop();if(te!==F){z[0]=te;e:for(var de=0,ie=z.length,fe=ie>>>1;de<fe;){var ge=2*(de+1)-1,he=z[ge],Te=ge+1,Se=z[Te];if(0>a(he,te))Te<ie&&0>a(Se,he)?(z[de]=Se,z[Te]=te,de=Te):(z[de]=he,z[ge]=te,de=ge);else if(Te<ie&&0>a(Se,te))z[de]=Se,z[Te]=te,de=Te;else break e}}return F}function a(z,F){var te=z.sortIndex-F.sortIndex;return te!==0?te:z.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,g=!1,f=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(z){for(var F=n(d);F!==null;){if(F.callback===null)s(d);else if(F.startTime<=z)s(d),F.sortIndex=F.expirationTime,r(c,F);else break;F=n(d)}}function C(z){if(f=!1,j(z),!g)if(n(c)!==null)g=!0,R(S);else{var F=n(d);F!==null&&X(C,F.startTime-z)}}function S(z,F){g=!1,f&&(f=!1,b(_),_=-1),p=!0;var te=h;try{for(j(F),m=n(c);m!==null&&(!(m.expirationTime>F)||z&&!D());){var de=m.callback;if(typeof de=="function"){m.callback=null,h=m.priorityLevel;var ie=de(m.expirationTime<=F);F=e.unstable_now(),typeof ie=="function"?m.callback=ie:m===n(c)&&s(c),j(F)}else s(c);m=n(c)}if(m!==null)var fe=!0;else{var ge=n(d);ge!==null&&X(C,ge.startTime-F),fe=!1}return fe}finally{m=null,h=te,p=!1}}var N=!1,P=null,_=-1,w=5,A=-1;function D(){return!(e.unstable_now()-A<w)}function O(){if(P!==null){var z=e.unstable_now();A=z;var F=!0;try{F=P(!0,z)}finally{F?$():(N=!1,P=null)}}else N=!1}var $;if(typeof y=="function")$=function(){y(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,V=U.port2;U.port1.onmessage=O,$=function(){V.postMessage(null)}}else $=function(){v(O,0)};function R(z){P=z,N||(N=!0,$())}function X(z,F){_=v(function(){z(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,R(S))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var te=h;h=F;try{return z()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,F){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=h;h=z;try{return F()}finally{h=te}},e.unstable_scheduleCallback=function(z,F,te){var de=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?de+te:de):te=de,z){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=te+ie,z={id:u++,callback:F,priorityLevel:z,startTime:te,expirationTime:ie,sortIndex:-1},te>de?(z.sortIndex=te,r(d,z),n(c)===null&&z===n(d)&&(f?(b(_),_=-1):f=!0,X(C,te-de))):(z.sortIndex=ie,r(c,z),g||p||(g=!0,R(S))),z},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(z){var F=h;return function(){var te=h;h=F;try{return z.apply(this,arguments)}finally{h=te}}}})(ck);lk.exports=ck;var eF=lk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tF=x,Ss=eF;function De(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dk=new Set,fm={};function Wl(e,r){Jc(e,r),Jc(e+"Capture",r)}function Jc(e,r){for(fm[e]=r,e=0;e<r.length;e++)dk.add(r[e])}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ej=Object.prototype.hasOwnProperty,rF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K2={},G2={};function nF(e){return Ej.call(G2,e)?!0:Ej.call(K2,e)?!1:rF.test(e)?G2[e]=!0:(K2[e]=!0,!1)}function sF(e,r,n,s){if(n!==null&&n.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aF(e,r,n,s){if(r===null||typeof r>"u"||sF(e,r,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Kn(e,r,n,s,a,i,o){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=o}var bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bn[e]=new Kn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];bn[r]=new Kn(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bn[e]=new Kn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bn[e]=new Kn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bn[e]=new Kn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bn[e]=new Kn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bn[e]=new Kn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bn[e]=new Kn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bn[e]=new Kn(e,5,!1,e.toLowerCase(),null,!1,!1)});var qN=/[\-:]([a-z])/g;function WN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(qN,WN);bn[r]=new Kn(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(qN,WN);bn[r]=new Kn(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(qN,WN);bn[r]=new Kn(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bn[e]=new Kn(e,1,!1,e.toLowerCase(),null,!1,!1)});bn.xlinkHref=new Kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bn[e]=new Kn(e,1,!1,e.toLowerCase(),null,!0,!0)});function HN(e,r,n,s){var a=bn.hasOwnProperty(r)?bn[r]:null;(a!==null?a.type!==0:s||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(aF(r,n,a,s)&&(n=null),s||a===null?nF(r)&&(n===null?e.removeAttribute(r):e.setAttribute(r,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(r=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(r):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,r,n):e.setAttribute(r,n))))}var Ri=tF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zh=Symbol.for("react.element"),pc=Symbol.for("react.portal"),xc=Symbol.for("react.fragment"),KN=Symbol.for("react.strict_mode"),kj=Symbol.for("react.profiler"),uk=Symbol.for("react.provider"),mk=Symbol.for("react.context"),GN=Symbol.for("react.forward_ref"),Oj=Symbol.for("react.suspense"),Rj=Symbol.for("react.suspense_list"),XN=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy"),hk=Symbol.for("react.offscreen"),X2=Symbol.iterator;function xu(e){return e===null||typeof e!="object"?null:(e=X2&&e[X2]||e["@@iterator"],typeof e=="function"?e:null)}var kr=Object.assign,ey;function Wu(e){if(ey===void 0)try{throw Error()}catch(n){var r=n.stack.trim().match(/\n( *(at )?)/);ey=r&&r[1]||""}return`
`+ey+e}var ty=!1;function ry(e,r){if(!e||ty)return"";ty=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(d){var s=d}Reflect.construct(e,[],r)}else{try{r.call()}catch(d){s=d}e.call(r.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ty=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Wu(e):""}function iF(e){switch(e.tag){case 5:return Wu(e.type);case 16:return Wu("Lazy");case 13:return Wu("Suspense");case 19:return Wu("SuspenseList");case 0:case 2:case 15:return e=ry(e.type,!1),e;case 11:return e=ry(e.type.render,!1),e;case 1:return e=ry(e.type,!0),e;default:return""}}function Dj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xc:return"Fragment";case pc:return"Portal";case kj:return"Profiler";case KN:return"StrictMode";case Oj:return"Suspense";case Rj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mk:return(e.displayName||"Context")+".Consumer";case uk:return(e._context.displayName||"Context")+".Provider";case GN:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case XN:return r=e.displayName||null,r!==null?r:Dj(e.type)||"Memo";case Xi:r=e._payload,e=e._init;try{return Dj(e(r))}catch{}}return null}function oF(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dj(r);case 8:return r===KN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function So(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fk(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function lF(e){var r=fk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),s=""+e[r];if(!e.hasOwnProperty(r)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,r,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Jh(e){e._valueTracker||(e._valueTracker=lF(e))}function pk(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var n=r.getValue(),s="";return e&&(s=fk(e)?e.checked?"true":"false":e.value),e=s,e!==n?(r.setValue(e),!0):!1}function pp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mj(e,r){var n=r.checked;return kr({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Y2(e,r){var n=r.defaultValue==null?"":r.defaultValue,s=r.checked!=null?r.checked:r.defaultChecked;n=So(r.value!=null?r.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function xk(e,r){r=r.checked,r!=null&&HN(e,"checked",r,!1)}function Ij(e,r){xk(e,r);var n=So(r.value),s=r.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?$j(e,r.type,n):r.hasOwnProperty("defaultValue")&&$j(e,r.type,So(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Q2(e,r,n){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var s=r.type;if(!(s!=="submit"&&s!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,n||r===e.value||(e.value=r),e.defaultValue=r}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $j(e,r,n){(r!=="number"||pp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hu=Array.isArray;function Rc(e,r,n,s){if(e=e.options,r){r={};for(var a=0;a<n.length;a++)r["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=r.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+So(n),r=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}r!==null||e[a].disabled||(r=e[a])}r!==null&&(r.selected=!0)}}function Lj(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(De(91));return kr({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Z2(e,r){var n=r.value;if(n==null){if(n=r.children,r=r.defaultValue,n!=null){if(r!=null)throw Error(De(92));if(Hu(n)){if(1<n.length)throw Error(De(93));n=n[0]}r=n}r==null&&(r=""),n=r}e._wrapperState={initialValue:So(n)}}function gk(e,r){var n=So(r.value),s=So(r.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),r.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function J2(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function vk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fj(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?vk(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ef,yk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(r,n,s,a)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(ef=ef||document.createElement("div"),ef.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ef.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function pm(e,r){if(r){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=r;return}}e.textContent=r}var Qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cF=["Webkit","ms","Moz","O"];Object.keys(Qu).forEach(function(e){cF.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Qu[r]=Qu[e]})});function jk(e,r,n){return r==null||typeof r=="boolean"||r===""?"":n||typeof r!="number"||r===0||Qu.hasOwnProperty(e)&&Qu[e]?(""+r).trim():r+"px"}function bk(e,r){e=e.style;for(var n in r)if(r.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=jk(n,r[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var dF=kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zj(e,r){if(r){if(dF[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(De(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(De(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(De(61))}if(r.style!=null&&typeof r.style!="object")throw Error(De(62))}}function Bj(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uj=null;function YN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vj=null,Dc=null,Mc=null;function eS(e){if(e=_h(e)){if(typeof Vj!="function")throw Error(De(280));var r=e.stateNode;r&&(r=dg(r),Vj(e.stateNode,e.type,r))}}function Nk(e){Dc?Mc?Mc.push(e):Mc=[e]:Dc=e}function wk(){if(Dc){var e=Dc,r=Mc;if(Mc=Dc=null,eS(e),r)for(e=0;e<r.length;e++)eS(r[e])}}function Sk(e,r){return e(r)}function Pk(){}var ny=!1;function Ck(e,r,n){if(ny)return e(r,n);ny=!0;try{return Sk(e,r,n)}finally{ny=!1,(Dc!==null||Mc!==null)&&(Pk(),wk())}}function xm(e,r){var n=e.stateNode;if(n===null)return null;var s=dg(n);if(s===null)return null;n=s[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(De(231,r,typeof n));return n}var qj=!1;if(ji)try{var gu={};Object.defineProperty(gu,"passive",{get:function(){qj=!0}}),window.addEventListener("test",gu,gu),window.removeEventListener("test",gu,gu)}catch{qj=!1}function uF(e,r,n,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{r.apply(n,d)}catch(u){this.onError(u)}}var Zu=!1,xp=null,gp=!1,Wj=null,mF={onError:function(e){Zu=!0,xp=e}};function hF(e,r,n,s,a,i,o,l,c){Zu=!1,xp=null,uF.apply(mF,arguments)}function fF(e,r,n,s,a,i,o,l,c){if(hF.apply(this,arguments),Zu){if(Zu){var d=xp;Zu=!1,xp=null}else throw Error(De(198));gp||(gp=!0,Wj=d)}}function Hl(e){var r=e,n=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(n=r.return),e=r.return;while(e)}return r.tag===3?n:null}function _k(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function tS(e){if(Hl(e)!==e)throw Error(De(188))}function pF(e){var r=e.alternate;if(!r){if(r=Hl(e),r===null)throw Error(De(188));return r!==e?null:e}for(var n=e,s=r;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return tS(a),e;if(i===s)return tS(a),r;i=i.sibling}throw Error(De(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o)throw Error(De(189))}}if(n.alternate!==s)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?e:r}function Ak(e){return e=pF(e),e!==null?Tk(e):null}function Tk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=Tk(e);if(r!==null)return r;e=e.sibling}return null}var Ek=Ss.unstable_scheduleCallback,rS=Ss.unstable_cancelCallback,xF=Ss.unstable_shouldYield,gF=Ss.unstable_requestPaint,Ur=Ss.unstable_now,vF=Ss.unstable_getCurrentPriorityLevel,QN=Ss.unstable_ImmediatePriority,kk=Ss.unstable_UserBlockingPriority,vp=Ss.unstable_NormalPriority,yF=Ss.unstable_LowPriority,Ok=Ss.unstable_IdlePriority,ig=null,Ba=null;function jF(e){if(Ba&&typeof Ba.onCommitFiberRoot=="function")try{Ba.onCommitFiberRoot(ig,e,void 0,(e.current.flags&128)===128)}catch{}}var da=Math.clz32?Math.clz32:wF,bF=Math.log,NF=Math.LN2;function wF(e){return e>>>=0,e===0?32:31-(bF(e)/NF|0)|0}var tf=64,rf=4194304;function Ku(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yp(e,r){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?s=Ku(l):(i&=o,i!==0&&(s=Ku(i)))}else o=n&~a,o!==0?s=Ku(o):i!==0&&(s=Ku(i));if(s===0)return 0;if(r!==0&&r!==s&&!(r&a)&&(a=s&-s,i=r&-r,a>=i||a===16&&(i&4194240)!==0))return r;if(s&4&&(s|=n&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=s;0<r;)n=31-da(r),a=1<<n,s|=e[n],r&=~a;return s}function SF(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PF(e,r){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-da(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&s)&&(a[o]=SF(l,r)):c<=r&&(e.expiredLanes|=l),i&=~l}}function Hj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rk(){var e=tf;return tf<<=1,!(tf&4194240)&&(tf=64),e}function sy(e){for(var r=[],n=0;31>n;n++)r.push(e);return r}function Ph(e,r,n){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-da(r),e[r]=n}function CF(e,r){var n=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-da(n),i=1<<a;r[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function ZN(e,r){var n=e.entangledLanes|=r;for(e=e.entanglements;n;){var s=31-da(n),a=1<<s;a&r|e[s]&r&&(e[s]|=r),n&=~a}}var er=0;function Dk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mk,JN,Ik,$k,Lk,Kj=!1,nf=[],ho=null,fo=null,po=null,gm=new Map,vm=new Map,Zi=[],_F="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nS(e,r){switch(e){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":gm.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":vm.delete(r.pointerId)}}function vu(e,r,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:r,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},r!==null&&(r=_h(r),r!==null&&JN(r)),e):(e.eventSystemFlags|=s,r=e.targetContainers,a!==null&&r.indexOf(a)===-1&&r.push(a),e)}function AF(e,r,n,s,a){switch(r){case"focusin":return ho=vu(ho,e,r,n,s,a),!0;case"dragenter":return fo=vu(fo,e,r,n,s,a),!0;case"mouseover":return po=vu(po,e,r,n,s,a),!0;case"pointerover":var i=a.pointerId;return gm.set(i,vu(gm.get(i)||null,e,r,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,vm.set(i,vu(vm.get(i)||null,e,r,n,s,a)),!0}return!1}function Fk(e){var r=sl(e.target);if(r!==null){var n=Hl(r);if(n!==null){if(r=n.tag,r===13){if(r=_k(n),r!==null){e.blockedOn=r,Lk(e.priority,function(){Ik(n)});return}}else if(r===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kf(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var n=Gj(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Uj=s,n.target.dispatchEvent(s),Uj=null}else return r=_h(n),r!==null&&JN(r),e.blockedOn=n,!1;r.shift()}return!0}function sS(e,r,n){Kf(e)&&n.delete(r)}function TF(){Kj=!1,ho!==null&&Kf(ho)&&(ho=null),fo!==null&&Kf(fo)&&(fo=null),po!==null&&Kf(po)&&(po=null),gm.forEach(sS),vm.forEach(sS)}function yu(e,r){e.blockedOn===r&&(e.blockedOn=null,Kj||(Kj=!0,Ss.unstable_scheduleCallback(Ss.unstable_NormalPriority,TF)))}function ym(e){function r(a){return yu(a,e)}if(0<nf.length){yu(nf[0],e);for(var n=1;n<nf.length;n++){var s=nf[n];s.blockedOn===e&&(s.blockedOn=null)}}for(ho!==null&&yu(ho,e),fo!==null&&yu(fo,e),po!==null&&yu(po,e),gm.forEach(r),vm.forEach(r),n=0;n<Zi.length;n++)s=Zi[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)Fk(n),n.blockedOn===null&&Zi.shift()}var Ic=Ri.ReactCurrentBatchConfig,jp=!0;function EF(e,r,n,s){var a=er,i=Ic.transition;Ic.transition=null;try{er=1,ew(e,r,n,s)}finally{er=a,Ic.transition=i}}function kF(e,r,n,s){var a=er,i=Ic.transition;Ic.transition=null;try{er=4,ew(e,r,n,s)}finally{er=a,Ic.transition=i}}function ew(e,r,n,s){if(jp){var a=Gj(e,r,n,s);if(a===null)fy(e,r,s,bp,n),nS(e,s);else if(AF(a,e,r,n,s))s.stopPropagation();else if(nS(e,s),r&4&&-1<_F.indexOf(e)){for(;a!==null;){var i=_h(a);if(i!==null&&Mk(i),i=Gj(e,r,n,s),i===null&&fy(e,r,s,bp,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else fy(e,r,s,null,n)}}var bp=null;function Gj(e,r,n,s){if(bp=null,e=YN(s),e=sl(e),e!==null)if(r=Hl(e),r===null)e=null;else if(n=r.tag,n===13){if(e=_k(r),e!==null)return e;e=null}else if(n===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return bp=e,null}function zk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vF()){case QN:return 1;case kk:return 4;case vp:case yF:return 16;case Ok:return 536870912;default:return 16}default:return 16}}var oo=null,tw=null,Gf=null;function Bk(){if(Gf)return Gf;var e,r=tw,n=r.length,s,a="value"in oo?oo.value:oo.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&r[n-s]===a[i-s];s++);return Gf=a.slice(e,1<s?1-s:void 0)}function Xf(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function sf(){return!0}function aS(){return!1}function As(e){function r(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sf:aS,this.isPropagationStopped=aS,this}return kr(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sf)},persist:function(){},isPersistent:sf}),r}var Bd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rw=As(Bd),Ch=kr({},Bd,{view:0,detail:0}),OF=As(Ch),ay,iy,ju,og=kr({},Ch,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ju&&(ju&&e.type==="mousemove"?(ay=e.screenX-ju.screenX,iy=e.screenY-ju.screenY):iy=ay=0,ju=e),ay)},movementY:function(e){return"movementY"in e?e.movementY:iy}}),iS=As(og),RF=kr({},og,{dataTransfer:0}),DF=As(RF),MF=kr({},Ch,{relatedTarget:0}),oy=As(MF),IF=kr({},Bd,{animationName:0,elapsedTime:0,pseudoElement:0}),$F=As(IF),LF=kr({},Bd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FF=As(LF),zF=kr({},Bd,{data:0}),oS=As(zF),BF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qF(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=VF[e])?!!r[e]:!1}function nw(){return qF}var WF=kr({},Ch,{key:function(e){if(e.key){var r=BF[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Xf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nw,charCode:function(e){return e.type==="keypress"?Xf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HF=As(WF),KF=kr({},og,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lS=As(KF),GF=kr({},Ch,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nw}),XF=As(GF),YF=kr({},Bd,{propertyName:0,elapsedTime:0,pseudoElement:0}),QF=As(YF),ZF=kr({},og,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),JF=As(ZF),ez=[9,13,27,32],sw=ji&&"CompositionEvent"in window,Ju=null;ji&&"documentMode"in document&&(Ju=document.documentMode);var tz=ji&&"TextEvent"in window&&!Ju,Uk=ji&&(!sw||Ju&&8<Ju&&11>=Ju),cS=" ",dS=!1;function Vk(e,r){switch(e){case"keyup":return ez.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gc=!1;function rz(e,r){switch(e){case"compositionend":return qk(r);case"keypress":return r.which!==32?null:(dS=!0,cS);case"textInput":return e=r.data,e===cS&&dS?null:e;default:return null}}function nz(e,r){if(gc)return e==="compositionend"||!sw&&Vk(e,r)?(e=Bk(),Gf=tw=oo=null,gc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Uk&&r.locale!=="ko"?null:r.data;default:return null}}var sz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uS(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!sz[e.type]:r==="textarea"}function Wk(e,r,n,s){Nk(s),r=Np(r,"onChange"),0<r.length&&(n=new rw("onChange","change",null,n,s),e.push({event:n,listeners:r}))}var em=null,jm=null;function az(e){rO(e,0)}function lg(e){var r=jc(e);if(pk(r))return e}function iz(e,r){if(e==="change")return r}var Hk=!1;if(ji){var ly;if(ji){var cy="oninput"in document;if(!cy){var mS=document.createElement("div");mS.setAttribute("oninput","return;"),cy=typeof mS.oninput=="function"}ly=cy}else ly=!1;Hk=ly&&(!document.documentMode||9<document.documentMode)}function hS(){em&&(em.detachEvent("onpropertychange",Kk),jm=em=null)}function Kk(e){if(e.propertyName==="value"&&lg(jm)){var r=[];Wk(r,jm,e,YN(e)),Ck(az,r)}}function oz(e,r,n){e==="focusin"?(hS(),em=r,jm=n,em.attachEvent("onpropertychange",Kk)):e==="focusout"&&hS()}function lz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lg(jm)}function cz(e,r){if(e==="click")return lg(r)}function dz(e,r){if(e==="input"||e==="change")return lg(r)}function uz(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var xa=typeof Object.is=="function"?Object.is:uz;function bm(e,r){if(xa(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var n=Object.keys(e),s=Object.keys(r);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!Ej.call(r,a)||!xa(e[a],r[a]))return!1}return!0}function fS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pS(e,r){var n=fS(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=r&&s>=r)return{node:n,offset:r-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fS(n)}}function Gk(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Gk(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Xk(){for(var e=window,r=pp();r instanceof e.HTMLIFrameElement;){try{var n=typeof r.contentWindow.location.href=="string"}catch{n=!1}if(n)e=r.contentWindow;else break;r=pp(e.document)}return r}function aw(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function mz(e){var r=Xk(),n=e.focusedElem,s=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&Gk(n.ownerDocument.documentElement,n)){if(s!==null&&aw(n)){if(r=s.start,e=s.end,e===void 0&&(e=r),"selectionStart"in n)n.selectionStart=r,n.selectionEnd=Math.min(e,n.value.length);else if(e=(r=n.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=pS(n,i);var o=pS(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(r=r.createRange(),r.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(r),e.extend(o.node,o.offset)):(r.setEnd(o.node,o.offset),e.addRange(r)))}}for(r=[],e=n;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<r.length;n++)e=r[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hz=ji&&"documentMode"in document&&11>=document.documentMode,vc=null,Xj=null,tm=null,Yj=!1;function xS(e,r,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yj||vc==null||vc!==pp(s)||(s=vc,"selectionStart"in s&&aw(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),tm&&bm(tm,s)||(tm=s,s=Np(Xj,"onSelect"),0<s.length&&(r=new rw("onSelect","select",null,r,n),e.push({event:r,listeners:s}),r.target=vc)))}function af(e,r){var n={};return n[e.toLowerCase()]=r.toLowerCase(),n["Webkit"+e]="webkit"+r,n["Moz"+e]="moz"+r,n}var yc={animationend:af("Animation","AnimationEnd"),animationiteration:af("Animation","AnimationIteration"),animationstart:af("Animation","AnimationStart"),transitionend:af("Transition","TransitionEnd")},dy={},Yk={};ji&&(Yk=document.createElement("div").style,"AnimationEvent"in window||(delete yc.animationend.animation,delete yc.animationiteration.animation,delete yc.animationstart.animation),"TransitionEvent"in window||delete yc.transitionend.transition);function cg(e){if(dy[e])return dy[e];if(!yc[e])return e;var r=yc[e],n;for(n in r)if(r.hasOwnProperty(n)&&n in Yk)return dy[e]=r[n];return e}var Qk=cg("animationend"),Zk=cg("animationiteration"),Jk=cg("animationstart"),eO=cg("transitionend"),tO=new Map,gS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ko(e,r){tO.set(e,r),Wl(r,[e])}for(var uy=0;uy<gS.length;uy++){var my=gS[uy],fz=my.toLowerCase(),pz=my[0].toUpperCase()+my.slice(1);ko(fz,"on"+pz)}ko(Qk,"onAnimationEnd");ko(Zk,"onAnimationIteration");ko(Jk,"onAnimationStart");ko("dblclick","onDoubleClick");ko("focusin","onFocus");ko("focusout","onBlur");ko(eO,"onTransitionEnd");Jc("onMouseEnter",["mouseout","mouseover"]);Jc("onMouseLeave",["mouseout","mouseover"]);Jc("onPointerEnter",["pointerout","pointerover"]);Jc("onPointerLeave",["pointerout","pointerover"]);Wl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gu));function vS(e,r,n){var s=e.type||"unknown-event";e.currentTarget=n,fF(s,r,void 0,e),e.currentTarget=null}function rO(e,r){r=(r&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(r)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;vS(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;vS(a,l,d),i=c}}}if(gp)throw e=Wj,gp=!1,Wj=null,e}function pr(e,r){var n=r[t0];n===void 0&&(n=r[t0]=new Set);var s=e+"__bubble";n.has(s)||(nO(r,e,2,!1),n.add(s))}function hy(e,r,n){var s=0;r&&(s|=4),nO(n,e,s,r)}var of="_reactListening"+Math.random().toString(36).slice(2);function Nm(e){if(!e[of]){e[of]=!0,dk.forEach(function(n){n!=="selectionchange"&&(xz.has(n)||hy(n,!1,e),hy(n,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[of]||(r[of]=!0,hy("selectionchange",!1,r))}}function nO(e,r,n,s){switch(zk(r)){case 1:var a=EF;break;case 4:a=kF;break;default:a=ew}n=a.bind(null,r,n,e),a=void 0,!qj||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(r,n,{capture:!0,passive:a}):e.addEventListener(r,n,!0):a!==void 0?e.addEventListener(r,n,{passive:a}):e.addEventListener(r,n,!1)}function fy(e,r,n,s,a){var i=s;if(!(r&1)&&!(r&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=sl(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}Ck(function(){var d=i,u=YN(n),m=[];e:{var h=tO.get(e);if(h!==void 0){var p=rw,g=e;switch(e){case"keypress":if(Xf(n)===0)break e;case"keydown":case"keyup":p=HF;break;case"focusin":g="focus",p=oy;break;case"focusout":g="blur",p=oy;break;case"beforeblur":case"afterblur":p=oy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=iS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=DF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=XF;break;case Qk:case Zk:case Jk:p=$F;break;case eO:p=QF;break;case"scroll":p=OF;break;case"wheel":p=JF;break;case"copy":case"cut":case"paste":p=FF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=lS}var f=(r&4)!==0,v=!f&&e==="scroll",b=f?h!==null?h+"Capture":null:h;f=[];for(var y=d,j;y!==null;){j=y;var C=j.stateNode;if(j.tag===5&&C!==null&&(j=C,b!==null&&(C=xm(y,b),C!=null&&f.push(wm(y,C,j)))),v)break;y=y.return}0<f.length&&(h=new p(h,g,null,n,u),m.push({event:h,listeners:f}))}}if(!(r&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Uj&&(g=n.relatedTarget||n.fromElement)&&(sl(g)||g[bi]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=d,g=g?sl(g):null,g!==null&&(v=Hl(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(f=iS,C="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(f=lS,C="onPointerLeave",b="onPointerEnter",y="pointer"),v=p==null?h:jc(p),j=g==null?h:jc(g),h=new f(C,y+"leave",p,n,u),h.target=v,h.relatedTarget=j,C=null,sl(u)===d&&(f=new f(b,y+"enter",g,n,u),f.target=j,f.relatedTarget=v,C=f),v=C,p&&g)t:{for(f=p,b=g,y=0,j=f;j;j=tc(j))y++;for(j=0,C=b;C;C=tc(C))j++;for(;0<y-j;)f=tc(f),y--;for(;0<j-y;)b=tc(b),j--;for(;y--;){if(f===b||b!==null&&f===b.alternate)break t;f=tc(f),b=tc(b)}f=null}else f=null;p!==null&&yS(m,h,p,f,!1),g!==null&&v!==null&&yS(m,v,g,f,!0)}}e:{if(h=d?jc(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=iz;else if(uS(h))if(Hk)S=dz;else{S=lz;var N=oz}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=cz);if(S&&(S=S(e,d))){Wk(m,S,n,u);break e}N&&N(e,h,d),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&$j(h,"number",h.value)}switch(N=d?jc(d):window,e){case"focusin":(uS(N)||N.contentEditable==="true")&&(vc=N,Xj=d,tm=null);break;case"focusout":tm=Xj=vc=null;break;case"mousedown":Yj=!0;break;case"contextmenu":case"mouseup":case"dragend":Yj=!1,xS(m,n,u);break;case"selectionchange":if(hz)break;case"keydown":case"keyup":xS(m,n,u)}var P;if(sw)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else gc?Vk(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Uk&&n.locale!=="ko"&&(gc||_!=="onCompositionStart"?_==="onCompositionEnd"&&gc&&(P=Bk()):(oo=u,tw="value"in oo?oo.value:oo.textContent,gc=!0)),N=Np(d,_),0<N.length&&(_=new oS(_,e,null,n,u),m.push({event:_,listeners:N}),P?_.data=P:(P=qk(n),P!==null&&(_.data=P)))),(P=tz?rz(e,n):nz(e,n))&&(d=Np(d,"onBeforeInput"),0<d.length&&(u=new oS("onBeforeInput","beforeinput",null,n,u),m.push({event:u,listeners:d}),u.data=P))}rO(m,r)})}function wm(e,r,n){return{instance:e,listener:r,currentTarget:n}}function Np(e,r){for(var n=r+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=xm(e,n),i!=null&&s.unshift(wm(e,i,a)),i=xm(e,r),i!=null&&s.push(wm(e,i,a))),e=e.return}return s}function tc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yS(e,r,n,s,a){for(var i=r._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=xm(n,i),c!=null&&o.unshift(wm(n,c,l))):a||(c=xm(n,i),c!=null&&o.push(wm(n,c,l)))),n=n.return}o.length!==0&&e.push({event:r,listeners:o})}var gz=/\r\n?/g,vz=/\u0000|\uFFFD/g;function jS(e){return(typeof e=="string"?e:""+e).replace(gz,`
`).replace(vz,"")}function lf(e,r,n){if(r=jS(r),jS(e)!==r&&n)throw Error(De(425))}function wp(){}var Qj=null,Zj=null;function Jj(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var e0=typeof setTimeout=="function"?setTimeout:void 0,yz=typeof clearTimeout=="function"?clearTimeout:void 0,bS=typeof Promise=="function"?Promise:void 0,jz=typeof queueMicrotask=="function"?queueMicrotask:typeof bS<"u"?function(e){return bS.resolve(null).then(e).catch(bz)}:e0;function bz(e){setTimeout(function(){throw e})}function py(e,r){var n=r,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),ym(r);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);ym(r)}function xo(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function NS(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(r===0)return e;r--}else n==="/$"&&r++}e=e.previousSibling}return null}var Ud=Math.random().toString(36).slice(2),Ra="__reactFiber$"+Ud,Sm="__reactProps$"+Ud,bi="__reactContainer$"+Ud,t0="__reactEvents$"+Ud,Nz="__reactListeners$"+Ud,wz="__reactHandles$"+Ud;function sl(e){var r=e[Ra];if(r)return r;for(var n=e.parentNode;n;){if(r=n[bi]||n[Ra]){if(n=r.alternate,r.child!==null||n!==null&&n.child!==null)for(e=NS(e);e!==null;){if(n=e[Ra])return n;e=NS(e)}return r}e=n,n=e.parentNode}return null}function _h(e){return e=e[Ra]||e[bi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(De(33))}function dg(e){return e[Sm]||null}var r0=[],bc=-1;function Oo(e){return{current:e}}function yr(e){0>bc||(e.current=r0[bc],r0[bc]=null,bc--)}function mr(e,r){bc++,r0[bc]=e.current,e.current=r}var Po={},Rn=Oo(Po),ts=Oo(!1),Cl=Po;function ed(e,r){var n=e.type.contextTypes;if(!n)return Po;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===r)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=r[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),a}function rs(e){return e=e.childContextTypes,e!=null}function Sp(){yr(ts),yr(Rn)}function wS(e,r,n){if(Rn.current!==Po)throw Error(De(168));mr(Rn,r),mr(ts,n)}function sO(e,r,n){var s=e.stateNode;if(r=r.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in r))throw Error(De(108,oF(e)||"Unknown",a));return kr({},n,s)}function Pp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Po,Cl=Rn.current,mr(Rn,e),mr(ts,ts.current),!0}function SS(e,r,n){var s=e.stateNode;if(!s)throw Error(De(169));n?(e=sO(e,r,Cl),s.__reactInternalMemoizedMergedChildContext=e,yr(ts),yr(Rn),mr(Rn,e)):yr(ts),mr(ts,n)}var li=null,ug=!1,xy=!1;function aO(e){li===null?li=[e]:li.push(e)}function Sz(e){ug=!0,aO(e)}function Ro(){if(!xy&&li!==null){xy=!0;var e=0,r=er;try{var n=li;for(er=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}li=null,ug=!1}catch(a){throw li!==null&&(li=li.slice(e+1)),Ek(QN,Ro),a}finally{er=r,xy=!1}}return null}var Nc=[],wc=0,Cp=null,_p=0,Ms=[],Is=0,_l=null,di=1,ui="";function Zo(e,r){Nc[wc++]=_p,Nc[wc++]=Cp,Cp=e,_p=r}function iO(e,r,n){Ms[Is++]=di,Ms[Is++]=ui,Ms[Is++]=_l,_l=e;var s=di;e=ui;var a=32-da(s)-1;s&=~(1<<a),n+=1;var i=32-da(r)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,di=1<<32-da(r)+a|n<<a|s,ui=i+e}else di=1<<i|n<<a|s,ui=e}function iw(e){e.return!==null&&(Zo(e,1),iO(e,1,0))}function ow(e){for(;e===Cp;)Cp=Nc[--wc],Nc[wc]=null,_p=Nc[--wc],Nc[wc]=null;for(;e===_l;)_l=Ms[--Is],Ms[Is]=null,ui=Ms[--Is],Ms[Is]=null,di=Ms[--Is],Ms[Is]=null}var js=null,ys=null,Sr=!1,oa=null;function oO(e,r){var n=Ls(5,null,null,0);n.elementType="DELETED",n.stateNode=r,n.return=e,r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)}function PS(e,r){switch(e.tag){case 5:var n=e.type;return r=r.nodeType!==1||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,js=e,ys=xo(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,js=e,ys=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(n=_l!==null?{id:di,overflow:ui}:null,e.memoizedState={dehydrated:r,treeContext:n,retryLane:1073741824},n=Ls(18,null,null,0),n.stateNode=r,n.return=e,e.child=n,js=e,ys=null,!0):!1;default:return!1}}function n0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function s0(e){if(Sr){var r=ys;if(r){var n=r;if(!PS(e,r)){if(n0(e))throw Error(De(418));r=xo(n.nextSibling);var s=js;r&&PS(e,r)?oO(s,n):(e.flags=e.flags&-4097|2,Sr=!1,js=e)}}else{if(n0(e))throw Error(De(418));e.flags=e.flags&-4097|2,Sr=!1,js=e}}}function CS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;js=e}function cf(e){if(e!==js)return!1;if(!Sr)return CS(e),Sr=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Jj(e.type,e.memoizedProps)),r&&(r=ys)){if(n0(e))throw lO(),Error(De(418));for(;r;)oO(e,r),r=xo(r.nextSibling)}if(CS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(r===0){ys=xo(e.nextSibling);break e}r--}else n!=="$"&&n!=="$!"&&n!=="$?"||r++}e=e.nextSibling}ys=null}}else ys=js?xo(e.stateNode.nextSibling):null;return!0}function lO(){for(var e=ys;e;)e=xo(e.nextSibling)}function td(){ys=js=null,Sr=!1}function lw(e){oa===null?oa=[e]:oa.push(e)}var Pz=Ri.ReactCurrentBatchConfig;function bu(e,r,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var s=n.stateNode}if(!s)throw Error(De(147,e));var a=s,i=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},r._stringRef=i,r)}if(typeof e!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,e))}return e}function df(e,r){throw e=Object.prototype.toString.call(r),Error(De(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function _S(e){var r=e._init;return r(e._payload)}function cO(e){function r(b,y){if(e){var j=b.deletions;j===null?(b.deletions=[y],b.flags|=16):j.push(y)}}function n(b,y){if(!e)return null;for(;y!==null;)r(b,y),y=y.sibling;return null}function s(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function a(b,y){return b=jo(b,y),b.index=0,b.sibling=null,b}function i(b,y,j){return b.index=j,e?(j=b.alternate,j!==null?(j=j.index,j<y?(b.flags|=2,y):j):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,y,j,C){return y===null||y.tag!==6?(y=wy(j,b.mode,C),y.return=b,y):(y=a(y,j),y.return=b,y)}function c(b,y,j,C){var S=j.type;return S===xc?u(b,y,j.props.children,C,j.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xi&&_S(S)===y.type)?(C=a(y,j.props),C.ref=bu(b,y,j),C.return=b,C):(C=rp(j.type,j.key,j.props,null,b.mode,C),C.ref=bu(b,y,j),C.return=b,C)}function d(b,y,j,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==j.containerInfo||y.stateNode.implementation!==j.implementation?(y=Sy(j,b.mode,C),y.return=b,y):(y=a(y,j.children||[]),y.return=b,y)}function u(b,y,j,C,S){return y===null||y.tag!==7?(y=bl(j,b.mode,C,S),y.return=b,y):(y=a(y,j),y.return=b,y)}function m(b,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return y=wy(""+y,b.mode,j),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zh:return j=rp(y.type,y.key,y.props,null,b.mode,j),j.ref=bu(b,null,y),j.return=b,j;case pc:return y=Sy(y,b.mode,j),y.return=b,y;case Xi:var C=y._init;return m(b,C(y._payload),j)}if(Hu(y)||xu(y))return y=bl(y,b.mode,j,null),y.return=b,y;df(b,y)}return null}function h(b,y,j,C){var S=y!==null?y.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return S!==null?null:l(b,y,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Zh:return j.key===S?c(b,y,j,C):null;case pc:return j.key===S?d(b,y,j,C):null;case Xi:return S=j._init,h(b,y,S(j._payload),C)}if(Hu(j)||xu(j))return S!==null?null:u(b,y,j,C,null);df(b,j)}return null}function p(b,y,j,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(j)||null,l(y,b,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Zh:return b=b.get(C.key===null?j:C.key)||null,c(y,b,C,S);case pc:return b=b.get(C.key===null?j:C.key)||null,d(y,b,C,S);case Xi:var N=C._init;return p(b,y,j,N(C._payload),S)}if(Hu(C)||xu(C))return b=b.get(j)||null,u(y,b,C,S,null);df(y,C)}return null}function g(b,y,j,C){for(var S=null,N=null,P=y,_=y=0,w=null;P!==null&&_<j.length;_++){P.index>_?(w=P,P=null):w=P.sibling;var A=h(b,P,j[_],C);if(A===null){P===null&&(P=w);break}e&&P&&A.alternate===null&&r(b,P),y=i(A,y,_),N===null?S=A:N.sibling=A,N=A,P=w}if(_===j.length)return n(b,P),Sr&&Zo(b,_),S;if(P===null){for(;_<j.length;_++)P=m(b,j[_],C),P!==null&&(y=i(P,y,_),N===null?S=P:N.sibling=P,N=P);return Sr&&Zo(b,_),S}for(P=s(b,P);_<j.length;_++)w=p(P,b,_,j[_],C),w!==null&&(e&&w.alternate!==null&&P.delete(w.key===null?_:w.key),y=i(w,y,_),N===null?S=w:N.sibling=w,N=w);return e&&P.forEach(function(D){return r(b,D)}),Sr&&Zo(b,_),S}function f(b,y,j,C){var S=xu(j);if(typeof S!="function")throw Error(De(150));if(j=S.call(j),j==null)throw Error(De(151));for(var N=S=null,P=y,_=y=0,w=null,A=j.next();P!==null&&!A.done;_++,A=j.next()){P.index>_?(w=P,P=null):w=P.sibling;var D=h(b,P,A.value,C);if(D===null){P===null&&(P=w);break}e&&P&&D.alternate===null&&r(b,P),y=i(D,y,_),N===null?S=D:N.sibling=D,N=D,P=w}if(A.done)return n(b,P),Sr&&Zo(b,_),S;if(P===null){for(;!A.done;_++,A=j.next())A=m(b,A.value,C),A!==null&&(y=i(A,y,_),N===null?S=A:N.sibling=A,N=A);return Sr&&Zo(b,_),S}for(P=s(b,P);!A.done;_++,A=j.next())A=p(P,b,_,A.value,C),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?_:A.key),y=i(A,y,_),N===null?S=A:N.sibling=A,N=A);return e&&P.forEach(function(O){return r(b,O)}),Sr&&Zo(b,_),S}function v(b,y,j,C){if(typeof j=="object"&&j!==null&&j.type===xc&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Zh:e:{for(var S=j.key,N=y;N!==null;){if(N.key===S){if(S=j.type,S===xc){if(N.tag===7){n(b,N.sibling),y=a(N,j.props.children),y.return=b,b=y;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xi&&_S(S)===N.type){n(b,N.sibling),y=a(N,j.props),y.ref=bu(b,N,j),y.return=b,b=y;break e}n(b,N);break}else r(b,N);N=N.sibling}j.type===xc?(y=bl(j.props.children,b.mode,C,j.key),y.return=b,b=y):(C=rp(j.type,j.key,j.props,null,b.mode,C),C.ref=bu(b,y,j),C.return=b,b=C)}return o(b);case pc:e:{for(N=j.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===j.containerInfo&&y.stateNode.implementation===j.implementation){n(b,y.sibling),y=a(y,j.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else r(b,y);y=y.sibling}y=Sy(j,b.mode,C),y.return=b,b=y}return o(b);case Xi:return N=j._init,v(b,y,N(j._payload),C)}if(Hu(j))return g(b,y,j,C);if(xu(j))return f(b,y,j,C);df(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,y!==null&&y.tag===6?(n(b,y.sibling),y=a(y,j),y.return=b,b=y):(n(b,y),y=wy(j,b.mode,C),y.return=b,b=y),o(b)):n(b,y)}return v}var rd=cO(!0),dO=cO(!1),Ap=Oo(null),Tp=null,Sc=null,cw=null;function dw(){cw=Sc=Tp=null}function uw(e){var r=Ap.current;yr(Ap),e._currentValue=r}function a0(e,r,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),e===n)break;e=e.return}}function $c(e,r){Tp=e,cw=Sc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(Jn=!0),e.firstContext=null)}function Bs(e){var r=e._currentValue;if(cw!==e)if(e={context:e,memoizedValue:r,next:null},Sc===null){if(Tp===null)throw Error(De(308));Sc=e,Tp.dependencies={lanes:0,firstContext:e}}else Sc=Sc.next=e;return r}var al=null;function mw(e){al===null?al=[e]:al.push(e)}function uO(e,r,n,s){var a=r.interleaved;return a===null?(n.next=n,mw(r)):(n.next=a.next,a.next=n),r.interleaved=n,Ni(e,s)}function Ni(e,r){e.lanes|=r;var n=e.alternate;for(n!==null&&(n.lanes|=r),n=e,e=e.return;e!==null;)e.childLanes|=r,n=e.alternate,n!==null&&(n.childLanes|=r),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yi=!1;function hw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mO(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gi(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function go(e,r,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Wt&2){var a=s.pending;return a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r,Ni(e,n)}return a=s.interleaved,a===null?(r.next=r,mw(s)):(r.next=a.next,a.next=r),s.interleaved=r,Ni(e,n)}function Yf(e,r,n){if(r=r.updateQueue,r!==null&&(r=r.shared,(n&4194240)!==0)){var s=r.lanes;s&=e.pendingLanes,n|=s,r.lanes=n,ZN(e,n)}}function AS(e,r){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=r:i=i.next=r}else a=i=r;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=r:e.next=r,n.lastBaseUpdate=r}function Ep(e,r,n,s){var a=e.updateQueue;Yi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,f=l;switch(h=r,p=n,f.tag){case 1:if(g=f.payload,typeof g=="function"){m=g.call(p,m,h);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=f.payload,h=typeof g=="function"?g.call(p,m,h):g,h==null)break e;m=kr({},m,h);break e;case 2:Yi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=m):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,r=a.shared.interleaved,r!==null){a=r;do o|=a.lane,a=a.next;while(a!==r)}else i===null&&(a.shared.lanes=0);Tl|=o,e.lanes=o,e.memoizedState=m}}function TS(e,r,n){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var s=e[r],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(De(191,a));a.call(s)}}}var Ah={},Ua=Oo(Ah),Pm=Oo(Ah),Cm=Oo(Ah);function il(e){if(e===Ah)throw Error(De(174));return e}function fw(e,r){switch(mr(Cm,r),mr(Pm,e),mr(Ua,Ah),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Fj(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Fj(r,e)}yr(Ua),mr(Ua,r)}function nd(){yr(Ua),yr(Pm),yr(Cm)}function hO(e){il(Cm.current);var r=il(Ua.current),n=Fj(r,e.type);r!==n&&(mr(Pm,e),mr(Ua,n))}function pw(e){Pm.current===e&&(yr(Ua),yr(Pm))}var Tr=Oo(0);function kp(e){for(var r=e;r!==null;){if(r.tag===13){var n=r.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gy=[];function xw(){for(var e=0;e<gy.length;e++)gy[e]._workInProgressVersionPrimary=null;gy.length=0}var Qf=Ri.ReactCurrentDispatcher,vy=Ri.ReactCurrentBatchConfig,Al=0,Er=null,Jr=null,on=null,Op=!1,rm=!1,_m=0,Cz=0;function Pn(){throw Error(De(321))}function gw(e,r){if(r===null)return!1;for(var n=0;n<r.length&&n<e.length;n++)if(!xa(e[n],r[n]))return!1;return!0}function vw(e,r,n,s,a,i){if(Al=i,Er=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Qf.current=e===null||e.memoizedState===null?Ez:kz,e=n(s,a),rm){i=0;do{if(rm=!1,_m=0,25<=i)throw Error(De(301));i+=1,on=Jr=null,r.updateQueue=null,Qf.current=Oz,e=n(s,a)}while(rm)}if(Qf.current=Rp,r=Jr!==null&&Jr.next!==null,Al=0,on=Jr=Er=null,Op=!1,r)throw Error(De(300));return e}function yw(){var e=_m!==0;return _m=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Er.memoizedState=on=e:on=on.next=e,on}function Us(){if(Jr===null){var e=Er.alternate;e=e!==null?e.memoizedState:null}else e=Jr.next;var r=on===null?Er.memoizedState:on.next;if(r!==null)on=r,Jr=e;else{if(e===null)throw Error(De(310));Jr=e,e={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},on===null?Er.memoizedState=on=e:on=on.next=e}return on}function Am(e,r){return typeof r=="function"?r(e):r}function yy(e){var r=Us(),n=r.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var s=Jr,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Al&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,Er.lanes|=u,Tl|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,xa(s,r.memoizedState)||(Jn=!0),r.memoizedState=s,r.baseState=o,r.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Er.lanes|=i,Tl|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[r.memoizedState,n.dispatch]}function jy(e){var r=Us(),n=r.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=r.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);xa(i,r.memoizedState)||(Jn=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),n.lastRenderedState=i}return[i,s]}function fO(){}function pO(e,r){var n=Er,s=Us(),a=r(),i=!xa(s.memoizedState,a);if(i&&(s.memoizedState=a,Jn=!0),s=s.queue,jw(vO.bind(null,n,s,e),[e]),s.getSnapshot!==r||i||on!==null&&on.memoizedState.tag&1){if(n.flags|=2048,Tm(9,gO.bind(null,n,s,a,r),void 0,null),un===null)throw Error(De(349));Al&30||xO(n,r,a)}return a}function xO(e,r,n){e.flags|=16384,e={getSnapshot:r,value:n},r=Er.updateQueue,r===null?(r={lastEffect:null,stores:null},Er.updateQueue=r,r.stores=[e]):(n=r.stores,n===null?r.stores=[e]:n.push(e))}function gO(e,r,n,s){r.value=n,r.getSnapshot=s,yO(r)&&jO(e)}function vO(e,r,n){return n(function(){yO(r)&&jO(e)})}function yO(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!xa(e,n)}catch{return!0}}function jO(e){var r=Ni(e,1);r!==null&&ua(r,e,1,-1)}function ES(e){var r=Ta();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Am,lastRenderedState:e},r.queue=e,e=e.dispatch=Tz.bind(null,Er,e),[r.memoizedState,e]}function Tm(e,r,n,s){return e={tag:e,create:r,destroy:n,deps:s,next:null},r=Er.updateQueue,r===null?(r={lastEffect:null,stores:null},Er.updateQueue=r,r.lastEffect=e.next=e):(n=r.lastEffect,n===null?r.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,r.lastEffect=e)),e}function bO(){return Us().memoizedState}function Zf(e,r,n,s){var a=Ta();Er.flags|=e,a.memoizedState=Tm(1|r,n,void 0,s===void 0?null:s)}function mg(e,r,n,s){var a=Us();s=s===void 0?null:s;var i=void 0;if(Jr!==null){var o=Jr.memoizedState;if(i=o.destroy,s!==null&&gw(s,o.deps)){a.memoizedState=Tm(r,n,i,s);return}}Er.flags|=e,a.memoizedState=Tm(1|r,n,i,s)}function kS(e,r){return Zf(8390656,8,e,r)}function jw(e,r){return mg(2048,8,e,r)}function NO(e,r){return mg(4,2,e,r)}function wO(e,r){return mg(4,4,e,r)}function SO(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function PO(e,r,n){return n=n!=null?n.concat([e]):null,mg(4,4,SO.bind(null,r,e),n)}function bw(){}function CO(e,r){var n=Us();r=r===void 0?null:r;var s=n.memoizedState;return s!==null&&r!==null&&gw(r,s[1])?s[0]:(n.memoizedState=[e,r],e)}function _O(e,r){var n=Us();r=r===void 0?null:r;var s=n.memoizedState;return s!==null&&r!==null&&gw(r,s[1])?s[0]:(e=e(),n.memoizedState=[e,r],e)}function AO(e,r,n){return Al&21?(xa(n,r)||(n=Rk(),Er.lanes|=n,Tl|=n,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,Jn=!0),e.memoizedState=n)}function _z(e,r){var n=er;er=n!==0&&4>n?n:4,e(!0);var s=vy.transition;vy.transition={};try{e(!1),r()}finally{er=n,vy.transition=s}}function TO(){return Us().memoizedState}function Az(e,r,n){var s=yo(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},EO(e))kO(r,n);else if(n=uO(e,r,n,s),n!==null){var a=Wn();ua(n,e,s,a),OO(n,r,s)}}function Tz(e,r,n){var s=yo(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(EO(e))kO(r,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var o=r.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,xa(l,o)){var c=r.interleaved;c===null?(a.next=a,mw(r)):(a.next=c.next,c.next=a),r.interleaved=a;return}}catch{}finally{}n=uO(e,r,a,s),n!==null&&(a=Wn(),ua(n,e,s,a),OO(n,r,s))}}function EO(e){var r=e.alternate;return e===Er||r!==null&&r===Er}function kO(e,r){rm=Op=!0;var n=e.pending;n===null?r.next=r:(r.next=n.next,n.next=r),e.pending=r}function OO(e,r,n){if(n&4194240){var s=r.lanes;s&=e.pendingLanes,n|=s,r.lanes=n,ZN(e,n)}}var Rp={readContext:Bs,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},Ez={readContext:Bs,useCallback:function(e,r){return Ta().memoizedState=[e,r===void 0?null:r],e},useContext:Bs,useEffect:kS,useImperativeHandle:function(e,r,n){return n=n!=null?n.concat([e]):null,Zf(4194308,4,SO.bind(null,r,e),n)},useLayoutEffect:function(e,r){return Zf(4194308,4,e,r)},useInsertionEffect:function(e,r){return Zf(4,2,e,r)},useMemo:function(e,r){var n=Ta();return r=r===void 0?null:r,e=e(),n.memoizedState=[e,r],e},useReducer:function(e,r,n){var s=Ta();return r=n!==void 0?n(r):r,s.memoizedState=s.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=Az.bind(null,Er,e),[s.memoizedState,e]},useRef:function(e){var r=Ta();return e={current:e},r.memoizedState=e},useState:ES,useDebugValue:bw,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=ES(!1),r=e[0];return e=_z.bind(null,e[1]),Ta().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,n){var s=Er,a=Ta();if(Sr){if(n===void 0)throw Error(De(407));n=n()}else{if(n=r(),un===null)throw Error(De(349));Al&30||xO(s,r,n)}a.memoizedState=n;var i={value:n,getSnapshot:r};return a.queue=i,kS(vO.bind(null,s,i,e),[e]),s.flags|=2048,Tm(9,gO.bind(null,s,i,n,r),void 0,null),n},useId:function(){var e=Ta(),r=un.identifierPrefix;if(Sr){var n=ui,s=di;n=(s&~(1<<32-da(s)-1)).toString(32)+n,r=":"+r+"R"+n,n=_m++,0<n&&(r+="H"+n.toString(32)),r+=":"}else n=Cz++,r=":"+r+"r"+n.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},kz={readContext:Bs,useCallback:CO,useContext:Bs,useEffect:jw,useImperativeHandle:PO,useInsertionEffect:NO,useLayoutEffect:wO,useMemo:_O,useReducer:yy,useRef:bO,useState:function(){return yy(Am)},useDebugValue:bw,useDeferredValue:function(e){var r=Us();return AO(r,Jr.memoizedState,e)},useTransition:function(){var e=yy(Am)[0],r=Us().memoizedState;return[e,r]},useMutableSource:fO,useSyncExternalStore:pO,useId:TO,unstable_isNewReconciler:!1},Oz={readContext:Bs,useCallback:CO,useContext:Bs,useEffect:jw,useImperativeHandle:PO,useInsertionEffect:NO,useLayoutEffect:wO,useMemo:_O,useReducer:jy,useRef:bO,useState:function(){return jy(Am)},useDebugValue:bw,useDeferredValue:function(e){var r=Us();return Jr===null?r.memoizedState=e:AO(r,Jr.memoizedState,e)},useTransition:function(){var e=jy(Am)[0],r=Us().memoizedState;return[e,r]},useMutableSource:fO,useSyncExternalStore:pO,useId:TO,unstable_isNewReconciler:!1};function ea(e,r){if(e&&e.defaultProps){r=kr({},r),e=e.defaultProps;for(var n in e)r[n]===void 0&&(r[n]=e[n]);return r}return r}function i0(e,r,n,s){r=e.memoizedState,n=n(s,r),n=n==null?r:kr({},r,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hg={isMounted:function(e){return(e=e._reactInternals)?Hl(e)===e:!1},enqueueSetState:function(e,r,n){e=e._reactInternals;var s=Wn(),a=yo(e),i=gi(s,a);i.payload=r,n!=null&&(i.callback=n),r=go(e,i,a),r!==null&&(ua(r,e,a,s),Yf(r,e,a))},enqueueReplaceState:function(e,r,n){e=e._reactInternals;var s=Wn(),a=yo(e),i=gi(s,a);i.tag=1,i.payload=r,n!=null&&(i.callback=n),r=go(e,i,a),r!==null&&(ua(r,e,a,s),Yf(r,e,a))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var n=Wn(),s=yo(e),a=gi(n,s);a.tag=2,r!=null&&(a.callback=r),r=go(e,a,s),r!==null&&(ua(r,e,s,n),Yf(r,e,s))}};function OS(e,r,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):r.prototype&&r.prototype.isPureReactComponent?!bm(n,s)||!bm(a,i):!0}function RO(e,r,n){var s=!1,a=Po,i=r.contextType;return typeof i=="object"&&i!==null?i=Bs(i):(a=rs(r)?Cl:Rn.current,s=r.contextTypes,i=(s=s!=null)?ed(e,a):Po),r=new r(n,i),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=hg,e.stateNode=r,r._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),r}function RS(e,r,n,s){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(n,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(n,s),r.state!==e&&hg.enqueueReplaceState(r,r.state,null)}function o0(e,r,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},hw(e);var i=r.contextType;typeof i=="object"&&i!==null?a.context=Bs(i):(i=rs(r)?Cl:Rn.current,a.context=ed(e,i)),a.state=e.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(i0(e,r,i,n),a.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&hg.enqueueReplaceState(a,a.state,null),Ep(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function sd(e,r){try{var n="",s=r;do n+=iF(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:r,stack:a,digest:null}}function by(e,r,n){return{value:e,source:null,stack:n??null,digest:r??null}}function l0(e,r){try{console.error(r.value)}catch(n){setTimeout(function(){throw n})}}var Rz=typeof WeakMap=="function"?WeakMap:Map;function DO(e,r,n){n=gi(-1,n),n.tag=3,n.payload={element:null};var s=r.value;return n.callback=function(){Mp||(Mp=!0,v0=s),l0(e,r)},n}function MO(e,r,n){n=gi(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=r.value;n.payload=function(){return s(a)},n.callback=function(){l0(e,r)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){l0(e,r),typeof s!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})}),n}function DS(e,r,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Rz;var a=new Set;s.set(r,a)}else a=s.get(r),a===void 0&&(a=new Set,s.set(r,a));a.has(n)||(a.add(n),e=Kz.bind(null,e,r,n),r.then(e,e))}function MS(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function IS(e,r,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===r?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(r=gi(-1,1),r.tag=2,go(n,r,1))),n.lanes|=1),e)}var Dz=Ri.ReactCurrentOwner,Jn=!1;function Ln(e,r,n,s){r.child=e===null?dO(r,null,n,s):rd(r,e.child,n,s)}function $S(e,r,n,s,a){n=n.render;var i=r.ref;return $c(r,a),s=vw(e,r,n,s,i,a),n=yw(),e!==null&&!Jn?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a,wi(e,r,a)):(Sr&&n&&iw(r),r.flags|=1,Ln(e,r,s,a),r.child)}function LS(e,r,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!Tw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(r.tag=15,r.type=i,IO(e,r,i,s,a)):(e=rp(n.type,null,s,r,r.mode,a),e.ref=r.ref,e.return=r,r.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:bm,n(o,s)&&e.ref===r.ref)return wi(e,r,a)}return r.flags|=1,e=jo(i,s),e.ref=r.ref,e.return=r,r.child=e}function IO(e,r,n,s,a){if(e!==null){var i=e.memoizedProps;if(bm(i,s)&&e.ref===r.ref)if(Jn=!1,r.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Jn=!0);else return r.lanes=e.lanes,wi(e,r,a)}return c0(e,r,n,s,a)}function $O(e,r,n){var s=r.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(Cc,ms),ms|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,mr(Cc,ms),ms|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,mr(Cc,ms),ms|=s}else i!==null?(s=i.baseLanes|n,r.memoizedState=null):s=n,mr(Cc,ms),ms|=s;return Ln(e,r,a,n),r.child}function LO(e,r){var n=r.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(r.flags|=512,r.flags|=2097152)}function c0(e,r,n,s,a){var i=rs(n)?Cl:Rn.current;return i=ed(r,i),$c(r,a),n=vw(e,r,n,s,i,a),s=yw(),e!==null&&!Jn?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a,wi(e,r,a)):(Sr&&s&&iw(r),r.flags|=1,Ln(e,r,n,a),r.child)}function FS(e,r,n,s,a){if(rs(n)){var i=!0;Pp(r)}else i=!1;if($c(r,a),r.stateNode===null)Jf(e,r),RO(r,n,s),o0(r,n,s,a),s=!0;else if(e===null){var o=r.stateNode,l=r.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Bs(d):(d=rs(n)?Cl:Rn.current,d=ed(r,d));var u=n.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&RS(r,o,s,d),Yi=!1;var h=r.memoizedState;o.state=h,Ep(r,s,o,a),c=r.memoizedState,l!==s||h!==c||ts.current||Yi?(typeof u=="function"&&(i0(r,n,u,s),c=r.memoizedState),(l=Yi||OS(r,n,l,s,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(r.flags|=4194308)):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{o=r.stateNode,mO(e,r),l=r.memoizedProps,d=r.type===r.elementType?l:ea(r.type,l),o.props=d,m=r.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Bs(c):(c=rs(n)?Cl:Rn.current,c=ed(r,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&RS(r,o,s,c),Yi=!1,h=r.memoizedState,o.state=h,Ep(r,s,o,a);var g=r.memoizedState;l!==m||h!==g||ts.current||Yi?(typeof p=="function"&&(i0(r,n,p,s),g=r.memoizedState),(d=Yi||OS(r,n,d,s,h,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,g,c)),typeof o.componentDidUpdate=="function"&&(r.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=g),o.props=s,o.state=g,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(r.flags|=1024),s=!1)}return d0(e,r,n,s,i,a)}function d0(e,r,n,s,a,i){LO(e,r);var o=(r.flags&128)!==0;if(!s&&!o)return a&&SS(r,n,!1),wi(e,r,i);s=r.stateNode,Dz.current=r;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return r.flags|=1,e!==null&&o?(r.child=rd(r,e.child,null,i),r.child=rd(r,null,l,i)):Ln(e,r,l,i),r.memoizedState=s.state,a&&SS(r,n,!0),r.child}function FO(e){var r=e.stateNode;r.pendingContext?wS(e,r.pendingContext,r.pendingContext!==r.context):r.context&&wS(e,r.context,!1),fw(e,r.containerInfo)}function zS(e,r,n,s,a){return td(),lw(a),r.flags|=256,Ln(e,r,n,s),r.child}var u0={dehydrated:null,treeContext:null,retryLane:0};function m0(e){return{baseLanes:e,cachePool:null,transitions:null}}function zO(e,r,n){var s=r.pendingProps,a=Tr.current,i=!1,o=(r.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),mr(Tr,a&1),e===null)return s0(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(o=s.children,e=s.fallback,i?(s=r.mode,i=r.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xg(o,s,0,null),e=bl(e,s,n,null),i.return=r,e.return=r,i.sibling=e,r.child=i,r.child.memoizedState=m0(n),r.memoizedState=u0,e):Nw(r,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Mz(e,r,o,s,l,a,n);if(i){i=s.fallback,o=r.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&r.child!==a?(s=r.child,s.childLanes=0,s.pendingProps=c,r.deletions=null):(s=jo(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=jo(l,i):(i=bl(i,o,n,null),i.flags|=2),i.return=r,s.return=r,s.sibling=i,r.child=s,s=i,i=r.child,o=e.child.memoizedState,o=o===null?m0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,r.memoizedState=u0,s}return i=e.child,e=i.sibling,s=jo(i,{mode:"visible",children:s.children}),!(r.mode&1)&&(s.lanes=n),s.return=r,s.sibling=null,e!==null&&(n=r.deletions,n===null?(r.deletions=[e],r.flags|=16):n.push(e)),r.child=s,r.memoizedState=null,s}function Nw(e,r){return r=xg({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function uf(e,r,n,s){return s!==null&&lw(s),rd(r,e.child,null,n),e=Nw(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Mz(e,r,n,s,a,i,o){if(n)return r.flags&256?(r.flags&=-257,s=by(Error(De(422))),uf(e,r,o,s)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(i=s.fallback,a=r.mode,s=xg({mode:"visible",children:s.children},a,0,null),i=bl(i,a,o,null),i.flags|=2,s.return=r,i.return=r,s.sibling=i,r.child=s,r.mode&1&&rd(r,e.child,null,o),r.child.memoizedState=m0(o),r.memoizedState=u0,i);if(!(r.mode&1))return uf(e,r,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(De(419)),s=by(i,s,void 0),uf(e,r,o,s)}if(l=(o&e.childLanes)!==0,Jn||l){if(s=un,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ni(e,a),ua(s,e,a,-1))}return Aw(),s=by(Error(De(421))),uf(e,r,o,s)}return a.data==="$?"?(r.flags|=128,r.child=e.child,r=Gz.bind(null,e),a._reactRetry=r,null):(e=i.treeContext,ys=xo(a.nextSibling),js=r,Sr=!0,oa=null,e!==null&&(Ms[Is++]=di,Ms[Is++]=ui,Ms[Is++]=_l,di=e.id,ui=e.overflow,_l=r),r=Nw(r,s.children),r.flags|=4096,r)}function BS(e,r,n){e.lanes|=r;var s=e.alternate;s!==null&&(s.lanes|=r),a0(e.return,r,n)}function Ny(e,r,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function BO(e,r,n){var s=r.pendingProps,a=s.revealOrder,i=s.tail;if(Ln(e,r,s.children,n),s=Tr.current,s&2)s=s&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&BS(e,n,r);else if(e.tag===19)BS(e,n,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(mr(Tr,s),!(r.mode&1))r.memoizedState=null;else switch(a){case"forwards":for(n=r.child,a=null;n!==null;)e=n.alternate,e!==null&&kp(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=r.child,r.child=null):(a=n.sibling,n.sibling=null),Ny(r,!1,a,n,i);break;case"backwards":for(n=null,a=r.child,r.child=null;a!==null;){if(e=a.alternate,e!==null&&kp(e)===null){r.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ny(r,!0,n,null,i);break;case"together":Ny(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Jf(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function wi(e,r,n){if(e!==null&&(r.dependencies=e.dependencies),Tl|=r.lanes,!(n&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(De(153));if(r.child!==null){for(e=r.child,n=jo(e,e.pendingProps),r.child=n,n.return=r;e.sibling!==null;)e=e.sibling,n=n.sibling=jo(e,e.pendingProps),n.return=r;n.sibling=null}return r.child}function Iz(e,r,n){switch(r.tag){case 3:FO(r),td();break;case 5:hO(r);break;case 1:rs(r.type)&&Pp(r);break;case 4:fw(r,r.stateNode.containerInfo);break;case 10:var s=r.type._context,a=r.memoizedProps.value;mr(Ap,s._currentValue),s._currentValue=a;break;case 13:if(s=r.memoizedState,s!==null)return s.dehydrated!==null?(mr(Tr,Tr.current&1),r.flags|=128,null):n&r.child.childLanes?zO(e,r,n):(mr(Tr,Tr.current&1),e=wi(e,r,n),e!==null?e.sibling:null);mr(Tr,Tr.current&1);break;case 19:if(s=(n&r.childLanes)!==0,e.flags&128){if(s)return BO(e,r,n);r.flags|=128}if(a=r.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),mr(Tr,Tr.current),s)break;return null;case 22:case 23:return r.lanes=0,$O(e,r,n)}return wi(e,r,n)}var UO,h0,VO,qO;UO=function(e,r){for(var n=r.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};h0=function(){};VO=function(e,r,n,s){var a=e.memoizedProps;if(a!==s){e=r.stateNode,il(Ua.current);var i=null;switch(n){case"input":a=Mj(e,a),s=Mj(e,s),i=[];break;case"select":a=kr({},a,{value:void 0}),s=kr({},s,{value:void 0}),i=[];break;case"textarea":a=Lj(e,a),s=Lj(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=wp)}zj(n,s);var o;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(fm.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(fm.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&pr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(r.updateQueue=d)&&(r.flags|=4)}};qO=function(e,r,n,s){n!==s&&(r.flags|=4)};function Nu(e,r){if(!Sr)switch(e.tailMode){case"hidden":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Cn(e){var r=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(r)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,r}function $z(e,r,n){var s=r.pendingProps;switch(ow(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(r),null;case 1:return rs(r.type)&&Sp(),Cn(r),null;case 3:return s=r.stateNode,nd(),yr(ts),yr(Rn),xw(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(cf(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,oa!==null&&(b0(oa),oa=null))),h0(e,r),Cn(r),null;case 5:pw(r);var a=il(Cm.current);if(n=r.type,e!==null&&r.stateNode!=null)VO(e,r,n,s,a),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!s){if(r.stateNode===null)throw Error(De(166));return Cn(r),null}if(e=il(Ua.current),cf(r)){s=r.stateNode,n=r.type;var i=r.memoizedProps;switch(s[Ra]=r,s[Sm]=i,e=(r.mode&1)!==0,n){case"dialog":pr("cancel",s),pr("close",s);break;case"iframe":case"object":case"embed":pr("load",s);break;case"video":case"audio":for(a=0;a<Gu.length;a++)pr(Gu[a],s);break;case"source":pr("error",s);break;case"img":case"image":case"link":pr("error",s),pr("load",s);break;case"details":pr("toggle",s);break;case"input":Y2(s,i),pr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},pr("invalid",s);break;case"textarea":Z2(s,i),pr("invalid",s)}zj(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&lf(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&lf(s.textContent,l,e),a=["children",""+l]):fm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pr("scroll",s)}switch(n){case"input":Jh(s),Q2(s,i,!0);break;case"textarea":Jh(s),J2(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=wp)}s=a,r.updateQueue=s,s!==null&&(r.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Ra]=r,e[Sm]=s,UO(e,r,!1,!1),r.stateNode=e;e:{switch(o=Bj(n,s),n){case"dialog":pr("cancel",e),pr("close",e),a=s;break;case"iframe":case"object":case"embed":pr("load",e),a=s;break;case"video":case"audio":for(a=0;a<Gu.length;a++)pr(Gu[a],e);a=s;break;case"source":pr("error",e),a=s;break;case"img":case"image":case"link":pr("error",e),pr("load",e),a=s;break;case"details":pr("toggle",e),a=s;break;case"input":Y2(e,s),a=Mj(e,s),pr("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=kr({},s,{value:void 0}),pr("invalid",e);break;case"textarea":Z2(e,s),a=Lj(e,s),pr("invalid",e);break;default:a=s}zj(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?bk(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yk(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pm(e,c):typeof c=="number"&&pm(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&pr("scroll",e):c!=null&&HN(e,i,c,o))}switch(n){case"input":Jh(e),Q2(e,s,!1);break;case"textarea":Jh(e),J2(e);break;case"option":s.value!=null&&e.setAttribute("value",""+So(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Rc(e,!!s.multiple,i,!1):s.defaultValue!=null&&Rc(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=wp)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Cn(r),null;case 6:if(e&&r.stateNode!=null)qO(e,r,e.memoizedProps,s);else{if(typeof s!="string"&&r.stateNode===null)throw Error(De(166));if(n=il(Cm.current),il(Ua.current),cf(r)){if(s=r.stateNode,n=r.memoizedProps,s[Ra]=r,(i=s.nodeValue!==n)&&(e=js,e!==null))switch(e.tag){case 3:lf(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lf(s.nodeValue,n,(e.mode&1)!==0)}i&&(r.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ra]=r,r.stateNode=s}return Cn(r),null;case 13:if(yr(Tr),s=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Sr&&ys!==null&&r.mode&1&&!(r.flags&128))lO(),td(),r.flags|=98560,i=!1;else if(i=cf(r),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(De(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(De(317));i[Ra]=r}else td(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Cn(r),i=!1}else oa!==null&&(b0(oa),oa=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=n,r):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(r.child.flags|=8192,r.mode&1&&(e===null||Tr.current&1?tn===0&&(tn=3):Aw())),r.updateQueue!==null&&(r.flags|=4),Cn(r),null);case 4:return nd(),h0(e,r),e===null&&Nm(r.stateNode.containerInfo),Cn(r),null;case 10:return uw(r.type._context),Cn(r),null;case 17:return rs(r.type)&&Sp(),Cn(r),null;case 19:if(yr(Tr),i=r.memoizedState,i===null)return Cn(r),null;if(s=(r.flags&128)!==0,o=i.rendering,o===null)if(s)Nu(i,!1);else{if(tn!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(o=kp(e),o!==null){for(r.flags|=128,Nu(i,!1),s=o.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),r.subtreeFlags=0,s=n,n=r.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return mr(Tr,Tr.current&1|2),r.child}e=e.sibling}i.tail!==null&&Ur()>ad&&(r.flags|=128,s=!0,Nu(i,!1),r.lanes=4194304)}else{if(!s)if(e=kp(o),e!==null){if(r.flags|=128,s=!0,n=e.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),Nu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Sr)return Cn(r),null}else 2*Ur()-i.renderingStartTime>ad&&n!==1073741824&&(r.flags|=128,s=!0,Nu(i,!1),r.lanes=4194304);i.isBackwards?(o.sibling=r.child,r.child=o):(n=i.last,n!==null?n.sibling=o:r.child=o,i.last=o)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=Ur(),r.sibling=null,n=Tr.current,mr(Tr,s?n&1|2:n&1),r):(Cn(r),null);case 22:case 23:return _w(),s=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(r.flags|=8192),s&&r.mode&1?ms&1073741824&&(Cn(r),r.subtreeFlags&6&&(r.flags|=8192)):Cn(r),null;case 24:return null;case 25:return null}throw Error(De(156,r.tag))}function Lz(e,r){switch(ow(r),r.tag){case 1:return rs(r.type)&&Sp(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return nd(),yr(ts),yr(Rn),xw(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return pw(r),null;case 13:if(yr(Tr),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(De(340));td()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return yr(Tr),null;case 4:return nd(),null;case 10:return uw(r.type._context),null;case 22:case 23:return _w(),null;case 24:return null;default:return null}}var mf=!1,Tn=!1,Fz=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Pc(e,r){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Dr(e,r,s)}else n.current=null}function f0(e,r,n){try{n()}catch(s){Dr(e,r,s)}}var US=!1;function zz(e,r){if(Qj=jp,e=Xk(),aw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==n||a!==0&&m.nodeType!==3||(l=o+a),m!==i||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===e)break t;if(h===n&&++d===a&&(l=o),h===i&&++u===s&&(c=o),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zj={focusedElem:e,selectionRange:n},jp=!1,Xe=r;Xe!==null;)if(r=Xe,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Xe=e;else for(;Xe!==null;){r=Xe;try{var g=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var f=g.memoizedProps,v=g.memoizedState,b=r.stateNode,y=b.getSnapshotBeforeUpdate(r.elementType===r.type?f:ea(r.type,f),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var j=r.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(C){Dr(r,r.return,C)}if(e=r.sibling,e!==null){e.return=r.return,Xe=e;break}Xe=r.return}return g=US,US=!1,g}function nm(e,r,n){var s=r.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&f0(r,n,i)}a=a.next}while(a!==s)}}function fg(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==r)}}function p0(e){var r=e.ref;if(r!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof r=="function"?r(e):r.current=e}}function WO(e){var r=e.alternate;r!==null&&(e.alternate=null,WO(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Ra],delete r[Sm],delete r[t0],delete r[Nz],delete r[wz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function HO(e){return e.tag===5||e.tag===3||e.tag===4}function VS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||HO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function x0(e,r,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?n.nodeType===8?n.parentNode.insertBefore(e,r):n.insertBefore(e,r):(n.nodeType===8?(r=n.parentNode,r.insertBefore(e,n)):(r=n,r.appendChild(e)),n=n._reactRootContainer,n!=null||r.onclick!==null||(r.onclick=wp));else if(s!==4&&(e=e.child,e!==null))for(x0(e,r,n),e=e.sibling;e!==null;)x0(e,r,n),e=e.sibling}function g0(e,r,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?n.insertBefore(e,r):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(g0(e,r,n),e=e.sibling;e!==null;)g0(e,r,n),e=e.sibling}var gn=null,sa=!1;function Bi(e,r,n){for(n=n.child;n!==null;)KO(e,r,n),n=n.sibling}function KO(e,r,n){if(Ba&&typeof Ba.onCommitFiberUnmount=="function")try{Ba.onCommitFiberUnmount(ig,n)}catch{}switch(n.tag){case 5:Tn||Pc(n,r);case 6:var s=gn,a=sa;gn=null,Bi(e,r,n),gn=s,sa=a,gn!==null&&(sa?(e=gn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gn.removeChild(n.stateNode));break;case 18:gn!==null&&(sa?(e=gn,n=n.stateNode,e.nodeType===8?py(e.parentNode,n):e.nodeType===1&&py(e,n),ym(e)):py(gn,n.stateNode));break;case 4:s=gn,a=sa,gn=n.stateNode.containerInfo,sa=!0,Bi(e,r,n),gn=s,sa=a;break;case 0:case 11:case 14:case 15:if(!Tn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&f0(n,r,o),a=a.next}while(a!==s)}Bi(e,r,n);break;case 1:if(!Tn&&(Pc(n,r),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Dr(n,r,l)}Bi(e,r,n);break;case 21:Bi(e,r,n);break;case 22:n.mode&1?(Tn=(s=Tn)||n.memoizedState!==null,Bi(e,r,n),Tn=s):Bi(e,r,n);break;default:Bi(e,r,n)}}function qS(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fz),r.forEach(function(s){var a=Xz.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function Gs(e,r){var n=r.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=r,l=o;e:for(;l!==null;){switch(l.tag){case 5:gn=l.stateNode,sa=!1;break e;case 3:gn=l.stateNode.containerInfo,sa=!0;break e;case 4:gn=l.stateNode.containerInfo,sa=!0;break e}l=l.return}if(gn===null)throw Error(De(160));KO(i,o,a),gn=null,sa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Dr(a,r,d)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)GO(r,e),r=r.sibling}function GO(e,r){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gs(r,e),_a(e),s&4){try{nm(3,e,e.return),fg(3,e)}catch(f){Dr(e,e.return,f)}try{nm(5,e,e.return)}catch(f){Dr(e,e.return,f)}}break;case 1:Gs(r,e),_a(e),s&512&&n!==null&&Pc(n,n.return);break;case 5:if(Gs(r,e),_a(e),s&512&&n!==null&&Pc(n,n.return),e.flags&32){var a=e.stateNode;try{pm(a,"")}catch(f){Dr(e,e.return,f)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&xk(a,i),Bj(l,o);var d=Bj(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?bk(a,m):u==="dangerouslySetInnerHTML"?yk(a,m):u==="children"?pm(a,m):HN(a,u,m,d)}switch(l){case"input":Ij(a,i);break;case"textarea":gk(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Rc(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Rc(a,!!i.multiple,i.defaultValue,!0):Rc(a,!!i.multiple,i.multiple?[]:"",!1))}a[Sm]=i}catch(f){Dr(e,e.return,f)}}break;case 6:if(Gs(r,e),_a(e),s&4){if(e.stateNode===null)throw Error(De(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(f){Dr(e,e.return,f)}}break;case 3:if(Gs(r,e),_a(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ym(r.containerInfo)}catch(f){Dr(e,e.return,f)}break;case 4:Gs(r,e),_a(e);break;case 13:Gs(r,e),_a(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Pw=Ur())),s&4&&qS(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Tn=(d=Tn)||u,Gs(r,e),Tn=d):Gs(r,e),_a(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Xe=e,u=e.child;u!==null;){for(m=Xe=u;Xe!==null;){switch(h=Xe,p=h.child,h.tag){case 0:case 11:case 14:case 15:nm(4,h,h.return);break;case 1:Pc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){s=h,n=h.return;try{r=s,g.props=r.memoizedProps,g.state=r.memoizedState,g.componentWillUnmount()}catch(f){Dr(s,n,f)}}break;case 5:Pc(h,h.return);break;case 22:if(h.memoizedState!==null){HS(m);continue}}p!==null?(p.return=h,Xe=p):HS(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jk("display",o))}catch(f){Dr(e,e.return,f)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(f){Dr(e,e.return,f)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Gs(r,e),_a(e),s&4&&qS(e);break;case 21:break;default:Gs(r,e),_a(e)}}function _a(e){var r=e.flags;if(r&2){try{e:{for(var n=e.return;n!==null;){if(HO(n)){var s=n;break e}n=n.return}throw Error(De(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(pm(a,""),s.flags&=-33);var i=VS(e);g0(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=VS(e);x0(e,l,o);break;default:throw Error(De(161))}}catch(c){Dr(e,e.return,c)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Bz(e,r,n){Xe=e,XO(e)}function XO(e,r,n){for(var s=(e.mode&1)!==0;Xe!==null;){var a=Xe,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||mf;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Tn;l=mf;var d=Tn;if(mf=o,(Tn=c)&&!d)for(Xe=a;Xe!==null;)o=Xe,c=o.child,o.tag===22&&o.memoizedState!==null?KS(a):c!==null?(c.return=o,Xe=c):KS(a);for(;i!==null;)Xe=i,XO(i),i=i.sibling;Xe=a,mf=l,Tn=d}WS(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Xe=i):WS(e)}}function WS(e){for(;Xe!==null;){var r=Xe;if(r.flags&8772){var n=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Tn||fg(5,r);break;case 1:var s=r.stateNode;if(r.flags&4&&!Tn)if(n===null)s.componentDidMount();else{var a=r.elementType===r.type?n.memoizedProps:ea(r.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&TS(r,i,s);break;case 3:var o=r.updateQueue;if(o!==null){if(n=null,r.child!==null)switch(r.child.tag){case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}TS(r,o,n)}break;case 5:var l=r.stateNode;if(n===null&&r.flags&4){n=l;var c=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var d=r.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&ym(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}Tn||r.flags&512&&p0(r)}catch(h){Dr(r,r.return,h)}}if(r===e){Xe=null;break}if(n=r.sibling,n!==null){n.return=r.return,Xe=n;break}Xe=r.return}}function HS(e){for(;Xe!==null;){var r=Xe;if(r===e){Xe=null;break}var n=r.sibling;if(n!==null){n.return=r.return,Xe=n;break}Xe=r.return}}function KS(e){for(;Xe!==null;){var r=Xe;try{switch(r.tag){case 0:case 11:case 15:var n=r.return;try{fg(4,r)}catch(c){Dr(r,n,c)}break;case 1:var s=r.stateNode;if(typeof s.componentDidMount=="function"){var a=r.return;try{s.componentDidMount()}catch(c){Dr(r,a,c)}}var i=r.return;try{p0(r)}catch(c){Dr(r,i,c)}break;case 5:var o=r.return;try{p0(r)}catch(c){Dr(r,o,c)}}}catch(c){Dr(r,r.return,c)}if(r===e){Xe=null;break}var l=r.sibling;if(l!==null){l.return=r.return,Xe=l;break}Xe=r.return}}var Uz=Math.ceil,Dp=Ri.ReactCurrentDispatcher,ww=Ri.ReactCurrentOwner,zs=Ri.ReactCurrentBatchConfig,Wt=0,un=null,Kr=null,jn=0,ms=0,Cc=Oo(0),tn=0,Em=null,Tl=0,pg=0,Sw=0,sm=null,Qn=null,Pw=0,ad=1/0,ii=null,Mp=!1,v0=null,vo=null,hf=!1,lo=null,Ip=0,am=0,y0=null,ep=-1,tp=0;function Wn(){return Wt&6?Ur():ep!==-1?ep:ep=Ur()}function yo(e){return e.mode&1?Wt&2&&jn!==0?jn&-jn:Pz.transition!==null?(tp===0&&(tp=Rk()),tp):(e=er,e!==0||(e=window.event,e=e===void 0?16:zk(e.type)),e):1}function ua(e,r,n,s){if(50<am)throw am=0,y0=null,Error(De(185));Ph(e,n,s),(!(Wt&2)||e!==un)&&(e===un&&(!(Wt&2)&&(pg|=n),tn===4&&Ji(e,jn)),ns(e,s),n===1&&Wt===0&&!(r.mode&1)&&(ad=Ur()+500,ug&&Ro()))}function ns(e,r){var n=e.callbackNode;PF(e,r);var s=yp(e,e===un?jn:0);if(s===0)n!==null&&rS(n),e.callbackNode=null,e.callbackPriority=0;else if(r=s&-s,e.callbackPriority!==r){if(n!=null&&rS(n),r===1)e.tag===0?Sz(GS.bind(null,e)):aO(GS.bind(null,e)),jz(function(){!(Wt&6)&&Ro()}),n=null;else{switch(Dk(s)){case 1:n=QN;break;case 4:n=kk;break;case 16:n=vp;break;case 536870912:n=Ok;break;default:n=vp}n=n4(n,YO.bind(null,e))}e.callbackPriority=r,e.callbackNode=n}}function YO(e,r){if(ep=-1,tp=0,Wt&6)throw Error(De(327));var n=e.callbackNode;if(Lc()&&e.callbackNode!==n)return null;var s=yp(e,e===un?jn:0);if(s===0)return null;if(s&30||s&e.expiredLanes||r)r=$p(e,s);else{r=s;var a=Wt;Wt|=2;var i=ZO();(un!==e||jn!==r)&&(ii=null,ad=Ur()+500,jl(e,r));do try{Wz();break}catch(l){QO(e,l)}while(!0);dw(),Dp.current=i,Wt=a,Kr!==null?r=0:(un=null,jn=0,r=tn)}if(r!==0){if(r===2&&(a=Hj(e),a!==0&&(s=a,r=j0(e,a))),r===1)throw n=Em,jl(e,0),Ji(e,s),ns(e,Ur()),n;if(r===6)Ji(e,s);else{if(a=e.current.alternate,!(s&30)&&!Vz(a)&&(r=$p(e,s),r===2&&(i=Hj(e),i!==0&&(s=i,r=j0(e,i))),r===1))throw n=Em,jl(e,0),Ji(e,s),ns(e,Ur()),n;switch(e.finishedWork=a,e.finishedLanes=s,r){case 0:case 1:throw Error(De(345));case 2:Jo(e,Qn,ii);break;case 3:if(Ji(e,s),(s&130023424)===s&&(r=Pw+500-Ur(),10<r)){if(yp(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Wn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=e0(Jo.bind(null,e,Qn,ii),r);break}Jo(e,Qn,ii);break;case 4:if(Ji(e,s),(s&4194240)===s)break;for(r=e.eventTimes,a=-1;0<s;){var o=31-da(s);i=1<<o,o=r[o],o>a&&(a=o),s&=~i}if(s=a,s=Ur()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Uz(s/1960))-s,10<s){e.timeoutHandle=e0(Jo.bind(null,e,Qn,ii),s);break}Jo(e,Qn,ii);break;case 5:Jo(e,Qn,ii);break;default:throw Error(De(329))}}}return ns(e,Ur()),e.callbackNode===n?YO.bind(null,e):null}function j0(e,r){var n=sm;return e.current.memoizedState.isDehydrated&&(jl(e,r).flags|=256),e=$p(e,r),e!==2&&(r=Qn,Qn=n,r!==null&&b0(r)),e}function b0(e){Qn===null?Qn=e:Qn.push.apply(Qn,e)}function Vz(e){for(var r=e;;){if(r.flags&16384){var n=r.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!xa(i(),a))return!1}catch{return!1}}}if(n=r.child,r.subtreeFlags&16384&&n!==null)n.return=r,r=n;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ji(e,r){for(r&=~Sw,r&=~pg,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var n=31-da(r),s=1<<n;e[n]=-1,r&=~s}}function GS(e){if(Wt&6)throw Error(De(327));Lc();var r=yp(e,0);if(!(r&1))return ns(e,Ur()),null;var n=$p(e,r);if(e.tag!==0&&n===2){var s=Hj(e);s!==0&&(r=s,n=j0(e,s))}if(n===1)throw n=Em,jl(e,0),Ji(e,r),ns(e,Ur()),n;if(n===6)throw Error(De(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Jo(e,Qn,ii),ns(e,Ur()),null}function Cw(e,r){var n=Wt;Wt|=1;try{return e(r)}finally{Wt=n,Wt===0&&(ad=Ur()+500,ug&&Ro())}}function El(e){lo!==null&&lo.tag===0&&!(Wt&6)&&Lc();var r=Wt;Wt|=1;var n=zs.transition,s=er;try{if(zs.transition=null,er=1,e)return e()}finally{er=s,zs.transition=n,Wt=r,!(Wt&6)&&Ro()}}function _w(){ms=Cc.current,yr(Cc)}function jl(e,r){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yz(n)),Kr!==null)for(n=Kr.return;n!==null;){var s=n;switch(ow(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Sp();break;case 3:nd(),yr(ts),yr(Rn),xw();break;case 5:pw(s);break;case 4:nd();break;case 13:yr(Tr);break;case 19:yr(Tr);break;case 10:uw(s.type._context);break;case 22:case 23:_w()}n=n.return}if(un=e,Kr=e=jo(e.current,null),jn=ms=r,tn=0,Em=null,Sw=pg=Tl=0,Qn=sm=null,al!==null){for(r=0;r<al.length;r++)if(n=al[r],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}al=null}return e}function QO(e,r){do{var n=Kr;try{if(dw(),Qf.current=Rp,Op){for(var s=Er.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Op=!1}if(Al=0,on=Jr=Er=null,rm=!1,_m=0,ww.current=null,n===null||n.return===null){tn=1,Em=r,Kr=null;break}e:{var i=e,o=n.return,l=n,c=r;if(r=jn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=MS(o);if(p!==null){p.flags&=-257,IS(p,o,l,i,r),p.mode&1&&DS(i,d,r),r=p,c=d;var g=r.updateQueue;if(g===null){var f=new Set;f.add(c),r.updateQueue=f}else g.add(c);break e}else{if(!(r&1)){DS(i,d,r),Aw();break e}c=Error(De(426))}}else if(Sr&&l.mode&1){var v=MS(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),IS(v,o,l,i,r),lw(sd(c,l));break e}}i=c=sd(c,l),tn!==4&&(tn=2),sm===null?sm=[i]:sm.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var b=DO(i,c,r);AS(i,b);break e;case 1:l=c;var y=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(vo===null||!vo.has(j)))){i.flags|=65536,r&=-r,i.lanes|=r;var C=MO(i,l,r);AS(i,C);break e}}i=i.return}while(i!==null)}e4(n)}catch(S){r=S,Kr===n&&n!==null&&(Kr=n=n.return);continue}break}while(!0)}function ZO(){var e=Dp.current;return Dp.current=Rp,e===null?Rp:e}function Aw(){(tn===0||tn===3||tn===2)&&(tn=4),un===null||!(Tl&268435455)&&!(pg&268435455)||Ji(un,jn)}function $p(e,r){var n=Wt;Wt|=2;var s=ZO();(un!==e||jn!==r)&&(ii=null,jl(e,r));do try{qz();break}catch(a){QO(e,a)}while(!0);if(dw(),Wt=n,Dp.current=s,Kr!==null)throw Error(De(261));return un=null,jn=0,tn}function qz(){for(;Kr!==null;)JO(Kr)}function Wz(){for(;Kr!==null&&!xF();)JO(Kr)}function JO(e){var r=r4(e.alternate,e,ms);e.memoizedProps=e.pendingProps,r===null?e4(e):Kr=r,ww.current=null}function e4(e){var r=e;do{var n=r.alternate;if(e=r.return,r.flags&32768){if(n=Lz(n,r),n!==null){n.flags&=32767,Kr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tn=6,Kr=null;return}}else if(n=$z(n,r,ms),n!==null){Kr=n;return}if(r=r.sibling,r!==null){Kr=r;return}Kr=r=e}while(r!==null);tn===0&&(tn=5)}function Jo(e,r,n){var s=er,a=zs.transition;try{zs.transition=null,er=1,Hz(e,r,n,s)}finally{zs.transition=a,er=s}return null}function Hz(e,r,n,s){do Lc();while(lo!==null);if(Wt&6)throw Error(De(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(De(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(CF(e,i),e===un&&(Kr=un=null,jn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hf||(hf=!0,n4(vp,function(){return Lc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zs.transition,zs.transition=null;var o=er;er=1;var l=Wt;Wt|=4,ww.current=null,zz(e,n),GO(n,e),mz(Zj),jp=!!Qj,Zj=Qj=null,e.current=n,Bz(n),gF(),Wt=l,er=o,zs.transition=i}else e.current=n;if(hf&&(hf=!1,lo=e,Ip=a),i=e.pendingLanes,i===0&&(vo=null),jF(n.stateNode),ns(e,Ur()),r!==null)for(s=e.onRecoverableError,n=0;n<r.length;n++)a=r[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(Mp)throw Mp=!1,e=v0,v0=null,e;return Ip&1&&e.tag!==0&&Lc(),i=e.pendingLanes,i&1?e===y0?am++:(am=0,y0=e):am=0,Ro(),null}function Lc(){if(lo!==null){var e=Dk(Ip),r=zs.transition,n=er;try{if(zs.transition=null,er=16>e?16:e,lo===null)var s=!1;else{if(e=lo,lo=null,Ip=0,Wt&6)throw Error(De(331));var a=Wt;for(Wt|=4,Xe=e.current;Xe!==null;){var i=Xe,o=i.child;if(Xe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Xe=d;Xe!==null;){var u=Xe;switch(u.tag){case 0:case 11:case 15:nm(8,u,i)}var m=u.child;if(m!==null)m.return=u,Xe=m;else for(;Xe!==null;){u=Xe;var h=u.sibling,p=u.return;if(WO(u),u===d){Xe=null;break}if(h!==null){h.return=p,Xe=h;break}Xe=p}}}var g=i.alternate;if(g!==null){var f=g.child;if(f!==null){g.child=null;do{var v=f.sibling;f.sibling=null,f=v}while(f!==null)}}Xe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Xe=o;else e:for(;Xe!==null;){if(i=Xe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nm(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Xe=b;break e}Xe=i.return}}var y=e.current;for(Xe=y;Xe!==null;){o=Xe;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Xe=j;else e:for(o=y;Xe!==null;){if(l=Xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fg(9,l)}}catch(S){Dr(l,l.return,S)}if(l===o){Xe=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,Xe=C;break e}Xe=l.return}}if(Wt=a,Ro(),Ba&&typeof Ba.onPostCommitFiberRoot=="function")try{Ba.onPostCommitFiberRoot(ig,e)}catch{}s=!0}return s}finally{er=n,zs.transition=r}}return!1}function XS(e,r,n){r=sd(n,r),r=DO(e,r,1),e=go(e,r,1),r=Wn(),e!==null&&(Ph(e,1,r),ns(e,r))}function Dr(e,r,n){if(e.tag===3)XS(e,e,n);else for(;r!==null;){if(r.tag===3){XS(r,e,n);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(vo===null||!vo.has(s))){e=sd(n,e),e=MO(r,e,1),r=go(r,e,1),e=Wn(),r!==null&&(Ph(r,1,e),ns(r,e));break}}r=r.return}}function Kz(e,r,n){var s=e.pingCache;s!==null&&s.delete(r),r=Wn(),e.pingedLanes|=e.suspendedLanes&n,un===e&&(jn&n)===n&&(tn===4||tn===3&&(jn&130023424)===jn&&500>Ur()-Pw?jl(e,0):Sw|=n),ns(e,r)}function t4(e,r){r===0&&(e.mode&1?(r=rf,rf<<=1,!(rf&130023424)&&(rf=4194304)):r=1);var n=Wn();e=Ni(e,r),e!==null&&(Ph(e,r,n),ns(e,n))}function Gz(e){var r=e.memoizedState,n=0;r!==null&&(n=r.retryLane),t4(e,n)}function Xz(e,r){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(De(314))}s!==null&&s.delete(r),t4(e,n)}var r4;r4=function(e,r,n){if(e!==null)if(e.memoizedProps!==r.pendingProps||ts.current)Jn=!0;else{if(!(e.lanes&n)&&!(r.flags&128))return Jn=!1,Iz(e,r,n);Jn=!!(e.flags&131072)}else Jn=!1,Sr&&r.flags&1048576&&iO(r,_p,r.index);switch(r.lanes=0,r.tag){case 2:var s=r.type;Jf(e,r),e=r.pendingProps;var a=ed(r,Rn.current);$c(r,n),a=vw(null,r,s,e,a,n);var i=yw();return r.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,rs(s)?(i=!0,Pp(r)):i=!1,r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,hw(r),a.updater=hg,r.stateNode=a,a._reactInternals=r,o0(r,s,e,n),r=d0(null,r,s,!0,i,n)):(r.tag=0,Sr&&i&&iw(r),Ln(null,r,a,n),r=r.child),r;case 16:s=r.elementType;e:{switch(Jf(e,r),e=r.pendingProps,a=s._init,s=a(s._payload),r.type=s,a=r.tag=Qz(s),e=ea(s,e),a){case 0:r=c0(null,r,s,e,n);break e;case 1:r=FS(null,r,s,e,n);break e;case 11:r=$S(null,r,s,e,n);break e;case 14:r=LS(null,r,s,ea(s.type,e),n);break e}throw Error(De(306,s,""))}return r;case 0:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:ea(s,a),c0(e,r,s,a,n);case 1:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:ea(s,a),FS(e,r,s,a,n);case 3:e:{if(FO(r),e===null)throw Error(De(387));s=r.pendingProps,i=r.memoizedState,a=i.element,mO(e,r),Ep(r,s,null,n);var o=r.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){a=sd(Error(De(423)),r),r=zS(e,r,s,n,a);break e}else if(s!==a){a=sd(Error(De(424)),r),r=zS(e,r,s,n,a);break e}else for(ys=xo(r.stateNode.containerInfo.firstChild),js=r,Sr=!0,oa=null,n=dO(r,null,s,n),r.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(td(),s===a){r=wi(e,r,n);break e}Ln(e,r,s,n)}r=r.child}return r;case 5:return hO(r),e===null&&s0(r),s=r.type,a=r.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Jj(s,a)?o=null:i!==null&&Jj(s,i)&&(r.flags|=32),LO(e,r),Ln(e,r,o,n),r.child;case 6:return e===null&&s0(r),null;case 13:return zO(e,r,n);case 4:return fw(r,r.stateNode.containerInfo),s=r.pendingProps,e===null?r.child=rd(r,null,s,n):Ln(e,r,s,n),r.child;case 11:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:ea(s,a),$S(e,r,s,a,n);case 7:return Ln(e,r,r.pendingProps,n),r.child;case 8:return Ln(e,r,r.pendingProps.children,n),r.child;case 12:return Ln(e,r,r.pendingProps.children,n),r.child;case 10:e:{if(s=r.type._context,a=r.pendingProps,i=r.memoizedProps,o=a.value,mr(Ap,s._currentValue),s._currentValue=o,i!==null)if(xa(i.value,o)){if(i.children===a.children&&!ts.current){r=wi(e,r,n);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=gi(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),a0(i.return,n,r),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===r.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(De(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),a0(o,n,r),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===r){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ln(e,r,a.children,n),r=r.child}return r;case 9:return a=r.type,s=r.pendingProps.children,$c(r,n),a=Bs(a),s=s(a),r.flags|=1,Ln(e,r,s,n),r.child;case 14:return s=r.type,a=ea(s,r.pendingProps),a=ea(s.type,a),LS(e,r,s,a,n);case 15:return IO(e,r,r.type,r.pendingProps,n);case 17:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:ea(s,a),Jf(e,r),r.tag=1,rs(s)?(e=!0,Pp(r)):e=!1,$c(r,n),RO(r,s,a),o0(r,s,a,n),d0(null,r,s,!0,e,n);case 19:return BO(e,r,n);case 22:return $O(e,r,n)}throw Error(De(156,r.tag))};function n4(e,r){return Ek(e,r)}function Yz(e,r,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(e,r,n,s){return new Yz(e,r,n,s)}function Tw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qz(e){if(typeof e=="function")return Tw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===GN)return 11;if(e===XN)return 14}return 2}function jo(e,r){var n=e.alternate;return n===null?(n=Ls(e.tag,r,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=r,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,r=e.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rp(e,r,n,s,a,i){var o=2;if(s=e,typeof e=="function")Tw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case xc:return bl(n.children,a,i,r);case KN:o=8,a|=8;break;case kj:return e=Ls(12,n,r,a|2),e.elementType=kj,e.lanes=i,e;case Oj:return e=Ls(13,n,r,a),e.elementType=Oj,e.lanes=i,e;case Rj:return e=Ls(19,n,r,a),e.elementType=Rj,e.lanes=i,e;case hk:return xg(n,a,i,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uk:o=10;break e;case mk:o=9;break e;case GN:o=11;break e;case XN:o=14;break e;case Xi:o=16,s=null;break e}throw Error(De(130,e==null?e:typeof e,""))}return r=Ls(o,n,r,a),r.elementType=e,r.type=s,r.lanes=i,r}function bl(e,r,n,s){return e=Ls(7,e,s,r),e.lanes=n,e}function xg(e,r,n,s){return e=Ls(22,e,s,r),e.elementType=hk,e.lanes=n,e.stateNode={isHidden:!1},e}function wy(e,r,n){return e=Ls(6,e,null,r),e.lanes=n,e}function Sy(e,r,n){return r=Ls(4,e.children!==null?e.children:[],e.key,r),r.lanes=n,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Zz(e,r,n,s,a){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sy(0),this.expirationTimes=sy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sy(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ew(e,r,n,s,a,i,o,l,c){return e=new Zz(e,r,n,l,c),r===1?(r=1,i===!0&&(r|=8)):r=0,i=Ls(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hw(i),e}function Jz(e,r,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pc,key:s==null?null:""+s,children:e,containerInfo:r,implementation:n}}function s4(e){if(!e)return Po;e=e._reactInternals;e:{if(Hl(e)!==e||e.tag!==1)throw Error(De(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(rs(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(De(171))}if(e.tag===1){var n=e.type;if(rs(n))return sO(e,n,r)}return r}function a4(e,r,n,s,a,i,o,l,c){return e=Ew(n,s,!0,e,a,i,o,l,c),e.context=s4(null),n=e.current,s=Wn(),a=yo(n),i=gi(s,a),i.callback=r??null,go(n,i,a),e.current.lanes=a,Ph(e,a,s),ns(e,s),e}function gg(e,r,n,s){var a=r.current,i=Wn(),o=yo(a);return n=s4(n),r.context===null?r.context=n:r.pendingContext=n,r=gi(i,o),r.payload={element:e},s=s===void 0?null:s,s!==null&&(r.callback=s),e=go(a,r,o),e!==null&&(ua(e,a,o,i),Yf(e,a,o)),o}function Lp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function YS(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<r?n:r}}function kw(e,r){YS(e,r),(e=e.alternate)&&YS(e,r)}function e8(){return null}var i4=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ow(e){this._internalRoot=e}vg.prototype.render=Ow.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(De(409));gg(e,r,null,null)};vg.prototype.unmount=Ow.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;El(function(){gg(null,e,null,null)}),r[bi]=null}};function vg(e){this._internalRoot=e}vg.prototype.unstable_scheduleHydration=function(e){if(e){var r=$k();e={blockedOn:null,target:e,priority:r};for(var n=0;n<Zi.length&&r!==0&&r<Zi[n].priority;n++);Zi.splice(n,0,e),n===0&&Fk(e)}};function Rw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QS(){}function t8(e,r,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Lp(o);i.call(d)}}var o=a4(r,s,e,0,null,!1,!1,"",QS);return e._reactRootContainer=o,e[bi]=o.current,Nm(e.nodeType===8?e.parentNode:e),El(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Lp(c);l.call(d)}}var c=Ew(e,0,!1,null,null,!1,!1,"",QS);return e._reactRootContainer=c,e[bi]=c.current,Nm(e.nodeType===8?e.parentNode:e),El(function(){gg(r,c,n,s)}),c}function jg(e,r,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Lp(o);l.call(c)}}gg(r,o,e,a)}else o=t8(n,r,e,a,s);return Lp(o)}Mk=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var n=Ku(r.pendingLanes);n!==0&&(ZN(r,n|1),ns(r,Ur()),!(Wt&6)&&(ad=Ur()+500,Ro()))}break;case 13:El(function(){var s=Ni(e,1);if(s!==null){var a=Wn();ua(s,e,1,a)}}),kw(e,1)}};JN=function(e){if(e.tag===13){var r=Ni(e,134217728);if(r!==null){var n=Wn();ua(r,e,134217728,n)}kw(e,134217728)}};Ik=function(e){if(e.tag===13){var r=yo(e),n=Ni(e,r);if(n!==null){var s=Wn();ua(n,e,r,s)}kw(e,r)}};$k=function(){return er};Lk=function(e,r){var n=er;try{return er=e,r()}finally{er=n}};Vj=function(e,r,n){switch(r){case"input":if(Ij(e,n),r=n.name,n.type==="radio"&&r!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var s=n[r];if(s!==e&&s.form===e.form){var a=dg(s);if(!a)throw Error(De(90));pk(s),Ij(s,a)}}}break;case"textarea":gk(e,n);break;case"select":r=n.value,r!=null&&Rc(e,!!n.multiple,r,!1)}};Sk=Cw;Pk=El;var r8={usingClientEntryPoint:!1,Events:[_h,jc,dg,Nk,wk,Cw]},wu={findFiberByHostInstance:sl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n8={bundleType:wu.bundleType,version:wu.version,rendererPackageName:wu.rendererPackageName,rendererConfig:wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ak(e),e===null?null:e.stateNode},findFiberByHostInstance:wu.findFiberByHostInstance||e8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{ig=ff.inject(n8),Ba=ff}catch{}}_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r8;_s.createPortal=function(e,r){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rw(r))throw Error(De(200));return Jz(e,r,null,n)};_s.createRoot=function(e,r){if(!Rw(e))throw Error(De(299));var n=!1,s="",a=i4;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),r=Ew(e,1,!1,null,null,n,!1,s,a),e[bi]=r.current,Nm(e.nodeType===8?e.parentNode:e),new Ow(r)};_s.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(De(188)):(e=Object.keys(e).join(","),Error(De(268,e)));return e=Ak(r),e=e===null?null:e.stateNode,e};_s.flushSync=function(e){return El(e)};_s.hydrate=function(e,r,n){if(!yg(r))throw Error(De(200));return jg(null,e,r,!0,n)};_s.hydrateRoot=function(e,r,n){if(!Rw(e))throw Error(De(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=i4;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),r=a4(r,null,e,1,n??null,a,!1,i,o),e[bi]=r.current,Nm(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,a]:r.mutableSourceEagerHydrationData.push(n,a);return new vg(r)};_s.render=function(e,r,n){if(!yg(r))throw Error(De(200));return jg(null,e,r,!1,n)};_s.unmountComponentAtNode=function(e){if(!yg(e))throw Error(De(40));return e._reactRootContainer?(El(function(){jg(null,null,e,!1,function(){e._reactRootContainer=null,e[bi]=null})}),!0):!1};_s.unstable_batchedUpdates=Cw;_s.unstable_renderSubtreeIntoContainer=function(e,r,n,s){if(!yg(n))throw Error(De(200));if(e==null||e._reactInternals===void 0)throw Error(De(38));return jg(e,r,n,!1,s)};_s.version="18.3.1-next-f1338f8080-20240426";function o4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o4)}catch(e){console.error(e)}}o4(),ok.exports=_s;var Kl=ok.exports;const l4=Zt(Kl);var c4,ZS=Kl;c4=ZS.createRoot,ZS.hydrateRoot;const s8=1,a8=1e6;let Py=0;function i8(){return Py=(Py+1)%Number.MAX_SAFE_INTEGER,Py.toString()}const Cy=new Map,JS=e=>{if(Cy.has(e))return;const r=setTimeout(()=>{Cy.delete(e),im({type:"REMOVE_TOAST",toastId:e})},a8);Cy.set(e,r)},o8=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,s8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===r.toast.id?{...n,...r.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=r;return n?JS(n):e.toasts.forEach(s=>{JS(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==r.toastId)}}},np=[];let sp={toasts:[]};function im(e){sp=o8(sp,e),np.forEach(r=>{r(sp)})}function l8({...e}){const r=i8(),n=a=>im({type:"UPDATE_TOAST",toast:{...a,id:r}}),s=()=>im({type:"DISMISS_TOAST",toastId:r});return im({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:a=>{a||s()}}}),{id:r,dismiss:s,update:n}}function Tt(){const[e,r]=x.useState(sp);return x.useEffect(()=>(np.push(r),()=>{const n=np.indexOf(r);n>-1&&np.splice(n,1)}),[e]),{...e,toast:l8,dismiss:n=>im({type:"DISMISS_TOAST",toastId:n})}}function Ye(e,r,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return r==null?void 0:r(a)}}function eP(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function d4(...e){return r=>{let n=!1;const s=e.map(a=>{const i=eP(a,r);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():eP(e[a],null)}}}}function Ot(...e){return x.useCallback(d4(...e),e)}function c8(e,r){const n=x.createContext(r),s=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return t.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=x.useContext(n);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Gn(e,r=[]){let n=[];function s(i,o){const l=x.createContext(o),c=n.length;n=[...n,o];const d=m=>{var b;const{scope:h,children:p,...g}=m,f=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=x.useMemo(()=>g,Object.values(g));return t.jsx(f.Provider,{value:v,children:p})};d.displayName=i+"Provider";function u(m,h){var f;const p=((f=h==null?void 0:h[e])==null?void 0:f[c])||l,g=x.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,d8(a,...r)]}function d8(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return x.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}function kl(e){const r=u8(e),n=x.forwardRef((s,a)=>{const{children:i,...o}=s,l=x.Children.toArray(i),c=l.find(h8);if(c){const d=c.props.children,u=l.map(m=>m===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:m);return t.jsx(r,{...o,ref:a,children:x.isValidElement(d)?x.cloneElement(d,void 0,u):null})}return t.jsx(r,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var Vd=kl("Slot");function u8(e){const r=x.forwardRef((n,s)=>{const{children:a,...i}=n;if(x.isValidElement(a)){const o=p8(a),l=f8(i,a.props);return a.type!==x.Fragment&&(l.ref=s?d4(s,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var u4=Symbol("radix.slottable");function m8(e){const r=({children:n})=>t.jsx(t.Fragment,{children:n});return r.displayName=`${e}.Slottable`,r.__radixId=u4,r}function h8(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===u4}function f8(e,r){const n={...r};for(const s in r){const a=e[s],i=r[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function p8(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Dw(e){const r=e+"CollectionProvider",[n,s]=Gn(r),[a,i]=n(r,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:v,children:b}=f,y=L.useRef(null),j=L.useRef(new Map).current;return t.jsx(a,{scope:v,itemMap:j,collectionRef:y,children:b})};o.displayName=r;const l=e+"CollectionSlot",c=kl(l),d=L.forwardRef((f,v)=>{const{scope:b,children:y}=f,j=i(l,b),C=Ot(v,j.collectionRef);return t.jsx(c,{ref:C,children:y})});d.displayName=l;const u=e+"CollectionItemSlot",m="data-radix-collection-item",h=kl(u),p=L.forwardRef((f,v)=>{const{scope:b,children:y,...j}=f,C=L.useRef(null),S=Ot(v,C),N=i(u,b);return L.useEffect(()=>(N.itemMap.set(C,{ref:C,...j}),()=>void N.itemMap.delete(C))),t.jsx(h,{[m]:"",ref:S,children:y})});p.displayName=u;function g(f){const v=i(e+"CollectionConsumer",f);return L.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const j=Array.from(y.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((N,P)=>j.indexOf(N.ref.current)-j.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},g,s]}var x8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Je=x8.reduce((e,r)=>{const n=kl(`Primitive.${r}`),s=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function m4(e,r){e&&Kl.flushSync(()=>e.dispatchEvent(r))}function Gr(e){const r=x.useRef(e);return x.useEffect(()=>{r.current=e}),x.useMemo(()=>(...n)=>{var s;return(s=r.current)==null?void 0:s.call(r,...n)},[])}function g8(e,r=globalThis==null?void 0:globalThis.document){const n=Gr(e);x.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[n,r])}var v8="DismissableLayer",N0="dismissableLayer.update",y8="dismissableLayer.pointerDownOutside",j8="dismissableLayer.focusOutside",tP,h4=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qd=x.forwardRef((e,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=x.useContext(h4),[u,m]=x.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),g=Ot(r,P=>m(P)),f=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=f.indexOf(v),y=u?f.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,C=y>=b,S=N8(P=>{const _=P.target,w=[...d.branches].some(A=>A.contains(_));!C||w||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},h),N=w8(P=>{const _=P.target;[...d.branches].some(A=>A.contains(_))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},h);return g8(P=>{y===d.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},h),x.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(tP=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),rP(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=tP)}},[u,h,n,d]),x.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),rP())},[u,d]),x.useEffect(()=>{const P=()=>p({});return document.addEventListener(N0,P),()=>document.removeEventListener(N0,P)},[]),t.jsx(Je.div,{...c,ref:g,style:{pointerEvents:j?C?"auto":"none":void 0,...e.style},onFocusCapture:Ye(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Ye(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Ye(e.onPointerDownCapture,S.onPointerDownCapture)})});qd.displayName=v8;var b8="DismissableLayerBranch",f4=x.forwardRef((e,r)=>{const n=x.useContext(h4),s=x.useRef(null),a=Ot(r,s);return x.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),t.jsx(Je.div,{...e,ref:a})});f4.displayName=b8;function N8(e,r=globalThis==null?void 0:globalThis.document){const n=Gr(e),s=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){p4(y8,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",a.current),a.current=c,r.addEventListener("click",a.current,{once:!0})):c()}else r.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",a.current)}},[r,n]),{onPointerDownCapture:()=>s.current=!0}}function w8(e,r=globalThis==null?void 0:globalThis.document){const n=Gr(e),s=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!s.current&&p4(j8,n,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",a),()=>r.removeEventListener("focusin",a)},[r,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function rP(){const e=new CustomEvent(N0);document.dispatchEvent(e)}function p4(e,r,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&a.addEventListener(e,r,{once:!0}),s?m4(a,i):a.dispatchEvent(i)}var S8=qd,P8=f4,Lr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},C8="Portal",Th=x.forwardRef((e,r)=>{var l;const{container:n,...s}=e,[a,i]=x.useState(!1);Lr(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?l4.createPortal(t.jsx(Je.div,{...s,ref:r}),o):null});Th.displayName=C8;function _8(e,r){return x.useReducer((n,s)=>r[n][s]??n,e)}var Xn=e=>{const{present:r,children:n}=e,s=A8(r),a=typeof n=="function"?n({present:s.isPresent}):x.Children.only(n),i=Ot(s.ref,T8(a));return typeof n=="function"||s.isPresent?x.cloneElement(a,{ref:i}):null};Xn.displayName="Presence";function A8(e){const[r,n]=x.useState(),s=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=_8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=pf(s.current);i.current=l==="mounted"?d:"none"},[l]),Lr(()=>{const d=s.current,u=a.current;if(u!==e){const h=i.current,p=pf(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Lr(()=>{if(r){let d;const u=r.ownerDocument.defaultView??window,m=p=>{const f=pf(s.current).includes(p.animationName);if(p.target===r&&f&&(c("ANIMATION_END"),!a.current)){const v=r.style.animationFillMode;r.style.animationFillMode="forwards",d=u.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=v)})}},h=p=>{p.target===r&&(i.current=pf(s.current))};return r.addEventListener("animationstart",h),r.addEventListener("animationcancel",m),r.addEventListener("animationend",m),()=>{u.clearTimeout(d),r.removeEventListener("animationstart",h),r.removeEventListener("animationcancel",m),r.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function pf(e){return(e==null?void 0:e.animationName)||"none"}function T8(e){var s,a;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var E8=VN[" useInsertionEffect ".trim().toString()]||Lr;function ga({prop:e,defaultProp:r,onChange:n=()=>{},caller:s}){const[a,i,o]=k8({defaultProp:r,onChange:n}),l=e!==void 0,c=l?e:a;{const u=x.useRef(e!==void 0);x.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=x.useCallback(u=>{var m;if(l){const h=O8(u)?u(e):u;h!==e&&((m=o.current)==null||m.call(o,h))}else i(u)},[l,e,i,o]);return[c,d]}function k8({defaultProp:e,onChange:r}){const[n,s]=x.useState(e),a=x.useRef(n),i=x.useRef(r);return E8(()=>{i.current=r},[r]),x.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,s,i]}function O8(e){return typeof e=="function"}var x4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),R8="VisuallyHidden",bg=x.forwardRef((e,r)=>t.jsx(Je.span,{...e,ref:r,style:{...x4,...e.style}}));bg.displayName=R8;var D8=bg,Mw="ToastProvider",[Iw,M8,I8]=Dw("Toast"),[g4,hPe]=Gn("Toast",[I8]),[$8,Ng]=g4(Mw),v4=e=>{const{__scopeToast:r,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=x.useState(null),[d,u]=x.useState(0),m=x.useRef(!1),h=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mw}\`. Expected non-empty \`string\`.`),t.jsx(Iw.Provider,{scope:r,children:t.jsx($8,{scope:r,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>u(p=>p+1),[]),onToastRemove:x.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:o})})};v4.displayName=Mw;var y4="ToastViewport",L8=["F8"],w0="toast.viewportPause",S0="toast.viewportResume",j4=x.forwardRef((e,r)=>{const{__scopeToast:n,hotkey:s=L8,label:a="Notifications ({hotkey})",...i}=e,o=Ng(y4,n),l=M8(n),c=x.useRef(null),d=x.useRef(null),u=x.useRef(null),m=x.useRef(null),h=Ot(r,m,o.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;x.useEffect(()=>{const v=b=>{var j;s.length!==0&&s.every(C=>b[C]||b.code===C)&&((j=m.current)==null||j.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[s]),x.useEffect(()=>{const v=c.current,b=m.current;if(g&&v&&b){const y=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(w0);b.dispatchEvent(N),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(S0);b.dispatchEvent(N),o.isClosePausedRef.current=!1}},C=N=>{!v.contains(N.relatedTarget)&&j()},S=()=>{v.contains(document.activeElement)||j()};return v.addEventListener("focusin",y),v.addEventListener("focusout",C),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",j),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",C),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",j)}}},[g,o.isClosePausedRef]);const f=x.useCallback(({tabbingDirection:v})=>{const y=l().map(j=>{const C=j.ref.current,S=[C,...Q8(C)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?y.reverse():y).flat()},[l]);return x.useEffect(()=>{const v=m.current;if(v){const b=y=>{var S,N,P;const j=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!j){const _=document.activeElement,w=y.shiftKey;if(y.target===v&&w){(S=d.current)==null||S.focus();return}const O=f({tabbingDirection:w?"backwards":"forwards"}),$=O.findIndex(U=>U===_);_y(O.slice($+1))?y.preventDefault():w?(N=d.current)==null||N.focus():(P=u.current)==null||P.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,f]),t.jsxs(P8,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&t.jsx(P0,{ref:d,onFocusFromOutsideViewport:()=>{const v=f({tabbingDirection:"forwards"});_y(v)}}),t.jsx(Iw.Slot,{scope:n,children:t.jsx(Je.ol,{tabIndex:-1,...i,ref:h})}),g&&t.jsx(P0,{ref:u,onFocusFromOutsideViewport:()=>{const v=f({tabbingDirection:"backwards"});_y(v)}})]})});j4.displayName=y4;var b4="ToastFocusProxy",P0=x.forwardRef((e,r)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,i=Ng(b4,n);return t.jsx(bg,{"aria-hidden":!0,tabIndex:0,...a,ref:r,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});P0.displayName=b4;var Eh="Toast",F8="toast.swipeStart",z8="toast.swipeMove",B8="toast.swipeCancel",U8="toast.swipeEnd",N4=x.forwardRef((e,r)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=ga({prop:s,defaultProp:a??!0,onChange:i,caller:Eh});return t.jsx(Xn,{present:n||l,children:t.jsx(W8,{open:l,...o,ref:r,onClose:()=>c(!1),onPause:Gr(e.onPause),onResume:Gr(e.onResume),onSwipeStart:Ye(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ye(e.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Ye(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ye(e.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});N4.displayName=Eh;var[V8,q8]=g4(Eh,{onClose(){}}),W8=x.forwardRef((e,r)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:p,...g}=e,f=Ng(Eh,n),[v,b]=x.useState(null),y=Ot(r,U=>b(U)),j=x.useRef(null),C=x.useRef(null),S=a||f.duration,N=x.useRef(0),P=x.useRef(S),_=x.useRef(0),{onToastAdd:w,onToastRemove:A}=f,D=Gr(()=>{var V;(v==null?void 0:v.contains(document.activeElement))&&((V=f.viewport)==null||V.focus()),o()}),O=x.useCallback(U=>{!U||U===1/0||(window.clearTimeout(_.current),N.current=new Date().getTime(),_.current=window.setTimeout(D,U))},[D]);x.useEffect(()=>{const U=f.viewport;if(U){const V=()=>{O(P.current),d==null||d()},R=()=>{const X=new Date().getTime()-N.current;P.current=P.current-X,window.clearTimeout(_.current),c==null||c()};return U.addEventListener(w0,R),U.addEventListener(S0,V),()=>{U.removeEventListener(w0,R),U.removeEventListener(S0,V)}}},[f.viewport,S,c,d,O]),x.useEffect(()=>{i&&!f.isClosePausedRef.current&&O(S)},[i,S,f.isClosePausedRef,O]),x.useEffect(()=>(w(),()=>A()),[w,A]);const $=x.useMemo(()=>v?T4(v):null,[v]);return f.viewport?t.jsxs(t.Fragment,{children:[$&&t.jsx(H8,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),t.jsx(V8,{scope:n,onClose:D,children:Kl.createPortal(t.jsx(Iw.ItemSlot,{scope:n,children:t.jsx(S8,{asChild:!0,onEscapeKeyDown:Ye(l,()=>{f.isFocusedToastEscapeKeyDownRef.current||D(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(Je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":f.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ye(e.onKeyDown,U=>{U.key==="Escape"&&(l==null||l(U.nativeEvent),U.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Ye(e.onPointerDown,U=>{U.button===0&&(j.current={x:U.clientX,y:U.clientY})}),onPointerMove:Ye(e.onPointerMove,U=>{if(!j.current)return;const V=U.clientX-j.current.x,R=U.clientY-j.current.y,X=!!C.current,z=["left","right"].includes(f.swipeDirection),F=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,te=z?F(0,V):0,de=z?0:F(0,R),ie=U.pointerType==="touch"?10:2,fe={x:te,y:de},ge={originalEvent:U,delta:fe};X?(C.current=fe,xf(z8,m,ge,{discrete:!1})):nP(fe,f.swipeDirection,ie)?(C.current=fe,xf(F8,u,ge,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(V)>ie||Math.abs(R)>ie)&&(j.current=null)}),onPointerUp:Ye(e.onPointerUp,U=>{const V=C.current,R=U.target;if(R.hasPointerCapture(U.pointerId)&&R.releasePointerCapture(U.pointerId),C.current=null,j.current=null,V){const X=U.currentTarget,z={originalEvent:U,delta:V};nP(V,f.swipeDirection,f.swipeThreshold)?xf(U8,p,z,{discrete:!0}):xf(B8,h,z,{discrete:!0}),X.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),H8=e=>{const{__scopeToast:r,children:n,...s}=e,a=Ng(Eh,r),[i,o]=x.useState(!1),[l,c]=x.useState(!1);return X8(()=>o(!0)),x.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:t.jsx(Th,{asChild:!0,children:t.jsx(bg,{...s,children:i&&t.jsxs(t.Fragment,{children:[a.label," ",n]})})})},K8="ToastTitle",w4=x.forwardRef((e,r)=>{const{__scopeToast:n,...s}=e;return t.jsx(Je.div,{...s,ref:r})});w4.displayName=K8;var G8="ToastDescription",S4=x.forwardRef((e,r)=>{const{__scopeToast:n,...s}=e;return t.jsx(Je.div,{...s,ref:r})});S4.displayName=G8;var P4="ToastAction",C4=x.forwardRef((e,r)=>{const{altText:n,...s}=e;return n.trim()?t.jsx(A4,{altText:n,asChild:!0,children:t.jsx($w,{...s,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${P4}\`. Expected non-empty \`string\`.`),null)});C4.displayName=P4;var _4="ToastClose",$w=x.forwardRef((e,r)=>{const{__scopeToast:n,...s}=e,a=q8(_4,n);return t.jsx(A4,{asChild:!0,children:t.jsx(Je.button,{type:"button",...s,ref:r,onClick:Ye(e.onClick,a.onClose)})})});$w.displayName=_4;var A4=x.forwardRef((e,r)=>{const{__scopeToast:n,altText:s,...a}=e;return t.jsx(Je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:r})});function T4(e){const r=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&r.push(s.textContent),Y8(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...T4(s))}}),r}function xf(e,r,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});r&&a.addEventListener(e,r,{once:!0}),s?m4(a,i):a.dispatchEvent(i)}var nP=(e,r,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return r==="left"||r==="right"?i&&s>n:!i&&a>n};function X8(e=()=>{}){const r=Gr(e);Lr(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[r])}function Y8(e){return e.nodeType===e.ELEMENT_NODE}function Q8(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function _y(e){const r=document.activeElement;return e.some(n=>n===r?!0:(n.focus(),document.activeElement!==r))}var Z8=v4,E4=j4,k4=N4,O4=w4,R4=S4,D4=C4,M4=$w;function I4(e){var r,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(r=0;r<a;r++)e[r]&&(n=I4(e[r]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function pt(){for(var e,r,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(r=I4(e))&&(s&&(s+=" "),s+=r);return s}const sP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,aP=pt,Gl=(e,r)=>n=>{var s;if((r==null?void 0:r.variants)==null)return aP(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=r,o=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],m=i==null?void 0:i[d];if(u===null)return null;const h=sP(u)||sP(m);return a[d][h]}),l=n&&Object.entries(n).reduce((d,u)=>{let[m,h]=u;return h===void 0||(d[m]=h),d},{}),c=r==null||(s=r.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:m,className:h,...p}=u;return Object.entries(p).every(g=>{let[f,v]=g;return Array.isArray(v)?v.includes({...i,...l}[f]):{...i,...l}[f]===v})?[...d,m,h]:d},[]);return aP(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$4=(...e)=>e.filter((r,n,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=x.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...eB,width:r,height:r,stroke:e,strokeWidth:s?Number(n)*24/Number(r):n,className:$4("lucide",a),...l},[...o.map(([d,u])=>x.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(e,r)=>{const n=x.forwardRef(({className:s,...a},i)=>x.createElement(tB,{ref:i,iconNode:r,className:$4(`lucide-${J8(e)}`,s),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ke("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=ke("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=ke("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=ke("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=ke("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=ke("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=ke("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=ke("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=ke("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=ke("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=ke("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=ke("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=ke("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=ke("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=ke("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=ke("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=ke("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=ke("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=ke("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=ke("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=ke("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=ke("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=ke("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=ke("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=ke("Hospital",[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=ke("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=ke("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=ke("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=ke("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ke("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=ke("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=ke("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=ke("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=ke("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=ke("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=ke("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=ke("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=ke("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=ke("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=ke("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=ke("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=ke("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=ke("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=ke("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=ke("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=ke("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ke("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=ke("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=ke("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=ke("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vw="-",TB=e=>{const r=kB(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Vw);return l[0]===""&&l.length!==1&&l.shift(),G4(l,r)||EB(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},G4=(e,r)=>{var o;if(e.length===0)return r.classGroupId;const n=e[0],s=r.nextPart.get(n),a=s?G4(e.slice(1),s):void 0;if(a)return a;if(r.validators.length===0)return;const i=e.join(Vw);return(o=r.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},dP=/^\[(.+)\]$/,EB=e=>{if(dP.test(e)){const r=dP.exec(e)[1],n=r==null?void 0:r.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},kB=e=>{const{theme:r,prefix:n}=e,s={nextPart:new Map,validators:[]};return RB(Object.entries(e.classGroups),n).forEach(([i,o])=>{A0(o,s,i,r)}),s},A0=(e,r,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?r:uP(r,a);i.classGroupId=n;return}if(typeof a=="function"){if(OB(a)){A0(a(s),r,n,s);return}r.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{A0(o,uP(r,i),n,s)})})},uP=(e,r)=>{let n=e;return r.split(Vw).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},OB=e=>e.isThemeGetter,RB=(e,r)=>r?e.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[r+o,l])):i);return[n,a]}):e,DB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),r++,r>e&&(r=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},X4="!",MB=e=>{const{separator:r,experimentalParseClassName:n}=e,s=r.length===1,a=r[0],i=r.length,o=l=>{const c=[];let d=0,u=0,m;for(let v=0;v<l.length;v++){let b=l[v];if(d===0){if(b===a&&(s||l.slice(v,v+i)===r)){c.push(l.slice(u,v)),u=v+i;continue}if(b==="/"){m=v;continue}}b==="["?d++:b==="]"&&d--}const h=c.length===0?l:l.substring(u),p=h.startsWith(X4),g=p?h.substring(1):h,f=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:f}};return n?l=>n({className:l,parseClassName:o}):o},IB=e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(s=>{s[0]==="["?(r.push(...n.sort(),s),n=[]):n.push(s)}),r.push(...n.sort()),r},$B=e=>({cache:DB(e.cacheSize),parseClassName:MB(e),...TB(e)}),LB=/\s+/,FB=(e,r)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=r,i=[],o=e.trim().split(LB);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:p}=n(d);let g=!!p,f=s(g?h.substring(0,p):h);if(!f){if(!g){l=d+(l.length>0?" "+l:l);continue}if(f=s(h),!f){l=d+(l.length>0?" "+l:l);continue}g=!1}const v=IB(u).join(":"),b=m?v+X4:v,y=b+f;if(i.includes(y))continue;i.push(y);const j=a(f,g);for(let C=0;C<j.length;++C){const S=j[C];i.push(b+S)}l=d+(l.length>0?" "+l:l)}return l};function zB(){let e=0,r,n,s="";for(;e<arguments.length;)(r=arguments[e++])&&(n=Y4(r))&&(s&&(s+=" "),s+=n);return s}const Y4=e=>{if(typeof e=="string")return e;let r,n="";for(let s=0;s<e.length;s++)e[s]&&(r=Y4(e[s]))&&(n&&(n+=" "),n+=r);return n};function BB(e,...r){let n,s,a,i=o;function o(c){const d=r.reduce((u,m)=>m(u),e());return n=$B(d),s=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=FB(c,n);return a(c,u),u}return function(){return i(zB.apply(null,arguments))}}const fr=e=>{const r=n=>n[e]||[];return r.isThemeGetter=!0,r},Q4=/^\[(?:([a-z-]+):)?(.+)\]$/i,UB=/^\d+\/\d+$/,VB=new Set(["px","full","screen"]),qB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,KB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ti=e=>Fc(e)||VB.has(e)||UB.test(e),Ui=e=>Kd(e,"length",rU),Fc=e=>!!e&&!Number.isNaN(Number(e)),Ty=e=>Kd(e,"number",Fc),Su=e=>!!e&&Number.isInteger(Number(e)),XB=e=>e.endsWith("%")&&Fc(e.slice(0,-1)),Nt=e=>Q4.test(e),Vi=e=>qB.test(e),YB=new Set(["length","size","percentage"]),QB=e=>Kd(e,YB,Z4),ZB=e=>Kd(e,"position",Z4),JB=new Set(["image","url"]),eU=e=>Kd(e,JB,sU),tU=e=>Kd(e,"",nU),Pu=()=>!0,Kd=(e,r,n)=>{const s=Q4.exec(e);return s?s[1]?typeof r=="string"?s[1]===r:r.has(s[1]):n(s[2]):!1},rU=e=>WB.test(e)&&!HB.test(e),Z4=()=>!1,nU=e=>KB.test(e),sU=e=>GB.test(e),aU=()=>{const e=fr("colors"),r=fr("spacing"),n=fr("blur"),s=fr("brightness"),a=fr("borderColor"),i=fr("borderRadius"),o=fr("borderSpacing"),l=fr("borderWidth"),c=fr("contrast"),d=fr("grayscale"),u=fr("hueRotate"),m=fr("invert"),h=fr("gap"),p=fr("gradientColorStops"),g=fr("gradientColorStopPositions"),f=fr("inset"),v=fr("margin"),b=fr("opacity"),y=fr("padding"),j=fr("saturate"),C=fr("scale"),S=fr("sepia"),N=fr("skew"),P=fr("space"),_=fr("translate"),w=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Nt,r],O=()=>[Nt,r],$=()=>["",ti,Ui],U=()=>["auto",Fc,Nt],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Nt],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>[Fc,Nt];return{cacheSize:500,separator:":",theme:{colors:[Pu],spacing:[ti,Ui],blur:["none","",Vi,Nt],brightness:de(),borderColor:[e],borderRadius:["none","","full",Vi,Nt],borderSpacing:O(),borderWidth:$(),contrast:de(),grayscale:F(),hueRotate:de(),invert:F(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[XB,Ui],inset:D(),margin:D(),opacity:de(),padding:O(),saturate:de(),scale:de(),sepia:F(),skew:de(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Nt]}],container:["container"],columns:[{columns:[Vi]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),Nt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:w()}],"overscroll-x":[{"overscroll-x":w()}],"overscroll-y":[{"overscroll-y":w()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Su,Nt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Nt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Su,Nt]}],"grid-cols":[{"grid-cols":[Pu]}],"col-start-end":[{col:["auto",{span:["full",Su,Nt]},Nt]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Pu]}],"row-start-end":[{row:["auto",{span:[Su,Nt]},Nt]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Nt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Nt,r]}],"min-w":[{"min-w":[Nt,r,"min","max","fit"]}],"max-w":[{"max-w":[Nt,r,"none","full","min","max","fit","prose",{screen:[Vi]},Vi]}],h:[{h:[Nt,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Nt,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Nt,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Nt,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Vi,Ui]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ty]}],"font-family":[{font:[Pu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Nt]}],"line-clamp":[{"line-clamp":["none",Fc,Ty]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ti,Nt]}],"list-image":[{"list-image":["none",Nt]}],"list-style-type":[{list:["none","disc","decimal",Nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ti,Ui]}],"underline-offset":[{"underline-offset":["auto",ti,Nt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),ZB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",QB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eU]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:R()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[ti,Nt]}],"outline-w":[{outline:[ti,Ui]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ti,Ui]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vi,tU]}],"shadow-color":[{shadow:[Pu]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Vi,Nt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[j]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Nt]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",Nt]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",Nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Su,Nt]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Nt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ti,Ui,Ty]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},iU=BB(aU);function Ee(...e){return iU(pt(e))}const oU=Z8,J4=x.forwardRef(({className:e,...r},n)=>t.jsx(E4,{ref:n,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));J4.displayName=E4.displayName;const lU=Gl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eR=x.forwardRef(({className:e,variant:r,...n},s)=>t.jsx(k4,{ref:s,className:Ee(lU({variant:r}),e),...n}));eR.displayName=k4.displayName;const cU=x.forwardRef(({className:e,...r},n)=>t.jsx(D4,{ref:n,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...r}));cU.displayName=D4.displayName;const tR=x.forwardRef(({className:e,...r},n)=>t.jsx(M4,{ref:n,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:t.jsx(Hd,{className:"h-4 w-4"})}));tR.displayName=M4.displayName;const rR=x.forwardRef(({className:e,...r},n)=>t.jsx(O4,{ref:n,className:Ee("text-sm font-semibold",e),...r}));rR.displayName=O4.displayName;const nR=x.forwardRef(({className:e,...r},n)=>t.jsx(R4,{ref:n,className:Ee("text-sm opacity-90",e),...r}));nR.displayName=R4.displayName;function dU(){const{toasts:e}=Tt();return t.jsxs(oU,{children:[e.map(function({id:r,title:n,description:s,action:a,...i}){return t.jsxs(eR,{...i,children:[t.jsxs("div",{className:"grid gap-1",children:[n&&t.jsx(rR,{children:n}),s&&t.jsx(nR,{children:s})]}),a,t.jsx(tR,{})]},r)}),t.jsx(J4,{})]})}var mP=["light","dark"],uU="(prefers-color-scheme: dark)",mU=x.createContext(void 0),hU={setTheme:e=>{},themes:[]},fU=()=>{var e;return(e=x.useContext(mU))!=null?e:hU};x.memo(({forcedTheme:e,storageKey:r,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=a?mP.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,f=!1,v=!0)=>{let b=o?o[g]:g,y=f?g+"|| ''":`'${b}'`,j="";return a&&v&&!f&&mP.includes(g)&&(j+=`d.style.colorScheme = '${g}';`),n==="class"?f||b?j+=`c.add(${y})`:j+="null":b&&(j+=`d[s](n,${y})`),j},p=e?`!function(){${u}${h(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${r}');if('system'===e||(!e&&${d})){var t='${uU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${d?"":"else{"+h(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${r}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${m}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var pU=e=>{switch(e){case"success":return vU;case"info":return jU;case"warning":return yU;case"error":return bU;default:return null}},xU=Array(12).fill(0),gU=({visible:e,className:r})=>L.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":e},L.createElement("div",{className:"sonner-spinner"},xU.map((n,s)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),vU=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yU=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jU=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bU=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),NU=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),wU=()=>{let[e,r]=L.useState(document.hidden);return L.useEffect(()=>{let n=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},T0=1,SU=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:T0++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=e instanceof Promise?e:e(),a=n!==void 0,i,o=s.then(async c=>{if(i=["resolve",c],L.isValidElement(c))a=!1,this.create({id:n,type:"default",message:c});else if(CU(c)&&!c.ok){a=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,u=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description;this.create({id:n,type:"error",message:d,description:u})}else if(r.success!==void 0){a=!1;let d=typeof r.success=="function"?await r.success(c):r.success,u=typeof r.description=="function"?await r.description(c):r.description;this.create({id:n,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],r.error!==void 0){a=!1;let d=typeof r.error=="function"?await r.error(c):r.error,u=typeof r.description=="function"?await r.description(c):r.description;this.create({id:n,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(n),n=void 0),(c=r.finally)==null||c.call(r)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||T0++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Yn=new SU,PU=(e,r)=>{let n=(r==null?void 0:r.id)||T0++;return Yn.addToast({title:e,...r,id:n}),n},CU=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",_U=PU,AU=()=>Yn.toasts,TU=()=>Yn.getActiveToasts();Object.assign(_U,{success:Yn.success,info:Yn.info,warning:Yn.warning,error:Yn.error,custom:Yn.custom,message:Yn.message,promise:Yn.promise,dismiss:Yn.dismiss,loading:Yn.loading},{getHistory:AU,getToasts:TU});function EU(e,{insertAt:r}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}EU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function gf(e){return e.label!==void 0}var kU=3,OU="32px",RU="16px",hP=4e3,DU=356,MU=14,IU=20,$U=200;function Xs(...e){return e.filter(Boolean).join(" ")}function LU(e){let[r,n]=e.split("-"),s=[];return r&&s.push(r),n&&s.push(n),s}var FU=e=>{var r,n,s,a,i,o,l,c,d,u,m;let{invert:h,toast:p,unstyled:g,interacting:f,setHeights:v,visibleToasts:b,heights:y,index:j,toasts:C,expanded:S,removeToast:N,defaultRichColors:P,closeButton:_,style:w,cancelButtonStyle:A,actionButtonStyle:D,className:O="",descriptionClassName:$="",duration:U,position:V,gap:R,loadingIcon:X,expandByDefault:z,classNames:F,icons:te,closeButtonAriaLabel:de="Close toast",pauseWhenPageIsHidden:ie}=e,[fe,ge]=L.useState(null),[he,Te]=L.useState(null),[Se,Ue]=L.useState(!1),[be,Z]=L.useState(!1),[xe,oe]=L.useState(!1),[ze,Fe]=L.useState(!1),[tt,ot]=L.useState(!1),[pe,qe]=L.useState(0),[ae,je]=L.useState(0),H=L.useRef(p.duration||U||hP),se=L.useRef(null),le=L.useRef(null),ne=j===0,Q=j+1<=b,ce=p.type,Ne=p.dismissible!==!1,G=p.className||"",ue=p.descriptionClassName||"",Le=L.useMemo(()=>y.findIndex(dt=>dt.toastId===p.id)||0,[y,p.id]),We=L.useMemo(()=>{var dt;return(dt=p.closeButton)!=null?dt:_},[p.closeButton,_]),St=L.useMemo(()=>p.duration||U||hP,[p.duration,U]),sn=L.useRef(0),br=L.useRef(0),Ca=L.useRef(0),Nr=L.useRef(null),[zr,Ts]=V.split("-"),Dn=L.useMemo(()=>y.reduce((dt,qt,Jt)=>Jt>=Le?dt:dt+qt.height,0),[y,Le]),Dt=wU(),Ht=p.invert||h,Bt=ce==="loading";br.current=L.useMemo(()=>Le*R+Dn,[Le,Dn]),L.useEffect(()=>{H.current=St},[St]),L.useEffect(()=>{Ue(!0)},[]),L.useEffect(()=>{let dt=le.current;if(dt){let qt=dt.getBoundingClientRect().height;return je(qt),v(Jt=>[{toastId:p.id,height:qt,position:p.position},...Jt]),()=>v(Jt=>Jt.filter(Nn=>Nn.toastId!==p.id))}},[v,p.id]),L.useLayoutEffect(()=>{if(!Se)return;let dt=le.current,qt=dt.style.height;dt.style.height="auto";let Jt=dt.getBoundingClientRect().height;dt.style.height=qt,je(Jt),v(Nn=>Nn.find(wn=>wn.toastId===p.id)?Nn.map(wn=>wn.toastId===p.id?{...wn,height:Jt}:wn):[{toastId:p.id,height:Jt,position:p.position},...Nn])},[Se,p.title,p.description,v,p.id]);let nr=L.useCallback(()=>{Z(!0),qe(br.current),v(dt=>dt.filter(qt=>qt.toastId!==p.id)),setTimeout(()=>{N(p)},$U)},[p,N,v,br]);L.useEffect(()=>{if(p.promise&&ce==="loading"||p.duration===1/0||p.type==="loading")return;let dt;return S||f||ie&&Dt?(()=>{if(Ca.current<sn.current){let qt=new Date().getTime()-sn.current;H.current=H.current-qt}Ca.current=new Date().getTime()})():H.current!==1/0&&(sn.current=new Date().getTime(),dt=setTimeout(()=>{var qt;(qt=p.onAutoClose)==null||qt.call(p,p),nr()},H.current)),()=>clearTimeout(dt)},[S,f,p,ce,ie,Dt,nr]),L.useEffect(()=>{p.delete&&nr()},[nr,p.delete]);function Es(){var dt,qt,Jt;return te!=null&&te.loading?L.createElement("div",{className:Xs(F==null?void 0:F.loader,(dt=p==null?void 0:p.classNames)==null?void 0:dt.loader,"sonner-loader"),"data-visible":ce==="loading"},te.loading):X?L.createElement("div",{className:Xs(F==null?void 0:F.loader,(qt=p==null?void 0:p.classNames)==null?void 0:qt.loader,"sonner-loader"),"data-visible":ce==="loading"},X):L.createElement(gU,{className:Xs(F==null?void 0:F.loader,(Jt=p==null?void 0:p.classNames)==null?void 0:Jt.loader),visible:ce==="loading"})}return L.createElement("li",{tabIndex:0,ref:le,className:Xs(O,G,F==null?void 0:F.toast,(r=p==null?void 0:p.classNames)==null?void 0:r.toast,F==null?void 0:F.default,F==null?void 0:F[ce],(n=p==null?void 0:p.classNames)==null?void 0:n[ce]),"data-sonner-toast":"","data-rich-colors":(s=p.richColors)!=null?s:P,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":Se,"data-promise":!!p.promise,"data-swiped":tt,"data-removed":be,"data-visible":Q,"data-y-position":zr,"data-x-position":Ts,"data-index":j,"data-front":ne,"data-swiping":xe,"data-dismissible":Ne,"data-type":ce,"data-invert":Ht,"data-swipe-out":ze,"data-swipe-direction":he,"data-expanded":!!(S||z&&Se),style:{"--index":j,"--toasts-before":j,"--z-index":C.length-j,"--offset":`${be?pe:br.current}px`,"--initial-height":z?"auto":`${ae}px`,...w,...p.style},onDragEnd:()=>{oe(!1),ge(null),Nr.current=null},onPointerDown:dt=>{Bt||!Ne||(se.current=new Date,qe(br.current),dt.target.setPointerCapture(dt.pointerId),dt.target.tagName!=="BUTTON"&&(oe(!0),Nr.current={x:dt.clientX,y:dt.clientY}))},onPointerUp:()=>{var dt,qt,Jt,Nn;if(ze||!Ne)return;Nr.current=null;let wn=Number(((dt=le.current)==null?void 0:dt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Y=Number(((qt=le.current)==null?void 0:qt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ve=new Date().getTime()-((Jt=se.current)==null?void 0:Jt.getTime()),He=fe==="x"?wn:Y,Me=Math.abs(He)/ve;if(Math.abs(He)>=IU||Me>.11){qe(br.current),(Nn=p.onDismiss)==null||Nn.call(p,p),Te(fe==="x"?wn>0?"right":"left":Y>0?"down":"up"),nr(),Fe(!0),ot(!1);return}oe(!1),ge(null)},onPointerMove:dt=>{var qt,Jt,Nn,wn;if(!Nr.current||!Ne||((qt=window.getSelection())==null?void 0:qt.toString().length)>0)return;let Y=dt.clientY-Nr.current.y,ve=dt.clientX-Nr.current.x,He=(Jt=e.swipeDirections)!=null?Jt:LU(V);!fe&&(Math.abs(ve)>1||Math.abs(Y)>1)&&ge(Math.abs(ve)>Math.abs(Y)?"x":"y");let Me={x:0,y:0};fe==="y"?(He.includes("top")||He.includes("bottom"))&&(He.includes("top")&&Y<0||He.includes("bottom")&&Y>0)&&(Me.y=Y):fe==="x"&&(He.includes("left")||He.includes("right"))&&(He.includes("left")&&ve<0||He.includes("right")&&ve>0)&&(Me.x=ve),(Math.abs(Me.x)>0||Math.abs(Me.y)>0)&&ot(!0),(Nn=le.current)==null||Nn.style.setProperty("--swipe-amount-x",`${Me.x}px`),(wn=le.current)==null||wn.style.setProperty("--swipe-amount-y",`${Me.y}px`)}},We&&!p.jsx?L.createElement("button",{"aria-label":de,"data-disabled":Bt,"data-close-button":!0,onClick:Bt||!Ne?()=>{}:()=>{var dt;nr(),(dt=p.onDismiss)==null||dt.call(p,p)},className:Xs(F==null?void 0:F.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=te==null?void 0:te.close)!=null?i:NU):null,p.jsx||x.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:L.createElement(L.Fragment,null,ce||p.icon||p.promise?L.createElement("div",{"data-icon":"",className:Xs(F==null?void 0:F.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Es():null,p.type!=="loading"?p.icon||(te==null?void 0:te[ce])||pU(ce):null):null,L.createElement("div",{"data-content":"",className:Xs(F==null?void 0:F.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},L.createElement("div",{"data-title":"",className:Xs(F==null?void 0:F.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?L.createElement("div",{"data-description":"",className:Xs($,ue,F==null?void 0:F.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),x.isValidElement(p.cancel)?p.cancel:p.cancel&&gf(p.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:dt=>{var qt,Jt;gf(p.cancel)&&Ne&&((Jt=(qt=p.cancel).onClick)==null||Jt.call(qt,dt),nr())},className:Xs(F==null?void 0:F.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,x.isValidElement(p.action)?p.action:p.action&&gf(p.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:dt=>{var qt,Jt;gf(p.action)&&((Jt=(qt=p.action).onClick)==null||Jt.call(qt,dt),!dt.defaultPrevented&&nr())},className:Xs(F==null?void 0:F.actionButton,(m=p==null?void 0:p.classNames)==null?void 0:m.actionButton)},p.action.label):null))};function fP(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function zU(e,r){let n={};return[e,r].forEach((s,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?RU:OU;function c(d){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):c(l)}),n}var BU=x.forwardRef(function(e,r){let{invert:n,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:m,duration:h,style:p,visibleToasts:g=kU,toastOptions:f,dir:v=fP(),gap:b=MU,loadingIcon:y,icons:j,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:S}=e,[N,P]=L.useState([]),_=L.useMemo(()=>Array.from(new Set([s].concat(N.filter(ie=>ie.position).map(ie=>ie.position)))),[N,s]),[w,A]=L.useState([]),[D,O]=L.useState(!1),[$,U]=L.useState(!1),[V,R]=L.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=L.useRef(null),z=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=L.useRef(null),te=L.useRef(!1),de=L.useCallback(ie=>{P(fe=>{var ge;return(ge=fe.find(he=>he.id===ie.id))!=null&&ge.delete||Yn.dismiss(ie.id),fe.filter(({id:he})=>he!==ie.id)})},[]);return L.useEffect(()=>Yn.subscribe(ie=>{if(ie.dismiss){P(fe=>fe.map(ge=>ge.id===ie.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{l4.flushSync(()=>{P(fe=>{let ge=fe.findIndex(he=>he.id===ie.id);return ge!==-1?[...fe.slice(0,ge),{...fe[ge],...ie},...fe.slice(ge+1)]:[ie,...fe]})})})}),[]),L.useEffect(()=>{if(u!=="system"){R(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),typeof window>"u")return;let ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:fe})=>{R(fe?"dark":"light")})}catch{ie.addListener(({matches:ge})=>{try{R(ge?"dark":"light")}catch(he){console.error(he)}})}},[u]),L.useEffect(()=>{N.length<=1&&O(!1)},[N]),L.useEffect(()=>{let ie=fe=>{var ge,he;a.every(Te=>fe[Te]||fe.code===Te)&&(O(!0),(ge=X.current)==null||ge.focus()),fe.code==="Escape"&&(document.activeElement===X.current||(he=X.current)!=null&&he.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[a]),L.useEffect(()=>{if(X.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,te.current=!1)}},[X.current]),L.createElement("section",{ref:r,"aria-label":`${C} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((ie,fe)=>{var ge;let[he,Te]=ie.split("-");return N.length?L.createElement("ol",{key:ie,dir:v==="auto"?fP():v,tabIndex:-1,ref:X,className:l,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":he,"data-lifted":D&&N.length>1&&!i,"data-x-position":Te,style:{"--front-toast-height":`${((ge=w[0])==null?void 0:ge.height)||0}px`,"--width":`${DU}px`,"--gap":`${b}px`,...p,...zU(c,d)},onBlur:Se=>{te.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(te.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||te.current||(te.current=!0,F.current=Se.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{$||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},N.filter(Se=>!Se.position&&fe===0||Se.position===ie).map((Se,Ue)=>{var be,Z;return L.createElement(FU,{key:Se.id,icons:j,index:Ue,toast:Se,defaultRichColors:m,duration:(be=f==null?void 0:f.duration)!=null?be:h,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:n,visibleToasts:g,closeButton:(Z=f==null?void 0:f.closeButton)!=null?Z:o,interacting:$,position:ie,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:de,toasts:N.filter(xe=>xe.position==Se.position),heights:w.filter(xe=>xe.position==Se.position),setHeights:A,expandByDefault:i,gap:b,loadingIcon:y,expanded:D,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const UU=({...e})=>{const{theme:r="system"}=fU();return t.jsx(BU,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var VU=VN[" useId ".trim().toString()]||(()=>{}),qU=0;function ma(e){const[r,n]=x.useState(VU());return Lr(()=>{n(s=>s??String(qU++))},[e]),r?`radix-${r}`:""}const WU=["top","right","bottom","left"],_o=Math.min,ps=Math.max,zp=Math.round,vf=Math.floor,qa=e=>({x:e,y:e}),HU={left:"right",right:"left",bottom:"top",top:"bottom"},KU={start:"end",end:"start"};function E0(e,r,n){return ps(e,_o(r,n))}function Ai(e,r){return typeof e=="function"?e(r):e}function Ti(e){return e.split("-")[0]}function Gd(e){return e.split("-")[1]}function qw(e){return e==="x"?"y":"x"}function Ww(e){return e==="y"?"height":"width"}const GU=new Set(["top","bottom"]);function $a(e){return GU.has(Ti(e))?"y":"x"}function Hw(e){return qw($a(e))}function XU(e,r,n){n===void 0&&(n=!1);const s=Gd(e),a=Hw(e),i=Ww(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=Bp(o)),[o,Bp(o)]}function YU(e){const r=Bp(e);return[k0(e),r,k0(r)]}function k0(e){return e.replace(/start|end/g,r=>KU[r])}const pP=["left","right"],xP=["right","left"],QU=["top","bottom"],ZU=["bottom","top"];function JU(e,r,n){switch(e){case"top":case"bottom":return n?r?xP:pP:r?pP:xP;case"left":case"right":return r?QU:ZU;default:return[]}}function e7(e,r,n,s){const a=Gd(e);let i=JU(Ti(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),r&&(i=i.concat(i.map(k0)))),i}function Bp(e){return e.replace(/left|right|bottom|top/g,r=>HU[r])}function t7(e){return{top:0,right:0,bottom:0,left:0,...e}}function sR(e){return typeof e!="number"?t7(e):{top:e,right:e,bottom:e,left:e}}function Up(e){const{x:r,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:r,right:r+s,bottom:n+a,x:r,y:n}}function gP(e,r,n){let{reference:s,floating:a}=e;const i=$a(r),o=Hw(r),l=Ww(o),c=Ti(r),d=i==="y",u=s.x+s.width/2-a.width/2,m=s.y+s.height/2-a.height/2,h=s[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:s.y-a.height};break;case"bottom":p={x:u,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:m};break;case"left":p={x:s.x-a.width,y:m};break;default:p={x:s.x,y:s.y}}switch(Gd(r)){case"start":p[o]-=h*(n&&d?-1:1);break;case"end":p[o]+=h*(n&&d?-1:1);break}return p}const r7=async(e,r,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(r));let d=await o.getElementRects({reference:e,floating:r,strategy:a}),{x:u,y:m}=gP(d,s,c),h=s,p={},g=0;for(let f=0;f<l.length;f++){const{name:v,fn:b}=l[f],{x:y,y:j,data:C,reset:S}=await b({x:u,y:m,initialPlacement:s,placement:h,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:r}});u=y??u,m=j??m,p={...p,[v]:{...p[v],...C}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:a}):S.rects),{x:u,y:m}=gP(d,h,c)),f=-1)}return{x:u,y:m,placement:h,strategy:a,middlewareData:p}};async function Dm(e,r){var n;r===void 0&&(r={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:p=0}=Ai(r,e),g=sR(p),v=l[h?m==="floating"?"reference":"floating":m],b=Up(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=m==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),C=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},S=Up(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:j,strategy:c}):y);return{top:(b.top-S.top+g.top)/C.y,bottom:(S.bottom-b.bottom+g.bottom)/C.y,left:(b.left-S.left+g.left)/C.x,right:(S.right-b.right+g.right)/C.x}}const n7=e=>({name:"arrow",options:e,async fn(r){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=r,{element:d,padding:u=0}=Ai(e,r)||{};if(d==null)return{};const m=sR(u),h={x:n,y:s},p=Hw(a),g=Ww(p),f=await o.getDimensions(d),v=p==="y",b=v?"top":"left",y=v?"bottom":"right",j=v?"clientHeight":"clientWidth",C=i.reference[g]+i.reference[p]-h[p]-i.floating[g],S=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=N?N[j]:0;(!P||!await(o.isElement==null?void 0:o.isElement(N)))&&(P=l.floating[j]||i.floating[g]);const _=C/2-S/2,w=P/2-f[g]/2-1,A=_o(m[b],w),D=_o(m[y],w),O=A,$=P-f[g]-D,U=P/2-f[g]/2+_,V=E0(O,U,$),R=!c.arrow&&Gd(a)!=null&&U!==V&&i.reference[g]/2-(U<O?A:D)-f[g]/2<0,X=R?U<O?U-O:U-$:0;return{[p]:h[p]+X,data:{[p]:V,centerOffset:U-V-X,...R&&{alignmentOffset:X}},reset:R}}}),s7=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=r,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:f=!0,...v}=Ai(e,r);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Ti(a),y=$a(l),j=Ti(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=h||(j||!f?[Bp(l)]:YU(l)),N=g!=="none";!h&&N&&S.push(...e7(l,f,g,C));const P=[l,...S],_=await Dm(r,v),w=[];let A=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&w.push(_[b]),m){const U=XU(a,o,C);w.push(_[U[0]],_[U[1]])}if(A=[...A,{placement:a,overflows:w}],!w.every(U=>U<=0)){var D,O;const U=(((D=i.flip)==null?void 0:D.index)||0)+1,V=P[U];if(V&&(!(m==="alignment"?y!==$a(V):!1)||A.every(z=>z.overflows[0]>0&&$a(z.placement)===y)))return{data:{index:U,overflows:A},reset:{placement:V}};let R=(O=A.filter(X=>X.overflows[0]<=0).sort((X,z)=>X.overflows[1]-z.overflows[1])[0])==null?void 0:O.placement;if(!R)switch(p){case"bestFit":{var $;const X=($=A.filter(z=>{if(N){const F=$a(z.placement);return F===y||F==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(F=>F>0).reduce((F,te)=>F+te,0)]).sort((z,F)=>z[1]-F[1])[0])==null?void 0:$[0];X&&(R=X);break}case"initialPlacement":R=l;break}if(a!==R)return{reset:{placement:R}}}return{}}}};function vP(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function yP(e){return WU.some(r=>e[r]>=0)}const a7=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:n}=r,{strategy:s="referenceHidden",...a}=Ai(e,r);switch(s){case"referenceHidden":{const i=await Dm(r,{...a,elementContext:"reference"}),o=vP(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:yP(o)}}}case"escaped":{const i=await Dm(r,{...a,altBoundary:!0}),o=vP(i,n.floating);return{data:{escapedOffsets:o,escaped:yP(o)}}}default:return{}}}}},aR=new Set(["left","top"]);async function i7(e,r){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Ti(n),l=Gd(n),c=$a(n)==="y",d=aR.has(o)?-1:1,u=i&&c?-1:1,m=Ai(r,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*u,y:h*d}:{x:h*d,y:p*u}}const o7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=r,c=await i7(r,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},l7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:n,y:s,placement:a}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y}=v;return{x:b,y}}},...c}=Ai(e,r),d={x:n,y:s},u=await Dm(r,c),m=$a(Ti(a)),h=qw(m);let p=d[h],g=d[m];if(i){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=p+u[v],j=p-u[b];p=E0(y,p,j)}if(o){const v=m==="y"?"top":"left",b=m==="y"?"bottom":"right",y=g+u[v],j=g-u[b];g=E0(y,g,j)}const f=l.fn({...r,[h]:p,[m]:g});return{...f,data:{x:f.x-n,y:f.y-s,enabled:{[h]:i,[m]:o}}}}}},c7=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ai(e,r),u={x:n,y:s},m=$a(a),h=qw(m);let p=u[h],g=u[m];const f=Ai(l,r),v=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(c){const j=h==="y"?"height":"width",C=i.reference[h]-i.floating[j]+v.mainAxis,S=i.reference[h]+i.reference[j]-v.mainAxis;p<C?p=C:p>S&&(p=S)}if(d){var b,y;const j=h==="y"?"width":"height",C=aR.has(Ti(a)),S=i.reference[m]-i.floating[j]+(C&&((b=o.offset)==null?void 0:b[m])||0)+(C?0:v.crossAxis),N=i.reference[m]+i.reference[j]+(C?0:((y=o.offset)==null?void 0:y[m])||0)-(C?v.crossAxis:0);g<S?g=S:g>N&&(g=N)}return{[h]:p,[m]:g}}}},d7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var n,s;const{placement:a,rects:i,platform:o,elements:l}=r,{apply:c=()=>{},...d}=Ai(e,r),u=await Dm(r,d),m=Ti(a),h=Gd(a),p=$a(a)==="y",{width:g,height:f}=i.floating;let v,b;m==="top"||m==="bottom"?(v=m,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=m,v=h==="end"?"top":"bottom");const y=f-u.top-u.bottom,j=g-u.left-u.right,C=_o(f-u[v],y),S=_o(g-u[b],j),N=!r.middlewareData.shift;let P=C,_=S;if((n=r.middlewareData.shift)!=null&&n.enabled.x&&(_=j),(s=r.middlewareData.shift)!=null&&s.enabled.y&&(P=y),N&&!h){const A=ps(u.left,0),D=ps(u.right,0),O=ps(u.top,0),$=ps(u.bottom,0);p?_=g-2*(A!==0||D!==0?A+D:ps(u.left,u.right)):P=f-2*(O!==0||$!==0?O+$:ps(u.top,u.bottom))}await c({...r,availableWidth:_,availableHeight:P});const w=await o.getDimensions(l.floating);return g!==w.width||f!==w.height?{reset:{rects:!0}}:{}}}};function wg(){return typeof window<"u"}function Xd(e){return iR(e)?(e.nodeName||"").toLowerCase():"#document"}function bs(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function Qa(e){var r;return(r=(iR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function iR(e){return wg()?e instanceof Node||e instanceof bs(e).Node:!1}function ya(e){return wg()?e instanceof Element||e instanceof bs(e).Element:!1}function Xa(e){return wg()?e instanceof HTMLElement||e instanceof bs(e).HTMLElement:!1}function jP(e){return!wg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof bs(e).ShadowRoot}const u7=new Set(["inline","contents"]);function Oh(e){const{overflow:r,overflowX:n,overflowY:s,display:a}=ja(e);return/auto|scroll|overlay|hidden|clip/.test(r+s+n)&&!u7.has(a)}const m7=new Set(["table","td","th"]);function h7(e){return m7.has(Xd(e))}const f7=[":popover-open",":modal"];function Sg(e){return f7.some(r=>{try{return e.matches(r)}catch{return!1}})}const p7=["transform","translate","scale","rotate","perspective"],x7=["transform","translate","scale","rotate","perspective","filter"],g7=["paint","layout","strict","content"];function Kw(e){const r=Gw(),n=ya(e)?ja(e):e;return p7.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||x7.some(s=>(n.willChange||"").includes(s))||g7.some(s=>(n.contain||"").includes(s))}function v7(e){let r=Ao(e);for(;Xa(r)&&!od(r);){if(Kw(r))return r;if(Sg(r))return null;r=Ao(r)}return null}function Gw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const y7=new Set(["html","body","#document"]);function od(e){return y7.has(Xd(e))}function ja(e){return bs(e).getComputedStyle(e)}function Pg(e){return ya(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ao(e){if(Xd(e)==="html")return e;const r=e.assignedSlot||e.parentNode||jP(e)&&e.host||Qa(e);return jP(r)?r.host:r}function oR(e){const r=Ao(e);return od(r)?e.ownerDocument?e.ownerDocument.body:e.body:Xa(r)&&Oh(r)?r:oR(r)}function Mm(e,r,n){var s;r===void 0&&(r=[]),n===void 0&&(n=!0);const a=oR(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=bs(a);if(i){const l=O0(o);return r.concat(o,o.visualViewport||[],Oh(a)?a:[],l&&n?Mm(l):[])}return r.concat(a,Mm(a,[],n))}function O0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lR(e){const r=ja(e);let n=parseFloat(r.width)||0,s=parseFloat(r.height)||0;const a=Xa(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=zp(n)!==i||zp(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function Xw(e){return ya(e)?e:e.contextElement}function zc(e){const r=Xw(e);if(!Xa(r))return qa(1);const n=r.getBoundingClientRect(),{width:s,height:a,$:i}=lR(r);let o=(i?zp(n.width):n.width)/s,l=(i?zp(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const j7=qa(0);function cR(e){const r=bs(e);return!Gw()||!r.visualViewport?j7:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function b7(e,r,n){return r===void 0&&(r=!1),!n||r&&n!==bs(e)?!1:r}function Ol(e,r,n,s){r===void 0&&(r=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Xw(e);let o=qa(1);r&&(s?ya(s)&&(o=zc(s)):o=zc(e));const l=b7(i,n,s)?cR(i):qa(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,m=a.height/o.y;if(i){const h=bs(i),p=s&&ya(s)?bs(s):s;let g=h,f=O0(g);for(;f&&s&&p!==g;){const v=zc(f),b=f.getBoundingClientRect(),y=ja(f),j=b.left+(f.clientLeft+parseFloat(y.paddingLeft))*v.x,C=b.top+(f.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,m*=v.y,c+=j,d+=C,g=bs(f),f=O0(g)}}return Up({width:u,height:m,x:c,y:d})}function Yw(e,r){const n=Pg(e).scrollLeft;return r?r.left+n:Ol(Qa(e)).left+n}function dR(e,r,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+r.scrollLeft-(n?0:Yw(e,s)),i=s.top+r.scrollTop;return{x:a,y:i}}function N7(e){let{elements:r,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=Qa(s),l=r?Sg(r.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=qa(1);const u=qa(0),m=Xa(s);if((m||!m&&!i)&&((Xd(s)!=="body"||Oh(o))&&(c=Pg(s)),Xa(s))){const p=Ol(s);d=zc(s),u.x=p.x+s.clientLeft,u.y=p.y+s.clientTop}const h=o&&!m&&!i?dR(o,c,!0):qa(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:n.y*d.y-c.scrollTop*d.y+u.y+h.y}}function w7(e){return Array.from(e.getClientRects())}function S7(e){const r=Qa(e),n=Pg(e),s=e.ownerDocument.body,a=ps(r.scrollWidth,r.clientWidth,s.scrollWidth,s.clientWidth),i=ps(r.scrollHeight,r.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Yw(e);const l=-n.scrollTop;return ja(s).direction==="rtl"&&(o+=ps(r.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function P7(e,r){const n=bs(e),s=Qa(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Gw();(!d||d&&r==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const C7=new Set(["absolute","fixed"]);function _7(e,r){const n=Ol(e,!0,r==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=Xa(e)?zc(e):qa(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function bP(e,r,n){let s;if(r==="viewport")s=P7(e,n);else if(r==="document")s=S7(Qa(e));else if(ya(r))s=_7(r,n);else{const a=cR(e);s={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return Up(s)}function uR(e,r){const n=Ao(e);return n===r||!ya(n)||od(n)?!1:ja(n).position==="fixed"||uR(n,r)}function A7(e,r){const n=r.get(e);if(n)return n;let s=Mm(e,[],!1).filter(l=>ya(l)&&Xd(l)!=="body"),a=null;const i=ja(e).position==="fixed";let o=i?Ao(e):e;for(;ya(o)&&!od(o);){const l=ja(o),c=Kw(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&C7.has(a.position)||Oh(o)&&!c&&uR(e,o))?s=s.filter(u=>u!==o):a=l,o=Ao(o)}return r.set(e,s),s}function T7(e){let{element:r,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?Sg(r)?[]:A7(r,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,u)=>{const m=bP(r,u,a);return d.top=ps(m.top,d.top),d.right=_o(m.right,d.right),d.bottom=_o(m.bottom,d.bottom),d.left=ps(m.left,d.left),d},bP(r,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function E7(e){const{width:r,height:n}=lR(e);return{width:r,height:n}}function k7(e,r,n){const s=Xa(r),a=Qa(r),i=n==="fixed",o=Ol(e,!0,i,r);let l={scrollLeft:0,scrollTop:0};const c=qa(0);function d(){c.x=Yw(a)}if(s||!s&&!i)if((Xd(r)!=="body"||Oh(a))&&(l=Pg(r)),s){const p=Ol(r,!0,i,r);c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}else a&&d();i&&!s&&a&&d();const u=a&&!s&&!i?dR(a,l):qa(0),m=o.left+l.scrollLeft-c.x-u.x,h=o.top+l.scrollTop-c.y-u.y;return{x:m,y:h,width:o.width,height:o.height}}function Ey(e){return ja(e).position==="static"}function NP(e,r){if(!Xa(e)||ja(e).position==="fixed")return null;if(r)return r(e);let n=e.offsetParent;return Qa(e)===n&&(n=n.ownerDocument.body),n}function mR(e,r){const n=bs(e);if(Sg(e))return n;if(!Xa(e)){let a=Ao(e);for(;a&&!od(a);){if(ya(a)&&!Ey(a))return a;a=Ao(a)}return n}let s=NP(e,r);for(;s&&h7(s)&&Ey(s);)s=NP(s,r);return s&&od(s)&&Ey(s)&&!Kw(s)?n:s||v7(e)||n}const O7=async function(e){const r=this.getOffsetParent||mR,n=this.getDimensions,s=await n(e.floating);return{reference:k7(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function R7(e){return ja(e).direction==="rtl"}const D7={convertOffsetParentRelativeRectToViewportRelativeRect:N7,getDocumentElement:Qa,getClippingRect:T7,getOffsetParent:mR,getElementRects:O7,getClientRects:w7,getDimensions:E7,getScale:zc,isElement:ya,isRTL:R7};function hR(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function M7(e,r){let n=null,s;const a=Qa(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:m,width:h,height:p}=d;if(l||r(),!h||!p)return;const g=vf(m),f=vf(a.clientWidth-(u+h)),v=vf(a.clientHeight-(m+p)),b=vf(u),j={rootMargin:-g+"px "+-f+"px "+-v+"px "+-b+"px",threshold:ps(0,_o(1,c))||1};let C=!0;function S(N){const P=N[0].intersectionRatio;if(P!==c){if(!C)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!hR(d,e.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(S,{...j,root:a.ownerDocument})}catch{n=new IntersectionObserver(S,j)}n.observe(e)}return o(!0),i}function I7(e,r,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Xw(e),u=a||i?[...d?Mm(d):[],...Mm(r)]:[];u.forEach(b=>{a&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const m=d&&l?M7(d,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(b=>{let[y]=b;y&&y.target===d&&p&&(p.unobserve(r),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(r)})),n()}),d&&!c&&p.observe(d),p.observe(r));let g,f=c?Ol(e):null;c&&v();function v(){const b=Ol(e);f&&!hR(f,b)&&n(),f=b,g=requestAnimationFrame(v)}return n(),()=>{var b;u.forEach(y=>{a&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),m==null||m(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const $7=o7,L7=l7,F7=s7,z7=d7,B7=a7,wP=n7,U7=c7,V7=(e,r,n)=>{const s=new Map,a={platform:D7,...n},i={...a.platform,_c:s};return r7(e,r,{...a,platform:i})};var q7=typeof document<"u",W7=function(){},ap=q7?x.useLayoutEffect:W7;function Vp(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let n,s,a;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==r.length)return!1;for(s=n;s--!==0;)if(!Vp(e[s],r[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Vp(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function fR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function SP(e,r){const n=fR(e);return Math.round(r*n)/n}function ky(e){const r=x.useRef(e);return ap(()=>{r.current=e}),r}function H7(e){e===void 0&&(e={});const{placement:r="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,m]=x.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(s);Vp(h,s)||p(s);const[g,f]=x.useState(null),[v,b]=x.useState(null),y=x.useCallback(z=>{z!==N.current&&(N.current=z,f(z))},[]),j=x.useCallback(z=>{z!==P.current&&(P.current=z,b(z))},[]),C=i||g,S=o||v,N=x.useRef(null),P=x.useRef(null),_=x.useRef(u),w=c!=null,A=ky(c),D=ky(a),O=ky(d),$=x.useCallback(()=>{if(!N.current||!P.current)return;const z={placement:r,strategy:n,middleware:h};D.current&&(z.platform=D.current),V7(N.current,P.current,z).then(F=>{const te={...F,isPositioned:O.current!==!1};U.current&&!Vp(_.current,te)&&(_.current=te,Kl.flushSync(()=>{m(te)}))})},[h,r,n,D,O]);ap(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,m(z=>({...z,isPositioned:!1})))},[d]);const U=x.useRef(!1);ap(()=>(U.current=!0,()=>{U.current=!1}),[]),ap(()=>{if(C&&(N.current=C),S&&(P.current=S),C&&S){if(A.current)return A.current(C,S,$);$()}},[C,S,$,A,w]);const V=x.useMemo(()=>({reference:N,floating:P,setReference:y,setFloating:j}),[y,j]),R=x.useMemo(()=>({reference:C,floating:S}),[C,S]),X=x.useMemo(()=>{const z={position:n,left:0,top:0};if(!R.floating)return z;const F=SP(R.floating,u.x),te=SP(R.floating,u.y);return l?{...z,transform:"translate("+F+"px, "+te+"px)",...fR(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:te}},[n,l,R.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:$,refs:V,elements:R,floatingStyles:X}),[u,$,V,R,X])}const K7=e=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&r(s)?s.current!=null?wP({element:s.current,padding:a}).fn(n):{}:s?wP({element:s,padding:a}).fn(n):{}}}},G7=(e,r)=>({...$7(e),options:[e,r]}),X7=(e,r)=>({...L7(e),options:[e,r]}),Y7=(e,r)=>({...U7(e),options:[e,r]}),Q7=(e,r)=>({...F7(e),options:[e,r]}),Z7=(e,r)=>({...z7(e),options:[e,r]}),J7=(e,r)=>({...B7(e),options:[e,r]}),e9=(e,r)=>({...K7(e),options:[e,r]});var t9="Arrow",pR=x.forwardRef((e,r)=>{const{children:n,width:s=10,height:a=5,...i}=e;return t.jsx(Je.svg,{...i,ref:r,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});pR.displayName=t9;var r9=pR;function Qw(e){const[r,n]=x.useState(void 0);return Lr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),r}var Zw="Popper",[xR,Yd]=Gn(Zw),[n9,gR]=xR(Zw),vR=e=>{const{__scopePopper:r,children:n}=e,[s,a]=x.useState(null);return t.jsx(n9,{scope:r,anchor:s,onAnchorChange:a,children:n})};vR.displayName=Zw;var yR="PopperAnchor",jR=x.forwardRef((e,r)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=gR(yR,n),o=x.useRef(null),l=Ot(r,o);return x.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:t.jsx(Je.div,{...a,ref:l})});jR.displayName=yR;var Jw="PopperContent",[s9,a9]=xR(Jw),bR=x.forwardRef((e,r)=>{var Se,Ue,be,Z,xe,oe;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...f}=e,v=gR(Jw,n),[b,y]=x.useState(null),j=Ot(r,ze=>y(ze)),[C,S]=x.useState(null),N=Qw(C),P=(N==null?void 0:N.width)??0,_=(N==null?void 0:N.height)??0,w=s+(i!=="center"?"-"+i:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(d)?d:[d],O=D.length>0,$={padding:A,boundary:D.filter(o9),altBoundary:O},{refs:U,floatingStyles:V,placement:R,isPositioned:X,middlewareData:z}=H7({strategy:"fixed",placement:w,whileElementsMounted:(...ze)=>I7(...ze,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[G7({mainAxis:a+_,alignmentAxis:o}),c&&X7({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Y7():void 0,...$}),c&&Q7({...$}),Z7({...$,apply:({elements:ze,rects:Fe,availableWidth:tt,availableHeight:ot})=>{const{width:pe,height:qe}=Fe.reference,ae=ze.floating.style;ae.setProperty("--radix-popper-available-width",`${tt}px`),ae.setProperty("--radix-popper-available-height",`${ot}px`),ae.setProperty("--radix-popper-anchor-width",`${pe}px`),ae.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),C&&e9({element:C,padding:l}),l9({arrowWidth:P,arrowHeight:_}),h&&J7({strategy:"referenceHidden",...$})]}),[F,te]=SR(R),de=Gr(g);Lr(()=>{X&&(de==null||de())},[X,de]);const ie=(Se=z.arrow)==null?void 0:Se.x,fe=(Ue=z.arrow)==null?void 0:Ue.y,ge=((be=z.arrow)==null?void 0:be.centerOffset)!==0,[he,Te]=x.useState();return Lr(()=>{b&&Te(window.getComputedStyle(b).zIndex)},[b]),t.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:X?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Z=z.transformOrigin)==null?void 0:Z.x,(xe=z.transformOrigin)==null?void 0:xe.y].join(" "),...((oe=z.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(s9,{scope:n,placedSide:F,onArrowChange:S,arrowX:ie,arrowY:fe,shouldHideArrow:ge,children:t.jsx(Je.div,{"data-side":F,"data-align":te,...f,ref:j,style:{...f.style,animation:X?void 0:"none"}})})})});bR.displayName=Jw;var NR="PopperArrow",i9={top:"bottom",right:"left",bottom:"top",left:"right"},wR=x.forwardRef(function(r,n){const{__scopePopper:s,...a}=r,i=a9(NR,s),o=i9[i.placedSide];return t.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:t.jsx(r9,{...a,ref:n,style:{...a.style,display:"block"}})})});wR.displayName=NR;function o9(e){return e!==null}var l9=e=>({name:"transformOrigin",options:e,fn(r){var v,b,y;const{placement:n,rects:s,middlewareData:a}=r,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=SR(n),m={start:"0%",center:"50%",end:"100%"}[u],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,p=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",f="";return d==="bottom"?(g=o?m:`${h}px`,f=`${-c}px`):d==="top"?(g=o?m:`${h}px`,f=`${s.floating.height+c}px`):d==="right"?(g=`${-c}px`,f=o?m:`${p}px`):d==="left"&&(g=`${s.floating.width+c}px`,f=o?m:`${p}px`),{data:{x:g,y:f}}}});function SR(e){const[r,n="center"]=e.split("-");return[r,n]}var e1=vR,Cg=jR,t1=bR,r1=wR,[_g,fPe]=Gn("Tooltip",[Yd]),Ag=Yd(),PR="TooltipProvider",c9=700,R0="tooltip.open",[d9,n1]=_g(PR),CR=e=>{const{__scopeTooltip:r,delayDuration:n=c9,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),t.jsx(d9,{scope:r,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};CR.displayName=PR;var Im="Tooltip",[u9,Tg]=_g(Im),_R=e=>{const{__scopeTooltip:r,children:n,open:s,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=n1(Im,e.__scopeTooltip),d=Ag(r),[u,m]=x.useState(null),h=ma(),p=x.useRef(0),g=o??c.disableHoverableContent,f=l??c.delayDuration,v=x.useRef(!1),[b,y]=ga({prop:s,defaultProp:a??!1,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(R0))):c.onClose(),i==null||i(P)},caller:Im}),j=x.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),C=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,y(!0)},[y]),S=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),N=x.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,y(!0),p.current=0},f)},[f,y]);return x.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),t.jsx(e1,{...d,children:t.jsx(u9,{scope:r,contentId:h,open:b,stateAttribute:j,trigger:u,onTriggerChange:m,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?N():C()},[c.isOpenDelayedRef,N,C]),onTriggerLeave:x.useCallback(()=>{g?S():(window.clearTimeout(p.current),p.current=0)},[S,g]),onOpen:C,onClose:S,disableHoverableContent:g,children:n})})};_R.displayName=Im;var D0="TooltipTrigger",AR=x.forwardRef((e,r)=>{const{__scopeTooltip:n,...s}=e,a=Tg(D0,n),i=n1(D0,n),o=Ag(n),l=x.useRef(null),c=Ot(r,l,a.onTriggerChange),d=x.useRef(!1),u=x.useRef(!1),m=x.useCallback(()=>d.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),t.jsx(Cg,{asChild:!0,...o,children:t.jsx(Je.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:Ye(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ye(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Ye(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ye(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Ye(e.onBlur,a.onClose),onClick:Ye(e.onClick,a.onClose)})})});AR.displayName=D0;var m9="TooltipPortal",[pPe,h9]=_g(m9,{forceMount:void 0}),ld="TooltipContent",TR=x.forwardRef((e,r)=>{const n=h9(ld,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...i}=e,o=Tg(ld,e.__scopeTooltip);return t.jsx(Xn,{present:s||o.open,children:o.disableHoverableContent?t.jsx(ER,{side:a,...i,ref:r}):t.jsx(f9,{side:a,...i,ref:r})})}),f9=x.forwardRef((e,r)=>{const n=Tg(ld,e.__scopeTooltip),s=n1(ld,e.__scopeTooltip),a=x.useRef(null),i=Ot(r,a),[o,l]=x.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:m}=s,h=x.useCallback(()=>{l(null),m(!1)},[m]),p=x.useCallback((g,f)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},y=y9(b,v.getBoundingClientRect()),j=j9(b,y),C=b9(f.getBoundingClientRect()),S=w9([...j,...C]);l(S),m(!0)},[m]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&u){const g=v=>p(v,u),f=v=>p(v,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",f),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",f)}}},[c,u,p,h]),x.useEffect(()=>{if(o){const g=f=>{const v=f.target,b={x:f.clientX,y:f.clientY},y=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),j=!N9(b,o);y?h():j&&(h(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,h]),t.jsx(ER,{...e,ref:i})}),[p9,x9]=_g(Im,{isInside:!1}),g9=m8("TooltipContent"),ER=x.forwardRef((e,r)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Tg(ld,n),d=Ag(n),{onClose:u}=c;return x.useEffect(()=>(document.addEventListener(R0,u),()=>document.removeEventListener(R0,u)),[u]),x.useEffect(()=>{if(c.trigger){const m=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),t.jsx(qd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:t.jsxs(t1,{"data-state":c.stateAttribute,...d,...l,ref:r,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[t.jsx(g9,{children:s}),t.jsx(p9,{scope:n,isInside:!0,children:t.jsx(D8,{id:c.contentId,role:"tooltip",children:a||s})})]})})});TR.displayName=ld;var kR="TooltipArrow",v9=x.forwardRef((e,r)=>{const{__scopeTooltip:n,...s}=e,a=Ag(n);return x9(kR,n).isInside?null:t.jsx(r1,{...a,...s,ref:r})});v9.displayName=kR;function y9(e,r){const n=Math.abs(r.top-e.y),s=Math.abs(r.bottom-e.y),a=Math.abs(r.right-e.x),i=Math.abs(r.left-e.x);switch(Math.min(n,s,a,i)){case i:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function j9(e,r,n=5){const s=[];switch(r){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function b9(e){const{top:r,right:n,bottom:s,left:a}=e;return[{x:a,y:r},{x:n,y:r},{x:n,y:s},{x:a,y:s}]}function N9(e,r){const{x:n,y:s}=e;let a=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],c=r[o],d=l.x,u=l.y,m=c.x,h=c.y;u>s!=h>s&&n<(m-d)*(s-u)/(h-u)+d&&(a=!a)}return a}function w9(e){const r=e.slice();return r.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),S9(r)}function S9(e){if(e.length<=1)return e.slice();const r=[];for(let s=0;s<e.length;s++){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}r.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),r.length===1&&n.length===1&&r[0].x===n[0].x&&r[0].y===n[0].y?r:r.concat(n)}var P9=CR,C9=_R,_9=AR,OR=TR;const RR=P9,A9=C9,T9=_9,DR=x.forwardRef(({className:e,sideOffset:r=4,...n},s)=>t.jsx(OR,{ref:s,sideOffset:r,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));DR.displayName=OR.displayName;var Eg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kg=typeof window>"u"||"Deno"in globalThis;function ta(){}function E9(e,r){return typeof e=="function"?e(r):e}function k9(e){return typeof e=="number"&&e>=0&&e!==1/0}function O9(e,r){return Math.max(e+(r||0)-Date.now(),0)}function M0(e,r){return typeof e=="function"?e(r):e}function R9(e,r){return typeof e=="function"?e(r):e}function PP(e,r){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(r.queryHash!==s1(o,r.options))return!1}else if(!Lm(r.queryKey,o))return!1}if(n!=="all"){const c=r.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&r.isStale()!==l||a&&a!==r.state.fetchStatus||i&&!i(r))}function CP(e,r){const{exact:n,status:s,predicate:a,mutationKey:i}=e;if(i){if(!r.options.mutationKey)return!1;if(n){if($m(r.options.mutationKey)!==$m(i))return!1}else if(!Lm(r.options.mutationKey,i))return!1}return!(s&&r.state.status!==s||a&&!a(r))}function s1(e,r){return((r==null?void 0:r.queryKeyHashFn)||$m)(e)}function $m(e){return JSON.stringify(e,(r,n)=>I0(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Lm(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(r).every(n=>Lm(e[n],r[n])):!1}function MR(e,r){if(e===r)return e;const n=_P(e)&&_P(r);if(n||I0(e)&&I0(r)){const s=n?e:Object.keys(e),a=s.length,i=n?r:Object.keys(r),o=i.length,l=n?[]:{},c=new Set(s);let d=0;for(let u=0;u<o;u++){const m=n?u:i[u];(!n&&c.has(m)||n)&&e[m]===void 0&&r[m]===void 0?(l[m]=void 0,d++):(l[m]=MR(e[m],r[m]),l[m]===e[m]&&e[m]!==void 0&&d++)}return a===o&&d===a?e:l}return r}function _P(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function I0(e){if(!AP(e))return!1;const r=e.constructor;if(r===void 0)return!0;const n=r.prototype;return!(!AP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function AP(e){return Object.prototype.toString.call(e)==="[object Object]"}function D9(e){return new Promise(r=>{setTimeout(r,e)})}function M9(e,r,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,r):n.structuralSharing!==!1?MR(e,r):r}function I9(e,r,n=0){const s=[...e,r];return n&&s.length>n?s.slice(1):s}function $9(e,r,n=0){const s=[r,...e];return n&&s.length>n?s.slice(0,-1):s}var a1=Symbol();function IR(e,r){return!e.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!e.queryFn||e.queryFn===a1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var fl,ro,Wc,UE,L9=(UE=class extends Eg{constructor(){super();Gt(this,fl);Gt(this,ro);Gt(this,Wc);gt(this,Wc,r=>{if(!kg&&window.addEventListener){const n=()=>r();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){we(this,ro)||this.setEventListener(we(this,Wc))}onUnsubscribe(){var r;this.hasListeners()||((r=we(this,ro))==null||r.call(this),gt(this,ro,void 0))}setEventListener(r){var n;gt(this,Wc,r),(n=we(this,ro))==null||n.call(this),gt(this,ro,r(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(r){we(this,fl)!==r&&(gt(this,fl,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(n=>{n(r)})}isFocused(){var r;return typeof we(this,fl)=="boolean"?we(this,fl):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},fl=new WeakMap,ro=new WeakMap,Wc=new WeakMap,UE),$R=new L9,Hc,no,Kc,VE,F9=(VE=class extends Eg{constructor(){super();Gt(this,Hc,!0);Gt(this,no);Gt(this,Kc);gt(this,Kc,r=>{if(!kg&&window.addEventListener){const n=()=>r(!0),s=()=>r(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){we(this,no)||this.setEventListener(we(this,Kc))}onUnsubscribe(){var r;this.hasListeners()||((r=we(this,no))==null||r.call(this),gt(this,no,void 0))}setEventListener(r){var n;gt(this,Kc,r),(n=we(this,no))==null||n.call(this),gt(this,no,r(this.setOnline.bind(this)))}setOnline(r){we(this,Hc)!==r&&(gt(this,Hc,r),this.listeners.forEach(s=>{s(r)}))}isOnline(){return we(this,Hc)}},Hc=new WeakMap,no=new WeakMap,Kc=new WeakMap,VE),qp=new F9;function z9(){let e,r;const n=new Promise((a,i)=>{e=a,r=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),r(a)},n}function B9(e){return Math.min(1e3*2**e,3e4)}function LR(e){return(e??"online")==="online"?qp.isOnline():!0}var FR=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Oy(e){return e instanceof FR}function zR(e){let r=!1,n=0,s=!1,a;const i=z9(),o=f=>{var v;s||(h(new FR(f)),(v=e.abort)==null||v.call(e))},l=()=>{r=!0},c=()=>{r=!1},d=()=>$R.isFocused()&&(e.networkMode==="always"||qp.isOnline())&&e.canRun(),u=()=>LR(e.networkMode)&&e.canRun(),m=f=>{var v;s||(s=!0,(v=e.onSuccess)==null||v.call(e,f),a==null||a(),i.resolve(f))},h=f=>{var v;s||(s=!0,(v=e.onError)==null||v.call(e,f),a==null||a(),i.reject(f))},p=()=>new Promise(f=>{var v;a=b=>{(s||d())&&f(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var f;a=void 0,s||(f=e.onContinue)==null||f.call(e)}),g=()=>{if(s)return;let f;const v=n===0?e.initialPromise:void 0;try{f=v??e.fn()}catch(b){f=Promise.reject(b)}Promise.resolve(f).then(m).catch(b=>{var N;if(s)return;const y=e.retry??(kg?0:3),j=e.retryDelay??B9,C=typeof j=="function"?j(n,b):j,S=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,b);if(r||!S){h(b);return}n++,(N=e.onFail)==null||N.call(e,n,b),D9(C).then(()=>d()?void 0:p()).then(()=>{r?h(b):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():p().then(g),i)}}var U9=e=>setTimeout(e,0);function V9(){let e=[],r=0,n=l=>{l()},s=l=>{l()},a=U9;const i=l=>{r?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;r++;try{c=l()}finally{r--,r||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var Fn=V9(),pl,qE,BR=(qE=class{constructor(){Gt(this,pl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k9(this.gcTime)&&gt(this,pl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(kg?1/0:5*60*1e3))}clearGcTimeout(){we(this,pl)&&(clearTimeout(we(this,pl)),gt(this,pl,void 0))}},pl=new WeakMap,qE),Gc,xl,Ds,gl,_n,Nh,vl,ra,ai,WE,q9=(WE=class extends BR{constructor(r){super();Gt(this,ra);Gt(this,Gc);Gt(this,xl);Gt(this,Ds);Gt(this,gl);Gt(this,_n);Gt(this,Nh);Gt(this,vl);gt(this,vl,!1),gt(this,Nh,r.defaultOptions),this.setOptions(r.options),this.observers=[],gt(this,gl,r.client),gt(this,Ds,we(this,gl).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,gt(this,Gc,H9(this.options)),this.state=r.state??we(this,Gc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=we(this,_n))==null?void 0:r.promise}setOptions(r){this.options={...we(this,Nh),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&we(this,Ds).remove(this)}setData(r,n){const s=M9(this.state.data,r,this.options);return Sn(this,ra,ai).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(r,n){Sn(this,ra,ai).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var s,a;const n=(s=we(this,_n))==null?void 0:s.promise;return(a=we(this,_n))==null||a.cancel(r),n?n.then(ta).catch(ta):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(we(this,Gc))}isActive(){return this.observers.some(r=>R9(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===a1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>M0(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!O9(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(s=>s.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=we(this,_n))==null||n.continue()}onOnline(){var n;const r=this.observers.find(s=>s.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=we(this,_n))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),we(this,Ds).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(we(this,_n)&&(we(this,vl)?we(this,_n).cancel({revert:!0}):we(this,_n).cancelRetry()),this.scheduleGc()),we(this,Ds).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Sn(this,ra,ai).call(this,{type:"invalidate"})}fetch(r,n){var d,u,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(we(this,_n))return we(this,_n).continueRetry(),we(this,_n).promise}if(r&&this.setOptions(r),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(gt(this,vl,!0),s.signal)})},i=()=>{const h=IR(this.options,n),g=(()=>{const f={client:we(this,gl),queryKey:this.queryKey,meta:this.meta};return a(f),f})();return gt(this,vl,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:we(this,gl),state:this.state,fetchFn:i};return a(h),h})();(d=this.options.behavior)==null||d.onFetch(l,this),gt(this,xl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Sn(this,ra,ai).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const c=h=>{var p,g,f,v;Oy(h)&&h.silent||Sn(this,ra,ai).call(this,{type:"error",error:h}),Oy(h)||((g=(p=we(this,Ds).config).onError)==null||g.call(p,h,this),(v=(f=we(this,Ds).config).onSettled)==null||v.call(f,this.state.data,h,this)),this.scheduleGc()};return gt(this,_n,zR({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var p,g,f,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){c(b);return}(g=(p=we(this,Ds).config).onSuccess)==null||g.call(p,h,this),(v=(f=we(this,Ds).config).onSettled)==null||v.call(f,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{Sn(this,ra,ai).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Sn(this,ra,ai).call(this,{type:"pause"})},onContinue:()=>{Sn(this,ra,ai).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),we(this,_n).start()}},Gc=new WeakMap,xl=new WeakMap,Ds=new WeakMap,gl=new WeakMap,_n=new WeakMap,Nh=new WeakMap,vl=new WeakMap,ra=new WeakSet,ai=function(r){const n=s=>{switch(r.type){case"failed":return{...s,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...W9(s.data,this.options),fetchMeta:r.meta??null};case"success":return gt(this,xl,void 0),{...s,data:r.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=r.error;return Oy(a)&&a.revert&&we(this,xl)?{...we(this,xl),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...r.state}}};this.state=n(this.state),Fn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),we(this,Ds).notify({query:this,type:"updated",action:r})})},WE);function W9(e,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LR(r.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function H9(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,n=r!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ea,HE,K9=(HE=class extends Eg{constructor(r={}){super();Gt(this,Ea);this.config=r,gt(this,Ea,new Map)}build(r,n,s){const a=n.queryKey,i=n.queryHash??s1(a,n);let o=this.get(i);return o||(o=new q9({client:r,queryKey:a,queryHash:i,options:r.defaultQueryOptions(n),state:s,defaultOptions:r.getQueryDefaults(a)}),this.add(o)),o}add(r){we(this,Ea).has(r.queryHash)||(we(this,Ea).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const n=we(this,Ea).get(r.queryHash);n&&(r.destroy(),n===r&&we(this,Ea).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Fn.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return we(this,Ea).get(r)}getAll(){return[...we(this,Ea).values()]}find(r){const n={exact:!0,...r};return this.getAll().find(s=>PP(n,s))}findAll(r={}){const n=this.getAll();return Object.keys(r).length>0?n.filter(s=>PP(r,s)):n}notify(r){Fn.batch(()=>{this.listeners.forEach(n=>{n(r)})})}onFocus(){Fn.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Fn.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},Ea=new WeakMap,HE),ka,$n,yl,Oa,Hi,KE,G9=(KE=class extends BR{constructor(r){super();Gt(this,Oa);Gt(this,ka);Gt(this,$n);Gt(this,yl);this.mutationId=r.mutationId,gt(this,$n,r.mutationCache),gt(this,ka,[]),this.state=r.state||X9(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){we(this,ka).includes(r)||(we(this,ka).push(r),this.clearGcTimeout(),we(this,$n).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){gt(this,ka,we(this,ka).filter(n=>n!==r)),this.scheduleGc(),we(this,$n).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){we(this,ka).length||(this.state.status==="pending"?this.scheduleGc():we(this,$n).remove(this))}continue(){var r;return((r=we(this,yl))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var i,o,l,c,d,u,m,h,p,g,f,v,b,y,j,C,S,N,P,_;const n=()=>{Sn(this,Oa,Hi).call(this,{type:"continue"})};gt(this,yl,zR({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(w,A)=>{Sn(this,Oa,Hi).call(this,{type:"failed",failureCount:w,error:A})},onPause:()=>{Sn(this,Oa,Hi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>we(this,$n).canRun(this)}));const s=this.state.status==="pending",a=!we(this,yl).canStart();try{if(s)n();else{Sn(this,Oa,Hi).call(this,{type:"pending",variables:r,isPaused:a}),await((o=(i=we(this,$n).config).onMutate)==null?void 0:o.call(i,r,this));const A=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,r));A!==this.state.context&&Sn(this,Oa,Hi).call(this,{type:"pending",context:A,variables:r,isPaused:a})}const w=await we(this,yl).start();return await((u=(d=we(this,$n).config).onSuccess)==null?void 0:u.call(d,w,r,this.state.context,this)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,w,r,this.state.context)),await((g=(p=we(this,$n).config).onSettled)==null?void 0:g.call(p,w,null,this.state.variables,this.state.context,this)),await((v=(f=this.options).onSettled)==null?void 0:v.call(f,w,null,r,this.state.context)),Sn(this,Oa,Hi).call(this,{type:"success",data:w}),w}catch(w){try{throw await((y=(b=we(this,$n).config).onError)==null?void 0:y.call(b,w,r,this.state.context,this)),await((C=(j=this.options).onError)==null?void 0:C.call(j,w,r,this.state.context)),await((N=(S=we(this,$n).config).onSettled)==null?void 0:N.call(S,void 0,w,this.state.variables,this.state.context,this)),await((_=(P=this.options).onSettled)==null?void 0:_.call(P,void 0,w,r,this.state.context)),w}finally{Sn(this,Oa,Hi).call(this,{type:"error",error:w})}}finally{we(this,$n).runNext(this)}}},ka=new WeakMap,$n=new WeakMap,yl=new WeakMap,Oa=new WeakSet,Hi=function(r){const n=s=>{switch(r.type){case"failed":return{...s,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...s,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:r.error,failureCount:s.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Fn.batch(()=>{we(this,ka).forEach(s=>{s.onMutationUpdate(r)}),we(this,$n).notify({mutation:this,type:"updated",action:r})})},KE);function X9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ci,na,wh,GE,Y9=(GE=class extends Eg{constructor(r={}){super();Gt(this,ci);Gt(this,na);Gt(this,wh);this.config=r,gt(this,ci,new Set),gt(this,na,new Map),gt(this,wh,0)}build(r,n,s){const a=new G9({mutationCache:this,mutationId:++Xh(this,wh)._,options:r.defaultMutationOptions(n),state:s});return this.add(a),a}add(r){we(this,ci).add(r);const n=yf(r);if(typeof n=="string"){const s=we(this,na).get(n);s?s.push(r):we(this,na).set(n,[r])}this.notify({type:"added",mutation:r})}remove(r){if(we(this,ci).delete(r)){const n=yf(r);if(typeof n=="string"){const s=we(this,na).get(n);if(s)if(s.length>1){const a=s.indexOf(r);a!==-1&&s.splice(a,1)}else s[0]===r&&we(this,na).delete(n)}}this.notify({type:"removed",mutation:r})}canRun(r){const n=yf(r);if(typeof n=="string"){const s=we(this,na).get(n),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===r}else return!0}runNext(r){var s;const n=yf(r);if(typeof n=="string"){const a=(s=we(this,na).get(n))==null?void 0:s.find(i=>i!==r&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Fn.batch(()=>{we(this,ci).forEach(r=>{this.notify({type:"removed",mutation:r})}),we(this,ci).clear(),we(this,na).clear()})}getAll(){return Array.from(we(this,ci))}find(r){const n={exact:!0,...r};return this.getAll().find(s=>CP(n,s))}findAll(r={}){return this.getAll().filter(n=>CP(r,n))}notify(r){Fn.batch(()=>{this.listeners.forEach(n=>{n(r)})})}resumePausedMutations(){const r=this.getAll().filter(n=>n.state.isPaused);return Fn.batch(()=>Promise.all(r.map(n=>n.continue().catch(ta))))}},ci=new WeakMap,na=new WeakMap,wh=new WeakMap,GE);function yf(e){var r;return(r=e.options.scope)==null?void 0:r.id}function TP(e){return{onFetch:(r,n)=>{var u,m,h,p,g;const s=r.options,a=(h=(m=(u=r.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((p=r.state.data)==null?void 0:p.pages)||[],o=((g=r.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let f=!1;const v=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(r.signal.aborted?f=!0:r.signal.addEventListener("abort",()=>{f=!0}),r.signal)})},b=IR(r.options,r.fetchOptions),y=async(j,C,S)=>{if(f)return Promise.reject();if(C==null&&j.pages.length)return Promise.resolve(j);const P=(()=>{const D={client:r.client,queryKey:r.queryKey,pageParam:C,direction:S?"backward":"forward",meta:r.options.meta};return v(D),D})(),_=await b(P),{maxPages:w}=r.options,A=S?$9:I9;return{pages:A(j.pages,_,w),pageParams:A(j.pageParams,C,w)}};if(a&&i.length){const j=a==="backward",C=j?Q9:EP,S={pages:i,pageParams:o},N=C(s,S);l=await y(S,N,j)}else{const j=e??i.length;do{const C=c===0?o[0]??s.initialPageParam:EP(s,l);if(c>0&&C==null)break;l=await y(l,C),c++}while(c<j)}return l};r.options.persister?r.fetchFn=()=>{var f,v;return(v=(f=r.options).persister)==null?void 0:v.call(f,d,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},n)}:r.fetchFn=d}}}function EP(e,{pages:r,pageParams:n}){const s=r.length-1;return r.length>0?e.getNextPageParam(r[s],r,n[s],n):void 0}function Q9(e,{pages:r,pageParams:n}){var s;return r.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,r[0],r,n[0],n):void 0}var Rr,so,ao,Xc,Yc,io,Qc,Zc,XE,Z9=(XE=class{constructor(e={}){Gt(this,Rr);Gt(this,so);Gt(this,ao);Gt(this,Xc);Gt(this,Yc);Gt(this,io);Gt(this,Qc);Gt(this,Zc);gt(this,Rr,e.queryCache||new K9),gt(this,so,e.mutationCache||new Y9),gt(this,ao,e.defaultOptions||{}),gt(this,Xc,new Map),gt(this,Yc,new Map),gt(this,io,0)}mount(){Xh(this,io)._++,we(this,io)===1&&(gt(this,Qc,$R.subscribe(async e=>{e&&(await this.resumePausedMutations(),we(this,Rr).onFocus())})),gt(this,Zc,qp.subscribe(async e=>{e&&(await this.resumePausedMutations(),we(this,Rr).onOnline())})))}unmount(){var e,r;Xh(this,io)._--,we(this,io)===0&&((e=we(this,Qc))==null||e.call(this),gt(this,Qc,void 0),(r=we(this,Zc))==null||r.call(this),gt(this,Zc,void 0))}isFetching(e){return we(this,Rr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return we(this,so).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const r=this.defaultQueryOptions({queryKey:e});return(n=we(this,Rr).get(r.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const r=this.defaultQueryOptions(e),n=we(this,Rr).build(this,r),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(M0(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(s))}getQueriesData(e){return we(this,Rr).findAll(e).map(({queryKey:r,state:n})=>{const s=n.data;return[r,s]})}setQueryData(e,r,n){const s=this.defaultQueryOptions({queryKey:e}),a=we(this,Rr).get(s.queryHash),i=a==null?void 0:a.state.data,o=E9(r,i);if(o!==void 0)return we(this,Rr).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,r,n){return Fn.batch(()=>we(this,Rr).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,r,n)]))}getQueryState(e){var n;const r=this.defaultQueryOptions({queryKey:e});return(n=we(this,Rr).get(r.queryHash))==null?void 0:n.state}removeQueries(e){const r=we(this,Rr);Fn.batch(()=>{r.findAll(e).forEach(n=>{r.remove(n)})})}resetQueries(e,r){const n=we(this,Rr);return Fn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},r)))}cancelQueries(e,r={}){const n={revert:!0,...r},s=Fn.batch(()=>we(this,Rr).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(ta).catch(ta)}invalidateQueries(e,r={}){return Fn.batch(()=>(we(this,Rr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},r)))}refetchQueries(e,r={}){const n={...r,cancelRefetch:r.cancelRefetch??!0},s=Fn.batch(()=>we(this,Rr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(ta)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(ta)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const n=we(this,Rr).build(this,r);return n.isStaleByTime(M0(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ta).catch(ta)}fetchInfiniteQuery(e){return e.behavior=TP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ta).catch(ta)}ensureInfiniteQueryData(e){return e.behavior=TP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qp.isOnline()?we(this,so).resumePausedMutations():Promise.resolve()}getQueryCache(){return we(this,Rr)}getMutationCache(){return we(this,so)}getDefaultOptions(){return we(this,ao)}setDefaultOptions(e){gt(this,ao,e)}setQueryDefaults(e,r){we(this,Xc).set($m(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...we(this,Xc).values()],n={};return r.forEach(s=>{Lm(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,r){we(this,Yc).set($m(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...we(this,Yc).values()],n={};return r.forEach(s=>{Lm(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const r={...we(this,ao).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return r.queryHash||(r.queryHash=s1(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===a1&&(r.enabled=!1),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...we(this,ao).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){we(this,Rr).clear(),we(this,so).clear()}},Rr=new WeakMap,so=new WeakMap,ao=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,io=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,XE),J9=x.createContext(void 0),eV=({client:e,children:r})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(J9.Provider,{value:e,children:r}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fm.apply(this,arguments)}var co;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(co||(co={}));const kP="popstate";function tV(e){e===void 0&&(e={});function r(s,a){let{pathname:i,search:o,hash:l}=s.location;return $0("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Wp(a)}return nV(r,n,null,e)}function $r(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function UR(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function rV(){return Math.random().toString(36).substr(2,8)}function OP(e,r){return{usr:e.state,key:e.key,idx:r}}function $0(e,r,n,s){return n===void 0&&(n=null),Fm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Qd(r):r,{state:n,key:r&&r.key||s||rV()})}function Wp(e){let{pathname:r="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Qd(e){let r={};if(e){let n=e.indexOf("#");n>=0&&(r.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(r.search=e.substr(s),e=e.substr(0,s)),e&&(r.pathname=e)}return r}function nV(e,r,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=co.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Fm({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=co.Pop;let v=u(),b=v==null?null:v-d;d=v,c&&c({action:l,location:f.location,delta:b})}function h(v,b){l=co.Push;let y=$0(f.location,v,b);d=u()+1;let j=OP(y,d),C=f.createHref(y);try{o.pushState(j,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(C)}i&&c&&c({action:l,location:f.location,delta:1})}function p(v,b){l=co.Replace;let y=$0(f.location,v,b);d=u();let j=OP(y,d),C=f.createHref(y);o.replaceState(j,"",C),i&&c&&c({action:l,location:f.location,delta:0})}function g(v){let b=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof v=="string"?v:Wp(v);return y=y.replace(/ $/,"%20"),$r(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let f={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(kP,m),c=v,()=>{a.removeEventListener(kP,m),c=null}},createHref(v){return r(a,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(v){return o.go(v)}};return f}var RP;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(RP||(RP={}));function sV(e,r,n){return n===void 0&&(n="/"),aV(e,r,n,!1)}function aV(e,r,n,s){let a=typeof r=="string"?Qd(r):r,i=cd(a.pathname||"/",n);if(i==null)return null;let o=VR(e);iV(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=gV(i);l=pV(o[c],d,s)}return l}function VR(e,r,n,s){r===void 0&&(r=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&($r(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=bo([s,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&($r(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),VR(i.children,r,u,d)),!(i.path==null&&!i.index)&&r.push({path:d,score:hV(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of qR(i.path))a(i,o,c)}),r}function qR(e){let r=e.split("/");if(r.length===0)return[];let[n,...s]=r,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=qR(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function iV(e){e.sort((r,n)=>r.score!==n.score?n.score-r.score:fV(r.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const oV=/^:[\w-]+$/,lV=3,cV=2,dV=1,uV=10,mV=-2,DP=e=>e==="*";function hV(e,r){let n=e.split("/"),s=n.length;return n.some(DP)&&(s+=mV),r&&(s+=cV),n.filter(a=>!DP(a)).reduce((a,i)=>a+(oV.test(i)?lV:i===""?dV:uV),s)}function fV(e,r){return e.length===r.length&&e.slice(0,-1).every((s,a)=>s===r[a])?e[e.length-1]-r[r.length-1]:0}function pV(e,r,n){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?r:r.slice(i.length)||"/",m=Hp({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m&&d&&n&&!s[s.length-1].route.index&&(m=Hp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:bo([i,m.pathname]),pathnameBase:bV(bo([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=bo([i,m.pathnameBase]))}return o}function Hp(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=xV(e.path,e.caseSensitive,e.end),a=r.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,m)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let f=l[m]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}const g=l[m];return p&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function xV(e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),UR(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),s]}function gV(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return UR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function cd(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function vV(e,r){r===void 0&&(r="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Qd(e):e;return{pathname:n?n.startsWith("/")?n:yV(n,r):r,search:NV(s),hash:wV(a)}}function yV(e,r){let n=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ry(e,r,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jV(e){return e.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function WR(e,r){let n=jV(e);return r?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function HR(e,r,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Qd(e):(a=Fm({},e),$r(!a.pathname||!a.pathname.includes("?"),Ry("?","pathname","search",a)),$r(!a.pathname||!a.pathname.includes("#"),Ry("#","pathname","hash",a)),$r(!a.search||!a.search.includes("#"),Ry("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let m=r.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;a.pathname=h.join("/")}l=m>=0?r[m]:"/"}let c=vV(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const bo=e=>e.join("/").replace(/\/\/+/g,"/"),bV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),NV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function SV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KR=["post","put","patch","delete"];new Set(KR);const PV=["get",...KR];new Set(PV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zm.apply(this,arguments)}const Og=x.createContext(null),GR=x.createContext(null),Mo=x.createContext(null),Rg=x.createContext(null),Mi=x.createContext({outlet:null,matches:[],isDataRoute:!1}),XR=x.createContext(null);function CV(e,r){let{relative:n}=r===void 0?{}:r;Rh()||$r(!1);let{basename:s,navigator:a}=x.useContext(Mo),{hash:i,pathname:o,search:l}=Dg(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:bo([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Rh(){return x.useContext(Rg)!=null}function Ii(){return Rh()||$r(!1),x.useContext(Rg).location}function YR(e){x.useContext(Mo).static||x.useLayoutEffect(e)}function qs(){let{isDataRoute:e}=x.useContext(Mi);return e?BV():_V()}function _V(){Rh()||$r(!1);let e=x.useContext(Og),{basename:r,future:n,navigator:s}=x.useContext(Mo),{matches:a}=x.useContext(Mi),{pathname:i}=Ii(),o=JSON.stringify(WR(a,n.v7_relativeSplatPath)),l=x.useRef(!1);return YR(()=>{l.current=!0}),x.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let m=HR(d,JSON.parse(o),i,u.relative==="path");e==null&&r!=="/"&&(m.pathname=m.pathname==="/"?r:bo([r,m.pathname])),(u.replace?s.replace:s.push)(m,u.state,u)},[r,s,o,i,e])}const AV=x.createContext(null);function TV(e){let r=x.useContext(Mi).outlet;return r&&x.createElement(AV.Provider,{value:e},r)}function i1(){let{matches:e}=x.useContext(Mi),r=e[e.length-1];return r?r.params:{}}function Dg(e,r){let{relative:n}=r===void 0?{}:r,{future:s}=x.useContext(Mo),{matches:a}=x.useContext(Mi),{pathname:i}=Ii(),o=JSON.stringify(WR(a,s.v7_relativeSplatPath));return x.useMemo(()=>HR(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function EV(e,r){return kV(e,r)}function kV(e,r,n,s){Rh()||$r(!1);let{navigator:a}=x.useContext(Mo),{matches:i}=x.useContext(Mi),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Ii(),u;if(r){var m;let v=typeof r=="string"?Qd(r):r;c==="/"||(m=v.pathname)!=null&&m.startsWith(c)||$r(!1),u=v}else u=d;let h=u.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=sV(e,{pathname:p}),f=IV(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:bo([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:bo([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,s);return r&&f?x.createElement(Rg.Provider,{value:{location:zm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:co.Pop}},f):f}function OV(){let e=zV(),r=SV(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},r),n?x.createElement("pre",{style:a},n):null,null)}const RV=x.createElement(OV,null);class DV extends x.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?x.createElement(Mi.Provider,{value:this.props.routeContext},x.createElement(XR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MV(e){let{routeContext:r,match:n,children:s}=e,a=x.useContext(Og);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Mi.Provider,{value:r},s)}function IV(e,r,n,s){var a;if(r===void 0&&(r=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||$r(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:h,errors:p}=n,g=m.route.loader&&h[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,m,h)=>{let p,g=!1,f=null,v=null;n&&(p=l&&m.route.id?l[m.route.id]:void 0,f=m.route.errorElement||RV,c&&(d<0&&h===0?(g=!0,v=null):d===h&&(g=!0,v=m.route.hydrateFallbackElement||null)));let b=r.concat(o.slice(0,h+1)),y=()=>{let j;return p?j=f:g?j=v:m.route.Component?j=x.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=u,x.createElement(MV,{match:m,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:j})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?x.createElement(DV,{location:n.location,revalidation:n.revalidation,component:f,error:p,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var QR=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(QR||{}),Kp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kp||{});function $V(e){let r=x.useContext(Og);return r||$r(!1),r}function LV(e){let r=x.useContext(GR);return r||$r(!1),r}function FV(e){let r=x.useContext(Mi);return r||$r(!1),r}function ZR(e){let r=FV(),n=r.matches[r.matches.length-1];return n.route.id||$r(!1),n.route.id}function zV(){var e;let r=x.useContext(XR),n=LV(Kp.UseRouteError),s=ZR(Kp.UseRouteError);return r!==void 0?r:(e=n.errors)==null?void 0:e[s]}function BV(){let{router:e}=$V(QR.UseNavigateStable),r=ZR(Kp.UseNavigateStable),n=x.useRef(!1);return YR(()=>{n.current=!0}),x.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,zm({fromRouteId:r},i)))},[e,r])}function UV(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function VV(e){return TV(e.context)}function Ke(e){$r(!1)}function qV(e){let{basename:r="/",children:n=null,location:s,navigationType:a=co.Pop,navigator:i,static:o=!1,future:l}=e;Rh()&&$r(!1);let c=r.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:i,static:o,future:zm({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Qd(s));let{pathname:u="/",search:m="",hash:h="",state:p=null,key:g="default"}=s,f=x.useMemo(()=>{let v=cd(u,c);return v==null?null:{location:{pathname:v,search:m,hash:h,state:p,key:g},navigationType:a}},[c,u,m,h,p,g,a]);return f==null?null:x.createElement(Mo.Provider,{value:d},x.createElement(Rg.Provider,{children:n,value:f}))}function WV(e){let{children:r,location:n}=e;return EV(L0(r),n)}new Promise(()=>{});function L0(e,r){r===void 0&&(r=[]);let n=[];return x.Children.forEach(e,(s,a)=>{if(!x.isValidElement(s))return;let i=[...r,a];if(s.type===x.Fragment){n.push.apply(n,L0(s.props.children,i));return}s.type!==Ke&&$r(!1),!s.props.index||!s.props.children||$r(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=L0(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gp.apply(this,arguments)}function JR(e,r){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(r.indexOf(a)>=0)&&(n[a]=e[a]);return n}function HV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KV(e,r){return e.button===0&&(!r||r==="_self")&&!HV(e)}const GV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XV=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],YV="6";try{window.__reactRouterVersion=YV}catch{}const QV=x.createContext({isTransitioning:!1}),ZV="startTransition",MP=VN[ZV];function JV(e){let{basename:r,children:n,future:s,window:a}=e,i=x.useRef();i.current==null&&(i.current=tV({window:a,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=x.useCallback(m=>{d&&MP?MP(()=>c(m)):c(m)},[c,d]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>UV(s),[s]),x.createElement(qV,{basename:r,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const eq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rq=x.forwardRef(function(r,n){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=r,h=JR(r,GV),{basename:p}=x.useContext(Mo),g,f=!1;if(typeof d=="string"&&tq.test(d)&&(g=d,eq))try{let j=new URL(window.location.href),C=d.startsWith("//")?new URL(j.protocol+d):new URL(d),S=cd(C.pathname,p);C.origin===j.origin&&S!=null?d=S+C.search+C.hash:f=!0}catch{}let v=CV(d,{relative:a}),b=sq(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:m});function y(j){s&&s(j),j.defaultPrevented||b(j)}return x.createElement("a",Gp({},h,{href:g||v,onClick:f||i?s:y,ref:n,target:c}))}),wr=x.forwardRef(function(r,n){let{"aria-current":s="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=r,m=JR(r,XV),h=Dg(c,{relative:m.relative}),p=Ii(),g=x.useContext(GR),{navigator:f,basename:v}=x.useContext(Mo),b=g!=null&&aq(h)&&d===!0,y=f.encodeLocation?f.encodeLocation(h).pathname:h.pathname,j=p.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(j=j.toLowerCase(),C=C?C.toLowerCase():null,y=y.toLowerCase()),C&&v&&(C=cd(C,v)||C);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let N=j===y||!o&&j.startsWith(y)&&j.charAt(S)==="/",P=C!=null&&(C===y||!o&&C.startsWith(y)&&C.charAt(y.length)==="/"),_={isActive:N,isPending:P,isTransitioning:b},w=N?s:void 0,A;typeof i=="function"?A=i(_):A=[i,N?"active":null,P?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(_):l;return x.createElement(rq,Gp({},m,{"aria-current":w,className:A,ref:n,style:D,to:c,viewTransition:d}),typeof u=="function"?u(_):u)});var F0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(F0||(F0={}));var IP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(IP||(IP={}));function nq(e){let r=x.useContext(Og);return r||$r(!1),r}function sq(e,r){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=r===void 0?{}:r,c=qs(),d=Ii(),u=Dg(e,{relative:o});return x.useCallback(m=>{if(KV(m,n)){m.preventDefault();let h=s!==void 0?s:Wp(d)===Wp(u);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,n,e,i,o,l])}function aq(e,r){r===void 0&&(r={});let n=x.useContext(QV);n==null&&$r(!1);let{basename:s}=nq(F0.useViewTransitionState),a=Dg(e,{relative:r.relative});if(!n.isTransitioning)return!1;let i=cd(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=cd(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Hp(a.pathname,o)!=null||Hp(a.pathname,i)!=null}class iq extends L.Component{constructor(n){super(n);V2(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){var a,i;this.setState({error:n,errorInfo:s}),(i=(a=this.props).onError)==null||i.call(a,n,s)}render(){if(this.state.hasError){const{fallback:n}=this.props;return n&&this.state.error?t.jsx(n,{error:this.state.error,retry:this.handleRetry}):t.jsx(oq,{error:this.state.error,retry:this.handleRetry,errorInfo:this.state.errorInfo})}return this.props.children}}function oq({error:e,retry:r,errorInfo:n}){return t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:t.jsxs("div",{className:"max-w-md w-full bg-card border border-border rounded-lg p-6 space-y-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-destructive",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),t.jsx("h2",{className:"text-lg font-semibold text-foreground mb-2",children:"Oops! Something went wrong"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsx("button",{onClick:r,className:"flex-1 bg-primary text-primary-foreground hover:bg-primary/90 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Try Again"}),t.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-secondary text-secondary-foreground hover:bg-secondary/80 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Refresh Page"})]})]})})}const $P=e=>{let r;const n=new Set,s=(d,u)=>{const m=typeof d=="function"?d(r):d;if(!Object.is(m,r)){const h=r;r=u??(typeof m!="object"||m===null)?m:Object.assign({},r,m),n.forEach(p=>p(r,h))}},a=()=>r,l={setState:s,getState:a,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=r=e(s,a,l);return l},lq=e=>e?$P(e):$P,cq=e=>e;function dq(e,r=cq){const n=L.useSyncExternalStore(e.subscribe,L.useCallback(()=>r(e.getState()),[e,r]),L.useCallback(()=>r(e.getInitialState()),[e,r]));return L.useDebugValue(n),n}const uq=e=>{const r=lq(e),n=s=>dq(r,s);return Object.assign(n,r),n},mq=e=>uq;function hq(e,r){let n;try{n=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>n.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>n.removeItem(a)}}const z0=e=>r=>{try{const n=e(r);return n instanceof Promise?n:{then(s){return z0(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return z0(s)(n)}}}},fq=(e,r)=>(n,s,a)=>{let i={storage:hq(()=>localStorage),partialize:f=>f,version:0,merge:(f,v)=>({...v,...f}),...r},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return e((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...f)},s,a);const u=()=>{const f=i.partialize({...s()});return d.setItem(i.name,{state:f,version:i.version})},m=a.setState;a.setState=(f,v)=>(m(f,v),u());const h=e((...f)=>(n(...f),u()),s,a);a.getInitialState=()=>h;let p;const g=()=>{var f,v;if(!d)return;o=!1,l.forEach(y=>{var j;return y((j=s())!=null?j:h)});const b=((v=i.onRehydrateStorage)==null?void 0:v.call(i,(f=s())!=null?f:h))||void 0;return z0(d.getItem.bind(d))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate){const j=i.migrate(y.state,y.version);return j instanceof Promise?j.then(C=>[!0,C]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var j;const[C,S]=y;if(p=i.merge(S,(j=s())!=null?j:h),n(p,!0),C)return u()}).then(()=>{b==null||b(p,void 0),p=s(),o=!0,c.forEach(y=>y(p))}).catch(y=>{b==null||b(void 0,y)})};return a.persist={setOptions:f=>{i={...i,...f},f.storage&&(d=f.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:f=>(l.add(f),()=>{l.delete(f)}),onFinishHydration:f=>(c.add(f),()=>{c.delete(f)})},i.skipHydration||g(),p||h},pq=fq,Wr=(e=500)=>new Promise(r=>setTimeout(r,e)),Cu=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Mg=mq()(pq((e,r)=>({isLoading:!1,isUsersLoading:!1,isProductsLoading:!1,isCustomersLoading:!1,isOrdersLoading:!1,error:null,users:[],products:[],customers:[],orders:[],prescriptions:[],currentUser:null,searchQueries:{},filters:{},setLoading:n=>e({isLoading:n}),setError:n=>e({error:n}),setCurrentUser:n=>e({currentUser:n}),loadUsers:async()=>{e({isUsersLoading:!0,error:null});try{await Wr(),e({isUsersLoading:!1})}catch{e({error:"Failed to load users",isUsersLoading:!1})}},createUser:async n=>{e({isUsersLoading:!0,error:null});try{await Wr();const s={...n,id:Cu(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(a=>({users:[...a.users,s],isUsersLoading:!1})),s}catch(s){throw e({error:"Failed to create user",isUsersLoading:!1}),s}},updateUser:async(n,s)=>{e({isUsersLoading:!0,error:null});try{return await Wr(),e(i=>({users:i.users.map(o=>o.id===n?{...o,...s,updatedAt:new Date().toISOString()}:o),isUsersLoading:!1})),r().users.find(i=>i.id===n)}catch(a){throw e({error:"Failed to update user",isUsersLoading:!1}),a}},deleteUser:async n=>{e({isUsersLoading:!0,error:null});try{await Wr(),e(s=>({users:s.users.filter(a=>a.id!==n),isUsersLoading:!1}))}catch(s){throw e({error:"Failed to delete user",isUsersLoading:!1}),s}},loadProducts:async()=>{e({isProductsLoading:!0,error:null});try{await Wr(),e({isProductsLoading:!1})}catch{e({error:"Failed to load products",isProductsLoading:!1})}},createProduct:async n=>{e({isProductsLoading:!0,error:null});try{await Wr();const s={...n,id:Cu(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(a=>({products:[...a.products,s],isProductsLoading:!1})),s}catch(s){throw e({error:"Failed to create product",isProductsLoading:!1}),s}},updateProduct:async(n,s)=>{e({isProductsLoading:!0,error:null});try{return await Wr(),e(i=>({products:i.products.map(o=>o.id===n?{...o,...s,updatedAt:new Date().toISOString()}:o),isProductsLoading:!1})),r().products.find(i=>i.id===n)}catch(a){throw e({error:"Failed to update product",isProductsLoading:!1}),a}},deleteProduct:async n=>{e({isProductsLoading:!0,error:null});try{await Wr(),e(s=>({products:s.products.filter(a=>a.id!==n),isProductsLoading:!1}))}catch(s){throw e({error:"Failed to delete product",isProductsLoading:!1}),s}},updateStock:async(n,s,a)=>{e({isProductsLoading:!0,error:null});try{await Wr(),e(i=>({products:i.products.map(o=>{if(o.id===n){let l=o.currentStock;switch(a){case"add":l+=s;break;case"subtract":l=Math.max(0,l-s);break;case"set":l=s;break}return{...o,currentStock:l,updatedAt:new Date().toISOString()}}return o}),isProductsLoading:!1}))}catch(i){throw e({error:"Failed to update stock",isProductsLoading:!1}),i}},loadCustomers:async()=>{e({isCustomersLoading:!0,error:null});try{await Wr(),e({isCustomersLoading:!1})}catch{e({error:"Failed to load customers",isCustomersLoading:!1})}},createCustomer:async n=>{e({isCustomersLoading:!0,error:null});try{await Wr();const s={...n,id:Cu(),memberSince:new Date().toISOString().split("T")[0],totalPurchases:0,totalSpent:0,loyaltyPoints:0,prescriptions:[],lastVisit:new Date().toISOString().split("T")[0],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(a=>({customers:[...a.customers,s],isCustomersLoading:!1})),s}catch(s){throw e({error:"Failed to create customer",isCustomersLoading:!1}),s}},updateCustomer:async(n,s)=>{e({isCustomersLoading:!0,error:null});try{return await Wr(),e(i=>({customers:i.customers.map(o=>o.id===n?{...o,...s,updatedAt:new Date().toISOString()}:o),isCustomersLoading:!1})),r().customers.find(i=>i.id===n)}catch(a){throw e({error:"Failed to update customer",isCustomersLoading:!1}),a}},deleteCustomer:async n=>{e({isCustomersLoading:!0,error:null});try{await Wr(),e(s=>({customers:s.customers.filter(a=>a.id!==n),isCustomersLoading:!1}))}catch(s){throw e({error:"Failed to delete customer",isCustomersLoading:!1}),s}},loadOrders:async()=>{e({isOrdersLoading:!0,error:null});try{await Wr(),e({isOrdersLoading:!1})}catch{e({error:"Failed to load orders",isOrdersLoading:!1})}},createOrder:async n=>{e({isOrdersLoading:!0,error:null});try{await Wr();const s={...n,id:Cu(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(a=>({orders:[...a.orders,s],isOrdersLoading:!1})),s}catch(s){throw e({error:"Failed to create order",isOrdersLoading:!1}),s}},updateOrder:async(n,s)=>{e({isOrdersLoading:!0,error:null});try{return await Wr(),e(i=>({orders:i.orders.map(o=>o.id===n?{...o,...s,updatedAt:new Date().toISOString()}:o),isOrdersLoading:!1})),r().orders.find(i=>i.id===n)}catch(a){throw e({error:"Failed to update order",isOrdersLoading:!1}),a}},deleteOrder:async n=>{e({isOrdersLoading:!0,error:null});try{await Wr(),e(s=>({orders:s.orders.filter(a=>a.id!==n),isOrdersLoading:!1}))}catch(s){throw e({error:"Failed to delete order",isOrdersLoading:!1}),s}},createPrescription:async n=>{e({isLoading:!0,error:null});try{await Wr();const s={...n,id:Cu(),isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(a=>({prescriptions:[...a.prescriptions,s],isLoading:!1})),s}catch(s){throw e({error:"Failed to create prescription",isLoading:!1}),s}},updatePrescription:async(n,s)=>{e({isLoading:!0,error:null});try{return await Wr(),e(i=>({prescriptions:i.prescriptions.map(o=>o.id===n?{...o,...s,updatedAt:new Date().toISOString()}:o),isLoading:!1})),r().prescriptions.find(i=>i.id===n)}catch(a){throw e({error:"Failed to update prescription",isLoading:!1}),a}},deletePrescription:async n=>{e({isLoading:!0,error:null});try{await Wr(),e(s=>({prescriptions:s.prescriptions.filter(a=>a.id!==n),isLoading:!1}))}catch(s){throw e({error:"Failed to delete prescription",isLoading:!1}),s}},setSearchQuery:(n,s)=>{e(a=>({searchQueries:{...a.searchQueries,[n]:s}}))},setFilter:(n,s,a)=>{e(i=>({filters:{...i.filters,[n]:{...i.filters[n],[s]:a}}}))},clearFilters:n=>{e(s=>({filters:{...s.filters,[n]:{}}}))},resetStore:()=>{e({users:[],products:[],customers:[],orders:[],prescriptions:[],currentUser:null,searchQueries:{},filters:{},error:null,isLoading:!1,isUsersLoading:!1,isProductsLoading:!1,isCustomersLoading:!1,isOrdersLoading:!1})}}),{name:"pharmacy-app-store",partialize:e=>({users:e.users,products:e.products,customers:e.customers,orders:e.orders,prescriptions:e.prescriptions,currentUser:e.currentUser})})),B0=[{id:"org-1",name:"drpharmas",type:"Pharmacy Chain",address:"123 Health Street, Medical District",phone:"(555) 123-0000",email:"info@pharmacare.com",licenseNumber:"PH-2024-001234",subscription:"Premium",status:"active",ownerId:"user-1",branches:[],settings:{taxRate:8.5,currency:"USD",timeZone:"America/New_York"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-13T00:00:00Z"}],eD=[{id:"main",organizationId:"org-1",name:"Main Branch",address:"123 Main St, City, State",phone:"(555) 123-4567",email:"main@pharmacare.com",manager:"Dr. Sarah Johnson",isActive:!0,status:"active",type:"main",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-13T00:00:00Z"},{id:"branch1",organizationId:"org-1",name:"North Branch",address:"456 North Ave, City, State",phone:"(555) 234-5678",email:"north@pharmacare.com",manager:"Mike Wilson",isActive:!0,status:"active",type:"branch",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-13T00:00:00Z"}],tD=[{id:"super-admin",name:"System Administrator",email:"admin@system.com",phone:"(555) 000-0000",role:"super_admin",status:"active",organizationId:"org-1",permissions:["all"],lastLogin:"2024-01-13",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-13T00:00:00Z"},{id:"owner-1",name:"Dr. Sarah Johnson",email:"owner@pharmacy.com",phone:"(555) 111-1111",role:"owner",status:"active",organizationId:"org-1",permissions:["all"],lastLogin:"2024-01-13",collectionAmount:18e4,targets:{sales:2e5,collection:19e4,monthly:15e3},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-13T00:00:00Z"},{id:"manager-1",name:"Mike Wilson",email:"manager@pharmacy.com",phone:"(555) 222-2222",role:"manager",status:"active",branchId:"main",organizationId:"org-1",permissions:["manage_inventory","manage_users","view_reports","manage_prescriptions"],lastLogin:"2024-01-13",collectionAmount:45e3,targets:{sales:5e4,collection:48e3,monthly:4e3},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-13T00:00:00Z"},{id:"pharmacist-1",name:"Dr. Emily Chen",email:"pharmacist@pharmacy.com",phone:"(555) 333-3333",role:"pharmacist",status:"active",branchId:"main",organizationId:"org-1",permissions:["dispense_medication","manage_prescriptions","view_reports"],lastLogin:"2024-01-12",collectionAmount:32e3,targets:{sales:35e3,collection:33e3,monthly:2800},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-12T00:00:00Z"},{id:"technician-1",name:"Lisa Brown",email:"technician@pharmacy.com",phone:"(555) 444-4444",role:"technician",status:"active",branchId:"main",organizationId:"org-1",permissions:["manage_inventory","process_orders"],lastLogin:"2024-01-11",collectionAmount:28e3,targets:{sales:3e4,collection:29e3,monthly:2400},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-11T00:00:00Z"},{id:"cashier-1",name:"John Smith",email:"cashier@pharmacy.com",phone:"(555) 555-5555",role:"cashier",status:"active",branchId:"main",organizationId:"org-1",permissions:["process_sales","handle_returns"],lastLogin:"2024-01-10",collectionAmount:15e3,targets:{sales:2e4,collection:18e3,monthly:1500},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-10T00:00:00Z"},{id:"supplier-admin-1",name:"Robert Davis",email:"supplier@admin.com",phone:"(555) 666-6666",role:"supplier",status:"active",permissions:["all_supplier"],lastLogin:"2024-01-13",collectionAmount:85e3,targets:{sales:1e5,collection:9e4,monthly:7500},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-13T00:00:00Z"},{id:"sales-rep-1",name:"Anna Garcia",email:"sales@supplier.com",phone:"(555) 777-7777",role:"supplier",status:"active",permissions:["sales","clients"],lastLogin:"2024-01-12",collectionAmount:42e3,targets:{sales:5e4,collection:45e3,monthly:3500},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-12T00:00:00Z"}];function o1(e){return B0.find(r=>r.id===e)}function xq(e){return eD.find(r=>r.id===e)}function rD(e){const n=eD.filter(s=>s.organizationId===e).map(s=>s.id);return tD.filter(s=>s.branchId&&n.includes(s.branchId))}function _c(e){return tD.filter(r=>r.branchId===e)}function gq(e){return{super_admin:"Super Administrator",owner:"Pharmacy Owner",manager:"Branch Manager",pharmacist:"Pharmacist",technician:"Pharmacy Technician",cashier:"Cashier",supplier:"Supplier"}[e]||e}const vq=[{name:"Dr. Sarah Johnson",email:"sarah.johnson@pharmacy.com",phone:"(555) 123-4567",role:"manager",status:"active",branchId:"main",organizationId:"org-1",permissions:["manage_inventory","manage_users","view_reports","manage_prescriptions"],lastLogin:"2024-01-13",collectionAmount:45e3,targets:{sales:5e4,collection:48e3,monthly:4e3}},{name:"Mike Wilson",email:"mike.wilson@pharmacy.com",phone:"(555) 234-5678",role:"pharmacist",status:"active",branchId:"main",organizationId:"org-1",permissions:["dispense_medication","manage_prescriptions","view_reports"],lastLogin:"2024-01-12",collectionAmount:32e3,targets:{sales:35e3,collection:33e3,monthly:2800}},{name:"Lisa Brown",email:"lisa.brown@pharmacy.com",phone:"(555) 345-6789",role:"technician",status:"active",branchId:"branch1",organizationId:"org-1",permissions:["manage_inventory","process_orders"],lastLogin:"2024-01-11",collectionAmount:28e3,targets:{sales:3e4,collection:29e3,monthly:2400}},{name:"John Doe",email:"john.doe@pharmacy.com",phone:"(555) 456-7890",role:"cashier",status:"active",branchId:"main",organizationId:"org-1",permissions:["process_sales","handle_returns"],lastLogin:"2024-01-10",collectionAmount:15e3,targets:{sales:2e4,collection:18e3,monthly:1500}}],yq=[{name:"Ibuprofen 400mg",genericName:"Ibuprofen",category:"Pain Relief",manufacturer:"Generic Pharma",strength:"400mg",dosageForm:"Tablet",barcode:"123456789012",cost:5.99,sellingPrice:8.99,currentStock:150,minStockLevel:20,maxStockLevel:500,expiryDate:"2025-12-31",batchNumber:"IBU2024001",isControlled:!1,requiresPrescription:!1},{name:"Metformin 500mg",genericName:"Metformin HCl",category:"Diabetes",manufacturer:"DiaCare Labs",strength:"500mg",dosageForm:"Tablet",barcode:"234567890123",cost:12.5,sellingPrice:18.75,currentStock:89,minStockLevel:15,maxStockLevel:300,expiryDate:"2025-08-15",batchNumber:"MET2024002",isControlled:!1,requiresPrescription:!0},{name:"Vitamin D3 1000IU",genericName:"Cholecalciferol",category:"Vitamins",manufacturer:"NutriHealth",strength:"1000IU",dosageForm:"Capsule",barcode:"345678901234",cost:8.99,sellingPrice:15.99,currentStock:67,minStockLevel:25,maxStockLevel:200,expiryDate:"2026-03-20",batchNumber:"VIT2024003",isControlled:!1,requiresPrescription:!1},{name:"Lisinopril 10mg",genericName:"Lisinopril",category:"Cardiovascular",manufacturer:"CardioMed",strength:"10mg",dosageForm:"Tablet",barcode:"456789012345",cost:15,sellingPrice:22.5,currentStock:45,minStockLevel:10,maxStockLevel:150,expiryDate:"2025-11-30",batchNumber:"LIS2024004",isControlled:!1,requiresPrescription:!0},{name:"Amoxicillin 500mg",genericName:"Amoxicillin",category:"Antibiotics",manufacturer:"AntiBio Corp",strength:"500mg",dosageForm:"Capsule",barcode:"567890123456",cost:18.75,sellingPrice:28.99,currentStock:23,minStockLevel:15,maxStockLevel:100,expiryDate:"2025-06-15",batchNumber:"AMO2024005",isControlled:!1,requiresPrescription:!0}],jq=[{name:"John Doe",email:"john.doe@email.com",phone:"(555) 123-4567",address:"123 Main St, City, State 12345",dateOfBirth:"1985-06-15",lastVisit:"2024-01-12",status:"active",allergies:["Penicillin","Sulfa drugs"],insurance:"Blue Cross Blue Shield",preferredContact:"email"},{name:"Jane Smith",email:"jane.smith@email.com",phone:"(555) 234-5678",address:"456 Oak Ave, City, State 12345",dateOfBirth:"1978-09-22",lastVisit:"2024-01-13",status:"vip",allergies:["None known"],insurance:"Aetna",preferredContact:"phone"},{name:"Bob Wilson",email:"bob.wilson@email.com",phone:"(555) 345-6789",address:"789 Pine St, City, State 12345",dateOfBirth:"1965-12-03",lastVisit:"2024-01-10",status:"active",allergies:["Aspirin"],insurance:"Medicare",preferredContact:"phone"},{name:"Alice Brown",email:"alice.brown@email.com",phone:"(555) 456-7890",address:"321 Elm Dr, City, State 12345",dateOfBirth:"1992-03-18",lastVisit:"2024-01-11",status:"new",allergies:["None known"],insurance:"United Healthcare",preferredContact:"email"}],bq=[{supplierId:"SUP001",supplierName:"MedSupply Co",orderDate:"2024-01-10",expectedDelivery:"2024-01-12",actualDelivery:"2024-01-12",status:"delivered",priority:"normal",items:[{id:"item1",productId:"prod1",productName:"Ibuprofen 400mg",quantity:100,unitCost:5.99,totalCost:599},{id:"item2",productId:"prod2",productName:"Vitamin D3 1000IU",quantity:50,unitCost:8.99,totalCost:449.5}],subtotal:1048.5,tax:83.88,shipping:25,total:1157.38,notes:"Regular monthly order"},{supplierId:"SUP002",supplierName:"PharmaDist",orderDate:"2024-01-11",expectedDelivery:"2024-01-13",status:"shipped",priority:"high",items:[{id:"item3",productId:"prod3",productName:"Metformin 500mg",quantity:75,unitCost:12.5,totalCost:937.5}],subtotal:937.5,tax:75,shipping:15,total:1027.5,notes:"Urgent restock needed"},{supplierId:"SUP003",supplierName:"HealthWare",orderDate:"2024-01-11",expectedDelivery:"2024-01-14",status:"processing",priority:"normal",items:[{id:"item4",productId:"prod4",productName:"Lisinopril 10mg",quantity:60,unitCost:15,totalCost:900},{id:"item5",productId:"prod5",productName:"Amoxicillin 500mg",quantity:40,unitCost:18.75,totalCost:750}],subtotal:1650,tax:132,shipping:30,total:1812}];function Nq(){const{users:e,products:r,customers:n,orders:s,createUser:a,createProduct:i,createCustomer:o,createOrder:l}=Mg();return{initializeMockData:async()=>{try{if(e.length===0){console.log("Initializing mock users...");for(const d of vq)await a(d)}if(r.length===0){console.log("Initializing mock products...");for(const d of yq)await i(d)}if(n.length===0){console.log("Initializing mock customers...");for(const d of jq)await o(d)}if(s.length===0){console.log("Initializing mock orders...");for(const d of bq)await l(d)}console.log("Mock data initialization complete")}catch(d){console.error("Failed to initialize mock data:",d)}},hasData:e.length>0||r.length>0||n.length>0||s.length>0}}const wq={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};function Sq({size:e="md",className:r,text:n}){return t.jsxs("div",{className:Ee("flex items-center justify-center",r),children:[t.jsx(ir,{className:Ee("animate-spin text-primary",wq[e])}),n&&t.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:n})]})}function nD({isLoading:e,text:r="Loading...",className:n,children:s}){return t.jsxs("div",{className:Ee("relative",n),children:[s,e&&t.jsx("div",{className:"absolute inset-0 bg-background/50 backdrop-blur-sm flex items-center justify-center z-50 rounded-lg",children:t.jsx("div",{className:"bg-card border border-border rounded-lg p-6 shadow-lg",children:t.jsx(Sq,{size:"lg",text:r})})})]})}function Pq({children:e}){const{isLoading:r}=Mg(),{initializeMockData:n,hasData:s}=Nq();return x.useEffect(()=>{s||n()},[s,n]),t.jsx(nD,{isLoading:r,text:"Initializing application...",children:e})}function Cq({children:e}){const[r,n]=x.useState(null),[s,a]=x.useState(!0),i=qs(),o=Ii();Tt();const l=async()=>{try{const c=localStorage.getItem("access_token"),d=localStorage.getItem("currentUser");if(!c||!d){n(!1),a(!1);return}n(!0)}catch(c){console.error("Auth validation error:",c),n(!1)}finally{a(!1)}};return x.useEffect(()=>{if(o.pathname==="/login"){n(!1),a(!1);return}l()},[o.pathname]),x.useEffect(()=>{r===!1&&o.pathname!=="/login"&&i("/login",{replace:!0})},[r,o.pathname,i]),s?t.jsx(nD,{isLoading:!0,text:"Verifying authentication...",children:t.jsx("div",{className:"min-h-screen"})}):o.pathname==="/login"?t.jsx(t.Fragment,{children:e}):r?t.jsx(t.Fragment,{children:e}):null}const sD=x.createContext(void 0);function _q({children:e}){const{toast:r}=Tt(),[n,s]=x.useState([]),a=x.useCallback(g=>{const f={...g,id:Math.random().toString(36).substr(2,9),timestamp:new Date,read:!1};return s(v=>[f,...v]),f},[]),i=x.useCallback((g,f="Success",v)=>{a({type:"success",title:f,message:g,action:v}),r({title:f,description:g,variant:"default",action:v?t.jsx("button",{onClick:v.onClick,children:v.label}):void 0})},[r,a]),o=x.useCallback((g,f="Error",v)=>{a({type:"error",title:f,message:g,action:v}),r({title:f,description:g,variant:"destructive",action:v?t.jsx("button",{onClick:v.onClick,children:v.label}):void 0})},[r,a]),l=x.useCallback((g,f="Warning",v)=>{a({type:"warning",title:f,message:g,action:v}),r({title:f,description:g,variant:"default",action:v?t.jsx("button",{onClick:v.onClick,children:v.label}):void 0})},[r,a]),c=x.useCallback((g,f="Info",v)=>{a({type:"info",title:f,message:g,action:v}),r({title:f,description:g,variant:"default",action:v?t.jsx("button",{onClick:v.onClick,children:v.label}):void 0})},[r,a]),d=x.useCallback(g=>{s(f=>f.map(v=>v.id===g?{...v,read:!0}:v))},[]),u=x.useCallback(g=>{s(f=>f.filter(v=>v.id!==g))},[]),m=x.useCallback(()=>{s([])},[]),h=n.filter(g=>!g.read).length,p={showSuccess:i,showError:o,showWarning:l,showInfo:c,notifications:n,markAsRead:d,clearNotification:u,clearAllNotifications:m,unreadCount:h};return t.jsx(sD.Provider,{value:p,children:e})}function Aq(){const e=x.useContext(sD);if(e===void 0)throw new Error("useNotification must be used within a NotificationProvider");return e}const Dy=768;function Tq(){const[e,r]=x.useState(void 0);return x.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Dy-1}px)`),s=()=>{r(window.innerWidth<Dy)};return n.addEventListener("change",s),r(window.innerWidth<Dy),()=>n.removeEventListener("change",s)},[]),!!e}const Eq=Gl("inline-flex items-center justify-center gap-1 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary-hover",destructive:"bg-destructive text-destructive-foreground hover:opacity-90",outline:"border border-input bg-card hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary-hover",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",admin:"bg-header text-header-foreground hover:opacity-90"},size:{default:"h-8 px-3 py-1",sm:"h-7 px-2",lg:"h-9 px-6",icon:"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),k=x.forwardRef(({className:e,variant:r,size:n,asChild:s=!1,...a},i)=>{const o=s?Vd:"button";return t.jsx(o,{className:Ee(Eq({variant:r,size:n,className:e})),ref:i,...a})});k.displayName="Button";const J=x.forwardRef(({className:e,type:r,...n},s)=>t.jsx("input",{type:r,className:Ee("flex h-8 w-full border border-gray-300 bg-transparent px-2 py-1 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));J.displayName="Input";var kq="Separator",LP="horizontal",Oq=["horizontal","vertical"],aD=x.forwardRef((e,r)=>{const{decorative:n,orientation:s=LP,...a}=e,i=Rq(s)?s:LP,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx(Je.div,{"data-orientation":i,...l,...a,ref:r})});aD.displayName=kq;function Rq(e){return Oq.includes(e)}var iD=aD;const La=x.forwardRef(({className:e,orientation:r="horizontal",decorative:n=!0,...s},a)=>t.jsx(iD,{ref:a,decorative:n,orientation:r,className:Ee("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));La.displayName=iD.displayName;var My="focusScope.autoFocusOnMount",Iy="focusScope.autoFocusOnUnmount",FP={bubbles:!1,cancelable:!0},Dq="FocusScope",Ig=x.forwardRef((e,r)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),d=Gr(a),u=Gr(i),m=x.useRef(null),h=Ot(r,f=>c(f)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(s){let f=function(j){if(p.paused||!l)return;const C=j.target;l.contains(C)?m.current=C:Ki(m.current,{select:!0})},v=function(j){if(p.paused||!l)return;const C=j.relatedTarget;C!==null&&(l.contains(C)||Ki(m.current,{select:!0}))},b=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&Ki(l)};document.addEventListener("focusin",f),document.addEventListener("focusout",v);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",v),y.disconnect()}}},[s,l,p.paused]),x.useEffect(()=>{if(l){BP.add(p);const f=document.activeElement;if(!l.contains(f)){const b=new CustomEvent(My,FP);l.addEventListener(My,d),l.dispatchEvent(b),b.defaultPrevented||(Mq(zq(oD(l)),{select:!0}),document.activeElement===f&&Ki(l))}return()=>{l.removeEventListener(My,d),setTimeout(()=>{const b=new CustomEvent(Iy,FP);l.addEventListener(Iy,u),l.dispatchEvent(b),b.defaultPrevented||Ki(f??document.body,{select:!0}),l.removeEventListener(Iy,u),BP.remove(p)},0)}}},[l,d,u,p]);const g=x.useCallback(f=>{if(!n&&!s||p.paused)return;const v=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,b=document.activeElement;if(v&&b){const y=f.currentTarget,[j,C]=Iq(y);j&&C?!f.shiftKey&&b===C?(f.preventDefault(),n&&Ki(j,{select:!0})):f.shiftKey&&b===j&&(f.preventDefault(),n&&Ki(C,{select:!0})):b===y&&f.preventDefault()}},[n,s,p.paused]);return t.jsx(Je.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Ig.displayName=Dq;function Mq(e,{select:r=!1}={}){const n=document.activeElement;for(const s of e)if(Ki(s,{select:r}),document.activeElement!==n)return}function Iq(e){const r=oD(e),n=zP(r,e),s=zP(r.reverse(),e);return[n,s]}function oD(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function zP(e,r){for(const n of e)if(!$q(n,{upTo:r}))return n}function $q(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Lq(e){return e instanceof HTMLInputElement&&"select"in e}function Ki(e,{select:r=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Lq(e)&&r&&e.select()}}var BP=Fq();function Fq(){let e=[];return{add(r){const n=e[0];r!==n&&(n==null||n.pause()),e=UP(e,r),e.unshift(r)},remove(r){var n;e=UP(e,r),(n=e[0])==null||n.resume()}}}function UP(e,r){const n=[...e],s=n.indexOf(r);return s!==-1&&n.splice(s,1),n}function zq(e){return e.filter(r=>r.tagName!=="A")}var $y=0;function l1(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??VP()),document.body.insertAdjacentElement("beforeend",e[1]??VP()),$y++,()=>{$y===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),$y--}},[])}function VP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Da=function(){return Da=Object.assign||function(r){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Da.apply(this,arguments)};function lD(e,r){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function Bq(e,r,n){if(n||arguments.length===2)for(var s=0,a=r.length,i;s<a;s++)(i||!(s in r))&&(i||(i=Array.prototype.slice.call(r,0,s)),i[s]=r[s]);return e.concat(i||Array.prototype.slice.call(r))}var ip="right-scroll-bar-position",op="width-before-scroll-bar",Uq="with-scroll-bars-hidden",Vq="--removed-body-scroll-bar-size";function Ly(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function qq(e,r){var n=x.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=r,n.facade}var Wq=typeof window<"u"?x.useLayoutEffect:x.useEffect,qP=new WeakMap;function Hq(e,r){var n=qq(null,function(s){return e.forEach(function(a){return Ly(a,s)})});return Wq(function(){var s=qP.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||Ly(l,null)}),i.forEach(function(l){a.has(l)||Ly(l,o)})}qP.set(n,e)},[e]),n}function Kq(e){return e}function Gq(e,r){r===void 0&&(r=Kq);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=r(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function Xq(e){e===void 0&&(e={});var r=Gq(null);return r.options=Da({async:!0,ssr:!1},e),r}var cD=function(e){var r=e.sideCar,n=lD(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return x.createElement(s,Da({},n))};cD.isSideCarExport=!0;function Yq(e,r){return e.useMedium(r),cD}var dD=Xq(),Fy=function(){},$g=x.forwardRef(function(e,r){var n=x.useRef(null),s=x.useState({onScrollCapture:Fy,onWheelCapture:Fy,onTouchMoveCapture:Fy}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,p=e.noRelative,g=e.noIsolation,f=e.inert,v=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,j=e.gapMode,C=lD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=Hq([n,r]),P=Da(Da({},C),a);return x.createElement(x.Fragment,null,u&&x.createElement(S,{sideCar:dD,removeScrollBar:d,shards:m,noRelative:p,noIsolation:g,inert:f,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:j}),o?x.cloneElement(x.Children.only(l),Da(Da({},P),{ref:N})):x.createElement(y,Da({},P,{className:c,ref:N}),l))});$g.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$g.classNames={fullWidth:op,zeroRight:ip};var Qq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zq(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=Qq();return r&&e.setAttribute("nonce",r),e}function Jq(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function eW(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var tW=function(){var e=0,r=null;return{add:function(n){e==0&&(r=Zq())&&(Jq(r,n),eW(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},rW=function(){var e=tW();return function(r,n){x.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}},uD=function(){var e=rW(),r=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return r},nW={left:0,top:0,right:0,gap:0},zy=function(e){return parseInt(e||"",10)||0},sW=function(e){var r=window.getComputedStyle(document.body),n=r[e==="padding"?"paddingLeft":"marginLeft"],s=r[e==="padding"?"paddingTop":"marginTop"],a=r[e==="padding"?"paddingRight":"marginRight"];return[zy(n),zy(s),zy(a)]},aW=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nW;var r=sW(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-n+r[2]-r[0])}},iW=uD(),Bc="data-scroll-locked",oW=function(e,r,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Uq,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Bc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ip,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(op,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(ip," .").concat(ip,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(op," .").concat(op,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Bc,`] {
    `).concat(Vq,": ").concat(l,`px;
  }
`)},WP=function(){var e=parseInt(document.body.getAttribute(Bc)||"0",10);return isFinite(e)?e:0},lW=function(){x.useEffect(function(){return document.body.setAttribute(Bc,(WP()+1).toString()),function(){var e=WP()-1;e<=0?document.body.removeAttribute(Bc):document.body.setAttribute(Bc,e.toString())}},[])},cW=function(e){var r=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;lW();var i=x.useMemo(function(){return aW(a)},[a]);return x.createElement(iW,{styles:oW(i,!r,a,n?"":"!important")})},U0=!1;if(typeof window<"u")try{var jf=Object.defineProperty({},"passive",{get:function(){return U0=!0,!0}});window.addEventListener("test",jf,jf),window.removeEventListener("test",jf,jf)}catch{U0=!1}var rc=U0?{passive:!1}:!1,dW=function(e){return e.tagName==="TEXTAREA"},mD=function(e,r){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!dW(e)&&n[r]==="visible")},uW=function(e){return mD(e,"overflowY")},mW=function(e){return mD(e,"overflowX")},HP=function(e,r){var n=r.ownerDocument,s=r;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=hD(e,s);if(a){var i=fD(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},hW=function(e){var r=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[r,n,s]},fW=function(e){var r=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[r,n,s]},hD=function(e,r){return e==="v"?uW(r):mW(r)},fD=function(e,r){return e==="v"?hW(r):fW(r)},pW=function(e,r){return e==="h"&&r==="rtl"?-1:1},xW=function(e,r,n,s,a){var i=pW(e,window.getComputedStyle(r).direction),o=i*s,l=n.target,c=r.contains(l),d=!1,u=o>0,m=0,h=0;do{if(!l)break;var p=fD(e,l),g=p[0],f=p[1],v=p[2],b=f-v-i*g;(g||b)&&hD(e,l)&&(m+=b,h+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(r.contains(l)||r===l));return(u&&(Math.abs(m)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(d=!0),d},bf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},KP=function(e){return[e.deltaX,e.deltaY]},GP=function(e){return e&&"current"in e?e.current:e},gW=function(e,r){return e[0]===r[0]&&e[1]===r[1]},vW=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yW=0,nc=[];function jW(e){var r=x.useRef([]),n=x.useRef([0,0]),s=x.useRef(),a=x.useState(yW++)[0],i=x.useState(uD)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var f=Bq([e.lockRef.current],(e.shards||[]).map(GP),!0).filter(Boolean);return f.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),f.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(f,v){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!o.current.allowPinchZoom;var b=bf(f),y=n.current,j="deltaX"in f?f.deltaX:y[0]-b[0],C="deltaY"in f?f.deltaY:y[1]-b[1],S,N=f.target,P=Math.abs(j)>Math.abs(C)?"h":"v";if("touches"in f&&P==="h"&&N.type==="range")return!1;var _=HP(P,N);if(!_)return!0;if(_?S=P:(S=P==="v"?"h":"v",_=HP(P,N)),!_)return!1;if(!s.current&&"changedTouches"in f&&(j||C)&&(s.current=S),!S)return!0;var w=s.current||S;return xW(w,v,f,w==="h"?j:C,!0)},[]),c=x.useCallback(function(f){var v=f;if(!(!nc.length||nc[nc.length-1]!==i)){var b="deltaY"in v?KP(v):bf(v),y=r.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&gW(S.delta,b)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var j=(o.current.shards||[]).map(GP).filter(Boolean).filter(function(S){return S.contains(v.target)}),C=j.length>0?l(v,j[0]):!o.current.noIsolation;C&&v.cancelable&&v.preventDefault()}}},[]),d=x.useCallback(function(f,v,b,y){var j={name:f,delta:v,target:b,should:y,shadowParent:bW(b)};r.current.push(j),setTimeout(function(){r.current=r.current.filter(function(C){return C!==j})},1)},[]),u=x.useCallback(function(f){n.current=bf(f),s.current=void 0},[]),m=x.useCallback(function(f){d(f.type,KP(f),f.target,l(f,e.lockRef.current))},[]),h=x.useCallback(function(f){d(f.type,bf(f),f.target,l(f,e.lockRef.current))},[]);x.useEffect(function(){return nc.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,rc),document.addEventListener("touchmove",c,rc),document.addEventListener("touchstart",u,rc),function(){nc=nc.filter(function(f){return f!==i}),document.removeEventListener("wheel",c,rc),document.removeEventListener("touchmove",c,rc),document.removeEventListener("touchstart",u,rc)}},[]);var p=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(i,{styles:vW(a)}):null,p?x.createElement(cW,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function bW(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const NW=Yq(dD,jW);var Lg=x.forwardRef(function(e,r){return x.createElement($g,Da({},e,{ref:r,sideCar:NW}))});Lg.classNames=$g.classNames;var wW=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},sc=new WeakMap,Nf=new WeakMap,wf={},By=0,pD=function(e){return e&&(e.host||pD(e.parentNode))},SW=function(e,r){return r.map(function(n){if(e.contains(n))return n;var s=pD(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},PW=function(e,r,n,s){var a=SW(r,Array.isArray(e)?e:[e]);wf[n]||(wf[n]=new WeakMap);var i=wf[n],o=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(l.has(h))u(h);else try{var p=h.getAttribute(s),g=p!==null&&p!=="false",f=(sc.get(h)||0)+1,v=(i.get(h)||0)+1;sc.set(h,f),i.set(h,v),o.push(h),f===1&&g&&Nf.set(h,!0),v===1&&h.setAttribute(n,"true"),g||h.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return u(r),l.clear(),By++,function(){o.forEach(function(m){var h=sc.get(m)-1,p=i.get(m)-1;sc.set(m,h),i.set(m,p),h||(Nf.has(m)||m.removeAttribute(s),Nf.delete(m)),p||m.removeAttribute(n)}),By--,By||(sc=new WeakMap,sc=new WeakMap,Nf=new WeakMap,wf={})}},c1=function(e,r,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=wW(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),PW(s,a,n,"aria-hidden")):function(){return null}},Fg="Dialog",[xD,xPe]=Gn(Fg),[CW,wa]=xD(Fg),gD=e=>{const{__scopeDialog:r,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[d,u]=ga({prop:s,defaultProp:a??!1,onChange:i,caller:Fg});return t.jsx(CW,{scope:r,triggerRef:l,contentRef:c,contentId:ma(),titleId:ma(),descriptionId:ma(),open:d,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(m=>!m),[u]),modal:o,children:n})};gD.displayName=Fg;var vD="DialogTrigger",yD=x.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=wa(vD,n),i=Ot(r,a.triggerRef);return t.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":m1(a.open),...s,ref:i,onClick:Ye(e.onClick,a.onOpenToggle)})});yD.displayName=vD;var d1="DialogPortal",[_W,jD]=xD(d1,{forceMount:void 0}),bD=e=>{const{__scopeDialog:r,forceMount:n,children:s,container:a}=e,i=wa(d1,r);return t.jsx(_W,{scope:r,forceMount:n,children:x.Children.map(s,o=>t.jsx(Xn,{present:n||i.open,children:t.jsx(Th,{asChild:!0,container:a,children:o})}))})};bD.displayName=d1;var Xp="DialogOverlay",ND=x.forwardRef((e,r)=>{const n=jD(Xp,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=wa(Xp,e.__scopeDialog);return i.modal?t.jsx(Xn,{present:s||i.open,children:t.jsx(TW,{...a,ref:r})}):null});ND.displayName=Xp;var AW=kl("DialogOverlay.RemoveScroll"),TW=x.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=wa(Xp,n);return t.jsx(Lg,{as:AW,allowPinchZoom:!0,shards:[a.contentRef],children:t.jsx(Je.div,{"data-state":m1(a.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),Rl="DialogContent",wD=x.forwardRef((e,r)=>{const n=jD(Rl,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=wa(Rl,e.__scopeDialog);return t.jsx(Xn,{present:s||i.open,children:i.modal?t.jsx(EW,{...a,ref:r}):t.jsx(kW,{...a,ref:r})})});wD.displayName=Rl;var EW=x.forwardRef((e,r)=>{const n=wa(Rl,e.__scopeDialog),s=x.useRef(null),a=Ot(r,n.contentRef,s);return x.useEffect(()=>{const i=s.current;if(i)return c1(i)},[]),t.jsx(SD,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ye(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ye(e.onFocusOutside,i=>i.preventDefault())})}),kW=x.forwardRef((e,r)=>{const n=wa(Rl,e.__scopeDialog),s=x.useRef(!1),a=x.useRef(!1);return t.jsx(SD,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),SD=x.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=wa(Rl,n),c=x.useRef(null),d=Ot(r,c);return l1(),t.jsxs(t.Fragment,{children:[t.jsx(Ig,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:t.jsx(qd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":m1(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(OW,{titleId:l.titleId}),t.jsx(DW,{contentRef:c,descriptionId:l.descriptionId})]})]})}),u1="DialogTitle",PD=x.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=wa(u1,n);return t.jsx(Je.h2,{id:a.titleId,...s,ref:r})});PD.displayName=u1;var CD="DialogDescription",_D=x.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=wa(CD,n);return t.jsx(Je.p,{id:a.descriptionId,...s,ref:r})});_D.displayName=CD;var AD="DialogClose",TD=x.forwardRef((e,r)=>{const{__scopeDialog:n,...s}=e,a=wa(AD,n);return t.jsx(Je.button,{type:"button",...s,ref:r,onClick:Ye(e.onClick,()=>a.onOpenChange(!1))})});TD.displayName=AD;function m1(e){return e?"open":"closed"}var ED="DialogTitleWarning",[gPe,kD]=c8(ED,{contentName:Rl,titleName:u1,docsSlug:"dialog"}),OW=({titleId:e})=>{const r=kD(ED),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},RW="DialogDescriptionWarning",DW=({contentRef:e,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kD(RW).contentName}}.`;return x.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&a&&(document.getElementById(r)||console.warn(s))},[s,e,r]),null},OD=gD,MW=yD,RD=bD,zg=ND,Bg=wD,Ug=PD,Vg=_D,DD=TD;const IW=OD,$W=RD,MD=x.forwardRef(({className:e,...r},n)=>t.jsx(zg,{className:Ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:n}));MD.displayName=zg.displayName;const LW=Gl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ID=x.forwardRef(({side:e="right",className:r,children:n,...s},a)=>t.jsxs($W,{children:[t.jsx(MD,{}),t.jsxs(Bg,{ref:a,className:Ee(LW({side:e}),r),...s,children:[n,t.jsxs(DD,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[t.jsx(Hd,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ID.displayName=Bg.displayName;const FW=x.forwardRef(({className:e,...r},n)=>t.jsx(Ug,{ref:n,className:Ee("text-lg font-semibold text-foreground",e),...r}));FW.displayName=Ug.displayName;const zW=x.forwardRef(({className:e,...r},n)=>t.jsx(Vg,{ref:n,className:Ee("text-sm text-muted-foreground",e),...r}));zW.displayName=Vg.displayName;function XP({className:e,...r}){return t.jsx("div",{className:Ee("animate-pulse rounded-md bg-muted",e),...r})}const BW="sidebar:state",UW=60*60*24*7,VW="16rem",qW="18rem",WW="3rem",HW="b",$D=x.createContext(null);function Dh(){const e=x.useContext($D);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const LD=x.forwardRef(({defaultOpen:e=!0,open:r,onOpenChange:n,className:s,style:a,children:i,...o},l)=>{const c=Tq(),[d,u]=x.useState(!1),[m,h]=x.useState(e),p=r??m,g=x.useCallback(y=>{const j=typeof y=="function"?y(p):y;n?n(j):h(j),document.cookie=`${BW}=${j}; path=/; max-age=${UW}`},[n,p]),f=x.useCallback(()=>c?u(y=>!y):g(y=>!y),[c,g,u]);x.useEffect(()=>{const y=j=>{j.key===HW&&(j.metaKey||j.ctrlKey)&&(j.preventDefault(),f())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[f]);const v=p?"expanded":"collapsed",b=x.useMemo(()=>({state:v,open:p,setOpen:g,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:f}),[v,p,g,c,d,u,f]);return t.jsx($D.Provider,{value:b,children:t.jsx(RR,{delayDuration:0,children:t.jsx("div",{style:{"--sidebar-width":VW,"--sidebar-width-icon":WW,...a},className:Ee("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",s),ref:l,...o,children:i})})})});LD.displayName="SidebarProvider";const FD=x.forwardRef(({side:e="left",variant:r="sidebar",collapsible:n="offcanvas",className:s,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=Dh();return n==="none"?t.jsx("div",{className:Ee("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",s),ref:o,...i,children:a}):l?t.jsx(IW,{open:d,onOpenChange:u,...i,children:t.jsx(ID,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":qW},side:e,children:t.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):t.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":r,"data-side":e,children:[t.jsx("div",{className:Ee("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),t.jsx("div",{className:Ee("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...i,children:t.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});FD.displayName="Sidebar";const zD=x.forwardRef(({className:e,onClick:r,...n},s)=>{const{toggleSidebar:a}=Dh();return t.jsxs(k,{ref:s,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ee("h-7 w-7",e),onClick:i=>{r==null||r(i),a()},...n,children:[t.jsx(NB,{}),t.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});zD.displayName="SidebarTrigger";const KW=x.forwardRef(({className:e,...r},n)=>{const{toggleSidebar:s}=Dh();return t.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:Ee("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...r})});KW.displayName="SidebarRail";const BD=x.forwardRef(({className:e,...r},n)=>t.jsx("main",{ref:n,className:Ee("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...r}));BD.displayName="SidebarInset";const GW=x.forwardRef(({className:e,...r},n)=>t.jsx(J,{ref:n,"data-sidebar":"input",className:Ee("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...r}));GW.displayName="SidebarInput";const XW=x.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,"data-sidebar":"header",className:Ee("flex flex-col gap-2 p-2",e),...r}));XW.displayName="SidebarHeader";const YW=x.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,"data-sidebar":"footer",className:Ee("flex flex-col gap-2 p-2",e),...r}));YW.displayName="SidebarFooter";const QW=x.forwardRef(({className:e,...r},n)=>t.jsx(La,{ref:n,"data-sidebar":"separator",className:Ee("mx-2 w-auto bg-sidebar-border",e),...r}));QW.displayName="SidebarSeparator";const UD=x.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,"data-sidebar":"content",className:Ee("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...r}));UD.displayName="SidebarContent";const VD=x.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,"data-sidebar":"group",className:Ee("relative flex w-full min-w-0 flex-col p-2",e),...r}));VD.displayName="SidebarGroup";const ZW=x.forwardRef(({className:e,asChild:r=!1,...n},s)=>{const a=r?Vd:"div";return t.jsx(a,{ref:s,"data-sidebar":"group-label",className:Ee("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});ZW.displayName="SidebarGroupLabel";const JW=x.forwardRef(({className:e,asChild:r=!1,...n},s)=>{const a=r?Vd:"button";return t.jsx(a,{ref:s,"data-sidebar":"group-action",className:Ee("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});JW.displayName="SidebarGroupAction";const eH=x.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,"data-sidebar":"group-content",className:Ee("w-full text-sm",e),...r}));eH.displayName="SidebarGroupContent";const qD=x.forwardRef(({className:e,...r},n)=>t.jsx("ul",{ref:n,"data-sidebar":"menu",className:Ee("flex w-full min-w-0 flex-col gap-1",e),...r}));qD.displayName="SidebarMenu";const V0=x.forwardRef(({className:e,...r},n)=>t.jsx("li",{ref:n,"data-sidebar":"menu-item",className:Ee("group/menu-item relative",e),...r}));V0.displayName="SidebarMenuItem";const tH=Gl("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),q0=x.forwardRef(({asChild:e=!1,isActive:r=!1,variant:n="default",size:s="default",tooltip:a,className:i,...o},l)=>{const c=e?Vd:"button",{isMobile:d,state:u}=Dh(),m=t.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":s,"data-active":r,className:Ee(tH({variant:n,size:s}),i),...o});return a?(typeof a=="string"&&(a={children:a}),t.jsxs(A9,{children:[t.jsx(T9,{asChild:!0,children:m}),t.jsx(DR,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):m});q0.displayName="SidebarMenuButton";const rH=x.forwardRef(({className:e,asChild:r=!1,showOnHover:n=!1,...s},a)=>{const i=r?Vd:"button";return t.jsx(i,{ref:a,"data-sidebar":"menu-action",className:Ee("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...s})});rH.displayName="SidebarMenuAction";const nH=x.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:Ee("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...r}));nH.displayName="SidebarMenuBadge";const sH=x.forwardRef(({className:e,showIcon:r=!1,...n},s)=>{const a=x.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return t.jsxs("div",{ref:s,"data-sidebar":"menu-skeleton",className:Ee("flex h-8 items-center gap-2 rounded-md px-2",e),...n,children:[r&&t.jsx(XP,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),t.jsx(XP,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});sH.displayName="SidebarMenuSkeleton";const WD=x.forwardRef(({className:e,...r},n)=>t.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:Ee("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...r}));WD.displayName="SidebarMenuSub";const HD=x.forwardRef(({...e},r)=>t.jsx("li",{ref:r,...e}));HD.displayName="SidebarMenuSubItem";const KD=x.forwardRef(({asChild:e=!1,size:r="md",isActive:n,className:s,...a},i)=>{const o=e?Vd:"a";return t.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":r,"data-active":n,className:Ee("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",r==="sm"&&"text-xs",r==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",s),...a})});KD.displayName="SidebarMenuSubButton";function GD(e,r){return function(){return e.apply(r,arguments)}}const{toString:aH}=Object.prototype,{getPrototypeOf:h1}=Object,{iterator:qg,toStringTag:XD}=Symbol,Wg=(e=>r=>{const n=aH.call(r);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Sa=e=>(e=e.toLowerCase(),r=>Wg(r)===e),Hg=e=>r=>typeof r===e,{isArray:Zd}=Array,dd=Hg("undefined");function Mh(e){return e!==null&&!dd(e)&&e.constructor!==null&&!dd(e.constructor)&&is(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const YD=Sa("ArrayBuffer");function iH(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&YD(e.buffer),r}const oH=Hg("string"),is=Hg("function"),QD=Hg("number"),Ih=e=>e!==null&&typeof e=="object",lH=e=>e===!0||e===!1,lp=e=>{if(Wg(e)!=="object")return!1;const r=h1(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(XD in e)&&!(qg in e)},cH=e=>{if(!Ih(e)||Mh(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},dH=Sa("Date"),uH=Sa("File"),mH=Sa("Blob"),hH=Sa("FileList"),fH=e=>Ih(e)&&is(e.pipe),pH=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||is(e.append)&&((r=Wg(e))==="formdata"||r==="object"&&is(e.toString)&&e.toString()==="[object FormData]"))},xH=Sa("URLSearchParams"),[gH,vH,yH,jH]=["ReadableStream","Request","Response","Headers"].map(Sa),bH=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $h(e,r,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Zd(e))for(s=0,a=e.length;s<a;s++)r.call(null,e[s],s,e);else{if(Mh(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],r.call(null,e[l],l,e)}}function ZD(e,r){if(Mh(e))return null;r=r.toLowerCase();const n=Object.keys(e);let s=n.length,a;for(;s-- >0;)if(a=n[s],r===a.toLowerCase())return a;return null}const ll=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,JD=e=>!dd(e)&&e!==ll;function W0(){const{caseless:e,skipUndefined:r}=JD(this)&&this||{},n={},s=(a,i)=>{const o=e&&ZD(n,i)||i;lp(n[o])&&lp(a)?n[o]=W0(n[o],a):lp(a)?n[o]=W0({},a):Zd(a)?n[o]=a.slice():(!r||!dd(a))&&(n[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&$h(arguments[a],s);return n}const NH=(e,r,n,{allOwnKeys:s}={})=>($h(r,(a,i)=>{n&&is(a)?e[i]=GD(a,n):e[i]=a},{allOwnKeys:s}),e),wH=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),SH=(e,r,n,s)=>{e.prototype=Object.create(r.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),n&&Object.assign(e.prototype,n)},PH=(e,r,n,s)=>{let a,i,o;const l={};if(r=r||{},e==null)return r;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,r))&&!l[o]&&(r[o]=e[o],l[o]=!0);e=n!==!1&&h1(e)}while(e&&(!n||n(e,r))&&e!==Object.prototype);return r},CH=(e,r,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=r.length;const s=e.indexOf(r,n);return s!==-1&&s===n},_H=e=>{if(!e)return null;if(Zd(e))return e;let r=e.length;if(!QD(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=e[r];return n},AH=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&h1(Uint8Array)),TH=(e,r)=>{const s=(e&&e[qg]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;r.call(e,i[0],i[1])}},EH=(e,r)=>{let n;const s=[];for(;(n=e.exec(r))!==null;)s.push(n);return s},kH=Sa("HTMLFormElement"),OH=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),YP=(({hasOwnProperty:e})=>(r,n)=>e.call(r,n))(Object.prototype),RH=Sa("RegExp"),eM=(e,r)=>{const n=Object.getOwnPropertyDescriptors(e),s={};$h(n,(a,i)=>{let o;(o=r(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},DH=e=>{eM(e,(r,n)=>{if(is(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(is(s)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},MH=(e,r)=>{const n={},s=a=>{a.forEach(i=>{n[i]=!0})};return Zd(e)?s(e):s(String(e).split(r)),n},IH=()=>{},$H=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function LH(e){return!!(e&&is(e.append)&&e[XD]==="FormData"&&e[qg])}const FH=e=>{const r=new Array(10),n=(s,a)=>{if(Ih(s)){if(r.indexOf(s)>=0)return;if(Mh(s))return s;if(!("toJSON"in s)){r[a]=s;const i=Zd(s)?[]:{};return $h(s,(o,l)=>{const c=n(o,a+1);!dd(c)&&(i[l]=c)}),r[a]=void 0,i}}return s};return n(e,0)},zH=Sa("AsyncFunction"),BH=e=>e&&(Ih(e)||is(e))&&is(e.then)&&is(e.catch),tM=((e,r)=>e?setImmediate:r?((n,s)=>(ll.addEventListener("message",({source:a,data:i})=>{a===ll&&i===n&&s.length&&s.shift()()},!1),a=>{s.push(a),ll.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",is(ll.postMessage)),UH=typeof queueMicrotask<"u"?queueMicrotask.bind(ll):typeof process<"u"&&process.nextTick||tM,VH=e=>e!=null&&is(e[qg]),me={isArray:Zd,isArrayBuffer:YD,isBuffer:Mh,isFormData:pH,isArrayBufferView:iH,isString:oH,isNumber:QD,isBoolean:lH,isObject:Ih,isPlainObject:lp,isEmptyObject:cH,isReadableStream:gH,isRequest:vH,isResponse:yH,isHeaders:jH,isUndefined:dd,isDate:dH,isFile:uH,isBlob:mH,isRegExp:RH,isFunction:is,isStream:fH,isURLSearchParams:xH,isTypedArray:AH,isFileList:hH,forEach:$h,merge:W0,extend:NH,trim:bH,stripBOM:wH,inherits:SH,toFlatObject:PH,kindOf:Wg,kindOfTest:Sa,endsWith:CH,toArray:_H,forEachEntry:TH,matchAll:EH,isHTMLForm:kH,hasOwnProperty:YP,hasOwnProp:YP,reduceDescriptors:eM,freezeMethods:DH,toObjectSet:MH,toCamelCase:OH,noop:IH,toFiniteNumber:$H,findKey:ZD,global:ll,isContextDefined:JD,isSpecCompliantForm:LH,toJSONObject:FH,isAsyncFn:zH,isThenable:BH,setImmediate:tM,asap:UH,isIterable:VH};function jt(e,r,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}me.inherits(jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const rM=jt.prototype,nM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nM[e]={value:e}});Object.defineProperties(jt,nM);Object.defineProperty(rM,"isAxiosError",{value:!0});jt.from=(e,r,n,s,a,i)=>{const o=Object.create(rM);me.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=r==null&&e?e.code:r;return jt.call(o,l,c,n,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const qH=null;function H0(e){return me.isPlainObject(e)||me.isArray(e)}function sM(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function QP(e,r,n){return e?e.concat(r).map(function(a,i){return a=sM(a),!n&&i?"["+a+"]":a}).join(n?".":""):r}function WH(e){return me.isArray(e)&&!e.some(H0)}const HH=me.toFlatObject(me,{},null,function(r){return/^is[A-Z]/.test(r)});function Kg(e,r,n){if(!me.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,n=me.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,v){return!me.isUndefined(v[f])});const s=n.metaTokens,a=n.visitor||u,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(r);if(!me.isFunction(a))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(me.isDate(g))return g.toISOString();if(me.isBoolean(g))return g.toString();if(!c&&me.isBlob(g))throw new jt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(g)||me.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,f,v){let b=g;if(g&&!v&&typeof g=="object"){if(me.endsWith(f,"{}"))f=s?f:f.slice(0,-2),g=JSON.stringify(g);else if(me.isArray(g)&&WH(g)||(me.isFileList(g)||me.endsWith(f,"[]"))&&(b=me.toArray(g)))return f=sM(f),b.forEach(function(j,C){!(me.isUndefined(j)||j===null)&&r.append(o===!0?QP([f],C,i):o===null?f:f+"[]",d(j))}),!1}return H0(g)?!0:(r.append(QP(v,f,i),d(g)),!1)}const m=[],h=Object.assign(HH,{defaultVisitor:u,convertValue:d,isVisitable:H0});function p(g,f){if(!me.isUndefined(g)){if(m.indexOf(g)!==-1)throw Error("Circular reference detected in "+f.join("."));m.push(g),me.forEach(g,function(b,y){(!(me.isUndefined(b)||b===null)&&a.call(r,b,me.isString(y)?y.trim():y,f,h))===!0&&p(b,f?f.concat(y):[y])}),m.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return p(e),r}function ZP(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return r[s]})}function f1(e,r){this._pairs=[],e&&Kg(e,this,r)}const aM=f1.prototype;aM.append=function(r,n){this._pairs.push([r,n])};aM.toString=function(r){const n=r?function(s){return r.call(this,s,ZP)}:ZP;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function KH(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function iM(e,r,n){if(!r)return e;const s=n&&n.encode||KH;me.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(r,n):i=me.isURLSearchParams(r)?r.toString():new f1(r,n).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class JP{constructor(){this.handlers=[]}use(r,n,s){return this.handlers.push({fulfilled:r,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){me.forEach(this.handlers,function(s){s!==null&&r(s)})}}const oM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GH=typeof URLSearchParams<"u"?URLSearchParams:f1,XH=typeof FormData<"u"?FormData:null,YH=typeof Blob<"u"?Blob:null,QH={isBrowser:!0,classes:{URLSearchParams:GH,FormData:XH,Blob:YH},protocols:["http","https","file","blob","url","data"]},p1=typeof window<"u"&&typeof document<"u",K0=typeof navigator=="object"&&navigator||void 0,ZH=p1&&(!K0||["ReactNative","NativeScript","NS"].indexOf(K0.product)<0),JH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eK=p1&&window.location.href||"http://localhost",tK=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:p1,hasStandardBrowserEnv:ZH,hasStandardBrowserWebWorkerEnv:JH,navigator:K0,origin:eK},Symbol.toStringTag,{value:"Module"})),kn={...tK,...QH};function rK(e,r){return Kg(e,new kn.classes.URLSearchParams,{visitor:function(n,s,a,i){return kn.isNode&&me.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function nK(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function sK(e){const r={},n=Object.keys(e);let s;const a=n.length;let i;for(s=0;s<a;s++)i=n[s],r[i]=e[i];return r}function lM(e){function r(n,s,a,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&me.isArray(a)?a.length:o,c?(me.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!me.isObject(a[o]))&&(a[o]=[]),r(n,s,a[o],i)&&me.isArray(a[o])&&(a[o]=sK(a[o])),!l)}if(me.isFormData(e)&&me.isFunction(e.entries)){const n={};return me.forEachEntry(e,(s,a)=>{r(nK(s),a,n,0)}),n}return null}function aK(e,r,n){if(me.isString(e))try{return(r||JSON.parse)(e),me.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(e)}const Lh={transitional:oM,adapter:["xhr","http","fetch"],transformRequest:[function(r,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,i=me.isObject(r);if(i&&me.isHTMLForm(r)&&(r=new FormData(r)),me.isFormData(r))return a?JSON.stringify(lM(r)):r;if(me.isArrayBuffer(r)||me.isBuffer(r)||me.isStream(r)||me.isFile(r)||me.isBlob(r)||me.isReadableStream(r))return r;if(me.isArrayBufferView(r))return r.buffer;if(me.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return rK(r,this.formSerializer).toString();if((l=me.isFileList(r))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Kg(l?{"files[]":r}:r,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),aK(r)):r}],transformResponse:[function(r){const n=this.transitional||Lh.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(me.isResponse(r)||me.isReadableStream(r))return r;if(r&&me.isString(r)&&(s&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(r,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?jt.from(l,jt.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kn.classes.FormData,Blob:kn.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{Lh.headers[e]={}});const iK=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oK=e=>{const r={};let n,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!n||r[n]&&iK[n])&&(n==="set-cookie"?r[n]?r[n].push(s):r[n]=[s]:r[n]=r[n]?r[n]+", "+s:s)}),r},eC=Symbol("internals");function _u(e){return e&&String(e).trim().toLowerCase()}function cp(e){return e===!1||e==null?e:me.isArray(e)?e.map(cp):String(e)}function lK(e){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)r[s[1]]=s[2];return r}const cK=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Uy(e,r,n,s,a){if(me.isFunction(s))return s.call(this,r,n);if(a&&(r=n),!!me.isString(r)){if(me.isString(s))return r.indexOf(s)!==-1;if(me.isRegExp(s))return s.test(r)}}function dK(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,s)=>n.toUpperCase()+s)}function uK(e,r){const n=me.toCamelCase(" "+r);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(a,i,o){return this[s].call(this,r,a,i,o)},configurable:!0})})}class os{constructor(r){r&&this.set(r)}set(r,n,s){const a=this;function i(l,c,d){const u=_u(c);if(!u)throw new Error("header name must be a non-empty string");const m=me.findKey(a,u);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=cp(l))}const o=(l,c)=>me.forEach(l,(d,u)=>i(d,u,c));if(me.isPlainObject(r)||r instanceof this.constructor)o(r,n);else if(me.isString(r)&&(r=r.trim())&&!cK(r))o(oK(r),n);else if(me.isObject(r)&&me.isIterable(r)){let l={},c,d;for(const u of r){if(!me.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?me.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,n)}else r!=null&&i(n,r,s);return this}get(r,n){if(r=_u(r),r){const s=me.findKey(this,r);if(s){const a=this[s];if(!n)return a;if(n===!0)return lK(a);if(me.isFunction(n))return n.call(this,a,s);if(me.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=_u(r),r){const s=me.findKey(this,r);return!!(s&&this[s]!==void 0&&(!n||Uy(this,this[s],s,n)))}return!1}delete(r,n){const s=this;let a=!1;function i(o){if(o=_u(o),o){const l=me.findKey(s,o);l&&(!n||Uy(s,s[l],l,n))&&(delete s[l],a=!0)}}return me.isArray(r)?r.forEach(i):i(r),a}clear(r){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const i=n[s];(!r||Uy(this,this[i],i,r,!0))&&(delete this[i],a=!0)}return a}normalize(r){const n=this,s={};return me.forEach(this,(a,i)=>{const o=me.findKey(s,i);if(o){n[o]=cp(a),delete n[i];return}const l=r?dK(i):String(i).trim();l!==i&&delete n[i],n[l]=cp(a),s[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return me.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=r&&me.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const s=new this(r);return n.forEach(a=>s.set(a)),s}static accessor(r){const s=(this[eC]=this[eC]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=_u(o);s[l]||(uK(a,o),s[l]=!0)}return me.isArray(r)?r.forEach(i):i(r),this}}os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(os.prototype,({value:e},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(s){this[n]=s}}});me.freezeMethods(os);function Vy(e,r){const n=this||Lh,s=r||n,a=os.from(s.headers);let i=s.data;return me.forEach(e,function(l){i=l.call(n,i,a.normalize(),r?r.status:void 0)}),a.normalize(),i}function cM(e){return!!(e&&e.__CANCEL__)}function Jd(e,r,n){jt.call(this,e??"canceled",jt.ERR_CANCELED,r,n),this.name="CanceledError"}me.inherits(Jd,jt,{__CANCEL__:!0});function dM(e,r,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):r(new jt("Request failed with status code "+n.status,[jt.ERR_BAD_REQUEST,jt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mK(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function hK(e,r){e=e||10;const n=new Array(e),s=new Array(e);let a=0,i=0,o;return r=r!==void 0?r:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),n[a]=c,s[a]=d;let m=i,h=0;for(;m!==a;)h+=n[m++],m=m%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<r)return;const p=u&&d-u;return p?Math.round(h*1e3/p):void 0}}function fK(e,r){let n=0,s=1e3/r,a,i;const o=(d,u=Date.now())=>{n=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),m=u-n;m>=s?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},s-m)))},()=>a&&o(a)]}const Yp=(e,r,n=3)=>{let s=0;const a=hK(50,250);return fK(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=a(c),u=o<=l;s=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[r?"download":"upload"]:!0};e(m)},n)},tC=(e,r)=>{const n=e!=null;return[s=>r[0]({lengthComputable:n,total:e,loaded:s}),r[1]]},rC=e=>(...r)=>me.asap(()=>e(...r)),pK=kn.hasStandardBrowserEnv?((e,r)=>n=>(n=new URL(n,kn.origin),e.protocol===n.protocol&&e.host===n.host&&(r||e.port===n.port)))(new URL(kn.origin),kn.navigator&&/(msie|trident)/i.test(kn.navigator.userAgent)):()=>!0,xK=kn.hasStandardBrowserEnv?{write(e,r,n,s,a,i){const o=[e+"="+encodeURIComponent(r)];me.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),me.isString(s)&&o.push("path="+s),me.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gK(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vK(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function uM(e,r,n){let s=!gK(r);return e&&(s||n==!1)?vK(e,r):r}const nC=e=>e instanceof os?{...e}:e;function Dl(e,r){r=r||{};const n={};function s(d,u,m,h){return me.isPlainObject(d)&&me.isPlainObject(u)?me.merge.call({caseless:h},d,u):me.isPlainObject(u)?me.merge({},u):me.isArray(u)?u.slice():u}function a(d,u,m,h){if(me.isUndefined(u)){if(!me.isUndefined(d))return s(void 0,d,m,h)}else return s(d,u,m,h)}function i(d,u){if(!me.isUndefined(u))return s(void 0,u)}function o(d,u){if(me.isUndefined(u)){if(!me.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,m){if(m in r)return s(d,u);if(m in e)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,m)=>a(nC(d),nC(u),m,!0)};return me.forEach(Object.keys({...e,...r}),function(u){const m=c[u]||a,h=m(e[u],r[u],u);me.isUndefined(h)&&m!==l||(n[u]=h)}),n}const mM=e=>{const r=Dl({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=r;if(r.headers=o=os.from(o),r.url=iM(uM(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),me.isFormData(n)){if(kn.hasStandardBrowserEnv||kn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(me.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&o.set(u,m)})}}if(kn.hasStandardBrowserEnv&&(s&&me.isFunction(s)&&(s=s(r)),s||s!==!1&&pK(r.url))){const c=a&&i&&xK.read(i);c&&o.set(a,c)}return r},yK=typeof XMLHttpRequest<"u",jK=yK&&function(e){return new Promise(function(n,s){const a=mM(e);let i=a.data;const o=os.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,m,h,p,g;function f(){p&&p(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function b(){if(!v)return;const j=os.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:j,config:e,request:v};dM(function(P){n(P),f()},function(P){s(P),f()},S),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(s(new jt("Request aborted",jt.ECONNABORTED,e,v)),v=null)},v.onerror=function(C){const S=C&&C.message?C.message:"Network Error",N=new jt(S,jt.ERR_NETWORK,e,v);N.event=C||null,s(N),v=null},v.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||oM;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),s(new jt(C,S.clarifyTimeoutError?jt.ETIMEDOUT:jt.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&me.forEach(o.toJSON(),function(C,S){v.setRequestHeader(S,C)}),me.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),d&&([h,g]=Yp(d,!0),v.addEventListener("progress",h)),c&&v.upload&&([m,p]=Yp(c),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(u=j=>{v&&(s(!j||j.type?new Jd(null,e,v):j),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=mK(a.url);if(y&&kn.protocols.indexOf(y)===-1){s(new jt("Unsupported protocol "+y+":",jt.ERR_BAD_REQUEST,e));return}v.send(i||null)})},bK=(e,r)=>{const{length:n}=e=e?e.filter(Boolean):[];if(r||n){let s=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof jt?u:new Jd(u instanceof Error?u.message:u))}};let o=r&&setTimeout(()=>{o=null,i(new jt(`timeout ${r} of ms exceeded`,jt.ETIMEDOUT))},r);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>me.asap(l),c}},NK=function*(e,r){let n=e.byteLength;if(n<r){yield e;return}let s=0,a;for(;s<n;)a=s+r,yield e.slice(s,a),s=a},wK=async function*(e,r){for await(const n of SK(e))yield*NK(n,r)},SK=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:n,value:s}=await r.read();if(n)break;yield s}}finally{await r.cancel()}},sC=(e,r,n,s)=>{const a=wK(e,r);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let m=u.byteLength;if(n){let h=i+=m;n(h)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},aC=64*1024,{isFunction:Sf}=me,hM=(({fetch:e,Request:r,Response:n})=>({fetch:e,Request:r,Response:n}))(me.global),{ReadableStream:iC,TextEncoder:oC}=me.global,lC=(e,...r)=>{try{return!!e(...r)}catch{return!1}},PK=e=>{const{fetch:r,Request:n,Response:s}=Object.assign({},hM,e),a=Sf(r),i=Sf(n),o=Sf(s);if(!a)return!1;const l=a&&Sf(iC),c=a&&(typeof oC=="function"?(g=>f=>g.encode(f))(new oC):async g=>new Uint8Array(await new n(g).arrayBuffer())),d=i&&l&&lC(()=>{let g=!1;const f=new n(kn.origin,{body:new iC,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!f}),u=o&&l&&lC(()=>me.isReadableStream(new s("").body)),m={stream:u&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!m[g]&&(m[g]=(f,v)=>{let b=f&&f[g];if(b)return b.call(f);throw new jt(`Response type '${g}' is not supported`,jt.ERR_NOT_SUPPORT,v)})});const h=async g=>{if(g==null)return 0;if(me.isBlob(g))return g.size;if(me.isSpecCompliantForm(g))return(await new n(kn.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(me.isArrayBufferView(g)||me.isArrayBuffer(g))return g.byteLength;if(me.isURLSearchParams(g)&&(g=g+""),me.isString(g))return(await c(g)).byteLength},p=async(g,f)=>{const v=me.toFiniteNumber(g.getContentLength());return v??h(f)};return async g=>{let{url:f,method:v,data:b,signal:y,cancelToken:j,timeout:C,onDownloadProgress:S,onUploadProgress:N,responseType:P,headers:_,withCredentials:w="same-origin",fetchOptions:A}=mM(g);P=P?(P+"").toLowerCase():"text";let D=bK([y,j&&j.toAbortSignal()],C),O=null;const $=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let U;try{if(N&&d&&v!=="get"&&v!=="head"&&(U=await p(_,b))!==0){let te=new n(f,{method:"POST",body:b,duplex:"half"}),de;if(me.isFormData(b)&&(de=te.headers.get("content-type"))&&_.setContentType(de),te.body){const[ie,fe]=tC(U,Yp(rC(N)));b=sC(te.body,aC,ie,fe)}}me.isString(w)||(w=w?"include":"omit");const V=i&&"credentials"in n.prototype,R={...A,signal:D,method:v.toUpperCase(),headers:_.normalize().toJSON(),body:b,duplex:"half",credentials:V?w:void 0};O=i&&new n(f,R);let X=await(i?r(O,A):r(f,R));const z=u&&(P==="stream"||P==="response");if(u&&(S||z&&$)){const te={};["status","statusText","headers"].forEach(ge=>{te[ge]=X[ge]});const de=me.toFiniteNumber(X.headers.get("content-length")),[ie,fe]=S&&tC(de,Yp(rC(S),!0))||[];X=new s(sC(X.body,aC,ie,()=>{fe&&fe(),$&&$()}),te)}P=P||"text";let F=await m[me.findKey(m,P)||"text"](X,g);return!z&&$&&$(),await new Promise((te,de)=>{dM(te,de,{data:F,headers:os.from(X.headers),status:X.status,statusText:X.statusText,config:g,request:O})})}catch(V){throw $&&$(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new jt("Network Error",jt.ERR_NETWORK,g,O),{cause:V.cause||V}):jt.from(V,V&&V.code,g,O)}}},CK=new Map,fM=e=>{let r=me.merge.call({skipUndefined:!0},hM,e?e.env:null);const{fetch:n,Request:s,Response:a}=r,i=[s,a,n];let o=i.length,l=o,c,d,u=CK;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:PK(r)),u=d;return d};fM();const G0={http:qH,xhr:jK,fetch:{get:fM}};me.forEach(G0,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const cC=e=>`- ${e}`,_K=e=>me.isFunction(e)||e===null||e===!1,pM={getAdapter:(e,r)=>{e=me.isArray(e)?e:[e];const{length:n}=e;let s,a;const i={};for(let o=0;o<n;o++){s=e[o];let l;if(a=s,!_K(s)&&(a=G0[(l=String(s)).toLowerCase()],a===void 0))throw new jt(`Unknown adapter '${l}'`);if(a&&(me.isFunction(a)||(a=a.get(r))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(cC).join(`
`):" "+cC(o[0]):"as no adapter specified";throw new jt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:G0};function qy(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Jd(null,e)}function dC(e){return qy(e),e.headers=os.from(e.headers),e.data=Vy.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pM.getAdapter(e.adapter||Lh.adapter,e)(e).then(function(s){return qy(e),s.data=Vy.call(e,e.transformResponse,s),s.headers=os.from(s.headers),s},function(s){return cM(s)||(qy(e),s&&s.response&&(s.response.data=Vy.call(e,e.transformResponse,s.response),s.response.headers=os.from(s.response.headers))),Promise.reject(s)})}const xM="1.12.1",Gg={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{Gg[e]=function(s){return typeof s===e||"a"+(r<1?"n ":" ")+e}});const uC={};Gg.transitional=function(r,n,s){function a(i,o){return"[Axios v"+xM+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(r===!1)throw new jt(a(o," has been removed"+(n?" in "+n:"")),jt.ERR_DEPRECATED);return n&&!uC[o]&&(uC[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(i,o,l):!0}};Gg.spelling=function(r){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${r}`),!0)};function AK(e,r,n){if(typeof e!="object")throw new jt("options must be an object",jt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=r[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new jt("option "+i+" must be "+c,jt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new jt("Unknown option "+i,jt.ERR_BAD_OPTION)}}const dp={assertOptions:AK,validators:Gg},Aa=dp.validators;class Nl{constructor(r){this.defaults=r||{},this.interceptors={request:new JP,response:new JP}}async request(r,n){try{return await this._request(r,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=Dl(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:i}=n;s!==void 0&&dp.assertOptions(s,{silentJSONParsing:Aa.transitional(Aa.boolean),forcedJSONParsing:Aa.transitional(Aa.boolean),clarifyTimeoutError:Aa.transitional(Aa.boolean)},!1),a!=null&&(me.isFunction(a)?n.paramsSerializer={serialize:a}:dp.assertOptions(a,{encode:Aa.function,serialize:Aa.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),dp.assertOptions(n,{baseUrl:Aa.spelling("baseURL"),withXsrfToken:Aa.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&me.merge(i.common,i[n.method]);i&&me.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=os.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(n)===!1||(c=c&&f.synchronous,l.unshift(f.fulfilled,f.rejected))});const d=[];this.interceptors.response.forEach(function(f){d.push(f.fulfilled,f.rejected)});let u,m=0,h;if(!c){const g=[dC.bind(this),void 0];for(g.unshift(...l),g.push(...d),h=g.length,u=Promise.resolve(n);m<h;)u=u.then(g[m++],g[m++]);return u}h=l.length;let p=n;for(m=0;m<h;){const g=l[m++],f=l[m++];try{p=g(p)}catch(v){f.call(this,v);break}}try{u=dC.call(this,p)}catch(g){return Promise.reject(g)}for(m=0,h=d.length;m<h;)u=u.then(d[m++],d[m++]);return u}getUri(r){r=Dl(this.defaults,r);const n=uM(r.baseURL,r.url,r.allowAbsoluteUrls);return iM(n,r.params,r.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(r){Nl.prototype[r]=function(n,s){return this.request(Dl(s||{},{method:r,url:n,data:(s||{}).data}))}});me.forEach(["post","put","patch"],function(r){function n(s){return function(i,o,l){return this.request(Dl(l||{},{method:r,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Nl.prototype[r]=n(),Nl.prototype[r+"Form"]=n(!0)});class x1{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},r(function(i,o,l){s.reason||(s.reason=new Jd(i,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=s=>{r.abort(s)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new x1(function(a){r=a}),cancel:r}}}function TK(e){return function(n){return e.apply(null,n)}}function EK(e){return me.isObject(e)&&e.isAxiosError===!0}const X0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(X0).forEach(([e,r])=>{X0[r]=e});function gM(e){const r=new Nl(e),n=GD(Nl.prototype.request,r);return me.extend(n,Nl.prototype,r,{allOwnKeys:!0}),me.extend(n,r,null,{allOwnKeys:!0}),n.create=function(a){return gM(Dl(e,a))},n}const Fr=gM(Lh);Fr.Axios=Nl;Fr.CanceledError=Jd;Fr.CancelToken=x1;Fr.isCancel=cM;Fr.VERSION=xM;Fr.toFormData=Kg;Fr.AxiosError=jt;Fr.Cancel=Fr.CanceledError;Fr.all=function(r){return Promise.all(r)};Fr.spread=TK;Fr.isAxiosError=EK;Fr.mergeConfig=Dl;Fr.AxiosHeaders=os;Fr.formToJSON=e=>lM(me.isHTMLForm(e)?new FormData(e):e);Fr.getAdapter=pM.getAdapter;Fr.HttpStatusCode=X0;Fr.default=Fr;const kK=Object.freeze(Object.defineProperty({__proto__:null,default:Fr},Symbol.toStringTag,{value:"Module"})),Qp="https://drpharmas.com/backend",Ve=Fr.create({baseURL:Qp,timeout:1e4,headers:{"Content-Type":"application/json"}});Ve.interceptors.request.use(e=>{const r=localStorage.getItem("access_token");return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e));Ve.interceptors.response.use(e=>e,async e=>{var n;const r=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!r._retry){r._retry=!0;try{const s=localStorage.getItem("refresh_token");if(s){const a=await Fr.post(`${Qp}/auth/token/refresh/`,{refresh:s}),{access:i,refresh:o}=a.data;return localStorage.setItem("access_token",i),localStorage.setItem("refresh_token",o),r.headers.Authorization=`Bearer ${i}`,Ve(r)}}catch{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("currentUser"),window.location.href="/login"}}return Promise.reject(e)});const vM={login:async(e,r)=>{var s,a,i,o,l;console.log("🔍 LOGIN DEBUG - Starting login process"),console.log("📧 Email:",e),console.log("🔑 Password length:",r==null?void 0:r.length),console.log("🌐 API Base URL:",Qp),console.log("📍 Full URL:",`${Qp}/auth/login/`);const n={email:e,password:r};console.log("📤 Request data:",n);try{const c=await Ve.post("/auth/login/",n);return console.log("✅ Response received:",c),console.log("📊 Response status:",c.status),console.log("📋 Response data:",c.data),c.data.user&&c.data.tokens?{success:!0,data:{user:c.data.user,tokens:c.data.tokens},message:c.data.message||"Login successful"}:c.data}catch(c){throw console.error("❌ LOGIN ERROR - Full error object:",c),console.error("📊 Error status:",(s=c.response)==null?void 0:s.status),console.error("📋 Error data:",(a=c.response)==null?void 0:a.data),console.error("📍 Error config:",c.config),console.error("🌐 Request URL:",(i=c.config)==null?void 0:i.url),console.error("📤 Request data:",(o=c.config)==null?void 0:o.data),console.error("📋 Request headers:",(l=c.config)==null?void 0:l.headers),c}},register:async e=>(await Ve.post("/auth/register/",e)).data,logout:async()=>(await Ve.post("/auth/logout/")).data,refreshToken:async e=>(await Ve.post("/auth/token/refresh/",{refresh:e})).data,getProfile:async()=>(await Ve.get("/auth/profile/")).data,updateProfile:async e=>(await Ve.put("/auth/profile/",e)).data,changePassword:async(e,r)=>(await Ve.post("/auth/change-password/",{old_password:e,new_password:r,new_password_confirm:r})).data,validateToken:async()=>{var e,r;try{return{success:!0,data:(await Ve.get("/auth/profile/")).data,message:"Token is valid"}}catch(n){return{success:!1,message:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Token validation failed"}}}},vn={getOrganizations:async e=>{const r=await Ve.get("/organizations/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} organizations`}:r.data},getOrganization:async e=>({success:!0,data:(await Ve.get(`/organizations/${e}/`)).data,message:"Organization retrieved successfully"}),createOrganization:async e=>{const r=await Ve.post("/organizations/",e);return r.data&&r.data.organization?{success:!0,data:r.data.organization,message:r.data.message||"Organization created successfully"}:r.data&&r.data.id?{success:!0,data:r.data,message:"Organization created successfully"}:r.data},updateOrganization:async(e,r)=>(await Ve.put(`/organizations/${e}/`,r)).data,deleteOrganization:async e=>(await Ve.delete(`/organizations/${e}/`)).data,createOrganizationWithOwner:async e=>(await Ve.post("/organizations/create-with-owner/",e)).data,getBranches:async e=>(await Ve.get("/organizations/branches/",{params:e})).data,getBranch:async e=>(await Ve.get(`/organizations/branches/${e}/`)).data,createBranch:async e=>(await Ve.post("/organizations/branches/",e)).data,updateBranch:async(e,r)=>(await Ve.put(`/organizations/branches/${e}/`,r)).data,deleteBranch:async e=>(await Ve.delete(`/organizations/branches/${e}/`)).data,getStats:async()=>(await Ve.get("/organizations/stats/")).data,getDashboardStats:async()=>(await Ve.get("/organizations/stats/")).data,createDefaultBranch:async()=>(await Ve.post("/organizations/create-default-branch/")).data},Mr={getUsers:async e=>{const r=await Ve.get("/auth/users/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} users`}:Array.isArray(r.data)?{success:!0,data:r.data,message:`Found ${r.data.length} users`}:r.data},getUser:async e=>(await Ve.get(`/auth/users/${e}/`)).data,createUser:async e=>{const r=await Ve.post("/auth/users/",e);return r.data&&r.data.user&&r.data.user.id?{success:!0,data:r.data.user,message:r.data.message||"User created successfully"}:r.data&&r.data.id?{success:!0,data:r.data,message:"User created successfully"}:r.data},updateUser:async(e,r)=>({success:!0,data:(await Ve.put(`/auth/users/${e}/`,r)).data,message:"User updated successfully"}),deleteUser:async e=>(await Ve.delete(`/auth/users/${e}/`)).data,getPermissions:async()=>(await Ve.get("/auth/permissions/")).data,getStats:async()=>(await Ve.get("/auth/stats/")).data,getAvailableModules:async()=>({success:!0,data:(await Ve.get("/auth/modules/")).data,message:"Available modules retrieved successfully"}),getUserModulePermissions:async e=>({success:!0,data:(await Ve.get(`/auth/users/${e}/module-permissions/`)).data,message:"User permissions retrieved successfully"}),updateUserModulePermissions:async(e,r)=>({success:!0,data:(await Ve.post(`/auth/users/${e}/update-permissions/`,{permissions:r})).data,message:"Permissions updated successfully"}),changeUserPassword:async(e,r)=>({success:!0,data:(await Ve.post(`/auth/users/${e}/change-password/`,r)).data,message:"Password changed successfully"})},fs={getMedications:async e=>{const r=await Ve.get("/inventory/medications/",{params:e});return r.data&&r.data.results?{success:!0,data:{results:r.data.results,count:r.data.count,next:r.data.next,previous:r.data.previous},message:`Found ${r.data.count} medications`}:r.data},getMedication:async e=>({success:!0,data:(await Ve.get(`/inventory/products/${e}/`)).data,message:"Medication retrieved successfully"}),createMedication:async e=>({success:!0,data:(await Ve.post("/inventory/products/",e)).data,message:"Medication created successfully"}),updateMedication:async(e,r)=>({success:!0,data:(await Ve.put(`/inventory/products/${e}/`,r)).data,message:"Medication updated successfully"}),deleteMedication:async e=>(await Ve.delete(`/inventory/products/${e}/`),{success:!0,data:null,message:"Medication deleted successfully"}),bulkCreateMedications:async e=>({success:!0,data:(await Ve.post("/inventory/products/bulk_create/",{medications:e})).data,message:`${e.length} medications created successfully`}),bulkUploadMedications:async e=>{const r=new FormData;r.append("file",e);const n=await Ve.post("/inventory/medications/bulk-upload/",r,{headers:{"Content-Type":"multipart/form-data"}});return{success:!0,data:n.data,message:n.data.message||"File uploaded successfully"}},getMedicationStats:async()=>({success:!0,data:(await Ve.get("/inventory/medications/stats/")).data,message:"Statistics retrieved successfully"}),getCategories:async e=>{const r=await Ve.get("/inventory/categories/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} categories`}:Array.isArray(r.data)?{success:!0,data:r.data,message:`Found ${r.data.length} categories`}:r.data},createCategory:async e=>({success:!0,data:(await Ve.post("/inventory/categories/",e)).data,message:"Category created successfully"}),updateCategory:async(e,r)=>({success:!0,data:(await Ve.put(`/inventory/categories/${e}/`,r)).data,message:"Category updated successfully"}),deleteCategory:async e=>(await Ve.delete(`/inventory/categories/${e}/`),{success:!0,message:"Category deleted successfully"}),getManufacturers:async e=>{const r=await Ve.get("/inventory/manufacturers/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} manufacturers`}:Array.isArray(r.data)?{success:!0,data:r.data,message:`Found ${r.data.length} manufacturers`}:r.data},createManufacturer:async e=>({success:!0,data:(await Ve.post("/inventory/manufacturers/",e)).data,message:"Manufacturer created successfully"})},Wy={getPatients:async e=>{const r=await Ve.get("/patients/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} patients`}:Array.isArray(r.data)?{success:!0,data:r.data,message:`Found ${r.data.length} patients`}:r.data},getPatient:async e=>({success:!0,data:(await Ve.get(`/patients/${e}/`)).data,message:"Patient retrieved successfully"}),createPatient:async e=>({success:!0,data:(await Ve.post("/patients/",e)).data,message:"Patient created successfully"}),updatePatient:async(e,r)=>({success:!0,data:(await Ve.put(`/patients/${e}/`,r)).data,message:"Patient updated successfully"}),deletePatient:async e=>(await Ve.delete(`/patients/${e}/`),{success:!0,message:"Patient deleted successfully"}),searchPatients:async e=>({success:!0,data:(await Ve.get("/patients/search/",{params:{q:e}})).data.patients||[],message:"Search completed successfully"}),getPatientSummary:async e=>({success:!0,data:(await Ve.get(`/patients/${e}/summary/`)).data,message:"Patient summary retrieved successfully"}),getPatientStats:async()=>({success:!0,data:(await Ve.get("/patients/stats/")).data,message:"Patient statistics retrieved successfully"}),getMedicalRecords:async e=>{const r=await Ve.get("/patients/medical-records/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} medical records`}:Array.isArray(r.data)?{success:!0,data:r.data,message:`Found ${r.data.length} medical records`}:r.data},createMedicalRecord:async e=>({success:!0,data:(await Ve.post("/patients/medical-records/",e)).data,message:"Medical record created successfully"}),getPrescriptions:async e=>{const r=await Ve.get("/patients/prescriptions/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} prescriptions`}:Array.isArray(r.data)?{success:!0,data:r.data,message:`Found ${r.data.length} prescriptions`}:r.data},createPrescription:async e=>({success:!0,data:(await Ve.post("/patients/prescriptions/",e)).data,message:"Prescription created successfully"}),getVisits:async e=>{const r=await Ve.get("/patients/visits/",{params:e});return r.data&&r.data.results?{success:!0,data:r.data.results,message:`Found ${r.data.count} visits`}:Array.isArray(r.data)?{success:!0,data:r.data,message:`Found ${r.data.length} visits`}:r.data},createVisit:async e=>({success:!0,data:(await Ve.post("/patients/visits/",e)).data,message:"Visit recorded successfully"})},qo={getPlans:async()=>{const e=await Ve.get("/organizations/subscription-plans/");return{success:!0,data:e.data.results||e.data,message:"Subscription plans retrieved successfully"}},getSubscriptions:async e=>{const r=await Ve.get("/organizations/subscriptions/",{params:e});return r.data&&r.data.results?{success:!0,data:{results:r.data.results,count:r.data.count},message:`Found ${r.data.count} subscriptions`}:{success:!0,data:{results:r.data,count:r.data.length},message:"Subscriptions retrieved successfully"}},getSubscription:async e=>({success:!0,data:(await Ve.get(`/organizations/subscriptions/${e}/`)).data,message:"Subscription retrieved successfully"}),createSubscription:async e=>{const r=await Ve.post("/organizations/create-subscription/",e);return{success:!0,data:r.data.subscription,message:r.data.message||"Subscription created successfully"}},updateSubscription:async(e,r)=>({success:!0,data:(await Ve.patch(`/organizations/subscriptions/${e}/`,r)).data,message:"Subscription updated successfully"}),deleteSubscription:async e=>(await Ve.delete(`/organizations/subscriptions/${e}/`),{success:!0,message:"Subscription deleted successfully"}),getStats:async()=>({success:!0,data:(await Ve.get("/organizations/subscription-stats/")).data,message:"Subscription statistics retrieved successfully"}),updateOrganizationPlan:async(e,r)=>{const n=await Ve.post(`/organizations/${e}/update-plan/`,r);return{success:!0,data:n.data,message:n.data.message||"Organization plan updated successfully"}},createPlan:async e=>({success:!0,data:(await Ve.post("/organizations/subscription-plans/",e)).data,message:"Subscription plan created successfully"}),updatePlan:async(e,r)=>({success:!0,data:(await Ve.put(`/organizations/subscription-plans/${e}/`,r)).data,message:"Subscription plan updated successfully"}),deletePlan:async e=>({success:!0,data:(await Ve.delete(`/organizations/subscription-plans/${e}/`)).data,message:"Subscription plan deleted successfully"}),togglePlanStatus:async e=>{const r=await Ve.post(`/organizations/subscription-plans/${e}/toggle-status/`);return{success:!0,data:r.data,message:r.data.message||"Plan status updated successfully"}}};var Xg="Collapsible",[OK,vPe]=Gn(Xg),[RK,g1]=OK(Xg),yM=x.forwardRef((e,r)=>{const{__scopeCollapsible:n,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,d]=ga({prop:s,defaultProp:a??!1,onChange:o,caller:Xg});return t.jsx(RK,{scope:n,disabled:i,contentId:ma(),open:c,onOpenToggle:x.useCallback(()=>d(u=>!u),[d]),children:t.jsx(Je.div,{"data-state":y1(c),"data-disabled":i?"":void 0,...l,ref:r})})});yM.displayName=Xg;var jM="CollapsibleTrigger",bM=x.forwardRef((e,r)=>{const{__scopeCollapsible:n,...s}=e,a=g1(jM,n);return t.jsx(Je.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":y1(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:r,onClick:Ye(e.onClick,a.onOpenToggle)})});bM.displayName=jM;var v1="CollapsibleContent",NM=x.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=g1(v1,e.__scopeCollapsible);return t.jsx(Xn,{present:n||a.open,children:({present:i})=>t.jsx(DK,{...s,ref:r,present:i})})});NM.displayName=v1;var DK=x.forwardRef((e,r)=>{const{__scopeCollapsible:n,present:s,children:a,...i}=e,o=g1(v1,n),[l,c]=x.useState(s),d=x.useRef(null),u=Ot(r,d),m=x.useRef(0),h=m.current,p=x.useRef(0),g=p.current,f=o.open||l,v=x.useRef(f),b=x.useRef(void 0);return x.useEffect(()=>{const y=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(y)},[]),Lr(()=>{const y=d.current;if(y){b.current=b.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const j=y.getBoundingClientRect();m.current=j.height,p.current=j.width,v.current||(y.style.transitionDuration=b.current.transitionDuration,y.style.animationName=b.current.animationName),c(s)}},[o.open,s]),t.jsx(Je.div,{"data-state":y1(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!f,...i,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:f&&a})});function y1(e){return e?"open":"closed"}var MK=yM;const IK=MK,$K=bM,LK=NM;function FK(){const{state:e}=Dh(),r=e==="collapsed",n=Ii(),s=qs(),a=n.pathname,i=JSON.parse(localStorage.getItem("currentUser")||"{}"),o=(i==null?void 0:i.role)||"",l=()=>o==="super_admin"?{dashboard:!0,organizations:!1,users:!1,subscriptions:!1,reports:!1}:{dashboard:!0,pos:!1,inventory:!1,suppliers:!1,compliance:!1,network:!1,customers:!1,reports:!1,admin:!1,expenses:!1},[c,d]=x.useState(l()),[u,m]=x.useState({}),[h,p]=x.useState(!1),g=_=>{d(w=>({...w,[_]:!w[_]}))},f=_=>{var w,A;if(o==="super_admin")return!0;if(_.permissionKey)return u[_.permissionKey]===!0;if(_.roles&&_.roles.length>0){const O={super_admin:"SUPER_ADMIN",owner:"PHARMACY_OWNER",manager:"BRANCH_MANAGER",pharmacist:"PHARMACIST",technician:"PHARMACY_TECHNICIAN",cashier:"CASHIER",supplier:"SUPPLIER_ADMIN"}[o]||((w=o==null?void 0:o.toUpperCase)==null?void 0:w.call(o))||"";return _.roles.includes(O)||_.roles.includes(o)||_.roles.includes((A=o==null?void 0:o.toUpperCase)==null?void 0:A.call(o))}return!0},v=_=>a===_,b=_=>_?_.some(w=>w.url&&v(w.url)):!1,y=_=>{_&&s(_)},j=async()=>{var _;if(i!=null&&i.id)try{p(!0);const w=await Mr.getUserModulePermissions(i.id);if(w.success&&w.data){const A=((_=w.data.data)==null?void 0:_.modules)||w.data.modules||[];if(A.length>0){const D={};A.forEach(O=>{D[O.id]=O.has_access,O.sub_modules&&O.sub_modules.forEach($=>{D[$.id]=$.has_access})}),m(D)}}}catch(w){console.error("Failed to load user permissions:",w)}finally{p(!1)}};x.useEffect(()=>{i!=null&&i.id&&o!=="super_admin"&&j()},[i==null?void 0:i.id,o]);const N=o==="super_admin"?[{title:"Dashboard",url:"/admin/dashboard",icon:ar},{title:"Organizations",url:"/admin/organizations",icon:dn},{title:"Users",url:"/admin/users",icon:it},{title:"Subscriptions",url:"/admin/subscriptions",icon:ss},{title:"Reports",url:"/admin/reports",icon:mi}]:[{title:"Dashboard",url:"/",icon:gB},{title:"Patients",icon:Bw,permissionKey:"patients",items:[{title:"Directory",url:"/patients/directory",icon:it,permissionKey:"pat_directory"},{title:"Medical Records",url:"/patients/records",icon:$t,permissionKey:"pat_records"},{title:"Prescriptions",url:"/patients/prescriptions",icon:Va,permissionKey:"pat_prescriptions"},{title:"Purchase History",url:"/patients/history",icon:ca,permissionKey:"pat_history"},{title:"Reports",url:"/patients/reports",icon:ar,permissionKey:"pat_reports"},{title:"Settings",url:"/patients/settings",icon:ln,permissionKey:"pat_settings"}]},{title:"Point of Sale",icon:zn,permissionKey:"pos",items:[{title:"Billing",url:"/pos/billing",icon:ss,permissionKey:"pos_billing"},{title:"Reports",url:"/pos/reports",icon:ar,permissionKey:"pos_reports"},{title:"Settings",url:"/pos/settings",icon:ln,permissionKey:"pos_settings"}]},{title:"Inventory",icon:vt,permissionKey:"inventory",items:[{title:"Stock Entry",url:"/inventory/stock-management",icon:vt,permissionKey:"inv_stock_mgmt"},{title:"Manage Orders",url:"/inventory/manage-orders",icon:$t,permissionKey:"inv_manage_orders"},{title:"Purchase Orders",url:"/inventory/purchase-orders",icon:$t,permissionKey:"inv_purchase_orders"},{title:"Medication List",url:"/inventory/medication-list",icon:Va,permissionKey:"inv_medication_list"},{title:"Reports",url:"/inventory/reports",icon:mi,permissionKey:"inv_reports"},{title:"Settings",url:"/inventory/settings",icon:ln,permissionKey:"inv_settings"}]},{title:"Expenses",icon:Fp,permissionKey:"expenses",items:[{title:"Tracking",url:"/expenses/tracking",icon:yt,permissionKey:"exp_tracking"},{title:"Categories",url:"/expenses/categories",icon:L4,permissionKey:"exp_categories"},{title:"Approval",url:"/expenses/approval",icon:oP,permissionKey:"exp_approval"},{title:"Reports",url:"/expenses/reports",icon:ar,permissionKey:"exp_reports"},{title:"Settings",url:"/expenses/settings",icon:ln,permissionKey:"exp_settings"}]},{title:"Suppliers",icon:hn,permissionKey:"suppliers",items:[{title:"Dashboard",url:"/suppliers/dashboard",icon:ar,permissionKey:"sup_dashboard"},{title:"Supplier Management",url:"/suppliers/management",icon:H4,permissionKey:"sup_management"},{title:"Reports",url:"/suppliers/reports",icon:mi,permissionKey:"sup_reports"}]},{title:"Compliance",icon:Cs,permissionKey:"compliance",items:[{title:"Dashboard",url:"/compliance/dashboard",icon:ar,permissionKey:"comp_dashboard"},{title:"Licenses",url:"/compliance/licenses",icon:oP,permissionKey:"comp_licenses"},{title:"DDA Reporting",url:"/compliance/dda-reporting",icon:$t,permissionKey:"comp_dda_reporting"},{title:"Inspections",url:"/compliance/inspections",icon:Xt,permissionKey:"comp_inspections"},{title:"Drug Registers",url:"/compliance/drug-registers",icon:oB,permissionKey:"comp_drug_registers"},{title:"Tracking",url:"/compliance/tracking",icon:hi,permissionKey:"comp_tracking"}]},{title:"Network",icon:bB,permissionKey:"network",items:[{title:"Branches",url:"/network/branches",icon:Ps,permissionKey:"net_branches"},{title:"Users",url:"/network/users",icon:it,permissionKey:"net_users"},{title:"Reports",url:"/network/reports",icon:ar,permissionKey:"net_reports"},{title:"Settings",url:"/network/settings",icon:ln,permissionKey:"net_settings"}]},{title:"Customers",icon:it,permissionKey:"customers",items:[{title:"Directory",url:"/customers/directory",icon:it,permissionKey:"cust_directory"},{title:"Prescriptions",url:"/customers/prescriptions",icon:Va,permissionKey:"cust_prescriptions"},{title:"Loyalty Program",url:"/customers/loyalty",icon:On,permissionKey:"cust_loyalty"},{title:"Reports",url:"/customers/reports",icon:ar,permissionKey:"cust_reports"},{title:"Settings",url:"/customers/settings",icon:ln,permissionKey:"cust_settings"}]},{title:"Reports",icon:ar,permissionKey:"reports",items:[{title:"Overview",url:"/reports",icon:mi,permissionKey:"rep_overview"},{title:"Sales",url:"/reports/sales",icon:mt,permissionKey:"rep_sales"},{title:"Inventory",url:"/reports/inventory",icon:vt,permissionKey:"rep_inventory"},{title:"Financial",url:"/reports/financial",icon:Fp,permissionKey:"rep_financial"},{title:"Compliance",url:"/reports/compliance",icon:Cs,permissionKey:"rep_compliance"},{title:"Custom Reports",url:"/reports/custom",icon:uB,permissionKey:"rep_custom"}]}],P=o==="super_admin"?N:N.filter(_=>f(_));return t.jsx(FD,{className:"bg-white border-r border-slate-200",collapsible:"icon",children:t.jsxs(UD,{className:"bg-white",children:[t.jsx("div",{className:"p-3 border-b border-slate-200",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-6 h-6 bg-primary flex items-center justify-center",children:t.jsx(Fw,{className:"w-3 h-3 text-primary-foreground"})}),!r&&t.jsx("span",{className:"text-sm font-semibold text-foreground",children:"drpharmas"})]})}),t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsx(VD,{children:t.jsx(qD,{children:P.map(_=>{var O;const w=_.url?v(_.url):b(_.items),A=_.items&&_.items.length>0,D=_.title.toLowerCase().replace(" ","");return A?t.jsx(IK,{open:c[D],onOpenChange:()=>g(D),children:t.jsxs(V0,{children:[t.jsx($K,{asChild:!0,children:t.jsxs(q0,{className:`${w?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"} cursor-pointer`,children:[_.icon&&t.jsx(_.icon,{className:"w-4 h-4"}),!r&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-xs flex-1 text-left",children:_.title}),t.jsx(Lw,{className:`w-3 h-3 transition-transform duration-200 ${c[D]?"rotate-90":""}`})]})]})}),!r&&t.jsx(LK,{className:"transition-all duration-200",children:t.jsx(WD,{children:(O=_.items)==null?void 0:O.filter($=>f($)).map($=>t.jsx(HD,{children:t.jsxs(KD,{onClick:()=>y($.url),className:`${$.url&&v($.url)?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"} cursor-pointer`,children:[$.icon&&t.jsx($.icon,{className:"w-3 h-3"}),t.jsx("span",{className:"text-xs",children:$.title})]})},$.title))})})]})},_.title):t.jsx(V0,{children:t.jsxs(q0,{onClick:()=>y(_.url),className:`${w?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"} cursor-pointer`,children:[_.icon&&t.jsx(_.icon,{className:"w-4 h-4"}),!r&&t.jsx("span",{className:"text-xs",children:_.title})]})},_.title)})})})})]})})}function Y0(e,[r,n]){return Math.min(n,Math.max(r,e))}var zK=x.createContext(void 0);function Yg(e){const r=x.useContext(zK);return e||r||"ltr"}function j1(e){const r=x.useRef({value:e,previous:e});return x.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var BK=[" ","Enter","ArrowUp","ArrowDown"],UK=[" ","Enter"],Ml="Select",[Qg,Zg,VK]=Dw(Ml),[eu,yPe]=Gn(Ml,[VK,Yd]),Jg=Yd(),[qK,Io]=eu(Ml),[WK,HK]=eu(Ml),wM=e=>{const{__scopeSelect:r,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:h,required:p,form:g}=e,f=Jg(r),[v,b]=x.useState(null),[y,j]=x.useState(null),[C,S]=x.useState(!1),N=Yg(d),[P,_]=ga({prop:s,defaultProp:a??!1,onChange:i,caller:Ml}),[w,A]=ga({prop:o,defaultProp:l,onChange:c,caller:Ml}),D=x.useRef(null),O=v?g||!!v.closest("form"):!0,[$,U]=x.useState(new Set),V=Array.from($).map(R=>R.props.value).join(";");return t.jsx(e1,{...f,children:t.jsxs(qK,{required:p,scope:r,trigger:v,onTriggerChange:b,valueNode:y,onValueNodeChange:j,valueNodeHasChildren:C,onValueNodeHasChildrenChange:S,contentId:ma(),value:w,onValueChange:A,open:P,onOpenChange:_,dir:N,triggerPointerDownPosRef:D,disabled:h,children:[t.jsx(Qg.Provider,{scope:r,children:t.jsx(WK,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(R=>{U(X=>new Set(X).add(R))},[]),onNativeOptionRemove:x.useCallback(R=>{U(X=>{const z=new Set(X);return z.delete(R),z})},[]),children:n})}),O?t.jsxs(KM,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:m,value:w,onChange:R=>A(R.target.value),disabled:h,form:g,children:[w===void 0?t.jsx("option",{value:""}):null,Array.from($)]},V):null]})})};wM.displayName=Ml;var SM="SelectTrigger",PM=x.forwardRef((e,r)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=Jg(n),o=Io(SM,n),l=o.disabled||s,c=Ot(r,o.onTriggerChange),d=Zg(n),u=x.useRef("touch"),[m,h,p]=XM(f=>{const v=d().filter(j=>!j.disabled),b=v.find(j=>j.value===o.value),y=YM(v,f,b);y!==void 0&&o.onValueChange(y.value)}),g=f=>{l||(o.onOpenChange(!0),p()),f&&(o.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return t.jsx(Cg,{asChild:!0,...i,children:t.jsx(Je.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":GM(o.value)?"":void 0,...a,ref:c,onClick:Ye(a.onClick,f=>{f.currentTarget.focus(),u.current!=="mouse"&&g(f)}),onPointerDown:Ye(a.onPointerDown,f=>{u.current=f.pointerType;const v=f.target;v.hasPointerCapture(f.pointerId)&&v.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(g(f),f.preventDefault())}),onKeyDown:Ye(a.onKeyDown,f=>{const v=m.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&h(f.key),!(v&&f.key===" ")&&BK.includes(f.key)&&(g(),f.preventDefault())})})})});PM.displayName=SM;var CM="SelectValue",_M=x.forwardRef((e,r)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Io(CM,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=Ot(r,c.onValueNodeChange);return Lr(()=>{d(u)},[d,u]),t.jsx(Je.span,{...l,ref:m,style:{pointerEvents:"none"},children:GM(c.value)?t.jsx(t.Fragment,{children:o}):i})});_M.displayName=CM;var KK="SelectIcon",AM=x.forwardRef((e,r)=>{const{__scopeSelect:n,children:s,...a}=e;return t.jsx(Je.span,{"aria-hidden":!0,...a,ref:r,children:s||"▼"})});AM.displayName=KK;var GK="SelectPortal",TM=e=>t.jsx(Th,{asChild:!0,...e});TM.displayName=GK;var Il="SelectContent",EM=x.forwardRef((e,r)=>{const n=Io(Il,e.__scopeSelect),[s,a]=x.useState();if(Lr(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?Kl.createPortal(t.jsx(kM,{scope:e.__scopeSelect,children:t.jsx(Qg.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),i):null}return t.jsx(OM,{...e,ref:r})});EM.displayName=Il;var Js=10,[kM,$o]=eu(Il),XK="SelectContentImpl",YK=kl("SelectContent.RemoveScroll"),OM=x.forwardRef((e,r)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:f,avoidCollisions:v,...b}=e,y=Io(Il,n),[j,C]=x.useState(null),[S,N]=x.useState(null),P=Ot(r,Se=>C(Se)),[_,w]=x.useState(null),[A,D]=x.useState(null),O=Zg(n),[$,U]=x.useState(!1),V=x.useRef(!1);x.useEffect(()=>{if(j)return c1(j)},[j]),l1();const R=x.useCallback(Se=>{const[Ue,...be]=O().map(oe=>oe.ref.current),[Z]=be.slice(-1),xe=document.activeElement;for(const oe of Se)if(oe===xe||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===Ue&&S&&(S.scrollTop=0),oe===Z&&S&&(S.scrollTop=S.scrollHeight),oe==null||oe.focus(),document.activeElement!==xe))return},[O,S]),X=x.useCallback(()=>R([_,j]),[R,_,j]);x.useEffect(()=>{$&&X()},[$,X]);const{onOpenChange:z,triggerPointerDownPosRef:F}=y;x.useEffect(()=>{if(j){let Se={x:0,y:0};const Ue=Z=>{var xe,oe;Se={x:Math.abs(Math.round(Z.pageX)-(((xe=F.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((oe=F.current)==null?void 0:oe.y)??0))}},be=Z=>{Se.x<=10&&Se.y<=10?Z.preventDefault():j.contains(Z.target)||z(!1),document.removeEventListener("pointermove",Ue),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",be,{capture:!0})}}},[j,z,F]),x.useEffect(()=>{const Se=()=>z(!1);return window.addEventListener("blur",Se),window.addEventListener("resize",Se),()=>{window.removeEventListener("blur",Se),window.removeEventListener("resize",Se)}},[z]);const[te,de]=XM(Se=>{const Ue=O().filter(xe=>!xe.disabled),be=Ue.find(xe=>xe.ref.current===document.activeElement),Z=YM(Ue,Se,be);Z&&setTimeout(()=>Z.ref.current.focus())}),ie=x.useCallback((Se,Ue,be)=>{const Z=!V.current&&!be;(y.value!==void 0&&y.value===Ue||Z)&&(w(Se),Z&&(V.current=!0))},[y.value]),fe=x.useCallback(()=>j==null?void 0:j.focus(),[j]),ge=x.useCallback((Se,Ue,be)=>{const Z=!V.current&&!be;(y.value!==void 0&&y.value===Ue||Z)&&D(Se)},[y.value]),he=s==="popper"?Q0:RM,Te=he===Q0?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:f,avoidCollisions:v}:{};return t.jsx(kM,{scope:n,content:j,viewport:S,onViewportChange:N,itemRefCallback:ie,selectedItem:_,onItemLeave:fe,itemTextRefCallback:ge,focusSelectedItem:X,selectedItemText:A,position:s,isPositioned:$,searchRef:te,children:t.jsx(Lg,{as:YK,allowPinchZoom:!0,children:t.jsx(Ig,{asChild:!0,trapped:y.open,onMountAutoFocus:Se=>{Se.preventDefault()},onUnmountAutoFocus:Ye(a,Se=>{var Ue;(Ue=y.trigger)==null||Ue.focus({preventScroll:!0}),Se.preventDefault()}),children:t.jsx(qd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Se=>Se.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:t.jsx(he,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Se=>Se.preventDefault(),...b,...Te,onPlaced:()=>U(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ye(b.onKeyDown,Se=>{const Ue=Se.ctrlKey||Se.altKey||Se.metaKey;if(Se.key==="Tab"&&Se.preventDefault(),!Ue&&Se.key.length===1&&de(Se.key),["ArrowUp","ArrowDown","Home","End"].includes(Se.key)){let Z=O().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(Se.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(Se.key)){const xe=Se.target,oe=Z.indexOf(xe);Z=Z.slice(oe+1)}setTimeout(()=>R(Z)),Se.preventDefault()}})})})})})})});OM.displayName=XK;var QK="SelectItemAlignedPosition",RM=x.forwardRef((e,r)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=Io(Il,n),o=$o(Il,n),[l,c]=x.useState(null),[d,u]=x.useState(null),m=Ot(r,P=>u(P)),h=Zg(n),p=x.useRef(!1),g=x.useRef(!0),{viewport:f,selectedItem:v,selectedItemText:b,focusSelectedItem:y}=o,j=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&f&&v&&b){const P=i.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),w=i.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(i.dir!=="rtl"){const xe=A.left-_.left,oe=w.left-xe,ze=P.left-oe,Fe=P.width+ze,tt=Math.max(Fe,_.width),ot=window.innerWidth-Js,pe=Y0(oe,[Js,Math.max(Js,ot-tt)]);l.style.minWidth=Fe+"px",l.style.left=pe+"px"}else{const xe=_.right-A.right,oe=window.innerWidth-w.right-xe,ze=window.innerWidth-P.right-oe,Fe=P.width+ze,tt=Math.max(Fe,_.width),ot=window.innerWidth-Js,pe=Y0(oe,[Js,Math.max(Js,ot-tt)]);l.style.minWidth=Fe+"px",l.style.right=pe+"px"}const D=h(),O=window.innerHeight-Js*2,$=f.scrollHeight,U=window.getComputedStyle(d),V=parseInt(U.borderTopWidth,10),R=parseInt(U.paddingTop,10),X=parseInt(U.borderBottomWidth,10),z=parseInt(U.paddingBottom,10),F=V+R+$+z+X,te=Math.min(v.offsetHeight*5,F),de=window.getComputedStyle(f),ie=parseInt(de.paddingTop,10),fe=parseInt(de.paddingBottom,10),ge=P.top+P.height/2-Js,he=O-ge,Te=v.offsetHeight/2,Se=v.offsetTop+Te,Ue=V+R+Se,be=F-Ue;if(Ue<=ge){const xe=D.length>0&&v===D[D.length-1].ref.current;l.style.bottom="0px";const oe=d.clientHeight-f.offsetTop-f.offsetHeight,ze=Math.max(he,Te+(xe?fe:0)+oe+X),Fe=Ue+ze;l.style.height=Fe+"px"}else{const xe=D.length>0&&v===D[0].ref.current;l.style.top="0px";const ze=Math.max(ge,V+f.offsetTop+(xe?ie:0)+Te)+be;l.style.height=ze+"px",f.scrollTop=Ue-ge+f.offsetTop}l.style.margin=`${Js}px 0`,l.style.minHeight=te+"px",l.style.maxHeight=O+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,d,f,v,b,i.dir,s]);Lr(()=>j(),[j]);const[C,S]=x.useState();Lr(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const N=x.useCallback(P=>{P&&g.current===!0&&(j(),y==null||y(),g.current=!1)},[j,y]);return t.jsx(JK,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:t.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:t.jsx(Je.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});RM.displayName=QK;var ZK="SelectPopperPosition",Q0=x.forwardRef((e,r)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=Js,...i}=e,o=Jg(n);return t.jsx(t1,{...o,...i,ref:r,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Q0.displayName=ZK;var[JK,b1]=eu(Il,{}),Z0="SelectViewport",DM=x.forwardRef((e,r)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=$o(Z0,n),o=b1(Z0,n),l=Ot(r,i.onViewportChange),c=x.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),t.jsx(Qg.Slot,{scope:n,children:t.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ye(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&m){const p=Math.abs(c.current-u.scrollTop);if(p>0){const g=window.innerHeight-Js*2,f=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),b=Math.max(f,v);if(b<g){const y=b+p,j=Math.min(g,y),C=y-j;m.style.height=j+"px",m.style.bottom==="0px"&&(u.scrollTop=C>0?C:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});DM.displayName=Z0;var MM="SelectGroup",[eG,tG]=eu(MM),rG=x.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e,a=ma();return t.jsx(eG,{scope:n,id:a,children:t.jsx(Je.div,{role:"group","aria-labelledby":a,...s,ref:r})})});rG.displayName=MM;var IM="SelectLabel",$M=x.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e,a=tG(IM,n);return t.jsx(Je.div,{id:a.id,...s,ref:r})});$M.displayName=IM;var Zp="SelectItem",[nG,LM]=eu(Zp),FM=x.forwardRef((e,r)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=Io(Zp,n),c=$o(Zp,n),d=l.value===s,[u,m]=x.useState(i??""),[h,p]=x.useState(!1),g=Ot(r,y=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,y,s,a)}),f=ma(),v=x.useRef("touch"),b=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(nG,{scope:n,value:s,disabled:a,textId:f,isSelected:d,onItemTextChange:x.useCallback(y=>{m(j=>j||((y==null?void 0:y.textContent)??"").trim())},[]),children:t.jsx(Qg.ItemSlot,{scope:n,value:s,disabled:a,textValue:u,children:t.jsx(Je.div,{role:"option","aria-labelledby":f,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:Ye(o.onFocus,()=>p(!0)),onBlur:Ye(o.onBlur,()=>p(!1)),onClick:Ye(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:Ye(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:Ye(o.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:Ye(o.onPointerMove,y=>{var j;v.current=y.pointerType,a?(j=c.onItemLeave)==null||j.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ye(o.onPointerLeave,y=>{var j;y.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:Ye(o.onKeyDown,y=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&y.key===" "||(UK.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});FM.displayName=Zp;var Xu="SelectItemText",zM=x.forwardRef((e,r)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=Io(Xu,n),l=$o(Xu,n),c=LM(Xu,n),d=HK(Xu,n),[u,m]=x.useState(null),h=Ot(r,b=>m(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),p=u==null?void 0:u.textContent,g=x.useMemo(()=>t.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:f,onNativeOptionRemove:v}=d;return Lr(()=>(f(g),()=>v(g)),[f,v,g]),t.jsxs(t.Fragment,{children:[t.jsx(Je.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Kl.createPortal(i.children,o.valueNode):null]})});zM.displayName=Xu;var BM="SelectItemIndicator",UM=x.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e;return LM(BM,n).isSelected?t.jsx(Je.span,{"aria-hidden":!0,...s,ref:r}):null});UM.displayName=BM;var J0="SelectScrollUpButton",VM=x.forwardRef((e,r)=>{const n=$o(J0,e.__scopeSelect),s=b1(J0,e.__scopeSelect),[a,i]=x.useState(!1),o=Ot(r,s.onScrollButtonChange);return Lr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?t.jsx(WM,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});VM.displayName=J0;var eb="SelectScrollDownButton",qM=x.forwardRef((e,r)=>{const n=$o(eb,e.__scopeSelect),s=b1(eb,e.__scopeSelect),[a,i]=x.useState(!1),o=Ot(r,s.onScrollButtonChange);return Lr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?t.jsx(WM,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});qM.displayName=eb;var WM=x.forwardRef((e,r)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=$o("SelectScrollButton",n),o=x.useRef(null),l=Zg(n),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Lr(()=>{var u;const d=l().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),t.jsx(Je.div,{"aria-hidden":!0,...a,ref:r,style:{flexShrink:0,...a.style},onPointerDown:Ye(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Ye(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Ye(a.onPointerLeave,()=>{c()})})}),sG="SelectSeparator",HM=x.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e;return t.jsx(Je.div,{"aria-hidden":!0,...s,ref:r})});HM.displayName=sG;var tb="SelectArrow",aG=x.forwardRef((e,r)=>{const{__scopeSelect:n,...s}=e,a=Jg(n),i=Io(tb,n),o=$o(tb,n);return i.open&&o.position==="popper"?t.jsx(r1,{...a,...s,ref:r}):null});aG.displayName=tb;var iG="SelectBubbleInput",KM=x.forwardRef(({__scopeSelect:e,value:r,...n},s)=>{const a=x.useRef(null),i=Ot(s,a),o=j1(r);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const m=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(m)}},[o,r]),t.jsx(Je.select,{...n,style:{...x4,...n.style},ref:i,defaultValue:r})});KM.displayName=iG;function GM(e){return e===""||e===void 0}function XM(e){const r=Gr(e),n=x.useRef(""),s=x.useRef(0),a=x.useCallback(o=>{const l=n.current+o;r(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[r]),i=x.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function YM(e,r,n){const a=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=n?e.indexOf(n):-1;let o=oG(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function oG(e,r){return e.map((n,s)=>e[(r+s)%e.length])}var lG=wM,QM=PM,cG=_M,dG=AM,uG=TM,ZM=EM,mG=DM,JM=$M,e3=FM,hG=zM,fG=UM,t3=VM,r3=qM,n3=HM;const _e=lG,Ae=cG,Pe=x.forwardRef(({className:e,children:r,...n},s)=>t.jsxs(QM,{ref:s,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:border-primary disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[r,t.jsx(dG,{asChild:!0,children:t.jsx(B4,{className:"h-4 w-4 opacity-50"})})]}));Pe.displayName=QM.displayName;const s3=x.forwardRef(({className:e,...r},n)=>t.jsx(t3,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(iB,{className:"h-4 w-4"})}));s3.displayName=t3.displayName;const a3=x.forwardRef(({className:e,...r},n)=>t.jsx(r3,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(B4,{className:"h-4 w-4"})}));a3.displayName=r3.displayName;const Ce=x.forwardRef(({className:e,children:r,position:n="popper",...s},a)=>t.jsx(uG,{children:t.jsxs(ZM,{ref:a,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[t.jsx(s3,{}),t.jsx(mG,{className:Ee("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),t.jsx(a3,{})]})}));Ce.displayName=ZM.displayName;const pG=x.forwardRef(({className:e,...r},n)=>t.jsx(JM,{ref:n,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));pG.displayName=JM.displayName;const I=x.forwardRef(({className:e,children:r,...n},s)=>t.jsxs(e3,{ref:s,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(fG,{children:t.jsx(z4,{className:"h-4 w-4"})})}),t.jsx(hG,{children:r})]}));I.displayName=e3.displayName;const xG=x.forwardRef(({className:e,...r},n)=>t.jsx(n3,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",e),...r}));xG.displayName=n3.displayName;const gG=Gl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",primary:"border-transparent bg-blue-500 text-white hover:bg-blue-600"}},defaultVariants:{variant:"default"}});function re({className:e,variant:r,...n}){return t.jsx("div",{className:Ee(gG({variant:r}),e),...n})}function vG({timeout:e=30*60*1e3,warningTime:r=5*60*1e3,onTimeout:n,onWarning:s}={}){const a=qs(),{toast:i}=Tt(),o=x.useRef(),l=x.useRef(),c=x.useRef(Date.now()),d=x.useCallback(()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("currentUser"),localStorage.removeItem("userEmail"),localStorage.removeItem("selectedOrganization")},[]),u=x.useCallback(()=>{d(),i({title:"Session Expired",description:"Your session has expired due to inactivity. Please log in again.",variant:"destructive"}),n?n():a("/login",{replace:!0})},[d,a,n,i]),m=x.useCallback(()=>{i({title:"Session Warning",description:`Your session will expire in ${Math.ceil(r/6e4)} minutes due to inactivity.`,variant:"destructive"}),s&&s()},[s,i,r]),h=x.useCallback(()=>{const f=Date.now();c.current=f,o.current&&clearTimeout(o.current),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{m()},e-r),o.current=setTimeout(()=>{u()},e)},[e,r,u,m]),p=x.useCallback(()=>{h(),i({title:"Session Extended",description:"Your session has been extended."})},[h,i]),g=x.useCallback(()=>{const f=Date.now()-c.current;return Math.max(0,e-f)},[e]);return x.useEffect(()=>{if(!localStorage.getItem("currentUser"))return;const v=["mousedown","mousemove","keypress","scroll","touchstart","click"],b=()=>{h()};return v.forEach(y=>{document.addEventListener(y,b,!0)}),h(),()=>{v.forEach(y=>{document.removeEventListener(y,b,!0)}),o.current&&clearTimeout(o.current),l.current&&clearTimeout(l.current)}},[h]),{extendSession:p,getRemainingTime:g,resetTimer:h}}function yG({refreshInterval:e=15*60*1e3,enabled:r=!0}={}){Tt();const n=x.useRef(),s=async()=>{try{const i=localStorage.getItem("refresh_token");if(!i){console.log("No refresh token available");return}const o=await vM.refreshToken(i);o.success&&o.data?(localStorage.setItem("access_token",o.data.access),o.data.refresh&&localStorage.setItem("refresh_token",o.data.refresh),console.log("Token refreshed successfully")):console.log("Token refresh failed:",o.message)}catch(i){console.error("Token refresh error:",i)}};return x.useEffect(()=>{if(!r)return;const i=localStorage.getItem("currentUser"),o=localStorage.getItem("access_token");if(!(!i||!o))return n.current=setInterval(()=>{s()},e),()=>{n.current&&clearInterval(n.current)}},[e,r]),{refreshToken:async()=>{await s()}}}const T=x.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Ee("border bg-card text-card-foreground",e),...r}));T.displayName="Card";const B=x.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Ee("flex flex-col space-y-1.5 p-6",e),...r}));B.displayName="CardHeader";const q=x.forwardRef(({className:e,...r},n)=>t.jsx("h3",{ref:n,className:Ee("text-2xl font-semibold leading-none tracking-tight",e),...r}));q.displayName="CardTitle";const kt=x.forwardRef(({className:e,...r},n)=>t.jsx("p",{ref:n,className:Ee("text-sm text-muted-foreground",e),...r}));kt.displayName="CardDescription";const E=x.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Ee("p-6 pt-0",e),...r}));E.displayName="CardContent";const jG=x.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Ee("flex items-center p-6 pt-0",e),...r}));jG.displayName="CardFooter";function bG({user:e}){var a,i;const r=o1(e.organizationId),n={totalRevenue:2456e3,monthlyGrowth:12.5,totalBranches:(r==null?void 0:r.branches.length)||1,activeUsers:rD(e.organizationId).length,avgCollectionPerUser:25e3,complianceScore:94},s=(r==null?void 0:r.branches.map(o=>{const l=_c(o.id),c=l.reduce((d,u)=>d+(u.collectionAmount||0),0);return{branchId:o.id,branchName:o.name,userCount:l.length,totalCollection:c,target:5e4,compliance:Math.floor(Math.random()*20)+80}}))||[];return e.role==="super_admin"?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"System-Wide Analytics"}),t.jsx("p",{className:"text-muted-foreground",children:"Centralized reporting across all organizations"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{variant:"outline",size:"sm",children:[t.jsx(Na,{className:"w-4 h-4 mr-2"}),"Filter"]}),t.jsxs(k,{variant:"outline",size:"sm",children:[t.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Date Range"]}),t.jsxs(k,{variant:"outline",size:"sm",children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(dn,{className:"w-4 h-4"}),"Organizations"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"24"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"+3 this month"})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"Total Revenue"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"₹12.4M"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"+15.2% growth"})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),"Active Users"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"1,247"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all orgs"})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(yt,{className:"w-4 h-4"}),"Avg Performance"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"89%"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Target achievement"})]})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Organization Performance"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:["MediCare Hospital Network","HealthPlus Pharmacy Chain","CityMed Group","WellCare Clinics"].map((o,l)=>t.jsxs("div",{className:"flex items-center justify-between p-4 border",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(dn,{className:"w-8 h-8 p-1.5 bg-primary/10 text-primary"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:o}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[Math.floor(Math.random()*5)+2," branches • ",Math.floor(Math.random()*50)+20," users"]})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium",children:["₹",(Math.random()*5e5+2e5).toLocaleString()]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Monthly revenue"})]}),t.jsx(re,{variant:Math.random()>.3?"default":"secondary",children:Math.random()>.3?"Active":"Trial"}),t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(xt,{className:"w-4 h-4"})})]})]},l))})})]})]}):e.role==="owner"?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Multi-Branch Analytics"}),t.jsxs("p",{className:"text-muted-foreground",children:["Centralized reporting for ",r==null?void 0:r.name]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{variant:"outline",size:"sm",children:[t.jsx(Pi,{className:"w-4 h-4 mr-2"}),"Refresh"]}),t.jsxs(k,{variant:"outline",size:"sm",children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(dn,{className:"w-4 h-4"}),"Total Branches"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:n.totalBranches}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"All active locations"})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"Total Revenue"]})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["₹",n.totalRevenue.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",n.monthlyGrowth,"% this month"]})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),"Total Staff"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:n.activeUsers}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all branches"})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(hi,{className:"w-4 h-4"}),"Avg Collection"]})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["₹",n.avgCollectionPerUser.toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Per staff member"})]})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Branch Performance Comparison"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:s.map(o=>t.jsxs("div",{className:"flex items-center justify-between p-4 border",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(dn,{className:"w-8 h-8 p-1.5 bg-secondary/10 text-secondary-foreground"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:o.branchName}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.userCount," staff members"]})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium",children:["₹",o.totalCollection.toLocaleString()]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Monthly collection"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium",children:[Math.round(o.totalCollection/o.target*100),"%"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Target achieved"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium",children:[o.compliance,"%"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Compliance"})]}),t.jsx(re,{variant:o.totalCollection>o.target*.8?"default":"secondary",children:o.totalCollection>o.target*.8?"On Track":"Needs Attention"})]})]},o.branchId))})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Quick Reports"})}),t.jsx(E,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(k,{variant:"outline",className:"h-auto p-4 flex-col gap-2",children:[t.jsx(ar,{className:"w-6 h-6"}),t.jsx("span",{children:"Sales Comparison"})]}),t.jsxs(k,{variant:"outline",className:"h-auto p-4 flex-col gap-2",children:[t.jsx(vt,{className:"w-6 h-6"}),t.jsx("span",{children:"Inventory Status"})]}),t.jsxs(k,{variant:"outline",className:"h-auto p-4 flex-col gap-2",children:[t.jsx(it,{className:"w-6 h-6"}),t.jsx("span",{children:"Staff Performance"})]}),t.jsxs(k,{variant:"outline",className:"h-auto p-4 flex-col gap-2",children:[t.jsx(yt,{className:"w-6 h-6"}),t.jsx("span",{children:"Growth Analysis"})]})]})})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Branch Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Performance analytics for your branch"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{variant:"outline",size:"sm",children:[t.jsx(Rt,{className:"w-4 h-4 mr-2"}),"This Month"]}),t.jsxs(k,{variant:"outline",size:"sm",children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsx(q,{className:"text-sm font-medium",children:"Branch Revenue"})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["₹",(a=e.collectionAmount)==null?void 0:a.toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsx(q,{className:"text-sm font-medium",children:"Target Achievement"})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[Math.round((e.collectionAmount||0)/(((i=e.targets)==null?void 0:i.monthly)||1)*100),"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly target"})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsx(q,{className:"text-sm font-medium",children:"Team Size"})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:_c(e.branchId).length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active staff"})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsx(q,{className:"text-sm font-medium",children:"Avg per Staff"})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["₹",Math.round((e.collectionAmount||0)/_c(e.branchId).length).toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly avg"})]})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Staff Performance"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:_c(e.branchId).filter(o=>o.id!==e.id).map(o=>{var l,c,d,u;return t.jsxs("div",{className:"flex items-center justify-between p-4 border",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 bg-primary text-primary-foreground flex items-center justify-center text-sm font-semibold",children:o.name.split(" ").map(m=>m[0]).join("")}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:o.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:o.role.replace("_"," ")})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium",children:["₹",(l=o.collectionAmount)==null?void 0:l.toLocaleString()]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Monthly collection"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium",children:[Math.round((o.collectionAmount||0)/(((c=o.targets)==null?void 0:c.monthly)||1)*100),"%"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Target achieved"})]}),t.jsx(re,{variant:(o.collectionAmount||0)>(((d=o.targets)==null?void 0:d.monthly)||0)*.8?"default":"secondary",children:(o.collectionAmount||0)>(((u=o.targets)==null?void 0:u.monthly)||0)*.8?"On Track":"Behind"})]})]},o.id)})})})]})]})}function NG({user:e}){var n,s,a,i,o,l,c,d,u,m,h;const r=window.location.pathname;if(r.includes("/reports")||r.includes("/admin/reports"))return t.jsx(bG,{user:e});if(e.role==="super_admin")return t.jsxs("div",{className:"w-full max-w-none space-y-6 overflow-x-hidden",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Cs,{className:"w-8 h-8 text-warning"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"System Administration"}),t.jsx("p",{className:"text-muted-foreground",children:"Multi-tenant pharmacy network overview"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 w-full",children:[t.jsxs(T,{className:"border-warning/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(dn,{className:"w-4 h-4"}),"Organizations"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"12"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active pharmacy networks"})]})]}),t.jsxs(T,{className:"border-primary/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),"Total Users"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"1,247"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all organizations"})]})]}),t.jsxs(T,{className:"border-success/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"Revenue"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"₹2.4M"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly recurring"})]})]}),t.jsxs(T,{className:"border-accent/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ca,{className:"w-4 h-4"}),"Uptime"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"99.9%"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"System availability"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Recent Organizations"})}),t.jsx(E,{className:"space-y-3",children:["MediCare Hospital Network","HealthPlus Pharmacy Chain","CityMed Group"].map((p,g)=>t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:p}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Enterprise • 45 users"})]}),t.jsx(re,{variant:"outline",children:"Active"})]},g))})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"System Health"})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Database Performance"}),t.jsx(re,{variant:"outline",className:"text-success border-success",children:"Excellent"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"API Response Time"}),t.jsx(re,{variant:"outline",className:"text-success border-success",children:"120ms"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Active Sessions"}),t.jsx(re,{variant:"outline",children:"1,247"})]})]})]})]})]});if(e.role==="owner"){const p=o1(e.organizationId),g=rD(e.organizationId);return t.jsxs("div",{className:"w-full max-w-full space-y-6 overflow-x-hidden",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(xB,{className:"w-8 h-8 text-primary"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:p==null?void 0:p.name}),t.jsx("p",{className:"text-muted-foreground",children:"Multi-branch pharmacy network management"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 w-full",children:[t.jsxs(T,{className:"border-primary/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(dn,{className:"w-4 h-4"}),"Branches"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:p==null?void 0:p.branches.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active locations"})]})]}),t.jsxs(T,{className:"border-success/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),"Staff"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:g.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total employees"})]})]}),t.jsxs(T,{className:"border-warning/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"Revenue"]})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["₹",(n=e.collectionAmount)==null?void 0:n.toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),t.jsxs(T,{className:"border-accent/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(hi,{className:"w-4 h-4"}),"Target"]})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[Math.round((e.collectionAmount||0)/(((s=e.targets)==null?void 0:s.monthly)||1)*100),"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly achievement"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full",children:[t.jsxs(T,{className:"min-w-0",children:[t.jsx(B,{children:t.jsx(q,{children:"Branch Performance"})}),t.jsx(E,{className:"space-y-3",children:p==null?void 0:p.branches.map(f=>{const v=_c(f.id);return t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded min-w-0",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"font-medium truncate",children:f.name}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.length," staff • ",f.status]})]}),t.jsx(re,{variant:f.status==="active"?"default":"secondary",className:"ml-2 flex-shrink-0",children:f.status})]},f.id)})})]}),t.jsxs(T,{className:"min-w-0",children:[t.jsx(B,{children:t.jsx(q,{children:"Staff Performance"})}),t.jsx(E,{className:"space-y-3",children:g.slice(0,5).map(f=>{var v;return t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded min-w-0",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"font-medium truncate",children:f.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:f.role.replace("_"," ")})]}),t.jsxs("div",{className:"text-sm font-medium text-success flex-shrink-0 ml-2",children:["₹",(v=f.collectionAmount)==null?void 0:v.toLocaleString()]})]},f.id)})})]})]})]})}if(e.role==="manager"){const p=xq(e.branchId),g=_c(e.branchId);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(dn,{className:"w-8 h-8 text-secondary-foreground"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:p==null?void 0:p.name}),t.jsx("p",{className:"text-muted-foreground",children:"Branch operations and team management"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(T,{className:"border-primary/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),"Team"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:g.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active staff"})]})]}),t.jsxs(T,{className:"border-success/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(vt,{className:"w-4 h-4"}),"Inventory"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"2,847"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Items in stock"})]})]}),t.jsxs(T,{className:"border-warning/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"Sales"]})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["₹",(a=e.collectionAmount)==null?void 0:a.toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),t.jsxs(T,{className:"border-accent/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(hi,{className:"w-4 h-4"}),"Target"]})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[Math.round((e.collectionAmount||0)/(((i=e.targets)==null?void 0:i.monthly)||1)*100),"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Achievement"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Team Performance"})}),t.jsx(E,{className:"space-y-3",children:g.filter(f=>f.id!==e.id).map(f=>{var v;return t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:f.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:f.role.replace("_"," ")})]}),t.jsxs("div",{className:"text-sm font-medium text-success",children:["₹",(v=f.collectionAmount)==null?void 0:v.toLocaleString()]})]},f.id)})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Quick Actions"})}),t.jsxs(E,{className:"space-y-3",children:[t.jsxs(k,{className:"w-full justify-start",variant:"outline",children:[t.jsx(vt,{className:"w-4 h-4 mr-2"}),"Inventory Management"]}),t.jsxs(k,{className:"w-full justify-start",variant:"outline",children:[t.jsx(ar,{className:"w-4 h-4 mr-2"}),"Sales Reports"]}),t.jsxs(k,{className:"w-full justify-start",variant:"outline",children:[t.jsx(it,{className:"w-4 h-4 mr-2"}),"Staff Management"]}),t.jsxs(k,{className:"w-full justify-start",variant:"outline",children:[t.jsx(ln,{className:"w-4 h-4 mr-2"}),"Branch Settings"]})]})]})]})]})}return["SENIOR_PHARMACIST","PHARMACIST","PHARMACY_TECHNICIAN","CASHIER"].includes(e.role)?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Va,{className:"w-8 h-8 text-accent-foreground"}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",e.name]}),t.jsxs("p",{className:"text-muted-foreground",children:[e.role.replace("_"," ")," Dashboard"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(T,{className:"border-primary/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"My Sales"]})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["₹",(o=e.collectionAmount)==null?void 0:o.toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),t.jsxs(T,{className:"border-success/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(hi,{className:"w-4 h-4"}),"Target"]})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[Math.round((e.collectionAmount||0)/(((l=e.targets)==null?void 0:l.monthly)||1)*100),"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Achievement"})]})]}),t.jsxs(T,{className:"border-warning/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(zn,{className:"w-4 h-4"}),"Prescriptions"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"124"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Processed today"})]})]}),t.jsxs(T,{className:"border-accent/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ca,{className:"w-4 h-4"}),"Status"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"Active"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently on duty"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Today's Tasks"})}),t.jsxs(E,{className:"space-y-3",children:[e.permissions.includes("prescriptions")&&t.jsxs(k,{className:"w-full justify-start",variant:"outline",children:[t.jsx(Va,{className:"w-4 h-4 mr-2"}),"Process Prescriptions"]}),e.permissions.includes("inventory")&&t.jsxs(k,{className:"w-full justify-start",variant:"outline",children:[t.jsx(vt,{className:"w-4 h-4 mr-2"}),"Check Inventory"]}),e.permissions.includes("pos")&&t.jsxs(k,{className:"w-full justify-start",variant:"outline",children:[t.jsx(mt,{className:"w-4 h-4 mr-2"}),"Point of Sale"]}),t.jsxs(k,{className:"w-full justify-start",variant:"outline",children:[t.jsx(ar,{className:"w-4 h-4 mr-2"}),"My Performance"]})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Performance Metrics"})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Monthly Target"}),t.jsxs("span",{className:"font-medium",children:["₹",(c=e.targets)==null?void 0:c.monthly.toLocaleString()]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Achieved"}),t.jsxs("span",{className:"font-medium text-success",children:["₹",(d=e.collectionAmount)==null?void 0:d.toLocaleString()]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Remaining"}),t.jsxs("span",{className:"font-medium text-warning",children:["₹",((((u=e.targets)==null?void 0:u.monthly)||0)-(e.collectionAmount||0)).toLocaleString()]})]})]})]})]})]}):["SUPPLIER_ADMIN","SALES_REPRESENTATIVE"].includes(e.role)?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(hn,{className:"w-8 h-8 text-warning-foreground"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Supplier Dashboard"}),t.jsxs("p",{className:"text-muted-foreground",children:[e.role.replace("_"," ")," Operations"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(T,{className:"border-primary/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"Sales"]})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["₹",(m=e.collectionAmount)==null?void 0:m.toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),t.jsxs(T,{className:"border-success/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(dn,{className:"w-4 h-4"}),"Clients"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"34"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active pharmacies"})]})]}),t.jsxs(T,{className:"border-warning/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(vt,{className:"w-4 h-4"}),"Orders"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"156"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending delivery"})]})]}),t.jsxs(T,{className:"border-accent/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(hi,{className:"w-4 h-4"}),"Target"]})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[Math.round((e.collectionAmount||0)/(((h=e.targets)==null?void 0:h.monthly)||1)*100),"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Achievement"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Recent Orders"})}),t.jsx(E,{className:"space-y-3",children:["MediCare Hospital Network","HealthPlus Pharmacy Chain","CityMed Group"].map((p,g)=>t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:p}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Order #",1e3+g]})]}),t.jsx(re,{variant:"outline",className:"text-warning border-warning",children:"Pending"})]},g))})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Quick Actions"})}),t.jsxs(E,{className:"space-y-3",children:[t.jsxs(k,{className:"w-full justify-start",variant:"outline",children:[t.jsx(vt,{className:"w-4 h-4 mr-2"}),"Manage Inventory"]}),t.jsxs(k,{className:"w-full justify-start",variant:"outline",children:[t.jsx(it,{className:"w-4 h-4 mr-2"}),"Client Management"]}),t.jsxs(k,{className:"w-full justify-start",variant:"outline",children:[t.jsx(hn,{className:"w-4 h-4 mr-2"}),"Delivery Schedule"]}),t.jsxs(k,{className:"w-full justify-start",variant:"outline",children:[t.jsx(ar,{className:"w-4 h-4 mr-2"}),"Sales Reports"]})]})]})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(_i,{className:"w-8 h-8 text-muted-foreground"}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",e.name]}),t.jsx("p",{className:"text-muted-foreground",children:"Your personalized dashboard"})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Getting Started"})}),t.jsx(E,{children:t.jsx("p",{children:"Welcome to your dashboard. Your role-specific features will be available here."})})]})]})}function wG(){const[e,r]=x.useState(null),[n,s]=x.useState(""),a=qs(),i=Ii(),{toast:o}=Tt();vG({timeout:30*60*1e3,warningTime:5*60*1e3}),yG({refreshInterval:15*60*1e3,enabled:!0}),x.useEffect(()=>{const u=localStorage.getItem("currentUser"),m=localStorage.getItem("selectedOrganization");if(u){const h=JSON.parse(u);r(h),m?s(m):h.organizationId&&s(h.organizationId)}},[]);const l=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("currentUser"),localStorage.removeItem("userEmail"),localStorage.removeItem("selectedOrganization"),o({title:"Logged Out",description:"You have been successfully logged out."}),a("/login",{replace:!0})},c=u=>{var m;s(u),localStorage.setItem("selectedOrganization",u),o({title:"Organization Changed",description:`Switched to ${(m=o1(u))==null?void 0:m.name}`})},d=u=>({super_admin:"bg-warning text-warning-foreground",owner:"bg-primary text-primary-foreground",manager:"bg-secondary text-secondary-foreground",pharmacist:"bg-accent text-accent-foreground",technician:"bg-muted text-muted-foreground",cashier:"bg-muted text-muted-foreground",supplier:"bg-destructive text-destructive-foreground"})[u]||"bg-muted text-muted-foreground";return e?t.jsxs("div",{className:"min-h-screen flex flex-col w-full",children:[t.jsxs("header",{className:"fixed top-0 left-0 right-0 h-16 bg-gradient-to-r from-blue-50 to-indigo-100/80 backdrop-blur-sm border-b border-blue-200 z-50 flex items-center px-4",children:[t.jsxs("div",{className:"flex items-center gap-3 ml-12",children:[t.jsx(Fw,{className:"w-6 h-6 text-primary"}),t.jsx("div",{children:t.jsx("h1",{className:"text-lg font-bold",children:"drpharmas"})})]}),t.jsxs("div",{className:"ml-auto flex items-center gap-4",children:[(e.role==="super_admin"||e.role==="owner"&&B0.length>1)&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(dn,{className:"w-4 h-4"}),t.jsxs(_e,{value:n,onValueChange:c,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Select Organization..."})}),t.jsx(Ce,{children:B0.map(u=>t.jsx(I,{value:u.id,children:u.name},u.id))})]})]}),t.jsx(k,{variant:"ghost",size:"icon",children:t.jsx(Xt,{className:"w-4 h-4"})}),t.jsxs(k,{variant:"ghost",size:"icon",className:"relative",children:[t.jsx(id,{className:"w-4 h-4"}),t.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-destructive rounded-full"})]}),t.jsxs("div",{className:"flex items-center gap-3 border-l border-border pl-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_i,{className:"w-6 h-6 bg-primary text-primary-foreground p-1 rounded"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",children:e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.name||"User"}),t.jsx(re,{className:`text-xs ${d(e.role)}`,children:gq(e.role)})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(k,{variant:"ghost",size:"icon",children:t.jsx(ln,{className:"w-4 h-4"})}),t.jsx(k,{variant:"ghost",size:"icon",onClick:l,children:t.jsx(yB,{className:"w-4 h-4"})})]})]})]})]}),t.jsx("div",{className:"flex pt-16 min-h-screen",children:t.jsxs(LD,{children:[t.jsx("div",{className:"fixed top-4 left-4 z-50",children:t.jsx(zD,{className:"bg-white/80 hover:bg-white border border-slate-200 shadow-sm"})}),t.jsx(FK,{}),t.jsx(BD,{className:"flex-1 min-w-0",children:t.jsx("main",{className:"p-6 w-full",children:t.jsx("div",{className:"animate-in slide-in-from-top-4 fade-in duration-700 ease-out",children:i.pathname==="/"?t.jsx(NG,{user:e}):t.jsx(VV,{})},i.pathname)})})]})})]}):t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."})}var SG=Array.isArray,ls=SG,PG=typeof Yh=="object"&&Yh&&Yh.Object===Object&&Yh,i3=PG,CG=i3,_G=typeof self=="object"&&self&&self.Object===Object&&self,AG=CG||_G||Function("return this")(),Za=AG,TG=Za,EG=TG.Symbol,Fh=EG,mC=Fh,o3=Object.prototype,kG=o3.hasOwnProperty,OG=o3.toString,Au=mC?mC.toStringTag:void 0;function RG(e){var r=kG.call(e,Au),n=e[Au];try{e[Au]=void 0;var s=!0}catch{}var a=OG.call(e);return s&&(r?e[Au]=n:delete e[Au]),a}var DG=RG,MG=Object.prototype,IG=MG.toString;function $G(e){return IG.call(e)}var LG=$G,hC=Fh,FG=DG,zG=LG,BG="[object Null]",UG="[object Undefined]",fC=hC?hC.toStringTag:void 0;function VG(e){return e==null?e===void 0?UG:BG:fC&&fC in Object(e)?FG(e):zG(e)}var $i=VG;function qG(e){return e!=null&&typeof e=="object"}var Li=qG,WG=$i,HG=Li,KG="[object Symbol]";function GG(e){return typeof e=="symbol"||HG(e)&&WG(e)==KG}var tu=GG,XG=ls,YG=tu,QG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZG=/^\w*$/;function JG(e,r){if(XG(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||YG(e)?!0:ZG.test(e)||!QG.test(e)||r!=null&&e in Object(r)}var N1=JG;function eX(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Lo=eX;const ru=Zt(Lo);var tX=$i,rX=Lo,nX="[object AsyncFunction]",sX="[object Function]",aX="[object GeneratorFunction]",iX="[object Proxy]";function oX(e){if(!rX(e))return!1;var r=tX(e);return r==sX||r==aX||r==nX||r==iX}var w1=oX;const ct=Zt(w1);var lX=Za,cX=lX["__core-js_shared__"],dX=cX,Hy=dX,pC=function(){var e=/[^.]+$/.exec(Hy&&Hy.keys&&Hy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function uX(e){return!!pC&&pC in e}var mX=uX,hX=Function.prototype,fX=hX.toString;function pX(e){if(e!=null){try{return fX.call(e)}catch{}try{return e+""}catch{}}return""}var l3=pX,xX=w1,gX=mX,vX=Lo,yX=l3,jX=/[\\^$.*+?()[\]{}|]/g,bX=/^\[object .+?Constructor\]$/,NX=Function.prototype,wX=Object.prototype,SX=NX.toString,PX=wX.hasOwnProperty,CX=RegExp("^"+SX.call(PX).replace(jX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _X(e){if(!vX(e)||gX(e))return!1;var r=xX(e)?CX:bX;return r.test(yX(e))}var AX=_X;function TX(e,r){return e==null?void 0:e[r]}var EX=TX,kX=AX,OX=EX;function RX(e,r){var n=OX(e,r);return kX(n)?n:void 0}var Xl=RX,DX=Xl,MX=DX(Object,"create"),ev=MX,xC=ev;function IX(){this.__data__=xC?xC(null):{},this.size=0}var $X=IX;function LX(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var FX=LX,zX=ev,BX="__lodash_hash_undefined__",UX=Object.prototype,VX=UX.hasOwnProperty;function qX(e){var r=this.__data__;if(zX){var n=r[e];return n===BX?void 0:n}return VX.call(r,e)?r[e]:void 0}var WX=qX,HX=ev,KX=Object.prototype,GX=KX.hasOwnProperty;function XX(e){var r=this.__data__;return HX?r[e]!==void 0:GX.call(r,e)}var YX=XX,QX=ev,ZX="__lodash_hash_undefined__";function JX(e,r){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=QX&&r===void 0?ZX:r,this}var eY=JX,tY=$X,rY=FX,nY=WX,sY=YX,aY=eY;function nu(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var s=e[r];this.set(s[0],s[1])}}nu.prototype.clear=tY;nu.prototype.delete=rY;nu.prototype.get=nY;nu.prototype.has=sY;nu.prototype.set=aY;var iY=nu;function oY(){this.__data__=[],this.size=0}var lY=oY;function cY(e,r){return e===r||e!==e&&r!==r}var S1=cY,dY=S1;function uY(e,r){for(var n=e.length;n--;)if(dY(e[n][0],r))return n;return-1}var tv=uY,mY=tv,hY=Array.prototype,fY=hY.splice;function pY(e){var r=this.__data__,n=mY(r,e);if(n<0)return!1;var s=r.length-1;return n==s?r.pop():fY.call(r,n,1),--this.size,!0}var xY=pY,gY=tv;function vY(e){var r=this.__data__,n=gY(r,e);return n<0?void 0:r[n][1]}var yY=vY,jY=tv;function bY(e){return jY(this.__data__,e)>-1}var NY=bY,wY=tv;function SY(e,r){var n=this.__data__,s=wY(n,e);return s<0?(++this.size,n.push([e,r])):n[s][1]=r,this}var PY=SY,CY=lY,_Y=xY,AY=yY,TY=NY,EY=PY;function su(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var s=e[r];this.set(s[0],s[1])}}su.prototype.clear=CY;su.prototype.delete=_Y;su.prototype.get=AY;su.prototype.has=TY;su.prototype.set=EY;var rv=su,kY=Xl,OY=Za,RY=kY(OY,"Map"),P1=RY,gC=iY,DY=rv,MY=P1;function IY(){this.size=0,this.__data__={hash:new gC,map:new(MY||DY),string:new gC}}var $Y=IY;function LY(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var FY=LY,zY=FY;function BY(e,r){var n=e.__data__;return zY(r)?n[typeof r=="string"?"string":"hash"]:n.map}var nv=BY,UY=nv;function VY(e){var r=UY(this,e).delete(e);return this.size-=r?1:0,r}var qY=VY,WY=nv;function HY(e){return WY(this,e).get(e)}var KY=HY,GY=nv;function XY(e){return GY(this,e).has(e)}var YY=XY,QY=nv;function ZY(e,r){var n=QY(this,e),s=n.size;return n.set(e,r),this.size+=n.size==s?0:1,this}var JY=ZY,eQ=$Y,tQ=qY,rQ=KY,nQ=YY,sQ=JY;function au(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var s=e[r];this.set(s[0],s[1])}}au.prototype.clear=eQ;au.prototype.delete=tQ;au.prototype.get=rQ;au.prototype.has=nQ;au.prototype.set=sQ;var C1=au,c3=C1,aQ="Expected a function";function _1(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(aQ);var n=function(){var s=arguments,a=r?r.apply(this,s):s[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return n.cache=i.set(a,o)||i,o};return n.cache=new(_1.Cache||c3),n}_1.Cache=c3;var d3=_1;const iQ=Zt(d3);var oQ=d3,lQ=500;function cQ(e){var r=oQ(e,function(s){return n.size===lQ&&n.clear(),s}),n=r.cache;return r}var dQ=cQ,uQ=dQ,mQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hQ=/\\(\\)?/g,fQ=uQ(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(mQ,function(n,s,a,i){r.push(a?i.replace(hQ,"$1"):s||n)}),r}),pQ=fQ;function xQ(e,r){for(var n=-1,s=e==null?0:e.length,a=Array(s);++n<s;)a[n]=r(e[n],n,e);return a}var A1=xQ,vC=Fh,gQ=A1,vQ=ls,yQ=tu,jQ=1/0,yC=vC?vC.prototype:void 0,jC=yC?yC.toString:void 0;function u3(e){if(typeof e=="string")return e;if(vQ(e))return gQ(e,u3)+"";if(yQ(e))return jC?jC.call(e):"";var r=e+"";return r=="0"&&1/e==-jQ?"-0":r}var bQ=u3,NQ=bQ;function wQ(e){return e==null?"":NQ(e)}var m3=wQ,SQ=ls,PQ=N1,CQ=pQ,_Q=m3;function AQ(e,r){return SQ(e)?e:PQ(e,r)?[e]:CQ(_Q(e))}var h3=AQ,TQ=tu,EQ=1/0;function kQ(e){if(typeof e=="string"||TQ(e))return e;var r=e+"";return r=="0"&&1/e==-EQ?"-0":r}var sv=kQ,OQ=h3,RQ=sv;function DQ(e,r){r=OQ(r,e);for(var n=0,s=r.length;e!=null&&n<s;)e=e[RQ(r[n++])];return n&&n==s?e:void 0}var T1=DQ,MQ=T1;function IQ(e,r,n){var s=e==null?void 0:MQ(e,r);return s===void 0?n:s}var f3=IQ;const Ns=Zt(f3);function $Q(e){return e==null}var LQ=$Q;const ht=Zt(LQ);var FQ=$i,zQ=ls,BQ=Li,UQ="[object String]";function VQ(e){return typeof e=="string"||!zQ(e)&&BQ(e)&&FQ(e)==UQ}var qQ=VQ;const $l=Zt(qQ);var p3={exports:{}},rr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1=Symbol.for("react.element"),k1=Symbol.for("react.portal"),av=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),ov=Symbol.for("react.profiler"),lv=Symbol.for("react.provider"),cv=Symbol.for("react.context"),WQ=Symbol.for("react.server_context"),dv=Symbol.for("react.forward_ref"),uv=Symbol.for("react.suspense"),mv=Symbol.for("react.suspense_list"),hv=Symbol.for("react.memo"),fv=Symbol.for("react.lazy"),HQ=Symbol.for("react.offscreen"),x3;x3=Symbol.for("react.module.reference");function Ws(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case E1:switch(e=e.type,e){case av:case ov:case iv:case uv:case mv:return e;default:switch(e=e&&e.$$typeof,e){case WQ:case cv:case dv:case fv:case hv:case lv:return e;default:return r}}case k1:return r}}}rr.ContextConsumer=cv;rr.ContextProvider=lv;rr.Element=E1;rr.ForwardRef=dv;rr.Fragment=av;rr.Lazy=fv;rr.Memo=hv;rr.Portal=k1;rr.Profiler=ov;rr.StrictMode=iv;rr.Suspense=uv;rr.SuspenseList=mv;rr.isAsyncMode=function(){return!1};rr.isConcurrentMode=function(){return!1};rr.isContextConsumer=function(e){return Ws(e)===cv};rr.isContextProvider=function(e){return Ws(e)===lv};rr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===E1};rr.isForwardRef=function(e){return Ws(e)===dv};rr.isFragment=function(e){return Ws(e)===av};rr.isLazy=function(e){return Ws(e)===fv};rr.isMemo=function(e){return Ws(e)===hv};rr.isPortal=function(e){return Ws(e)===k1};rr.isProfiler=function(e){return Ws(e)===ov};rr.isStrictMode=function(e){return Ws(e)===iv};rr.isSuspense=function(e){return Ws(e)===uv};rr.isSuspenseList=function(e){return Ws(e)===mv};rr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===av||e===ov||e===iv||e===uv||e===mv||e===HQ||typeof e=="object"&&e!==null&&(e.$$typeof===fv||e.$$typeof===hv||e.$$typeof===lv||e.$$typeof===cv||e.$$typeof===dv||e.$$typeof===x3||e.getModuleId!==void 0)};rr.typeOf=Ws;p3.exports=rr;var KQ=p3.exports,GQ=$i,XQ=Li,YQ="[object Number]";function QQ(e){return typeof e=="number"||XQ(e)&&GQ(e)==YQ}var g3=QQ;const ZQ=Zt(g3);var JQ=g3;function eZ(e){return JQ(e)&&e!=+e}var tZ=eZ;const iu=Zt(tZ);var Bn=function(r){return r===0?0:r>0?1:-1},cl=function(r){return $l(r)&&r.indexOf("%")===r.length-1},Re=function(r){return ZQ(r)&&!iu(r)},rZ=function(r){return ht(r)},rn=function(r){return Re(r)||$l(r)},nZ=0,Yl=function(r){var n=++nZ;return"".concat(r||"").concat(n)},Un=function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(r)&&!$l(r))return s;var i;if(cl(r)){var o=r.indexOf("%");i=n*parseFloat(r.slice(0,o))/100}else i=+r;return iu(i)&&(i=s),a&&i>n&&(i=n),i},eo=function(r){if(!r)return null;var n=Object.keys(r);return n&&n.length?r[n[0]]:null},sZ=function(r){if(!Array.isArray(r))return!1;for(var n=r.length,s={},a=0;a<n;a++)if(!s[r[a]])s[r[a]]=!0;else return!0;return!1},en=function(r,n){return Re(r)&&Re(n)?function(s){return r+s*(n-r)}:function(){return n}};function Jp(e,r,n){return!e||!e.length?null:e.find(function(s){return s&&(typeof r=="function"?r(s):Ns(s,r))===n})}var aZ=function(r,n){return Re(r)&&Re(n)?r-n:$l(r)&&$l(n)?r.localeCompare(n):r instanceof Date&&n instanceof Date?r.getTime()-n.getTime():String(r).localeCompare(String(n))};function Uc(e,r){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(r,n)||e[n]!==r[n]))return!1;for(var s in r)if({}.hasOwnProperty.call(r,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function rb(e){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rb(e)}var iZ=["viewBox","children"],oZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bC=["points","pathLength"],Ky={svg:iZ,polygon:bC,polyline:bC},O1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ex=function(r,n){if(!r||typeof r=="function"||typeof r=="boolean")return null;var s=r;if(x.isValidElement(r)&&(s=r.props),!ru(s))return null;var a={};return Object.keys(s).forEach(function(i){O1.includes(i)&&(a[i]=n||function(o){return s[i](s,o)})}),a},lZ=function(r,n,s){return function(a){return r(n,s,a),null}},Ll=function(r,n,s){if(!ru(r)||rb(r)!=="object")return null;var a=null;return Object.keys(r).forEach(function(i){var o=r[i];O1.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=lZ(o,n,s))}),a},cZ=["children"],dZ=["children"];function NC(e,r){if(e==null)return{};var n=uZ(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function uZ(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function nb(e){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nb(e)}var wC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vi=function(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},SC=null,Gy=null,R1=function e(r){if(r===SC&&Array.isArray(Gy))return Gy;var n=[];return x.Children.forEach(r,function(s){ht(s)||(KQ.isFragment(s)?n=n.concat(e(s.props.children)):n.push(s))}),Gy=n,SC=r,n};function ws(e,r){var n=[],s=[];return Array.isArray(r)?s=r.map(function(a){return vi(a)}):s=[vi(r)],R1(e).forEach(function(a){var i=Ns(a,"type.displayName")||Ns(a,"type.name");s.indexOf(i)!==-1&&n.push(a)}),n}function hs(e,r){var n=ws(e,r);return n&&n[0]}var PC=function(r){if(!r||!r.props)return!1;var n=r.props,s=n.width,a=n.height;return!(!Re(s)||s<=0||!Re(a)||a<=0)},mZ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hZ=function(r){return r&&r.type&&$l(r.type)&&mZ.indexOf(r.type)>=0},v3=function(r){return r&&nb(r)==="object"&&"clipDot"in r},fZ=function(r,n,s,a){var i,o=(i=Ky==null?void 0:Ky[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!ct(r)&&(a&&o.includes(n)||oZ.includes(n))||s&&O1.includes(n)},et=function(r,n,s){if(!r||typeof r=="function"||typeof r=="boolean")return null;var a=r;if(x.isValidElement(r)&&(a=r.props),!ru(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;fZ((l=a)===null||l===void 0?void 0:l[o],o,n,s)&&(i[o]=a[o])}),i},sb=function e(r,n){if(r===n)return!0;var s=x.Children.count(r);if(s!==x.Children.count(n))return!1;if(s===0)return!0;if(s===1)return CC(Array.isArray(r)?r[0]:r,Array.isArray(n)?n[0]:n);for(var a=0;a<s;a++){var i=r[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!CC(i,o))return!1}return!0},CC=function(r,n){if(ht(r)&&ht(n))return!0;if(!ht(r)&&!ht(n)){var s=r.props||{},a=s.children,i=NC(s,cZ),o=n.props||{},l=o.children,c=NC(o,dZ);return a&&l?Uc(i,c)&&sb(a,l):!a&&!l?Uc(i,c):!1}return!1},_C=function(r,n){var s=[],a={};return R1(r).forEach(function(i,o){if(hZ(i))s.push(i);else if(i){var l=vi(i.type),c=n[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var m=d(i,l,o);s.push(m),a[l]=!0}}}),s},pZ=function(r){var n=r&&r.type;return n&&wC[n]?wC[n]:null},xZ=function(r,n){return R1(n).indexOf(r)},gZ=["children","width","height","viewBox","className","style","title","desc"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ab.apply(this,arguments)}function vZ(e,r){if(e==null)return{};var n=yZ(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function yZ(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function ib(e){var r=e.children,n=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=vZ(e,gZ),u=a||{width:n,height:s,x:0,y:0},m=pt("recharts-surface",i);return L.createElement("svg",ab({},et(d,!0,"svg"),{className:m,width:n,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),r)}var jZ=["children","className"];function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ob.apply(this,arguments)}function bZ(e,r){if(e==null)return{};var n=NZ(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function NZ(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}var It=L.forwardRef(function(e,r){var n=e.children,s=e.className,a=bZ(e,jZ),i=pt("recharts-layer",s);return L.createElement("g",ob({className:i},et(a,!0),{ref:r}),n)}),ha=function(r,n){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function wZ(e,r,n){var s=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+r];return i}var SZ=wZ,PZ=SZ;function CZ(e,r,n){var s=e.length;return n=n===void 0?s:n,!r&&n>=s?e:PZ(e,r,n)}var _Z=CZ,AZ="\\ud800-\\udfff",TZ="\\u0300-\\u036f",EZ="\\ufe20-\\ufe2f",kZ="\\u20d0-\\u20ff",OZ=TZ+EZ+kZ,RZ="\\ufe0e\\ufe0f",DZ="\\u200d",MZ=RegExp("["+DZ+AZ+OZ+RZ+"]");function IZ(e){return MZ.test(e)}var y3=IZ;function $Z(e){return e.split("")}var LZ=$Z,j3="\\ud800-\\udfff",FZ="\\u0300-\\u036f",zZ="\\ufe20-\\ufe2f",BZ="\\u20d0-\\u20ff",UZ=FZ+zZ+BZ,VZ="\\ufe0e\\ufe0f",qZ="["+j3+"]",lb="["+UZ+"]",cb="\\ud83c[\\udffb-\\udfff]",WZ="(?:"+lb+"|"+cb+")",b3="[^"+j3+"]",N3="(?:\\ud83c[\\udde6-\\uddff]){2}",w3="[\\ud800-\\udbff][\\udc00-\\udfff]",HZ="\\u200d",S3=WZ+"?",P3="["+VZ+"]?",KZ="(?:"+HZ+"(?:"+[b3,N3,w3].join("|")+")"+P3+S3+")*",GZ=P3+S3+KZ,XZ="(?:"+[b3+lb+"?",lb,N3,w3,qZ].join("|")+")",YZ=RegExp(cb+"(?="+cb+")|"+XZ+GZ,"g");function QZ(e){return e.match(YZ)||[]}var ZZ=QZ,JZ=LZ,eJ=y3,tJ=ZZ;function rJ(e){return eJ(e)?tJ(e):JZ(e)}var nJ=rJ,sJ=_Z,aJ=y3,iJ=nJ,oJ=m3;function lJ(e){return function(r){r=oJ(r);var n=aJ(r)?iJ(r):void 0,s=n?n[0]:r.charAt(0),a=n?sJ(n,1).join(""):r.slice(1);return s[e]()+a}}var cJ=lJ,dJ=cJ,uJ=dJ("toUpperCase"),mJ=uJ;const pv=Zt(mJ);function dr(e){return function(){return e}}const C3=Math.cos,tx=Math.sin,Pa=Math.sqrt,rx=Math.PI,xv=2*rx,db=Math.PI,ub=2*db,el=1e-6,hJ=ub-el;function _3(e){this._+=e[0];for(let r=1,n=e.length;r<n;++r)this._+=arguments[r]+e[r]}function fJ(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return _3;const n=10**r;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+s[a]}}class pJ{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?_3:fJ(r)}moveTo(r,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,n){this._append`L${this._x1=+r},${this._y1=+n}`}quadraticCurveTo(r,n,s,a){this._append`Q${+r},${+n},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(r,n,s,a,i,o){this._append`C${+r},${+n},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(r,n,s,a,i){if(r=+r,n=+n,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-r,d=a-n,u=o-r,m=l-n,h=u*u+m*m;if(this._x1===null)this._append`M${this._x1=r},${this._y1=n}`;else if(h>el)if(!(Math.abs(m*c-d*u)>el)||!i)this._append`L${this._x1=r},${this._y1=n}`;else{let p=s-o,g=a-l,f=c*c+d*d,v=p*p+g*g,b=Math.sqrt(f),y=Math.sqrt(h),j=i*Math.tan((db-Math.acos((f+h-v)/(2*b*y)))/2),C=j/y,S=j/b;Math.abs(C-1)>el&&this._append`L${r+C*u},${n+C*m}`,this._append`A${i},${i},0,0,${+(m*p>u*g)},${this._x1=r+S*c},${this._y1=n+S*d}`}}arc(r,n,s,a,i,o){if(r=+r,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=r+l,u=n+c,m=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>el||Math.abs(this._y1-u)>el)&&this._append`L${d},${u}`,s&&(h<0&&(h=h%ub+ub),h>hJ?this._append`A${s},${s},0,1,${m},${r-l},${n-c}A${s},${s},0,1,${m},${this._x1=d},${this._y1=u}`:h>el&&this._append`A${s},${s},0,${+(h>=db)},${m},${this._x1=r+s*Math.cos(i)},${this._y1=n+s*Math.sin(i)}`)}rect(r,n,s,a){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function D1(e){let r=3;return e.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);r=s}return e},()=>new pJ(r)}function M1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function A3(e){this._context=e}A3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function gv(e){return new A3(e)}function T3(e){return e[0]}function E3(e){return e[1]}function k3(e,r){var n=dr(!0),s=null,a=gv,i=null,o=D1(l);e=typeof e=="function"?e:e===void 0?T3:dr(e),r=typeof r=="function"?r:r===void 0?E3:dr(r);function l(c){var d,u=(c=M1(c)).length,m,h=!1,p;for(s==null&&(i=a(p=o())),d=0;d<=u;++d)!(d<u&&n(m=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(m,d,c),+r(m,d,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:dr(+c),l):e},l.y=function(c){return arguments.length?(r=typeof c=="function"?c:dr(+c),l):r},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:dr(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function Pf(e,r,n){var s=null,a=dr(!0),i=null,o=gv,l=null,c=D1(d);e=typeof e=="function"?e:e===void 0?T3:dr(+e),r=typeof r=="function"?r:dr(r===void 0?0:+r),n=typeof n=="function"?n:n===void 0?E3:dr(+n);function d(m){var h,p,g,f=(m=M1(m)).length,v,b=!1,y,j=new Array(f),C=new Array(f);for(i==null&&(l=o(y=c())),h=0;h<=f;++h){if(!(h<f&&a(v=m[h],h,m))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(j[g],C[g]);l.lineEnd(),l.areaEnd()}b&&(j[h]=+e(v,h,m),C[h]=+r(v,h,m),l.point(s?+s(v,h,m):j[h],n?+n(v,h,m):C[h]))}if(y)return l=null,y+""||null}function u(){return k3().defined(a).curve(o).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:dr(+m),s=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:dr(+m),d):e},d.x1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:dr(+m),d):s},d.y=function(m){return arguments.length?(r=typeof m=="function"?m:dr(+m),n=null,d):r},d.y0=function(m){return arguments.length?(r=typeof m=="function"?m:dr(+m),d):r},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:dr(+m),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(r)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(s).y(r)},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:dr(!!m),d):a},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class O3{constructor(r,n){this._context=r,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,n){switch(r=+r,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,n,r,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,r,this._y0,r,n);break}}this._x0=r,this._y0=n}}function xJ(e){return new O3(e,!0)}function gJ(e){return new O3(e,!1)}const I1={draw(e,r){const n=Pa(r/rx);e.moveTo(n,0),e.arc(0,0,n,0,xv)}},vJ={draw(e,r){const n=Pa(r/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},R3=Pa(1/3),yJ=R3*2,jJ={draw(e,r){const n=Pa(r/yJ),s=n*R3;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},bJ={draw(e,r){const n=Pa(r),s=-n/2;e.rect(s,s,n,n)}},NJ=.8908130915292852,D3=tx(rx/10)/tx(7*rx/10),wJ=tx(xv/10)*D3,SJ=-C3(xv/10)*D3,PJ={draw(e,r){const n=Pa(r*NJ),s=wJ*n,a=SJ*n;e.moveTo(0,-n),e.lineTo(s,a);for(let i=1;i<5;++i){const o=xv*i/5,l=C3(o),c=tx(o);e.lineTo(c*n,-l*n),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},Xy=Pa(3),CJ={draw(e,r){const n=-Pa(r/(Xy*3));e.moveTo(0,n*2),e.lineTo(-Xy*n,-n),e.lineTo(Xy*n,-n),e.closePath()}},ks=-.5,Os=Pa(3)/2,mb=1/Pa(12),_J=(mb/2+1)*3,AJ={draw(e,r){const n=Pa(r/_J),s=n/2,a=n*mb,i=s,o=n*mb+n,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ks*s-Os*a,Os*s+ks*a),e.lineTo(ks*i-Os*o,Os*i+ks*o),e.lineTo(ks*l-Os*c,Os*l+ks*c),e.lineTo(ks*s+Os*a,ks*a-Os*s),e.lineTo(ks*i+Os*o,ks*o-Os*i),e.lineTo(ks*l+Os*c,ks*c-Os*l),e.closePath()}};function TJ(e,r){let n=null,s=D1(a);e=typeof e=="function"?e:dr(e||I1),r=typeof r=="function"?r:dr(r===void 0?64:+r);function a(){let i;if(n||(n=i=s()),e.apply(this,arguments).draw(n,+r.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:dr(i),a):e},a.size=function(i){return arguments.length?(r=typeof i=="function"?i:dr(+i),a):r},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function nx(){}function sx(e,r,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+n)/6)}function M3(e){this._context=e}M3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sx(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function EJ(e){return new M3(e)}function I3(e){this._context=e}I3.prototype={areaStart:nx,areaEnd:nx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:sx(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function kJ(e){return new I3(e)}function $3(e){this._context=e}$3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:sx(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function OJ(e){return new $3(e)}function L3(e){this._context=e}L3.prototype={areaStart:nx,areaEnd:nx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function RJ(e){return new L3(e)}function AC(e){return e<0?-1:1}function TC(e,r,n){var s=e._x1-e._x0,a=r-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(n-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(AC(i)+AC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function EC(e,r){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-r)/2:r}function Yy(e,r,n){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*r,i-l,o-l*n,i,o)}function ax(e){this._context=e}ax.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yy(this,this._t0,EC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var n=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,Yy(this,EC(this,n=TC(this,e,r)),n);break;default:Yy(this,this._t0,n=TC(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=n}}};function F3(e){this._context=new z3(e)}(F3.prototype=Object.create(ax.prototype)).point=function(e,r){ax.prototype.point.call(this,r,e)};function z3(e){this._context=e}z3.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,n,s,a,i){this._context.bezierCurveTo(r,e,s,n,i,a)}};function DJ(e){return new ax(e)}function MJ(e){return new F3(e)}function B3(e){this._context=e}B3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),n===2)this._context.lineTo(e[1],r[1]);else for(var s=kC(e),a=kC(r),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],r[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function kC(e){var r,n=e.length-1,s,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],r=1;r<n-1;++r)a[r]=1,i[r]=4,o[r]=4*e[r]+2*e[r+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],r=1;r<n;++r)s=a[r]/i[r-1],i[r]-=s,o[r]-=s*o[r-1];for(a[n-1]=o[n-1]/i[n-1],r=n-2;r>=0;--r)a[r]=(o[r]-a[r+1])/i[r];for(i[n-1]=(e[n]+a[n-1])/2,r=0;r<n-1;++r)i[r]=2*e[r+1]-a[r+1];return[a,i]}function IJ(e){return new B3(e)}function vv(e,r){this._context=e,this._t=r}vv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,r)}break}}this._x=e,this._y=r}};function $J(e){return new vv(e,.5)}function LJ(e){return new vv(e,0)}function FJ(e){return new vv(e,1)}function ud(e,r){if((o=e.length)>1)for(var n=1,s,a,i=e[r[0]],o,l=i.length;n<o;++n)for(a=i,i=e[r[n]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function hb(e){for(var r=e.length,n=new Array(r);--r>=0;)n[r]=r;return n}function zJ(e,r){return e[r]}function BJ(e){const r=[];return r.key=e,r}function UJ(){var e=dr([]),r=hb,n=ud,s=zJ;function a(i){var o=Array.from(e.apply(this,arguments),BJ),l,c=o.length,d=-1,u;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(m,o[l].key,d,i)]).data=m;for(l=0,u=M1(r(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:dr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:dr(+i),a):s},a.order=function(i){return arguments.length?(r=i==null?hb:typeof i=="function"?i:dr(Array.from(i)),a):r},a.offset=function(i){return arguments.length?(n=i??ud,a):n},a}function VJ(e,r){if((s=e.length)>0){for(var n,s,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<s;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<s;++n)e[n][a][1]/=o}ud(e,r)}}function qJ(e,r){if((a=e.length)>0){for(var n=0,s=e[r[0]],a,i=s.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}ud(e,r)}}function WJ(e,r){if(!(!((o=e.length)>0)||!((i=(a=e[r[0]]).length)>0))){for(var n=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[r[l]],m=u[s][1]||0,h=u[s-1][1]||0,p=(m-h)/2,g=0;g<l;++g){var f=e[r[g]],v=f[s][1]||0,b=f[s-1][1]||0;p+=v-b}c+=m,d+=p*m}a[s-1][1]+=a[s-1][0]=n,c&&(n-=d/c)}a[s-1][1]+=a[s-1][0]=n,ud(e,r)}}function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bm(e)}var HJ=["type","size","sizeType"];function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fb.apply(this,arguments)}function OC(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function RC(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?OC(Object(n),!0).forEach(function(s){KJ(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function KJ(e,r,n){return r=GJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function GJ(e){var r=XJ(e,"string");return Bm(r)=="symbol"?r:r+""}function XJ(e,r){if(Bm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Bm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function YJ(e,r){if(e==null)return{};var n=QJ(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function QJ(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}var U3={symbolCircle:I1,symbolCross:vJ,symbolDiamond:jJ,symbolSquare:bJ,symbolStar:PJ,symbolTriangle:CJ,symbolWye:AJ},ZJ=Math.PI/180,JJ=function(r){var n="symbol".concat(pv(r));return U3[n]||I1},eee=function(r,n,s){if(n==="area")return r;switch(s){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var a=18*ZJ;return 1.25*r*r*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},tee=function(r,n){U3["symbol".concat(pv(r))]=n},$1=function(r){var n=r.type,s=n===void 0?"circle":n,a=r.size,i=a===void 0?64:a,o=r.sizeType,l=o===void 0?"area":o,c=YJ(r,HJ),d=RC(RC({},c),{},{type:s,size:i,sizeType:l}),u=function(){var v=JJ(s),b=TJ().type(v).size(eee(i,l,s));return b()},m=d.className,h=d.cx,p=d.cy,g=et(d,!0);return h===+h&&p===+p&&i===+i?L.createElement("path",fb({},g,{className:pt("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};$1.registerSymbol=tee;function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},md(e)}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pb.apply(this,arguments)}function DC(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ree(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?DC(Object(n),!0).forEach(function(s){Um(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function nee(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function see(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,q3(s.key),s)}}function aee(e,r,n){return r&&see(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iee(e,r,n){return r=ix(r),oee(e,V3()?Reflect.construct(r,n||[],ix(e).constructor):r.apply(e,n))}function oee(e,r){if(r&&(md(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lee(e)}function lee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V3=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(e)}function cee(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&xb(e,r)}function xb(e,r){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},xb(e,r)}function Um(e,r,n){return r=q3(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function q3(e){var r=dee(e,"string");return md(r)=="symbol"?r:r+""}function dee(e,r){if(md(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(md(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Rs=32,L1=function(e){function r(){return nee(this,r),iee(this,r,arguments)}return cee(r,e),aee(r,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=Rs/2,o=Rs/6,l=Rs/3,c=s.inactive?a:s.color;if(s.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:Rs,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Rs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Rs/8,"h").concat(Rs,"v").concat(Rs*3/4,"h").concat(-Rs,"z"),className:"recharts-legend-icon"});if(L.isValidElement(s.legendIcon)){var d=ree({},s);return delete d.legendIcon,L.cloneElement(s.legendIcon,d)}return L.createElement($1,{fill:c,cx:i,cy:i,size:Rs,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Rs,height:Rs},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var f=p.formatter||c,v=pt(Um(Um({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=ct(p.value)?null:p.value;ha(!ct(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?d:p.color;return L.createElement("li",pb({className:v,style:m,key:"legend-item-".concat(g)},Ll(s.props,p,g)),L.createElement(ib,{width:o,height:o,viewBox:u,style:h},s.renderIcon(p)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},f?f(b,p,g):b))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Um(L1,"displayName","Legend");Um(L1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var uee=rv;function mee(){this.__data__=new uee,this.size=0}var hee=mee;function fee(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}var pee=fee;function xee(e){return this.__data__.get(e)}var gee=xee;function vee(e){return this.__data__.has(e)}var yee=vee,jee=rv,bee=P1,Nee=C1,wee=200;function See(e,r){var n=this.__data__;if(n instanceof jee){var s=n.__data__;if(!bee||s.length<wee-1)return s.push([e,r]),this.size=++n.size,this;n=this.__data__=new Nee(s)}return n.set(e,r),this.size=n.size,this}var Pee=See,Cee=rv,_ee=hee,Aee=pee,Tee=gee,Eee=yee,kee=Pee;function ou(e){var r=this.__data__=new Cee(e);this.size=r.size}ou.prototype.clear=_ee;ou.prototype.delete=Aee;ou.prototype.get=Tee;ou.prototype.has=Eee;ou.prototype.set=kee;var W3=ou,Oee="__lodash_hash_undefined__";function Ree(e){return this.__data__.set(e,Oee),this}var Dee=Ree;function Mee(e){return this.__data__.has(e)}var Iee=Mee,$ee=C1,Lee=Dee,Fee=Iee;function ox(e){var r=-1,n=e==null?0:e.length;for(this.__data__=new $ee;++r<n;)this.add(e[r])}ox.prototype.add=ox.prototype.push=Lee;ox.prototype.has=Fee;var H3=ox;function zee(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(e[n],n,e))return!0;return!1}var K3=zee;function Bee(e,r){return e.has(r)}var G3=Bee,Uee=H3,Vee=K3,qee=G3,Wee=1,Hee=2;function Kee(e,r,n,s,a,i){var o=n&Wee,l=e.length,c=r.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(r);if(d&&u)return d==r&&u==e;var m=-1,h=!0,p=n&Hee?new Uee:void 0;for(i.set(e,r),i.set(r,e);++m<l;){var g=e[m],f=r[m];if(s)var v=o?s(f,g,m,r,e,i):s(g,f,m,e,r,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Vee(r,function(b,y){if(!qee(p,y)&&(g===b||a(g,b,n,s,i)))return p.push(y)})){h=!1;break}}else if(!(g===f||a(g,f,n,s,i))){h=!1;break}}return i.delete(e),i.delete(r),h}var X3=Kee,Gee=Za,Xee=Gee.Uint8Array,Yee=Xee;function Qee(e){var r=-1,n=Array(e.size);return e.forEach(function(s,a){n[++r]=[a,s]}),n}var Zee=Qee;function Jee(e){var r=-1,n=Array(e.size);return e.forEach(function(s){n[++r]=s}),n}var F1=Jee,MC=Fh,IC=Yee,ete=S1,tte=X3,rte=Zee,nte=F1,ste=1,ate=2,ite="[object Boolean]",ote="[object Date]",lte="[object Error]",cte="[object Map]",dte="[object Number]",ute="[object RegExp]",mte="[object Set]",hte="[object String]",fte="[object Symbol]",pte="[object ArrayBuffer]",xte="[object DataView]",$C=MC?MC.prototype:void 0,Qy=$C?$C.valueOf:void 0;function gte(e,r,n,s,a,i,o){switch(n){case xte:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case pte:return!(e.byteLength!=r.byteLength||!i(new IC(e),new IC(r)));case ite:case ote:case dte:return ete(+e,+r);case lte:return e.name==r.name&&e.message==r.message;case ute:case hte:return e==r+"";case cte:var l=rte;case mte:var c=s&ste;if(l||(l=nte),e.size!=r.size&&!c)return!1;var d=o.get(e);if(d)return d==r;s|=ate,o.set(e,r);var u=tte(l(e),l(r),s,a,i,o);return o.delete(e),u;case fte:if(Qy)return Qy.call(e)==Qy.call(r)}return!1}var vte=gte;function yte(e,r){for(var n=-1,s=r.length,a=e.length;++n<s;)e[a+n]=r[n];return e}var Y3=yte,jte=Y3,bte=ls;function Nte(e,r,n){var s=r(e);return bte(e)?s:jte(s,n(e))}var wte=Nte;function Ste(e,r){for(var n=-1,s=e==null?0:e.length,a=0,i=[];++n<s;){var o=e[n];r(o,n,e)&&(i[a++]=o)}return i}var Pte=Ste;function Cte(){return[]}var _te=Cte,Ate=Pte,Tte=_te,Ete=Object.prototype,kte=Ete.propertyIsEnumerable,LC=Object.getOwnPropertySymbols,Ote=LC?function(e){return e==null?[]:(e=Object(e),Ate(LC(e),function(r){return kte.call(e,r)}))}:Tte,Rte=Ote;function Dte(e,r){for(var n=-1,s=Array(e);++n<e;)s[n]=r(n);return s}var Mte=Dte,Ite=$i,$te=Li,Lte="[object Arguments]";function Fte(e){return $te(e)&&Ite(e)==Lte}var zte=Fte,FC=zte,Bte=Li,Q3=Object.prototype,Ute=Q3.hasOwnProperty,Vte=Q3.propertyIsEnumerable,qte=FC(function(){return arguments}())?FC:function(e){return Bte(e)&&Ute.call(e,"callee")&&!Vte.call(e,"callee")},z1=qte,lx={exports:{}};function Wte(){return!1}var Hte=Wte;lx.exports;(function(e,r){var n=Za,s=Hte,a=r&&!r.nodeType&&r,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;e.exports=d})(lx,lx.exports);var Z3=lx.exports,Kte=9007199254740991,Gte=/^(?:0|[1-9]\d*)$/;function Xte(e,r){var n=typeof e;return r=r??Kte,!!r&&(n=="number"||n!="symbol"&&Gte.test(e))&&e>-1&&e%1==0&&e<r}var B1=Xte,Yte=9007199254740991;function Qte(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Yte}var U1=Qte,Zte=$i,Jte=U1,ere=Li,tre="[object Arguments]",rre="[object Array]",nre="[object Boolean]",sre="[object Date]",are="[object Error]",ire="[object Function]",ore="[object Map]",lre="[object Number]",cre="[object Object]",dre="[object RegExp]",ure="[object Set]",mre="[object String]",hre="[object WeakMap]",fre="[object ArrayBuffer]",pre="[object DataView]",xre="[object Float32Array]",gre="[object Float64Array]",vre="[object Int8Array]",yre="[object Int16Array]",jre="[object Int32Array]",bre="[object Uint8Array]",Nre="[object Uint8ClampedArray]",wre="[object Uint16Array]",Sre="[object Uint32Array]",xr={};xr[xre]=xr[gre]=xr[vre]=xr[yre]=xr[jre]=xr[bre]=xr[Nre]=xr[wre]=xr[Sre]=!0;xr[tre]=xr[rre]=xr[fre]=xr[nre]=xr[pre]=xr[sre]=xr[are]=xr[ire]=xr[ore]=xr[lre]=xr[cre]=xr[dre]=xr[ure]=xr[mre]=xr[hre]=!1;function Pre(e){return ere(e)&&Jte(e.length)&&!!xr[Zte(e)]}var Cre=Pre;function _re(e){return function(r){return e(r)}}var J3=_re,cx={exports:{}};cx.exports;(function(e,r){var n=i3,s=r&&!r.nodeType&&r,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(cx,cx.exports);var Are=cx.exports,Tre=Cre,Ere=J3,zC=Are,BC=zC&&zC.isTypedArray,kre=BC?Ere(BC):Tre,eI=kre,Ore=Mte,Rre=z1,Dre=ls,Mre=Z3,Ire=B1,$re=eI,Lre=Object.prototype,Fre=Lre.hasOwnProperty;function zre(e,r){var n=Dre(e),s=!n&&Rre(e),a=!n&&!s&&Mre(e),i=!n&&!s&&!a&&$re(e),o=n||s||a||i,l=o?Ore(e.length,String):[],c=l.length;for(var d in e)(r||Fre.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Ire(d,c)))&&l.push(d);return l}var Bre=zre,Ure=Object.prototype;function Vre(e){var r=e&&e.constructor,n=typeof r=="function"&&r.prototype||Ure;return e===n}var qre=Vre;function Wre(e,r){return function(n){return e(r(n))}}var tI=Wre,Hre=tI,Kre=Hre(Object.keys,Object),Gre=Kre,Xre=qre,Yre=Gre,Qre=Object.prototype,Zre=Qre.hasOwnProperty;function Jre(e){if(!Xre(e))return Yre(e);var r=[];for(var n in Object(e))Zre.call(e,n)&&n!="constructor"&&r.push(n);return r}var ene=Jre,tne=w1,rne=U1;function nne(e){return e!=null&&rne(e.length)&&!tne(e)}var zh=nne,sne=Bre,ane=ene,ine=zh;function one(e){return ine(e)?sne(e):ane(e)}var yv=one,lne=wte,cne=Rte,dne=yv;function une(e){return lne(e,dne,cne)}var mne=une,UC=mne,hne=1,fne=Object.prototype,pne=fne.hasOwnProperty;function xne(e,r,n,s,a,i){var o=n&hne,l=UC(e),c=l.length,d=UC(r),u=d.length;if(c!=u&&!o)return!1;for(var m=c;m--;){var h=l[m];if(!(o?h in r:pne.call(r,h)))return!1}var p=i.get(e),g=i.get(r);if(p&&g)return p==r&&g==e;var f=!0;i.set(e,r),i.set(r,e);for(var v=o;++m<c;){h=l[m];var b=e[h],y=r[h];if(s)var j=o?s(y,b,h,r,e,i):s(b,y,h,e,r,i);if(!(j===void 0?b===y||a(b,y,n,s,i):j)){f=!1;break}v||(v=h=="constructor")}if(f&&!v){var C=e.constructor,S=r.constructor;C!=S&&"constructor"in e&&"constructor"in r&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(f=!1)}return i.delete(e),i.delete(r),f}var gne=xne,vne=Xl,yne=Za,jne=vne(yne,"DataView"),bne=jne,Nne=Xl,wne=Za,Sne=Nne(wne,"Promise"),Pne=Sne,Cne=Xl,_ne=Za,Ane=Cne(_ne,"Set"),rI=Ane,Tne=Xl,Ene=Za,kne=Tne(Ene,"WeakMap"),One=kne,gb=bne,vb=P1,yb=Pne,jb=rI,bb=One,nI=$i,lu=l3,VC="[object Map]",Rne="[object Object]",qC="[object Promise]",WC="[object Set]",HC="[object WeakMap]",KC="[object DataView]",Dne=lu(gb),Mne=lu(vb),Ine=lu(yb),$ne=lu(jb),Lne=lu(bb),tl=nI;(gb&&tl(new gb(new ArrayBuffer(1)))!=KC||vb&&tl(new vb)!=VC||yb&&tl(yb.resolve())!=qC||jb&&tl(new jb)!=WC||bb&&tl(new bb)!=HC)&&(tl=function(e){var r=nI(e),n=r==Rne?e.constructor:void 0,s=n?lu(n):"";if(s)switch(s){case Dne:return KC;case Mne:return VC;case Ine:return qC;case $ne:return WC;case Lne:return HC}return r});var Fne=tl,Zy=W3,zne=X3,Bne=vte,Une=gne,GC=Fne,XC=ls,YC=Z3,Vne=eI,qne=1,QC="[object Arguments]",ZC="[object Array]",Cf="[object Object]",Wne=Object.prototype,JC=Wne.hasOwnProperty;function Hne(e,r,n,s,a,i){var o=XC(e),l=XC(r),c=o?ZC:GC(e),d=l?ZC:GC(r);c=c==QC?Cf:c,d=d==QC?Cf:d;var u=c==Cf,m=d==Cf,h=c==d;if(h&&YC(e)){if(!YC(r))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new Zy),o||Vne(e)?zne(e,r,n,s,a,i):Bne(e,r,c,n,s,a,i);if(!(n&qne)){var p=u&&JC.call(e,"__wrapped__"),g=m&&JC.call(r,"__wrapped__");if(p||g){var f=p?e.value():e,v=g?r.value():r;return i||(i=new Zy),a(f,v,n,s,i)}}return h?(i||(i=new Zy),Une(e,r,n,s,a,i)):!1}var Kne=Hne,Gne=Kne,e_=Li;function sI(e,r,n,s,a){return e===r?!0:e==null||r==null||!e_(e)&&!e_(r)?e!==e&&r!==r:Gne(e,r,n,s,sI,a)}var V1=sI,Xne=W3,Yne=V1,Qne=1,Zne=2;function Jne(e,r,n,s){var a=n.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var m=new Xne;if(s)var h=s(d,u,c,e,r,m);if(!(h===void 0?Yne(u,d,Qne|Zne,s,m):h))return!1}}return!0}var ese=Jne,tse=Lo;function rse(e){return e===e&&!tse(e)}var aI=rse,nse=aI,sse=yv;function ase(e){for(var r=sse(e),n=r.length;n--;){var s=r[n],a=e[s];r[n]=[s,a,nse(a)]}return r}var ise=ase;function ose(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}var iI=ose,lse=ese,cse=ise,dse=iI;function use(e){var r=cse(e);return r.length==1&&r[0][2]?dse(r[0][0],r[0][1]):function(n){return n===e||lse(n,e,r)}}var mse=use;function hse(e,r){return e!=null&&r in Object(e)}var fse=hse,pse=h3,xse=z1,gse=ls,vse=B1,yse=U1,jse=sv;function bse(e,r,n){r=pse(r,e);for(var s=-1,a=r.length,i=!1;++s<a;){var o=jse(r[s]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&yse(a)&&vse(o,a)&&(gse(e)||xse(e)))}var Nse=bse,wse=fse,Sse=Nse;function Pse(e,r){return e!=null&&Sse(e,r,wse)}var Cse=Pse,_se=V1,Ase=f3,Tse=Cse,Ese=N1,kse=aI,Ose=iI,Rse=sv,Dse=1,Mse=2;function Ise(e,r){return Ese(e)&&kse(r)?Ose(Rse(e),r):function(n){var s=Ase(n,e);return s===void 0&&s===r?Tse(n,e):_se(r,s,Dse|Mse)}}var $se=Ise;function Lse(e){return e}var cu=Lse;function Fse(e){return function(r){return r==null?void 0:r[e]}}var zse=Fse,Bse=T1;function Use(e){return function(r){return Bse(r,e)}}var Vse=Use,qse=zse,Wse=Vse,Hse=N1,Kse=sv;function Gse(e){return Hse(e)?qse(Kse(e)):Wse(e)}var Xse=Gse,Yse=mse,Qse=$se,Zse=cu,Jse=ls,eae=Xse;function tae(e){return typeof e=="function"?e:e==null?Zse:typeof e=="object"?Jse(e)?Qse(e[0],e[1]):Yse(e):eae(e)}var Ja=tae;function rae(e,r,n,s){for(var a=e.length,i=n+(s?1:-1);s?i--:++i<a;)if(r(e[i],i,e))return i;return-1}var oI=rae;function nae(e){return e!==e}var sae=nae;function aae(e,r,n){for(var s=n-1,a=e.length;++s<a;)if(e[s]===r)return s;return-1}var iae=aae,oae=oI,lae=sae,cae=iae;function dae(e,r,n){return r===r?cae(e,r,n):oae(e,lae,n)}var uae=dae,mae=uae;function hae(e,r){var n=e==null?0:e.length;return!!n&&mae(e,r,0)>-1}var fae=hae;function pae(e,r,n){for(var s=-1,a=e==null?0:e.length;++s<a;)if(n(r,e[s]))return!0;return!1}var xae=pae;function gae(){}var vae=gae,Jy=rI,yae=vae,jae=F1,bae=1/0,Nae=Jy&&1/jae(new Jy([,-0]))[1]==bae?function(e){return new Jy(e)}:yae,wae=Nae,Sae=H3,Pae=fae,Cae=xae,_ae=G3,Aae=wae,Tae=F1,Eae=200;function kae(e,r,n){var s=-1,a=Pae,i=e.length,o=!0,l=[],c=l;if(n)o=!1,a=Cae;else if(i>=Eae){var d=r?null:Aae(e);if(d)return Tae(d);o=!1,a=_ae,c=new Sae}else c=r?[]:l;e:for(;++s<i;){var u=e[s],m=r?r(u):u;if(u=n||u!==0?u:0,o&&m===m){for(var h=c.length;h--;)if(c[h]===m)continue e;r&&c.push(m),l.push(u)}else a(c,m,n)||(c!==l&&c.push(m),l.push(u))}return l}var Oae=kae,Rae=Ja,Dae=Oae;function Mae(e,r){return e&&e.length?Dae(e,Rae(r)):[]}var Iae=Mae;const t_=Zt(Iae);function lI(e,r,n){return r===!0?t_(e,n):ct(r)?t_(e,r):e}function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hd(e)}var $ae=["ref"];function r_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ri(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?r_(Object(n),!0).forEach(function(s){jv(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Lae(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n_(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,dI(s.key),s)}}function Fae(e,r,n){return r&&n_(e.prototype,r),n&&n_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zae(e,r,n){return r=dx(r),Bae(e,cI()?Reflect.construct(r,n||[],dx(e).constructor):r.apply(e,n))}function Bae(e,r){if(r&&(hd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uae(e)}function Uae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cI=function(){return!!e})()}function dx(e){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(e)}function Vae(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Nb(e,r)}function Nb(e,r){return Nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Nb(e,r)}function jv(e,r,n){return r=dI(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function dI(e){var r=qae(e,"string");return hd(r)=="symbol"?r:r+""}function qae(e,r){if(hd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(hd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Wae(e,r){if(e==null)return{};var n=Hae(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Hae(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Kae(e){return e.value}function Gae(e,r){if(L.isValidElement(e))return L.cloneElement(e,r);if(typeof e=="function")return L.createElement(e,r);r.ref;var n=Wae(r,$ae);return L.createElement(L1,n)}var s_=1,Wa=function(e){function r(){var n;Lae(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=zae(this,r,[].concat(a)),jv(n,"lastBoundingBox",{width:-1,height:-1}),n}return Vae(r,e),Fae(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>s_||Math.abs(a.height-this.lastBoundingBox.height)>s_)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ri({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,m,h;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();m={left:((d||0)-p.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ri(ri({},m),h)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,m=ri(ri({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(p){s.wrapperNode=p}},Gae(i,ri(ri({},this.props),{},{payload:lI(u,d,Kae)})))}}],[{key:"getWithHeight",value:function(s,a){var i=ri(ri({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Re(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(x.PureComponent);jv(Wa,"displayName","Legend");jv(Wa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var a_=Fh,Xae=z1,Yae=ls,i_=a_?a_.isConcatSpreadable:void 0;function Qae(e){return Yae(e)||Xae(e)||!!(i_&&e&&e[i_])}var Zae=Qae,Jae=Y3,eie=Zae;function uI(e,r,n,s,a){var i=-1,o=e.length;for(n||(n=eie),a||(a=[]);++i<o;){var l=e[i];r>0&&n(l)?r>1?uI(l,r-1,n,s,a):Jae(a,l):s||(a[a.length]=l)}return a}var mI=uI;function tie(e){return function(r,n,s){for(var a=-1,i=Object(r),o=s(r),l=o.length;l--;){var c=o[e?l:++a];if(n(i[c],c,i)===!1)break}return r}}var rie=tie,nie=rie,sie=nie(),aie=sie,iie=aie,oie=yv;function lie(e,r){return e&&iie(e,r,oie)}var hI=lie,cie=zh;function die(e,r){return function(n,s){if(n==null)return n;if(!cie(n))return e(n,s);for(var a=n.length,i=r?a:-1,o=Object(n);(r?i--:++i<a)&&s(o[i],i,o)!==!1;);return n}}var uie=die,mie=hI,hie=uie,fie=hie(mie),q1=fie,pie=q1,xie=zh;function gie(e,r){var n=-1,s=xie(e)?Array(e.length):[];return pie(e,function(a,i,o){s[++n]=r(a,i,o)}),s}var fI=gie;function vie(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}var yie=vie,o_=tu;function jie(e,r){if(e!==r){var n=e!==void 0,s=e===null,a=e===e,i=o_(e),o=r!==void 0,l=r===null,c=r===r,d=o_(r);if(!l&&!d&&!i&&e>r||i&&o&&c&&!l&&!d||s&&o&&c||!n&&c||!a)return 1;if(!s&&!i&&!d&&e<r||d&&n&&a&&!s&&!i||l&&n&&a||!o&&a||!c)return-1}return 0}var bie=jie,Nie=bie;function wie(e,r,n){for(var s=-1,a=e.criteria,i=r.criteria,o=a.length,l=n.length;++s<o;){var c=Nie(a[s],i[s]);if(c){if(s>=l)return c;var d=n[s];return c*(d=="desc"?-1:1)}}return e.index-r.index}var Sie=wie,ej=A1,Pie=T1,Cie=Ja,_ie=fI,Aie=yie,Tie=J3,Eie=Sie,kie=cu,Oie=ls;function Rie(e,r,n){r.length?r=ej(r,function(i){return Oie(i)?function(o){return Pie(o,i.length===1?i[0]:i)}:i}):r=[kie];var s=-1;r=ej(r,Tie(Cie));var a=_ie(e,function(i,o,l){var c=ej(r,function(d){return d(i)});return{criteria:c,index:++s,value:i}});return Aie(a,function(i,o){return Eie(i,o,n)})}var Die=Rie;function Mie(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}var Iie=Mie,$ie=Iie,l_=Math.max;function Lie(e,r,n){return r=l_(r===void 0?e.length-1:r,0),function(){for(var s=arguments,a=-1,i=l_(s.length-r,0),o=Array(i);++a<i;)o[a]=s[r+a];a=-1;for(var l=Array(r+1);++a<r;)l[a]=s[a];return l[r]=n(o),$ie(e,this,l)}}var Fie=Lie;function zie(e){return function(){return e}}var Bie=zie,Uie=Xl,Vie=function(){try{var e=Uie(Object,"defineProperty");return e({},"",{}),e}catch{}}(),pI=Vie,qie=Bie,c_=pI,Wie=cu,Hie=c_?function(e,r){return c_(e,"toString",{configurable:!0,enumerable:!1,value:qie(r),writable:!0})}:Wie,Kie=Hie,Gie=800,Xie=16,Yie=Date.now;function Qie(e){var r=0,n=0;return function(){var s=Yie(),a=Xie-(s-n);if(n=s,a>0){if(++r>=Gie)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var Zie=Qie,Jie=Kie,eoe=Zie,toe=eoe(Jie),roe=toe,noe=cu,soe=Fie,aoe=roe;function ioe(e,r){return aoe(soe(e,r,noe),e+"")}var ooe=ioe,loe=S1,coe=zh,doe=B1,uoe=Lo;function moe(e,r,n){if(!uoe(n))return!1;var s=typeof r;return(s=="number"?coe(n)&&doe(r,n.length):s=="string"&&r in n)?loe(n[r],e):!1}var bv=moe,hoe=mI,foe=Die,poe=ooe,d_=bv,xoe=poe(function(e,r){if(e==null)return[];var n=r.length;return n>1&&d_(e,r[0],r[1])?r=[]:n>2&&d_(r[0],r[1],r[2])&&(r=[r[0]]),foe(e,hoe(r,1),[])}),goe=xoe;const W1=Zt(goe);function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vm(e)}function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wb.apply(this,arguments)}function voe(e,r){return Noe(e)||boe(e,r)||joe(e,r)||yoe()}function yoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function joe(e,r){if(e){if(typeof e=="string")return u_(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u_(e,r)}}function u_(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function boe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Noe(e){if(Array.isArray(e))return e}function m_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function tj(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?m_(Object(n),!0).forEach(function(s){woe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function woe(e,r,n){return r=Soe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Soe(e){var r=Poe(e,"string");return Vm(r)=="symbol"?r:r+""}function Poe(e,r){if(Vm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Vm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Coe(e){return Array.isArray(e)&&rn(e[0])&&rn(e[1])?e.join(" ~ "):e}var _oe=function(r){var n=r.separator,s=n===void 0?" : ":n,a=r.contentStyle,i=a===void 0?{}:a,o=r.itemStyle,l=o===void 0?{}:o,c=r.labelStyle,d=c===void 0?{}:c,u=r.payload,m=r.formatter,h=r.itemSorter,p=r.wrapperClassName,g=r.labelClassName,f=r.label,v=r.labelFormatter,b=r.accessibilityLayer,y=b===void 0?!1:b,j=function(){if(u&&u.length){var O={padding:0,margin:0},$=(h?W1(u,h):u).map(function(U,V){if(U.type==="none")return null;var R=tj({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),X=U.formatter||m||Coe,z=U.value,F=U.name,te=z,de=F;if(X&&te!=null&&de!=null){var ie=X(z,F,U,V,u);if(Array.isArray(ie)){var fe=voe(ie,2);te=fe[0],de=fe[1]}else te=ie}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:R},rn(de)?L.createElement("span",{className:"recharts-tooltip-item-name"},de):null,rn(de)?L.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,L.createElement("span",{className:"recharts-tooltip-item-value"},te),L.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:O},$)}return null},C=tj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=tj({margin:0},d),N=!ht(f),P=N?f:"",_=pt("recharts-default-tooltip",p),w=pt("recharts-tooltip-label",g);N&&v&&u!==void 0&&u!==null&&(P=v(f,u));var A=y?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",wb({className:_,style:C},A),L.createElement("p",{className:w,style:S},L.isValidElement(P)?P:"".concat(P)),j())};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qm(e)}function _f(e,r,n){return r=Aoe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Aoe(e){var r=Toe(e,"string");return qm(r)=="symbol"?r:r+""}function Toe(e,r){if(qm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(qm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Tu="recharts-tooltip-wrapper",Eoe={visibility:"hidden"};function koe(e){var r=e.coordinate,n=e.translateX,s=e.translateY;return pt(Tu,_f(_f(_f(_f({},"".concat(Tu,"-right"),Re(n)&&r&&Re(r.x)&&n>=r.x),"".concat(Tu,"-left"),Re(n)&&r&&Re(r.x)&&n<r.x),"".concat(Tu,"-bottom"),Re(s)&&r&&Re(r.y)&&s>=r.y),"".concat(Tu,"-top"),Re(s)&&r&&Re(r.y)&&s<r.y))}function h_(e){var r=e.allowEscapeViewBox,n=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Re(i[s]))return i[s];var u=n[s]-l-a,m=n[s]+a;if(r[s])return o[s]?u:m;if(o[s]){var h=u,p=c[s];return h<p?Math.max(m,c[s]):Math.max(u,c[s])}var g=m+l,f=c[s]+d;return g>f?Math.max(u,c[s]):Math.max(m,c[s])}function Ooe(e){var r=e.translateX,n=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(r,"px, ").concat(n,"px, 0)"):"translate(".concat(r,"px, ").concat(n,"px)")}}function Roe(e){var r=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,m;return o.height>0&&o.width>0&&n?(u=h_({allowEscapeViewBox:r,coordinate:n,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=h_({allowEscapeViewBox:r,coordinate:n,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Ooe({translateX:u,translateY:m,useTranslate3d:l})):d=Eoe,{cssProperties:d,cssClasses:koe({translateX:u,translateY:m,coordinate:n})}}function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fd(e)}function f_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function p_(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?f_(Object(n),!0).forEach(function(s){Pb(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Doe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Moe(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gI(s.key),s)}}function Ioe(e,r,n){return r&&Moe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $oe(e,r,n){return r=ux(r),Loe(e,xI()?Reflect.construct(r,n||[],ux(e).constructor):r.apply(e,n))}function Loe(e,r){if(r&&(fd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Foe(e)}function Foe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xI=function(){return!!e})()}function ux(e){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ux(e)}function zoe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Sb(e,r)}function Sb(e,r){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Sb(e,r)}function Pb(e,r,n){return r=gI(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function gI(e){var r=Boe(e,"string");return fd(r)=="symbol"?r:r+""}function Boe(e,r){if(fd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(fd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var x_=1,Uoe=function(e){function r(){var n;Doe(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=$oe(this,r,[].concat(a)),Pb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Pb(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return zoe(r,e),Ioe(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>x_||Math.abs(s.height-this.state.lastBoundingBox.height)>x_)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,m=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,f=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,y=a.wrapperStyle,j=Roe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),C=j.cssClasses,S=j.cssProperties,N=p_(p_({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},y);return L.createElement("div",{tabIndex:-1,className:C,style:N,ref:function(_){s.wrapperNode=_}},d)}}])}(x.PureComponent),Voe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fa={isSsr:Voe(),get:function(r){return fa[r]},set:function(r,n){if(typeof r=="string")fa[r]=n;else{var s=Object.keys(r);s&&s.length&&s.forEach(function(a){fa[a]=r[a]})}}};function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pd(e)}function g_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function v_(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?g_(Object(n),!0).forEach(function(s){H1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qoe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Woe(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,yI(s.key),s)}}function Hoe(e,r,n){return r&&Woe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Koe(e,r,n){return r=mx(r),Goe(e,vI()?Reflect.construct(r,n||[],mx(e).constructor):r.apply(e,n))}function Goe(e,r){if(r&&(pd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xoe(e)}function Xoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vI=function(){return!!e})()}function mx(e){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mx(e)}function Yoe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Cb(e,r)}function Cb(e,r){return Cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Cb(e,r)}function H1(e,r,n){return r=yI(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function yI(e){var r=Qoe(e,"string");return pd(r)=="symbol"?r:r+""}function Qoe(e,r){if(pd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(pd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Zoe(e){return e.dataKey}function Joe(e,r){return L.isValidElement(e)?L.cloneElement(e,r):typeof e=="function"?L.createElement(e,r):L.createElement(_oe,r)}var Br=function(e){function r(){return qoe(this,r),Koe(this,r,arguments)}return Yoe(r,e),Hoe(r,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,m=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,f=a.payloadUniqBy,v=a.position,b=a.reverseDirection,y=a.useTranslate3d,j=a.viewBox,C=a.wrapperStyle,S=g??[];m&&S.length&&(S=lI(g.filter(function(P){return P.value!=null&&(P.hide!==!0||s.props.includeHidden)}),f,Zoe));var N=S.length>0;return L.createElement(Uoe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:u,hasPayload:N,offset:p,position:v,reverseDirection:b,useTranslate3d:y,viewBox:j,wrapperStyle:C},Joe(d,v_(v_({},this.props),{},{payload:S})))}}])}(x.PureComponent);H1(Br,"displayName","Tooltip");H1(Br,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ele=Za,tle=function(){return ele.Date.now()},rle=tle,nle=/\s/;function sle(e){for(var r=e.length;r--&&nle.test(e.charAt(r)););return r}var ale=sle,ile=ale,ole=/^\s+/;function lle(e){return e&&e.slice(0,ile(e)+1).replace(ole,"")}var cle=lle,dle=cle,y_=Lo,ule=tu,j_=NaN,mle=/^[-+]0x[0-9a-f]+$/i,hle=/^0b[01]+$/i,fle=/^0o[0-7]+$/i,ple=parseInt;function xle(e){if(typeof e=="number")return e;if(ule(e))return j_;if(y_(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=y_(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=dle(e);var n=hle.test(e);return n||fle.test(e)?ple(e.slice(2),n?2:8):mle.test(e)?j_:+e}var jI=xle,gle=Lo,rj=rle,b_=jI,vle="Expected a function",yle=Math.max,jle=Math.min;function ble(e,r,n){var s,a,i,o,l,c,d=0,u=!1,m=!1,h=!0;if(typeof e!="function")throw new TypeError(vle);r=b_(r)||0,gle(n)&&(u=!!n.leading,m="maxWait"in n,i=m?yle(b_(n.maxWait)||0,r):i,h="trailing"in n?!!n.trailing:h);function p(N){var P=s,_=a;return s=a=void 0,d=N,o=e.apply(_,P),o}function g(N){return d=N,l=setTimeout(b,r),u?p(N):o}function f(N){var P=N-c,_=N-d,w=r-P;return m?jle(w,i-_):w}function v(N){var P=N-c,_=N-d;return c===void 0||P>=r||P<0||m&&_>=i}function b(){var N=rj();if(v(N))return y(N);l=setTimeout(b,f(N))}function y(N){return l=void 0,h&&s?p(N):(s=a=void 0,o)}function j(){l!==void 0&&clearTimeout(l),d=0,s=c=a=l=void 0}function C(){return l===void 0?o:y(rj())}function S(){var N=rj(),P=v(N);if(s=arguments,a=this,c=N,P){if(l===void 0)return g(c);if(m)return clearTimeout(l),l=setTimeout(b,r),p(c)}return l===void 0&&(l=setTimeout(b,r)),o}return S.cancel=j,S.flush=C,S}var Nle=ble,wle=Nle,Sle=Lo,Ple="Expected a function";function Cle(e,r,n){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(Ple);return Sle(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),wle(e,r,{leading:s,maxWait:r,trailing:a})}var _le=Cle;const bI=Zt(_le);function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wm(e)}function N_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Af(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?N_(Object(n),!0).forEach(function(s){Ale(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ale(e,r,n){return r=Tle(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Tle(e){var r=Ele(e,"string");return Wm(r)=="symbol"?r:r+""}function Ele(e,r){if(Wm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Wm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function kle(e,r){return Mle(e)||Dle(e,r)||Rle(e,r)||Ole()}function Ole(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rle(e,r){if(e){if(typeof e=="string")return w_(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w_(e,r)}}function w_(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Dle(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Mle(e){if(Array.isArray(e))return e}var ur=x.forwardRef(function(e,r){var n=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,m=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,f=g===void 0?0:g,v=e.id,b=e.className,y=e.onResize,j=e.style,C=j===void 0?{}:j,S=x.useRef(null),N=x.useRef();N.current=y,x.useImperativeHandle(r,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var P=x.useState({containerWidth:a.width,containerHeight:a.height}),_=kle(P,2),w=_[0],A=_[1],D=x.useCallback(function($,U){A(function(V){var R=Math.round($),X=Math.round(U);return V.containerWidth===R&&V.containerHeight===X?V:{containerWidth:R,containerHeight:X}})},[]);x.useEffect(function(){var $=function(F){var te,de=F[0].contentRect,ie=de.width,fe=de.height;D(ie,fe),(te=N.current)===null||te===void 0||te.call(N,ie,fe)};f>0&&($=bI($,f,{trailing:!0,leading:!1}));var U=new ResizeObserver($),V=S.current.getBoundingClientRect(),R=V.width,X=V.height;return D(R,X),U.observe(S.current),function(){U.disconnect()}},[D,f]);var O=x.useMemo(function(){var $=w.containerWidth,U=w.containerHeight;if($<0||U<0)return null;ha(cl(o)||cl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ha(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=cl(o)?$:o,R=cl(c)?U:c;n&&n>0&&(V?R=V/n:R&&(V=R*n),h&&R>h&&(R=h)),ha(V>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,R,o,c,u,m,n);var X=!Array.isArray(p)&&vi(p.type).endsWith("Chart");return L.Children.map(p,function(z){return L.isValidElement(z)?x.cloneElement(z,Af({width:V,height:R},X?{style:Af({height:"100%",width:"100%",maxHeight:R,maxWidth:V},z.props.style)}:{})):z})},[n,p,c,h,m,u,w,o]);return L.createElement("div",{id:v?"".concat(v):void 0,className:pt("recharts-responsive-container",b),style:Af(Af({},C),{},{width:o,height:c,minWidth:u,minHeight:m,maxHeight:h}),ref:S},O)}),Fi=function(r){return null};Fi.displayName="Cell";function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hm(e)}function S_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function _b(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?S_(Object(n),!0).forEach(function(s){Ile(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ile(e,r,n){return r=$le(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function $le(e){var r=Lle(e,"string");return Hm(r)=="symbol"?r:r+""}function Lle(e,r){if(Hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Hm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ac={widthCache:{},cacheCount:0},Fle=2e3,zle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},P_="recharts_measurement_span";function Ble(e){var r=_b({},e);return Object.keys(r).forEach(function(n){r[n]||delete r[n]}),r}var om=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||fa.isSsr)return{width:0,height:0};var s=Ble(n),a=JSON.stringify({text:r,copyStyle:s});if(ac.widthCache[a])return ac.widthCache[a];try{var i=document.getElementById(P_);i||(i=document.createElement("span"),i.setAttribute("id",P_),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=_b(_b({},zle),s);Object.assign(i.style,o),i.textContent="".concat(r);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return ac.widthCache[a]=c,++ac.cacheCount>Fle&&(ac.cacheCount=0,ac.widthCache={}),c}catch{return{width:0,height:0}}},Ule=function(r){return{top:r.top+window.scrollY-document.documentElement.clientTop,left:r.left+window.scrollX-document.documentElement.clientLeft}};function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Km(e)}function hx(e,r){return Hle(e)||Wle(e,r)||qle(e,r)||Vle()}function Vle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qle(e,r){if(e){if(typeof e=="string")return C_(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C_(e,r)}}function C_(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Wle(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Hle(e){if(Array.isArray(e))return e}function Kle(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function __(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Xle(s.key),s)}}function Gle(e,r,n){return r&&__(e.prototype,r),n&&__(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xle(e){var r=Yle(e,"string");return Km(r)=="symbol"?r:r+""}function Yle(e,r){if(Km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(Km(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var A_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,T_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,NI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jle=Object.keys(NI),Ac="NaN";function ece(e,r){return e*NI[r]}var Tf=function(){function e(r,n){Kle(this,e),this.num=r,this.unit=n,this.num=r,this.unit=n,Number.isNaN(r)&&(this.unit=""),n!==""&&!Qle.test(n)&&(this.num=NaN,this.unit=""),Jle.includes(n)&&(this.num=ece(r,n),this.unit="px")}return Gle(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,a=(s=Zle.exec(n))!==null&&s!==void 0?s:[],i=hx(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function wI(e){if(e.includes(Ac))return Ac;for(var r=e;r.includes("*")||r.includes("/");){var n,s=(n=A_.exec(r))!==null&&n!==void 0?n:[],a=hx(s,4),i=a[1],o=a[2],l=a[3],c=Tf.parse(i??""),d=Tf.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Ac;r=r.replace(A_,u.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var m,h=(m=T_.exec(r))!==null&&m!==void 0?m:[],p=hx(h,4),g=p[1],f=p[2],v=p[3],b=Tf.parse(g??""),y=Tf.parse(v??""),j=f==="+"?b.add(y):b.subtract(y);if(j.isNaN())return Ac;r=r.replace(T_,j.toString())}return r}var E_=/\(([^()]*)\)/;function tce(e){for(var r=e;r.includes("(");){var n=E_.exec(r),s=hx(n,2),a=s[1];r=r.replace(E_,wI(a))}return r}function rce(e){var r=e.replace(/\s+/g,"");return r=tce(r),r=wI(r),r}function nce(e){try{return rce(e)}catch{return Ac}}function nj(e){var r=nce(e.slice(5,-1));return r===Ac?"":r}var sce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ace=["dx","dy","angle","className","breakAll"];function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ab.apply(this,arguments)}function k_(e,r){if(e==null)return{};var n=ice(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ice(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function O_(e,r){return dce(e)||cce(e,r)||lce(e,r)||oce()}function oce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lce(e,r){if(e){if(typeof e=="string")return R_(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R_(e,r)}}function R_(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function cce(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function dce(e){if(Array.isArray(e))return e}var SI=/[ \f\n\r\t\v\u2028\u2029]+/,PI=function(r){var n=r.children,s=r.breakAll,a=r.style;try{var i=[];ht(n)||(s?i=n.toString().split(""):i=n.toString().split(SI));var o=i.map(function(c){return{word:c,width:om(c,a).width}}),l=s?0:om(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},uce=function(r,n,s,a,i){var o=r.maxLines,l=r.children,c=r.style,d=r.breakAll,u=Re(o),m=l,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(R,X){var z=X.word,F=X.width,te=R[R.length-1];if(te&&(a==null||i||te.width+F+s<Number(a)))te.words.push(z),te.width+=F+s;else{var de={words:[z],width:F};R.push(de)}return R},[])},p=h(n),g=function(V){return V.reduce(function(R,X){return R.width>X.width?R:X})};if(!u)return p;for(var f="…",v=function(V){var R=m.slice(0,V),X=PI({breakAll:d,style:c,children:R+f}).wordsWithComputedWidth,z=h(X),F=z.length>o||g(z).width>Number(a);return[F,z]},b=0,y=m.length-1,j=0,C;b<=y&&j<=m.length-1;){var S=Math.floor((b+y)/2),N=S-1,P=v(N),_=O_(P,2),w=_[0],A=_[1],D=v(S),O=O_(D,1),$=O[0];if(!w&&!$&&(b=S+1),w&&$&&(y=S-1),!w&&$){C=A;break}j++}return C||p},D_=function(r){var n=ht(r)?[]:r.toString().split(SI);return[{words:n}]},mce=function(r){var n=r.width,s=r.scaleToFit,a=r.children,i=r.style,o=r.breakAll,l=r.maxLines;if((n||s)&&!fa.isSsr){var c,d,u=PI({breakAll:o,children:a,style:i});if(u){var m=u.wordsWithComputedWidth,h=u.spaceWidth;c=m,d=h}else return D_(a);return uce({breakAll:o,children:a,maxLines:l,style:i},c,d,n,s)}return D_(a)},M_="#808080",Fl=function(r){var n=r.x,s=n===void 0?0:n,a=r.y,i=a===void 0?0:a,o=r.lineHeight,l=o===void 0?"1em":o,c=r.capHeight,d=c===void 0?"0.71em":c,u=r.scaleToFit,m=u===void 0?!1:u,h=r.textAnchor,p=h===void 0?"start":h,g=r.verticalAnchor,f=g===void 0?"end":g,v=r.fill,b=v===void 0?M_:v,y=k_(r,sce),j=x.useMemo(function(){return mce({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:m,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,m,y.style,y.width]),C=y.dx,S=y.dy,N=y.angle,P=y.className,_=y.breakAll,w=k_(y,ace);if(!rn(s)||!rn(i))return null;var A=s+(Re(C)?C:0),D=i+(Re(S)?S:0),O;switch(f){case"start":O=nj("calc(".concat(d,")"));break;case"middle":O=nj("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:O=nj("calc(".concat(j.length-1," * -").concat(l,")"));break}var $=[];if(m){var U=j[0].width,V=y.width;$.push("scale(".concat((Re(V)?V/U:1)/U,")"))}return N&&$.push("rotate(".concat(N,", ").concat(A,", ").concat(D,")")),$.length&&(w.transform=$.join(" ")),L.createElement("text",Ab({},et(w,!0),{x:A,y:D,className:pt("recharts-text",P),textAnchor:p,fill:b.includes("url")?M_:b}),j.map(function(R,X){var z=R.words.join(_?"":" ");return L.createElement("tspan",{x:A,dy:X===0?O:l,key:"".concat(z,"-").concat(X)},z)}))};function No(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function hce(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function K1(e){let r,n,s;e.length!==2?(r=No,n=(l,c)=>No(e(l),c),s=(l,c)=>e(l)-c):(r=e===No||e===hce?e:fce,n=e,s=e);function a(l,c,d=0,u=l.length){if(d<u){if(r(c,c)!==0)return u;do{const m=d+u>>>1;n(l[m],c)<0?d=m+1:u=m}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(r(c,c)!==0)return u;do{const m=d+u>>>1;n(l[m],c)<=0?d=m+1:u=m}while(d<u)}return d}function o(l,c,d=0,u=l.length){const m=a(l,c,d,u-1);return m>d&&s(l[m-1],c)>-s(l[m],c)?m-1:m}return{left:a,center:o,right:i}}function fce(){return 0}function CI(e){return e===null?NaN:+e}function*pce(e,r){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const xce=K1(No),Bh=xce.right;K1(CI).center;class I_ extends Map{constructor(r,n=yce){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[s,a]of r)this.set(s,a)}get(r){return super.get($_(this,r))}has(r){return super.has($_(this,r))}set(r,n){return super.set(gce(this,r),n)}delete(r){return super.delete(vce(this,r))}}function $_({_intern:e,_key:r},n){const s=r(n);return e.has(s)?e.get(s):n}function gce({_intern:e,_key:r},n){const s=r(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function vce({_intern:e,_key:r},n){const s=r(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function yce(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jce(e=No){if(e===No)return _I;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,n)=>{const s=e(r,n);return s||s===0?s:(e(n,n)===0)-(e(r,r)===0)}}function _I(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const bce=Math.sqrt(50),Nce=Math.sqrt(10),wce=Math.sqrt(2);function fx(e,r,n){const s=(r-e)/Math.max(0,n),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=bce?10:i>=Nce?5:i>=wce?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(r*d),l/d<e&&++l,c/d>r&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(r/d),l*d<e&&++l,c*d>r&&--c),c<l&&.5<=n&&n<2?fx(e,r,n*2):[l,c,d]}function Tb(e,r,n){if(r=+r,e=+e,n=+n,!(n>0))return[];if(e===r)return[e];const s=r<e,[a,i,o]=s?fx(r,e,n):fx(e,r,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function Eb(e,r,n){return r=+r,e=+e,n=+n,fx(e,r,n)[2]}function kb(e,r,n){r=+r,e=+e,n=+n;const s=r<e,a=s?Eb(r,e,n):Eb(e,r,n);return(s?-1:1)*(a<0?1/-a:a)}function L_(e,r){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function F_(e,r){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function AI(e,r,n=0,s=1/0,a){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=r&&r<=s))return e;for(a=a===void 0?_I:jce(a);s>n;){if(s-n>600){const c=s-n+1,d=r-n+1,u=Math.log(c),m=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*m*(c-m)/c)*(d-c/2<0?-1:1),p=Math.max(n,Math.floor(r-d*m/c+h)),g=Math.min(s,Math.floor(r+(c-d)*m/c+h));AI(e,r,p,g,a)}const i=e[r];let o=n,l=s;for(Eu(e,n,r),a(e[s],i)>0&&Eu(e,n,s);o<l;){for(Eu(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?Eu(e,n,l):(++l,Eu(e,l,s)),l<=r&&(n=l+1),r<=l&&(s=l-1)}return e}function Eu(e,r,n){const s=e[r];e[r]=e[n],e[n]=s}function Sce(e,r,n){if(e=Float64Array.from(pce(e)),!(!(s=e.length)||isNaN(r=+r))){if(r<=0||s<2)return F_(e);if(r>=1)return L_(e);var s,a=(s-1)*r,i=Math.floor(a),o=L_(AI(e,i).subarray(0,i+1)),l=F_(e.subarray(i+1));return o+(l-o)*(a-i)}}function Pce(e,r,n=CI){if(!(!(s=e.length)||isNaN(r=+r))){if(r<=0||s<2)return+n(e[0],0,e);if(r>=1)return+n(e[s-1],s-1,e);var s,a=(s-1)*r,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Cce(e,r,n){e=+e,r=+r,n=(a=arguments.length)<2?(r=e,e=0,1):a<3?1:+n;for(var s=-1,a=Math.max(0,Math.ceil((r-e)/n))|0,i=new Array(a);++s<a;)i[s]=e+s*n;return i}function Hs(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function zi(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const Ob=Symbol("implicit");function G1(){var e=new I_,r=[],n=[],s=Ob;function a(i){let o=e.get(i);if(o===void 0){if(s!==Ob)return s;e.set(i,o=r.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new I_;for(const o of i)e.has(o)||e.set(o,r.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return G1(r,n).unknown(s)},Hs.apply(a,arguments),a}function Gm(){var e=G1().unknown(void 0),r=e.domain,n=e.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function m(){var h=r().length,p=a<s,g=p?a:s,f=p?s:a;i=(f-g)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),g+=(f-g-i*(h-c))*u,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=Cce(h).map(function(b){return g+i*b});return n(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(r(h),m()):r()},e.range=function(h){return arguments.length?([s,a]=h,s=+s,a=+a,m()):[s,a]},e.rangeRound=function(h){return[s,a]=h,s=+s,a=+a,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,m()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),m()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),m()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,m()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),m()):u},e.copy=function(){return Gm(r(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Hs.apply(m(),arguments)}function TI(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return TI(r())},e}function lm(){return TI(Gm.apply(null,arguments).paddingInner(1))}function X1(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function EI(e,r){var n=Object.create(e.prototype);for(var s in r)n[s]=r[s];return n}function Uh(){}var Xm=.7,px=1/Xm,Vc="\\s*([+-]?\\d+)\\s*",Ym="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_ce=/^#([0-9a-f]{3,8})$/,Ace=new RegExp(`^rgb\\(${Vc},${Vc},${Vc}\\)$`),Tce=new RegExp(`^rgb\\(${Ha},${Ha},${Ha}\\)$`),Ece=new RegExp(`^rgba\\(${Vc},${Vc},${Vc},${Ym}\\)$`),kce=new RegExp(`^rgba\\(${Ha},${Ha},${Ha},${Ym}\\)$`),Oce=new RegExp(`^hsl\\(${Ym},${Ha},${Ha}\\)$`),Rce=new RegExp(`^hsla\\(${Ym},${Ha},${Ha},${Ym}\\)$`),z_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};X1(Uh,Qm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:B_,formatHex:B_,formatHex8:Dce,formatHsl:Mce,formatRgb:U_,toString:U_});function B_(){return this.rgb().formatHex()}function Dce(){return this.rgb().formatHex8()}function Mce(){return kI(this).formatHsl()}function U_(){return this.rgb().formatRgb()}function Qm(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=_ce.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?V_(r):n===3?new es(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?Ef(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?Ef(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Ace.exec(e))?new es(r[1],r[2],r[3],1):(r=Tce.exec(e))?new es(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Ece.exec(e))?Ef(r[1],r[2],r[3],r[4]):(r=kce.exec(e))?Ef(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Oce.exec(e))?H_(r[1],r[2]/100,r[3]/100,1):(r=Rce.exec(e))?H_(r[1],r[2]/100,r[3]/100,r[4]):z_.hasOwnProperty(e)?V_(z_[e]):e==="transparent"?new es(NaN,NaN,NaN,0):null}function V_(e){return new es(e>>16&255,e>>8&255,e&255,1)}function Ef(e,r,n,s){return s<=0&&(e=r=n=NaN),new es(e,r,n,s)}function Ice(e){return e instanceof Uh||(e=Qm(e)),e?(e=e.rgb(),new es(e.r,e.g,e.b,e.opacity)):new es}function Rb(e,r,n,s){return arguments.length===1?Ice(e):new es(e,r,n,s??1)}function es(e,r,n,s){this.r=+e,this.g=+r,this.b=+n,this.opacity=+s}X1(es,Rb,EI(Uh,{brighter(e){return e=e==null?px:Math.pow(px,e),new es(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xm:Math.pow(Xm,e),new es(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new es(wl(this.r),wl(this.g),wl(this.b),xx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:q_,formatHex:q_,formatHex8:$ce,formatRgb:W_,toString:W_}));function q_(){return`#${dl(this.r)}${dl(this.g)}${dl(this.b)}`}function $ce(){return`#${dl(this.r)}${dl(this.g)}${dl(this.b)}${dl((isNaN(this.opacity)?1:this.opacity)*255)}`}function W_(){const e=xx(this.opacity);return`${e===1?"rgb(":"rgba("}${wl(this.r)}, ${wl(this.g)}, ${wl(this.b)}${e===1?")":`, ${e})`}`}function xx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dl(e){return e=wl(e),(e<16?"0":"")+e.toString(16)}function H_(e,r,n,s){return s<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new la(e,r,n,s)}function kI(e){if(e instanceof la)return new la(e.h,e.s,e.l,e.opacity);if(e instanceof Uh||(e=Qm(e)),!e)return new la;if(e instanceof la)return e;e=e.rgb();var r=e.r/255,n=e.g/255,s=e.b/255,a=Math.min(r,n,s),i=Math.max(r,n,s),o=NaN,l=i-a,c=(i+a)/2;return l?(r===i?o=(n-s)/l+(n<s)*6:n===i?o=(s-r)/l+2:o=(r-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new la(o,l,c,e.opacity)}function Lce(e,r,n,s){return arguments.length===1?kI(e):new la(e,r,n,s??1)}function la(e,r,n,s){this.h=+e,this.s=+r,this.l=+n,this.opacity=+s}X1(la,Lce,EI(Uh,{brighter(e){return e=e==null?px:Math.pow(px,e),new la(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xm:Math.pow(Xm,e),new la(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*r,a=2*n-s;return new es(sj(e>=240?e-240:e+120,a,s),sj(e,a,s),sj(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new la(K_(this.h),kf(this.s),kf(this.l),xx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xx(this.opacity);return`${e===1?"hsl(":"hsla("}${K_(this.h)}, ${kf(this.s)*100}%, ${kf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function K_(e){return e=(e||0)%360,e<0?e+360:e}function kf(e){return Math.max(0,Math.min(1,e||0))}function sj(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}const Y1=e=>()=>e;function Fce(e,r){return function(n){return e+n*r}}function zce(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(s){return Math.pow(e+s*r,n)}}function Bce(e){return(e=+e)==1?OI:function(r,n){return n-r?zce(r,n,e):Y1(isNaN(r)?n:r)}}function OI(e,r){var n=r-e;return n?Fce(e,n):Y1(isNaN(e)?r:e)}const G_=function e(r){var n=Bce(r);function s(a,i){var o=n((a=Rb(a)).r,(i=Rb(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),d=OI(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=e,s}(1);function Uce(e,r){r||(r=[]);var n=e?Math.min(r.length,e.length):0,s=r.slice(),a;return function(i){for(a=0;a<n;++a)s[a]=e[a]*(1-i)+r[a]*i;return s}}function Vce(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qce(e,r){var n=r?r.length:0,s=e?Math.min(n,e.length):0,a=new Array(s),i=new Array(n),o;for(o=0;o<s;++o)a[o]=du(e[o],r[o]);for(;o<n;++o)i[o]=r[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function Wce(e,r){var n=new Date;return e=+e,r=+r,function(s){return n.setTime(e*(1-s)+r*s),n}}function gx(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}function Hce(e,r){var n={},s={},a;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in e?n[a]=du(e[a],r[a]):s[a]=r[a];return function(i){for(a in n)s[a]=n[a](i);return s}}var Db=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aj=new RegExp(Db.source,"g");function Kce(e){return function(){return e}}function Gce(e){return function(r){return e(r)+""}}function Xce(e,r){var n=Db.lastIndex=aj.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",r=r+"";(s=Db.exec(e))&&(a=aj.exec(r));)(i=a.index)>n&&(i=r.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:gx(s,a)})),n=aj.lastIndex;return n<r.length&&(i=r.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Gce(c[0].x):Kce(r):(r=c.length,function(d){for(var u=0,m;u<r;++u)l[(m=c[u]).i]=m.x(d);return l.join("")})}function du(e,r){var n=typeof r,s;return r==null||n==="boolean"?Y1(r):(n==="number"?gx:n==="string"?(s=Qm(r))?(r=s,G_):Xce:r instanceof Qm?G_:r instanceof Date?Wce:Vce(r)?Uce:Array.isArray(r)?qce:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Hce:gx)(e,r)}function Q1(e,r){return e=+e,r=+r,function(n){return Math.round(e*(1-n)+r*n)}}function Yce(e,r){r===void 0&&(r=e,e=du);for(var n=0,s=r.length-1,a=r[0],i=new Array(s<0?0:s);n<s;)i[n]=e(a,a=r[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function Qce(e){return function(){return e}}function vx(e){return+e}var X_=[0,1];function Vn(e){return e}function Mb(e,r){return(r-=e=+e)?function(n){return(n-e)/r}:Qce(isNaN(r)?NaN:.5)}function Zce(e,r){var n;return e>r&&(n=e,e=r,r=n),function(s){return Math.max(e,Math.min(r,s))}}function Jce(e,r,n){var s=e[0],a=e[1],i=r[0],o=r[1];return a<s?(s=Mb(a,s),i=n(o,i)):(s=Mb(s,a),i=n(i,o)),function(l){return i(s(l))}}function ede(e,r,n){var s=Math.min(e.length,r.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<s;)a[o]=Mb(e[o],e[o+1]),i[o]=n(r[o],r[o+1]);return function(l){var c=Bh(e,l,1,s)-1;return i[c](a[c](l))}}function Vh(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Nv(){var e=X_,r=X_,n=du,s,a,i,o=Vn,l,c,d;function u(){var h=Math.min(e.length,r.length);return o!==Vn&&(o=Zce(e[0],e[h-1])),l=h>2?ede:Jce,c=d=null,m}function m(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(s),r,n)))(s(o(h)))}return m.invert=function(h){return o(a((d||(d=l(r,e.map(s),gx)))(h)))},m.domain=function(h){return arguments.length?(e=Array.from(h,vx),u()):e.slice()},m.range=function(h){return arguments.length?(r=Array.from(h),u()):r.slice()},m.rangeRound=function(h){return r=Array.from(h),n=Q1,u()},m.clamp=function(h){return arguments.length?(o=h?!0:Vn,u()):o!==Vn},m.interpolate=function(h){return arguments.length?(n=h,u()):n},m.unknown=function(h){return arguments.length?(i=h,m):i},function(h,p){return s=h,a=p,u()}}function Z1(){return Nv()(Vn,Vn)}function tde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yx(e,r){if((n=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function xd(e){return e=yx(Math.abs(e)),e?e[1]:NaN}function rde(e,r){return function(n,s){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(r)}}function nde(e){return function(r){return r.replace(/[0-9]/g,function(n){return e[+n]})}}var sde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zm(e){if(!(r=sde.exec(e)))throw new Error("invalid format: "+e);var r;return new J1({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Zm.prototype=J1.prototype;function J1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}J1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ade(e){e:for(var r=e.length,n=1,s=-1,a;n<r;++n)switch(e[n]){case".":s=a=n;break;case"0":s===0&&(s=n),a=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var RI;function ide(e,r){var n=yx(e,r);if(!n)return e+"";var s=n[0],a=n[1],i=a-(RI=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+yx(e,Math.max(0,r+i-1))[0]}function Y_(e,r){var n=yx(e,r);if(!n)return e+"";var s=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const Q_={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:tde,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>Y_(e*100,r),r:Y_,s:ide,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Z_(e){return e}var J_=Array.prototype.map,eA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ode(e){var r=e.grouping===void 0||e.thousands===void 0?Z_:rde(J_.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Z_:nde(J_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=Zm(m);var h=m.fill,p=m.align,g=m.sign,f=m.symbol,v=m.zero,b=m.width,y=m.comma,j=m.precision,C=m.trim,S=m.type;S==="n"?(y=!0,S="g"):Q_[S]||(j===void 0&&(j=12),C=!0,S="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var N=f==="$"?n:f==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=f==="$"?s:/[%p]/.test(S)?o:"",_=Q_[S],w=/[defgprs%]/.test(S);j=j===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function A(D){var O=N,$=P,U,V,R;if(S==="c")$=_(D)+$,D="";else{D=+D;var X=D<0||1/D<0;if(D=isNaN(D)?c:_(Math.abs(D),j),C&&(D=ade(D)),X&&+D==0&&g!=="+"&&(X=!1),O=(X?g==="("?g:l:g==="-"||g==="("?"":g)+O,$=(S==="s"?eA[8+RI/3]:"")+$+(X&&g==="("?")":""),w){for(U=-1,V=D.length;++U<V;)if(R=D.charCodeAt(U),48>R||R>57){$=(R===46?a+D.slice(U+1):D.slice(U))+$,D=D.slice(0,U);break}}}y&&!v&&(D=r(D,1/0));var z=O.length+D.length+$.length,F=z<b?new Array(b-z+1).join(h):"";switch(y&&v&&(D=r(F+D,F.length?b-$.length:1/0),F=""),p){case"<":D=O+D+$+F;break;case"=":D=O+F+D+$;break;case"^":D=F.slice(0,z=F.length>>1)+O+D+$+F.slice(z);break;default:D=F+O+D+$;break}return i(D)}return A.toString=function(){return m+""},A}function u(m,h){var p=d((m=Zm(m),m.type="f",m)),g=Math.max(-8,Math.min(8,Math.floor(xd(h)/3)))*3,f=Math.pow(10,-g),v=eA[8+g/3];return function(b){return p(f*b)+v}}return{format:d,formatPrefix:u}}var Of,e2,DI;lde({thousands:",",grouping:[3],currency:["$",""]});function lde(e){return Of=ode(e),e2=Of.format,DI=Of.formatPrefix,Of}function cde(e){return Math.max(0,-xd(Math.abs(e)))}function dde(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xd(r)/3)))*3-xd(Math.abs(e)))}function ude(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,xd(r)-xd(e))+1}function MI(e,r,n,s){var a=kb(e,r,n),i;switch(s=Zm(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return s.precision==null&&!isNaN(i=dde(a,o))&&(s.precision=i),DI(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=ude(a,Math.max(Math.abs(e),Math.abs(r))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=cde(a))&&(s.precision=i-(s.type==="%")*2);break}}return e2(s)}function Fo(e){var r=e.domain;return e.ticks=function(n){var s=r();return Tb(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var a=r();return MI(a[0],a[a.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=r(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=Eb(o,l,n),d===c)return s[a]=o,s[i]=l,r(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function jx(){var e=Z1();return e.copy=function(){return Vh(e,jx())},Hs.apply(e,arguments),Fo(e)}function II(e){var r;function n(s){return s==null||isNaN(s=+s)?r:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,vx),n):e.slice()},n.unknown=function(s){return arguments.length?(r=s,n):r},n.copy=function(){return II(e).unknown(r)},e=arguments.length?Array.from(e,vx):[0,1],Fo(n)}function $I(e,r){e=e.slice();var n=0,s=e.length-1,a=e[n],i=e[s],o;return i<a&&(o=n,n=s,s=o,o=a,a=i,i=o),e[n]=r.floor(a),e[s]=r.ceil(i),e}function tA(e){return Math.log(e)}function rA(e){return Math.exp(e)}function mde(e){return-Math.log(-e)}function hde(e){return-Math.exp(-e)}function fde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pde(e){return e===10?fde:e===Math.E?Math.exp:r=>Math.pow(e,r)}function xde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function nA(e){return(r,n)=>-e(-r,n)}function t2(e){const r=e(tA,rA),n=r.domain;let s=10,a,i;function o(){return a=xde(s),i=pde(s),n()[0]<0?(a=nA(a),i=nA(i),e(mde,hde)):e(tA,rA),r}return r.base=function(l){return arguments.length?(s=+l,o()):s},r.domain=function(l){return arguments.length?(n(l),o()):n()},r.ticks=l=>{const c=n();let d=c[0],u=c[c.length-1];const m=u<d;m&&([d,u]=[u,d]);let h=a(d),p=a(u),g,f;const v=l==null?10:+l;let b=[];if(!(s%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),d>0){for(;h<=p;++h)for(g=1;g<s;++g)if(f=h<0?g/i(-h):g*i(h),!(f<d)){if(f>u)break;b.push(f)}}else for(;h<=p;++h)for(g=s-1;g>=1;--g)if(f=h>0?g/i(-h):g*i(h),!(f<d)){if(f>u)break;b.push(f)}b.length*2<v&&(b=Tb(d,u,v))}else b=Tb(h,p,Math.min(p-h,v)).map(i);return m?b.reverse():b},r.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=Zm(c)).precision==null&&(c.trim=!0),c=e2(c)),l===1/0)return c;const d=Math.max(1,s*l/r.ticks().length);return u=>{let m=u/i(Math.round(a(u)));return m*s<s-.5&&(m*=s),m<=d?c(u):""}},r.nice=()=>n($I(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),r}function LI(){const e=t2(Nv()).domain([1,10]);return e.copy=()=>Vh(e,LI()).base(e.base()),Hs.apply(e,arguments),e}function sA(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function aA(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function r2(e){var r=1,n=e(sA(r),aA(r));return n.constant=function(s){return arguments.length?e(sA(r=+s),aA(r)):r},Fo(n)}function FI(){var e=r2(Nv());return e.copy=function(){return Vh(e,FI()).constant(e.constant())},Hs.apply(e,arguments)}function iA(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function gde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vde(e){return e<0?-e*e:e*e}function n2(e){var r=e(Vn,Vn),n=1;function s(){return n===1?e(Vn,Vn):n===.5?e(gde,vde):e(iA(n),iA(1/n))}return r.exponent=function(a){return arguments.length?(n=+a,s()):n},Fo(r)}function s2(){var e=n2(Nv());return e.copy=function(){return Vh(e,s2()).exponent(e.exponent())},Hs.apply(e,arguments),e}function yde(){return s2.apply(null,arguments).exponent(.5)}function oA(e){return Math.sign(e)*e*e}function jde(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function zI(){var e=Z1(),r=[0,1],n=!1,s;function a(i){var o=jde(e(i));return isNaN(o)?s:n?Math.round(o):o}return a.invert=function(i){return e.invert(oA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((r=Array.from(i,vx)).map(oA)),a):r.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return zI(e.domain(),r).round(n).clamp(e.clamp()).unknown(s)},Hs.apply(a,arguments),Fo(a)}function BI(){var e=[],r=[],n=[],s;function a(){var o=0,l=Math.max(1,r.length);for(n=new Array(l-1);++o<l;)n[o-1]=Pce(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:r[Bh(n,o)]}return i.invertExtent=function(o){var l=r.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(No),a()},i.range=function(o){return arguments.length?(r=Array.from(o),a()):r.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return n.slice()},i.copy=function(){return BI().domain(e).range(r).unknown(s)},Hs.apply(i,arguments)}function UI(){var e=0,r=1,n=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Bh(s,c,0,n)]:i}function l(){var c=-1;for(s=new Array(n);++c<n;)s[c]=((c+1)*r-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,r]=c,e=+e,r=+r,l()):[e,r]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,s[0]]:d>=n?[s[n-1],r]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return UI().domain([e,r]).range(a).unknown(i)},Hs.apply(Fo(o),arguments)}function VI(){var e=[.5],r=[0,1],n,s=1;function a(i){return i!=null&&i<=i?r[Bh(e,i,0,s)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,r.length-1),a):e.slice()},a.range=function(i){return arguments.length?(r=Array.from(i),s=Math.min(e.length,r.length-1),a):r.slice()},a.invertExtent=function(i){var o=r.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return VI().domain(e).range(r).unknown(n)},Hs.apply(a,arguments)}const ij=new Date,oj=new Date;function nn(e,r,n,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),r(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>nn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;r(o,-1),!i(o););else for(;--l>=0;)for(;r(o,1),!i(o););}),n&&(a.count=(i,o)=>(ij.setTime(+i),oj.setTime(+o),e(ij),e(oj),Math.floor(n(ij,oj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const bx=nn(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);bx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?nn(r=>{r.setTime(Math.floor(r/e)*e)},(r,n)=>{r.setTime(+r+n*e)},(r,n)=>(n-r)/e):bx);bx.range;const fi=1e3,Fs=fi*60,pi=Fs*60,Ei=pi*24,a2=Ei*7,lA=Ei*30,lj=Ei*365,ul=nn(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*fi)},(e,r)=>(r-e)/fi,e=>e.getUTCSeconds());ul.range;const i2=nn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fi)},(e,r)=>{e.setTime(+e+r*Fs)},(e,r)=>(r-e)/Fs,e=>e.getMinutes());i2.range;const o2=nn(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*Fs)},(e,r)=>(r-e)/Fs,e=>e.getUTCMinutes());o2.range;const l2=nn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fi-e.getMinutes()*Fs)},(e,r)=>{e.setTime(+e+r*pi)},(e,r)=>(r-e)/pi,e=>e.getHours());l2.range;const c2=nn(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*pi)},(e,r)=>(r-e)/pi,e=>e.getUTCHours());c2.range;const qh=nn(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Fs)/Ei,e=>e.getDate()-1);qh.range;const wv=nn(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Ei,e=>e.getUTCDate()-1);wv.range;const qI=nn(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Ei,e=>Math.floor(e/Ei));qI.range;function Ql(e){return nn(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,n)=>{r.setDate(r.getDate()+n*7)},(r,n)=>(n-r-(n.getTimezoneOffset()-r.getTimezoneOffset())*Fs)/a2)}const Sv=Ql(0),Nx=Ql(1),bde=Ql(2),Nde=Ql(3),gd=Ql(4),wde=Ql(5),Sde=Ql(6);Sv.range;Nx.range;bde.range;Nde.range;gd.range;wde.range;Sde.range;function Zl(e){return nn(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCDate(r.getUTCDate()+n*7)},(r,n)=>(n-r)/a2)}const Pv=Zl(0),wx=Zl(1),Pde=Zl(2),Cde=Zl(3),vd=Zl(4),_de=Zl(5),Ade=Zl(6);Pv.range;wx.range;Pde.range;Cde.range;vd.range;_de.range;Ade.range;const d2=nn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());d2.range;const u2=nn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());u2.range;const ki=nn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());ki.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:nn(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,n)=>{r.setFullYear(r.getFullYear()+n*e)});ki.range;const Oi=nn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Oi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:nn(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCFullYear(r.getUTCFullYear()+n*e)});Oi.range;function WI(e,r,n,s,a,i){const o=[[ul,1,fi],[ul,5,5*fi],[ul,15,15*fi],[ul,30,30*fi],[i,1,Fs],[i,5,5*Fs],[i,15,15*Fs],[i,30,30*Fs],[a,1,pi],[a,3,3*pi],[a,6,6*pi],[a,12,12*pi],[s,1,Ei],[s,2,2*Ei],[n,1,a2],[r,1,lA],[r,3,3*lA],[e,1,lj]];function l(d,u,m){const h=u<d;h&&([d,u]=[u,d]);const p=m&&typeof m.range=="function"?m:c(d,u,m),g=p?p.range(d,+u+1):[];return h?g.reverse():g}function c(d,u,m){const h=Math.abs(u-d)/m,p=K1(([,,v])=>v).right(o,h);if(p===o.length)return e.every(kb(d/lj,u/lj,m));if(p===0)return bx.every(Math.max(kb(d,u,m),1));const[g,f]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(f)}return[l,c]}const[Tde,Ede]=WI(Oi,u2,Pv,qI,c2,o2),[kde,Ode]=WI(ki,d2,Sv,qh,l2,i2);function cj(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dj(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ku(e,r,n){return{y:e,m:r,d:n,H:0,M:0,S:0,L:0}}function Rde(e){var r=e.dateTime,n=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Ou(a),u=Ru(a),m=Ou(i),h=Ru(i),p=Ou(o),g=Ru(o),f=Ou(l),v=Ru(l),b=Ou(c),y=Ru(c),j={a:X,A:z,b:F,B:te,c:null,d:fA,e:fA,f:rue,g:mue,G:fue,H:Jde,I:eue,j:tue,L:HI,m:nue,M:sue,p:de,q:ie,Q:gA,s:vA,S:aue,u:iue,U:oue,V:lue,w:cue,W:due,x:null,X:null,y:uue,Y:hue,Z:pue,"%":xA},C={a:fe,A:ge,b:he,B:Te,c:null,d:pA,e:pA,f:yue,g:Tue,G:kue,H:xue,I:gue,j:vue,L:GI,m:jue,M:bue,p:Se,q:Ue,Q:gA,s:vA,S:Nue,u:wue,U:Sue,V:Pue,w:Cue,W:_ue,x:null,X:null,y:Aue,Y:Eue,Z:Oue,"%":xA},S={a:A,A:D,b:O,B:$,c:U,d:mA,e:mA,f:Xde,g:uA,G:dA,H:hA,I:hA,j:Wde,L:Gde,m:qde,M:Hde,p:w,q:Vde,Q:Qde,s:Zde,S:Kde,u:Lde,U:Fde,V:zde,w:$de,W:Bde,x:V,X:R,y:uA,Y:dA,Z:Ude,"%":Yde};j.x=N(n,j),j.X=N(s,j),j.c=N(r,j),C.x=N(n,C),C.X=N(s,C),C.c=N(r,C);function N(be,Z){return function(xe){var oe=[],ze=-1,Fe=0,tt=be.length,ot,pe,qe;for(xe instanceof Date||(xe=new Date(+xe));++ze<tt;)be.charCodeAt(ze)===37&&(oe.push(be.slice(Fe,ze)),(pe=cA[ot=be.charAt(++ze)])!=null?ot=be.charAt(++ze):pe=ot==="e"?" ":"0",(qe=Z[ot])&&(ot=qe(xe,pe)),oe.push(ot),Fe=ze+1);return oe.push(be.slice(Fe,ze)),oe.join("")}}function P(be,Z){return function(xe){var oe=ku(1900,void 0,1),ze=_(oe,be,xe+="",0),Fe,tt;if(ze!=xe.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(Z&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Fe=dj(ku(oe.y,0,1)),tt=Fe.getUTCDay(),Fe=tt>4||tt===0?wx.ceil(Fe):wx(Fe),Fe=wv.offset(Fe,(oe.V-1)*7),oe.y=Fe.getUTCFullYear(),oe.m=Fe.getUTCMonth(),oe.d=Fe.getUTCDate()+(oe.w+6)%7):(Fe=cj(ku(oe.y,0,1)),tt=Fe.getDay(),Fe=tt>4||tt===0?Nx.ceil(Fe):Nx(Fe),Fe=qh.offset(Fe,(oe.V-1)*7),oe.y=Fe.getFullYear(),oe.m=Fe.getMonth(),oe.d=Fe.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),tt="Z"in oe?dj(ku(oe.y,0,1)).getUTCDay():cj(ku(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(tt+5)%7:oe.w+oe.U*7-(tt+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,dj(oe)):cj(oe)}}function _(be,Z,xe,oe){for(var ze=0,Fe=Z.length,tt=xe.length,ot,pe;ze<Fe;){if(oe>=tt)return-1;if(ot=Z.charCodeAt(ze++),ot===37){if(ot=Z.charAt(ze++),pe=S[ot in cA?Z.charAt(ze++):ot],!pe||(oe=pe(be,xe,oe))<0)return-1}else if(ot!=xe.charCodeAt(oe++))return-1}return oe}function w(be,Z,xe){var oe=d.exec(Z.slice(xe));return oe?(be.p=u.get(oe[0].toLowerCase()),xe+oe[0].length):-1}function A(be,Z,xe){var oe=p.exec(Z.slice(xe));return oe?(be.w=g.get(oe[0].toLowerCase()),xe+oe[0].length):-1}function D(be,Z,xe){var oe=m.exec(Z.slice(xe));return oe?(be.w=h.get(oe[0].toLowerCase()),xe+oe[0].length):-1}function O(be,Z,xe){var oe=b.exec(Z.slice(xe));return oe?(be.m=y.get(oe[0].toLowerCase()),xe+oe[0].length):-1}function $(be,Z,xe){var oe=f.exec(Z.slice(xe));return oe?(be.m=v.get(oe[0].toLowerCase()),xe+oe[0].length):-1}function U(be,Z,xe){return _(be,r,Z,xe)}function V(be,Z,xe){return _(be,n,Z,xe)}function R(be,Z,xe){return _(be,s,Z,xe)}function X(be){return o[be.getDay()]}function z(be){return i[be.getDay()]}function F(be){return c[be.getMonth()]}function te(be){return l[be.getMonth()]}function de(be){return a[+(be.getHours()>=12)]}function ie(be){return 1+~~(be.getMonth()/3)}function fe(be){return o[be.getUTCDay()]}function ge(be){return i[be.getUTCDay()]}function he(be){return c[be.getUTCMonth()]}function Te(be){return l[be.getUTCMonth()]}function Se(be){return a[+(be.getUTCHours()>=12)]}function Ue(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Z=N(be+="",j);return Z.toString=function(){return be},Z},parse:function(be){var Z=P(be+="",!1);return Z.toString=function(){return be},Z},utcFormat:function(be){var Z=N(be+="",C);return Z.toString=function(){return be},Z},utcParse:function(be){var Z=P(be+="",!0);return Z.toString=function(){return be},Z}}}var cA={"-":"",_:" ",0:"0"},fn=/^\s*\d+/,Dde=/^%/,Mde=/[\\^$*+?|[\]().{}]/g;function Yt(e,r,n){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<n?new Array(n-i+1).join(r)+a:a)}function Ide(e){return e.replace(Mde,"\\$&")}function Ou(e){return new RegExp("^(?:"+e.map(Ide).join("|")+")","i")}function Ru(e){return new Map(e.map((r,n)=>[r.toLowerCase(),n]))}function $de(e,r,n){var s=fn.exec(r.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function Lde(e,r,n){var s=fn.exec(r.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function Fde(e,r,n){var s=fn.exec(r.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function zde(e,r,n){var s=fn.exec(r.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function Bde(e,r,n){var s=fn.exec(r.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function dA(e,r,n){var s=fn.exec(r.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function uA(e,r,n){var s=fn.exec(r.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function Ude(e,r,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function Vde(e,r,n){var s=fn.exec(r.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function qde(e,r,n){var s=fn.exec(r.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function mA(e,r,n){var s=fn.exec(r.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function Wde(e,r,n){var s=fn.exec(r.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function hA(e,r,n){var s=fn.exec(r.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function Hde(e,r,n){var s=fn.exec(r.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function Kde(e,r,n){var s=fn.exec(r.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function Gde(e,r,n){var s=fn.exec(r.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function Xde(e,r,n){var s=fn.exec(r.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function Yde(e,r,n){var s=Dde.exec(r.slice(n,n+1));return s?n+s[0].length:-1}function Qde(e,r,n){var s=fn.exec(r.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function Zde(e,r,n){var s=fn.exec(r.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function fA(e,r){return Yt(e.getDate(),r,2)}function Jde(e,r){return Yt(e.getHours(),r,2)}function eue(e,r){return Yt(e.getHours()%12||12,r,2)}function tue(e,r){return Yt(1+qh.count(ki(e),e),r,3)}function HI(e,r){return Yt(e.getMilliseconds(),r,3)}function rue(e,r){return HI(e,r)+"000"}function nue(e,r){return Yt(e.getMonth()+1,r,2)}function sue(e,r){return Yt(e.getMinutes(),r,2)}function aue(e,r){return Yt(e.getSeconds(),r,2)}function iue(e){var r=e.getDay();return r===0?7:r}function oue(e,r){return Yt(Sv.count(ki(e)-1,e),r,2)}function KI(e){var r=e.getDay();return r>=4||r===0?gd(e):gd.ceil(e)}function lue(e,r){return e=KI(e),Yt(gd.count(ki(e),e)+(ki(e).getDay()===4),r,2)}function cue(e){return e.getDay()}function due(e,r){return Yt(Nx.count(ki(e)-1,e),r,2)}function uue(e,r){return Yt(e.getFullYear()%100,r,2)}function mue(e,r){return e=KI(e),Yt(e.getFullYear()%100,r,2)}function hue(e,r){return Yt(e.getFullYear()%1e4,r,4)}function fue(e,r){var n=e.getDay();return e=n>=4||n===0?gd(e):gd.ceil(e),Yt(e.getFullYear()%1e4,r,4)}function pue(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+Yt(r/60|0,"0",2)+Yt(r%60,"0",2)}function pA(e,r){return Yt(e.getUTCDate(),r,2)}function xue(e,r){return Yt(e.getUTCHours(),r,2)}function gue(e,r){return Yt(e.getUTCHours()%12||12,r,2)}function vue(e,r){return Yt(1+wv.count(Oi(e),e),r,3)}function GI(e,r){return Yt(e.getUTCMilliseconds(),r,3)}function yue(e,r){return GI(e,r)+"000"}function jue(e,r){return Yt(e.getUTCMonth()+1,r,2)}function bue(e,r){return Yt(e.getUTCMinutes(),r,2)}function Nue(e,r){return Yt(e.getUTCSeconds(),r,2)}function wue(e){var r=e.getUTCDay();return r===0?7:r}function Sue(e,r){return Yt(Pv.count(Oi(e)-1,e),r,2)}function XI(e){var r=e.getUTCDay();return r>=4||r===0?vd(e):vd.ceil(e)}function Pue(e,r){return e=XI(e),Yt(vd.count(Oi(e),e)+(Oi(e).getUTCDay()===4),r,2)}function Cue(e){return e.getUTCDay()}function _ue(e,r){return Yt(wx.count(Oi(e)-1,e),r,2)}function Aue(e,r){return Yt(e.getUTCFullYear()%100,r,2)}function Tue(e,r){return e=XI(e),Yt(e.getUTCFullYear()%100,r,2)}function Eue(e,r){return Yt(e.getUTCFullYear()%1e4,r,4)}function kue(e,r){var n=e.getUTCDay();return e=n>=4||n===0?vd(e):vd.ceil(e),Yt(e.getUTCFullYear()%1e4,r,4)}function Oue(){return"+0000"}function xA(){return"%"}function gA(e){return+e}function vA(e){return Math.floor(+e/1e3)}var ic,YI,QI;Rue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Rue(e){return ic=Rde(e),YI=ic.format,ic.parse,QI=ic.utcFormat,ic.utcParse,ic}function Due(e){return new Date(e)}function Mue(e){return e instanceof Date?+e:+new Date(+e)}function m2(e,r,n,s,a,i,o,l,c,d){var u=Z1(),m=u.invert,h=u.domain,p=d(".%L"),g=d(":%S"),f=d("%I:%M"),v=d("%I %p"),b=d("%a %d"),y=d("%b %d"),j=d("%B"),C=d("%Y");function S(N){return(c(N)<N?p:l(N)<N?g:o(N)<N?f:i(N)<N?v:s(N)<N?a(N)<N?b:y:n(N)<N?j:C)(N)}return u.invert=function(N){return new Date(m(N))},u.domain=function(N){return arguments.length?h(Array.from(N,Mue)):h().map(Due)},u.ticks=function(N){var P=h();return e(P[0],P[P.length-1],N??10)},u.tickFormat=function(N,P){return P==null?S:d(P)},u.nice=function(N){var P=h();return(!N||typeof N.range!="function")&&(N=r(P[0],P[P.length-1],N??10)),N?h($I(P,N)):u},u.copy=function(){return Vh(u,m2(e,r,n,s,a,i,o,l,c,d))},u}function Iue(){return Hs.apply(m2(kde,Ode,ki,d2,Sv,qh,l2,i2,ul,YI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $ue(){return Hs.apply(m2(Tde,Ede,Oi,u2,Pv,wv,c2,o2,ul,QI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cv(){var e=0,r=1,n,s,a,i,o=Vn,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(a===0?.5:(m=(i(m)-n)*a,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,r]=m,n=i(e=+e),s=i(r=+r),a=n===s?0:1/(s-n),d):[e,r]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function u(m){return function(h){var p,g;return arguments.length?([p,g]=h,o=m(p,g),d):[o(0),o(1)]}}return d.range=u(du),d.rangeRound=u(Q1),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,n=m(e),s=m(r),a=n===s?0:1/(s-n),d}}function zo(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ZI(){var e=Fo(Cv()(Vn));return e.copy=function(){return zo(e,ZI())},zi.apply(e,arguments)}function JI(){var e=t2(Cv()).domain([1,10]);return e.copy=function(){return zo(e,JI()).base(e.base())},zi.apply(e,arguments)}function e$(){var e=r2(Cv());return e.copy=function(){return zo(e,e$()).constant(e.constant())},zi.apply(e,arguments)}function h2(){var e=n2(Cv());return e.copy=function(){return zo(e,h2()).exponent(e.exponent())},zi.apply(e,arguments)}function Lue(){return h2.apply(null,arguments).exponent(.5)}function t$(){var e=[],r=Vn;function n(s){if(s!=null&&!isNaN(s=+s))return r((Bh(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(No),n},n.interpolator=function(s){return arguments.length?(r=s,n):r},n.range=function(){return e.map((s,a)=>r(a/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(a,i)=>Sce(e,i/s))},n.copy=function(){return t$(r).domain(e)},zi.apply(n,arguments)}function _v(){var e=0,r=.5,n=1,s=1,a,i,o,l,c,d=Vn,u,m=!1,h;function p(f){return isNaN(f=+f)?h:(f=.5+((f=+u(f))-i)*(s*f<s*i?l:c),d(m?Math.max(0,Math.min(1,f)):f))}p.domain=function(f){return arguments.length?([e,r,n]=f,a=u(e=+e),i=u(r=+r),o=u(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,p):[e,r,n]},p.clamp=function(f){return arguments.length?(m=!!f,p):m},p.interpolator=function(f){return arguments.length?(d=f,p):d};function g(f){return function(v){var b,y,j;return arguments.length?([b,y,j]=v,d=Yce(f,[b,y,j]),p):[d(0),d(.5),d(1)]}}return p.range=g(du),p.rangeRound=g(Q1),p.unknown=function(f){return arguments.length?(h=f,p):h},function(f){return u=f,a=f(e),i=f(r),o=f(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,p}}function r$(){var e=Fo(_v()(Vn));return e.copy=function(){return zo(e,r$())},zi.apply(e,arguments)}function n$(){var e=t2(_v()).domain([.1,1,10]);return e.copy=function(){return zo(e,n$()).base(e.base())},zi.apply(e,arguments)}function s$(){var e=r2(_v());return e.copy=function(){return zo(e,s$()).constant(e.constant())},zi.apply(e,arguments)}function f2(){var e=n2(_v());return e.copy=function(){return zo(e,f2()).exponent(e.exponent())},zi.apply(e,arguments)}function Fue(){return f2.apply(null,arguments).exponent(.5)}const yA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gm,scaleDiverging:r$,scaleDivergingLog:n$,scaleDivergingPow:f2,scaleDivergingSqrt:Fue,scaleDivergingSymlog:s$,scaleIdentity:II,scaleImplicit:Ob,scaleLinear:jx,scaleLog:LI,scaleOrdinal:G1,scalePoint:lm,scalePow:s2,scaleQuantile:BI,scaleQuantize:UI,scaleRadial:zI,scaleSequential:ZI,scaleSequentialLog:JI,scaleSequentialPow:h2,scaleSequentialQuantile:t$,scaleSequentialSqrt:Lue,scaleSequentialSymlog:e$,scaleSqrt:yde,scaleSymlog:FI,scaleThreshold:VI,scaleTime:Iue,scaleUtc:$ue,tickFormat:MI},Symbol.toStringTag,{value:"Module"}));var zue=tu;function Bue(e,r,n){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=r(i);if(o!=null&&(l===void 0?o===o&&!zue(o):n(o,l)))var l=o,c=i}return c}var Av=Bue;function Uue(e,r){return e>r}var a$=Uue,Vue=Av,que=a$,Wue=cu;function Hue(e){return e&&e.length?Vue(e,Wue,que):void 0}var Kue=Hue;const uo=Zt(Kue);function Gue(e,r){return e<r}var i$=Gue,Xue=Av,Yue=i$,Que=cu;function Zue(e){return e&&e.length?Xue(e,Que,Yue):void 0}var Jue=Zue;const Tv=Zt(Jue);var eme=A1,tme=Ja,rme=fI,nme=ls;function sme(e,r){var n=nme(e)?eme:rme;return n(e,tme(r))}var ame=sme,ime=mI,ome=ame;function lme(e,r){return ime(ome(e,r),1)}var cme=lme;const dme=Zt(cme);var ume=V1;function mme(e,r){return ume(e,r)}var hme=mme;const zl=Zt(hme);var uu=1e9,fme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},x2,_r=!0,Vs="[DecimalError] ",Sl=Vs+"Invalid argument: ",p2=Vs+"Exponent out of range: ",mu=Math.floor,rl=Math.pow,pme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xs,an=1e7,gr=7,o$=9007199254740991,Sx=mu(o$/gr),Qe={};Qe.absoluteValue=Qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Qe.comparedTo=Qe.cmp=function(e){var r,n,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,r=0,n=s<a?s:a;r<n;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var e=this,r=e.d.length-1,n=(r-e.e)*gr;if(r=e.d[r],r)for(;r%10==0;r/=10)n--;return n<0?0:n};Qe.dividedBy=Qe.div=function(e){return yi(this,new this.constructor(e))};Qe.dividedToIntegerBy=Qe.idiv=function(e){var r=this,n=r.constructor;return lr(yi(r,new n(e),0,1),n.precision)};Qe.equals=Qe.eq=function(e){return!this.cmp(e)};Qe.exponent=function(){return Yr(this)};Qe.greaterThan=Qe.gt=function(e){return this.cmp(e)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(e){return this.cmp(e)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(e){return this.cmp(e)<0};Qe.lessThanOrEqualTo=Qe.lte=function(e){return this.cmp(e)<1};Qe.logarithm=Qe.log=function(e){var r,n=this,s=n.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(xs))throw Error(Vs+"NaN");if(n.s<1)throw Error(Vs+(n.s?"NaN":"-Infinity"));return n.eq(xs)?new s(0):(_r=!1,r=yi(Jm(n,i),Jm(e,i),i),_r=!0,lr(r,a))};Qe.minus=Qe.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?d$(r,e):l$(r,(e.s=-e.s,e))};Qe.modulo=Qe.mod=function(e){var r,n=this,s=n.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(Vs+"NaN");return n.s?(_r=!1,r=yi(n,e,0,1).times(e),_r=!0,n.minus(r)):lr(new s(n),a)};Qe.naturalExponential=Qe.exp=function(){return c$(this)};Qe.naturalLogarithm=Qe.ln=function(){return Jm(this)};Qe.negated=Qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Qe.plus=Qe.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?l$(r,e):d$(r,(e.s=-e.s,e))};Qe.precision=Qe.sd=function(e){var r,n,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Sl+e);if(r=Yr(a)+1,s=a.d.length-1,n=s*gr+1,s=a.d[s],s){for(;s%10==0;s/=10)n--;for(s=a.d[0];s>=10;s/=10)n++}return e&&r>n?r:n};Qe.squareRoot=Qe.sqrt=function(){var e,r,n,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vs+"NaN")}for(e=Yr(l),_r=!1,a=Math.sqrt(+l),a==0||a==1/0?(r=Fa(l.d),(r.length+e)%2==0&&(r+="0"),a=Math.sqrt(r),e=mu((e+1)/2)-(e<0||e%2),a==1/0?r="5e"+e:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),s=new c(r)):s=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=s,s=i.plus(yi(l,i,o+2)).times(.5),Fa(i.d).slice(0,o)===(r=Fa(s.d)).slice(0,o)){if(r=r.slice(o-3,o+1),a==o&&r=="4999"){if(lr(i,n+1,0),i.times(i).eq(l)){s=i;break}}else if(r!="9999")break;o+=4}return _r=!0,lr(s,n)};Qe.times=Qe.mul=function(e){var r,n,s,a,i,o,l,c,d,u=this,m=u.constructor,h=u.d,p=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,n=u.e+e.e,c=h.length,d=p.length,c<d&&(i=h,h=p,p=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(r=0,a=c+s;a>s;)l=i[a]+p[s]*h[a-s-1]+r,i[a--]=l%an|0,r=l/an|0;i[a]=(i[a]+r)%an|0}for(;!i[--o];)i.pop();return r?++n:i.shift(),e.d=i,e.e=n,_r?lr(e,m.precision):e};Qe.toDecimalPlaces=Qe.todp=function(e,r){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(Ya(e,0,uu),r===void 0?r=s.rounding:Ya(r,0,8),lr(n,e+Yr(n)+1,r))};Qe.toExponential=function(e,r){var n,s=this,a=s.constructor;return e===void 0?n=Bl(s,!0):(Ya(e,0,uu),r===void 0?r=a.rounding:Ya(r,0,8),s=lr(new a(s),e+1,r),n=Bl(s,!0,e+1)),n};Qe.toFixed=function(e,r){var n,s,a=this,i=a.constructor;return e===void 0?Bl(a):(Ya(e,0,uu),r===void 0?r=i.rounding:Ya(r,0,8),s=lr(new i(a),e+Yr(a)+1,r),n=Bl(s.abs(),!1,e+Yr(s)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Qe.toInteger=Qe.toint=function(){var e=this,r=e.constructor;return lr(new r(e),Yr(e)+1,r.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(e){var r,n,s,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(xs);if(l=new c(l),!l.s){if(e.s<1)throw Error(Vs+"Infinity");return l}if(l.eq(xs))return l;if(s=c.precision,e.eq(xs))return lr(l,s);if(r=e.e,n=e.d.length-1,o=r>=n,i=l.s,o){if((n=u<0?-u:u)<=o$){for(a=new c(xs),r=Math.ceil(s/gr+4),_r=!1;n%2&&(a=a.times(l),bA(a.d,r)),n=mu(n/2),n!==0;)l=l.times(l),bA(l.d,r);return _r=!0,e.s<0?new c(xs).div(a):lr(a,s)}}else if(i<0)throw Error(Vs+"NaN");return i=i<0&&e.d[Math.max(r,n)]&1?-1:1,l.s=1,_r=!1,a=e.times(Jm(l,s+d)),_r=!0,a=c$(a),a.s=i,a};Qe.toPrecision=function(e,r){var n,s,a=this,i=a.constructor;return e===void 0?(n=Yr(a),s=Bl(a,n<=i.toExpNeg||n>=i.toExpPos)):(Ya(e,1,uu),r===void 0?r=i.rounding:Ya(r,0,8),a=lr(new i(a),e,r),n=Yr(a),s=Bl(a,e<=n||n<=i.toExpNeg,e)),s};Qe.toSignificantDigits=Qe.tosd=function(e,r){var n=this,s=n.constructor;return e===void 0?(e=s.precision,r=s.rounding):(Ya(e,1,uu),r===void 0?r=s.rounding:Ya(r,0,8)),lr(new s(n),e,r)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=Yr(e),n=e.constructor;return Bl(e,r<=n.toExpNeg||r>=n.toExpPos)};function l$(e,r){var n,s,a,i,o,l,c,d,u=e.constructor,m=u.precision;if(!e.s||!r.s)return r.s||(r=new u(e)),_r?lr(r,m):r;if(c=e.d,d=r.d,o=e.e,a=r.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(m/gr),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/an|0,c[i]%=an;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return r.d=c,r.e=a,_r?lr(r,m):r}function Ya(e,r,n){if(e!==~~e||e<r||e>n)throw Error(Sl+e)}function Fa(e){var r,n,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,r=1;r<a;r++)s=e[r]+"",n=gr-s.length,n&&(i+=Qi(n)),i+=s;o=e[r],s=o+"",n=gr-s.length,n&&(i+=Qi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var yi=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%an|0,o=i/an|0;return o&&s.unshift(o),s}function r(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function n(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*an+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,m,h,p,g,f,v,b,y,j,C,S,N,P,_,w=s.constructor,A=s.s==a.s?1:-1,D=s.d,O=a.d;if(!s.s)return new w(s);if(!a.s)throw Error(Vs+"Division by zero");for(c=s.e-a.e,P=O.length,S=D.length,p=new w(A),g=p.d=[],d=0;O[d]==(D[d]||0);)++d;if(O[d]>(D[d]||0)&&--c,i==null?y=i=w.precision:o?y=i+(Yr(s)-Yr(a))+1:y=i,y<0)return new w(0);if(y=y/gr+2|0,d=0,P==1)for(u=0,O=O[0],y++;(d<S||u)&&y--;d++)j=u*an+(D[d]||0),g[d]=j/O|0,u=j%O|0;else{for(u=an/(O[0]+1)|0,u>1&&(O=e(O,u),D=e(D,u),P=O.length,S=D.length),C=P,f=D.slice(0,P),v=f.length;v<P;)f[v++]=0;_=O.slice(),_.unshift(0),N=O[0],O[1]>=an/2&&++N;do u=0,l=r(O,f,P,v),l<0?(b=f[0],P!=v&&(b=b*an+(f[1]||0)),u=b/N|0,u>1?(u>=an&&(u=an-1),m=e(O,u),h=m.length,v=f.length,l=r(m,f,h,v),l==1&&(u--,n(m,P<h?_:O,h))):(u==0&&(l=u=1),m=O.slice()),h=m.length,h<v&&m.unshift(0),n(f,m,v),l==-1&&(v=f.length,l=r(O,f,P,v),l<1&&(u++,n(f,P<v?_:O,v))),v=f.length):l===0&&(u++,f=[0]),g[d++]=u,l&&f[0]?f[v++]=D[C]||0:(f=[D[C]],v=1);while((C++<S||f[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,lr(p,o?i+Yr(p)+1:i)}}();function c$(e,r){var n,s,a,i,o,l,c=0,d=0,u=e.constructor,m=u.precision;if(Yr(e)>16)throw Error(p2+Yr(e));if(!e.s)return new u(xs);for(r==null?(_r=!1,l=m):l=r,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(s=Math.log(rl(2,d))/Math.LN10*2+5|0,l+=s,n=a=i=new u(xs),u.precision=l;;){if(a=lr(a.times(e),l),n=n.times(++c),o=i.plus(yi(a,n,l)),Fa(o.d).slice(0,l)===Fa(i.d).slice(0,l)){for(;d--;)i=lr(i.times(i),l);return u.precision=m,r==null?(_r=!0,lr(i,m)):i}i=o}}function Yr(e){for(var r=e.e*gr,n=e.d[0];n>=10;n/=10)r++;return r}function uj(e,r,n){if(r>e.LN10.sd())throw _r=!0,n&&(e.precision=n),Error(Vs+"LN10 precision limit exceeded");return lr(new e(e.LN10),r)}function Qi(e){for(var r="";e--;)r+="0";return r}function Jm(e,r){var n,s,a,i,o,l,c,d,u,m=1,h=10,p=e,g=p.d,f=p.constructor,v=f.precision;if(p.s<1)throw Error(Vs+(p.s?"NaN":"-Infinity"));if(p.eq(xs))return new f(0);if(r==null?(_r=!1,d=v):d=r,p.eq(10))return r==null&&(_r=!0),uj(f,d);if(d+=h,f.precision=d,n=Fa(g),s=n.charAt(0),i=Yr(p),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)p=p.times(e),n=Fa(p.d),s=n.charAt(0),m++;i=Yr(p),s>1?(p=new f("0."+n),i++):p=new f(s+"."+n.slice(1))}else return c=uj(f,d+2,v).times(i+""),p=Jm(new f(s+"."+n.slice(1)),d-h).plus(c),f.precision=v,r==null?(_r=!0,lr(p,v)):p;for(l=o=p=yi(p.minus(xs),p.plus(xs),d),u=lr(p.times(p),d),a=3;;){if(o=lr(o.times(u),d),c=l.plus(yi(o,new f(a),d)),Fa(c.d).slice(0,d)===Fa(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(uj(f,d+2,v).times(i+""))),l=yi(l,new f(m),d),f.precision=v,r==null?(_r=!0,lr(l,v)):l;l=c,a+=2}}function jA(e,r){var n,s,a;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(s=r.search(/e/i))>0?(n<0&&(n=s),n+=+r.slice(s+1),r=r.substring(0,s)):n<0&&(n=r.length),s=0;r.charCodeAt(s)===48;)++s;for(a=r.length;r.charCodeAt(a-1)===48;)--a;if(r=r.slice(s,a),r){if(a-=s,n=n-s-1,e.e=mu(n/gr),e.d=[],s=(n+1)%gr,n<0&&(s+=gr),s<a){for(s&&e.d.push(+r.slice(0,s)),a-=gr;s<a;)e.d.push(+r.slice(s,s+=gr));r=r.slice(s),s=gr-r.length}else s-=a;for(;s--;)r+="0";if(e.d.push(+r),_r&&(e.e>Sx||e.e<-Sx))throw Error(p2+n)}else e.s=0,e.e=0,e.d=[0];return e}function lr(e,r,n){var s,a,i,o,l,c,d,u,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(s=r-o,s<0)s+=gr,a=r,d=m[u=0];else{if(u=Math.ceil((s+1)/gr),i=m.length,u>=i)return e;for(d=i=m[u],o=1;i>=10;i/=10)o++;s%=gr,a=s-gr+o}if(n!==void 0&&(i=rl(10,o-a-1),l=d/i%10|0,c=r<0||m[u+1]!==void 0||d%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(s>0?a>0?d/rl(10,o-a):0:m[u-1])%10&1||n==(e.s<0?8:7))),r<1||!m[0])return c?(i=Yr(e),m.length=1,r=r-i-1,m[0]=rl(10,(gr-r%gr)%gr),e.e=mu(-r/gr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(s==0?(m.length=u,i=1,u--):(m.length=u+1,i=rl(10,gr-s),m[u]=a>0?(d/rl(10,o-a)%rl(10,a)|0)*i:0),c)for(;;)if(u==0){(m[0]+=i)==an&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=an)break;m[u--]=0,i=1}for(s=m.length;m[--s]===0;)m.pop();if(_r&&(e.e>Sx||e.e<-Sx))throw Error(p2+Yr(e));return e}function d$(e,r){var n,s,a,i,o,l,c,d,u,m,h=e.constructor,p=h.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new h(e),_r?lr(r,p):r;if(c=e.d,m=r.d,s=r.e,d=e.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(n=c,o=-o,l=m.length):(n=m,s=d,l=c.length),a=Math.max(Math.ceil(p/gr),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=m.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=m[a]){u=c[a]<m[a];break}o=0}for(u&&(n=c,c=m,m=n,r.s=-r.s),l=c.length,a=m.length-l;a>0;--a)c[l++]=0;for(a=m.length;a>o;){if(c[--a]<m[a]){for(i=a;i&&c[--i]===0;)c[i]=an-1;--c[i],c[a]+=an}c[a]-=m[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(r.d=c,r.e=s,_r?lr(r,p):r):new h(0)}function Bl(e,r,n){var s,a=Yr(e),i=Fa(e.d),o=i.length;return r?(n&&(s=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Qi(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Qi(-a-1)+i,n&&(s=n-o)>0&&(i+=Qi(s))):a>=o?(i+=Qi(a+1-o),n&&(s=n-a-1)>0&&(i=i+"."+Qi(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),n&&(s=n-o)>0&&(a+1===o&&(i+="."),i+=Qi(s))),e.s<0?"-"+i:i}function bA(e,r){if(e.length>r)return e.length=r,!0}function u$(e){var r,n,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Sl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return jA(o,i.toString())}else if(typeof i!="string")throw Error(Sl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,pme.test(i))jA(o,i);else throw Error(Sl+i)}if(a.prototype=Qe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=u$,a.config=a.set=xme,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<s.length;)e.hasOwnProperty(n=s[r++])||(e[n]=this[n]);return a.config(e),a}function xme(e){if(!e||typeof e!="object")throw Error(Vs+"Object expected");var r,n,s,a=["precision",1,uu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<a.length;r+=3)if((s=e[n=a[r]])!==void 0)if(mu(s)===s&&s>=a[r+1]&&s<=a[r+2])this[n]=s;else throw Error(Sl+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(Sl+n+": "+s);return this}var x2=u$(fme);xs=new x2(1);const sr=x2;function gme(e){return bme(e)||jme(e)||yme(e)||vme()}function vme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yme(e,r){if(e){if(typeof e=="string")return Ib(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ib(e,r)}}function jme(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function bme(e){if(Array.isArray(e))return Ib(e)}function Ib(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}var Nme=function(r){return r},m$={"@@functional/placeholder":!0},h$=function(r){return r===m$},NA=function(r){return function n(){return arguments.length===0||arguments.length===1&&h$(arguments.length<=0?void 0:arguments[0])?n:r.apply(void 0,arguments)}},wme=function e(r,n){return r===1?n:NA(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==m$}).length;return o>=r?n.apply(void 0,a):e(r-o,NA(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(m){return h$(m)?c.shift():m});return n.apply(void 0,gme(u).concat(c))}))})},Ev=function(r){return wme(r.length,r)},$b=function(r,n){for(var s=[],a=r;a<n;++a)s[a-r]=a;return s},Sme=Ev(function(e,r){return Array.isArray(r)?r.map(e):Object.keys(r).map(function(n){return r[n]}).map(e)}),Pme=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];if(!n.length)return Nme;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Lb=function(r){return Array.isArray(r)?r.reverse():r.split("").reverse.join("")},f$=function(r){var n=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,s=r.apply(void 0,i)),s}};function Cme(e){var r;return e===0?r=1:r=Math.floor(new sr(e).abs().log(10).toNumber())+1,r}function _me(e,r,n){for(var s=new sr(e),a=0,i=[];s.lt(r)&&a<1e5;)i.push(s.toNumber()),s=s.add(n),a++;return i}var Ame=Ev(function(e,r,n){var s=+e,a=+r;return s+n*(a-s)}),Tme=Ev(function(e,r,n){var s=r-+e;return s=s||1/0,(n-e)/s}),Eme=Ev(function(e,r,n){var s=r-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});const kv={rangeStep:_me,getDigitCount:Cme,interpolateNumber:Ame,uninterpolateNumber:Tme,uninterpolateTruncation:Eme};function Fb(e){return Rme(e)||Ome(e)||p$(e)||kme()}function kme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ome(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Rme(e){if(Array.isArray(e))return zb(e)}function eh(e,r){return Ime(e)||Mme(e,r)||p$(e,r)||Dme()}function Dme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p$(e,r){if(e){if(typeof e=="string")return zb(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zb(e,r)}}function zb(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Mme(e,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(r&&n.length===r));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function Ime(e){if(Array.isArray(e))return e}function x$(e){var r=eh(e,2),n=r[0],s=r[1],a=n,i=s;return n>s&&(a=s,i=n),[a,i]}function g$(e,r,n){if(e.lte(0))return new sr(0);var s=kv.getDigitCount(e.toNumber()),a=new sr(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new sr(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return r?c:new sr(Math.ceil(c))}function $me(e,r,n){var s=1,a=new sr(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(s=new sr(10).pow(kv.getDigitCount(e)-1),a=new sr(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new sr(Math.floor(e)))}else e===0?a=new sr(Math.floor((r-1)/2)):n||(a=new sr(Math.floor(e)));var o=Math.floor((r-1)/2),l=Pme(Sme(function(c){return a.add(new sr(c-o).mul(s)).toNumber()}),$b);return l(0,r)}function v$(e,r,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new sr(0),tickMin:new sr(0),tickMax:new sr(0)};var i=g$(new sr(r).sub(e).div(n-1),s,a),o;e<=0&&r>=0?o=new sr(0):(o=new sr(e).add(r).div(2),o=o.sub(new sr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new sr(r).sub(o).div(i).toNumber()),d=l+c+1;return d>n?v$(e,r,n,s,a+1):(d<n&&(c=r>0?c+(n-d):c,l=r>0?l:l+(n-d)),{step:i,tickMin:o.sub(new sr(l).mul(i)),tickMax:o.add(new sr(c).mul(i))})}function Lme(e){var r=eh(e,2),n=r[0],s=r[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=x$([n,s]),c=eh(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var m=u===1/0?[d].concat(Fb($b(0,a-1).map(function(){return 1/0}))):[].concat(Fb($b(0,a-1).map(function(){return-1/0})),[u]);return n>s?Lb(m):m}if(d===u)return $me(d,a,i);var h=v$(d,u,o,i),p=h.step,g=h.tickMin,f=h.tickMax,v=kv.rangeStep(g,f.add(new sr(.1).mul(p)),p);return n>s?Lb(v):v}function Fme(e,r){var n=eh(e,2),s=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=x$([s,a]),l=eh(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(r,2),m=g$(new sr(d).sub(c).div(u-1),i,0),h=[].concat(Fb(kv.rangeStep(new sr(c),new sr(d).sub(new sr(.99).mul(m)),m)),[d]);return s>a?Lb(h):h}var zme=f$(Lme),Bme=f$(Fme),Ume="Invariant failed";function Ul(e,r){throw new Error(Ume)}var Vme=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yd(e)}function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Px.apply(this,arguments)}function qme(e,r){return Gme(e)||Kme(e,r)||Hme(e,r)||Wme()}function Wme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hme(e,r){if(e){if(typeof e=="string")return wA(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wA(e,r)}}function wA(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Kme(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Gme(e){if(Array.isArray(e))return e}function Xme(e,r){if(e==null)return{};var n=Yme(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Yme(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Qme(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Zme(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,b$(s.key),s)}}function Jme(e,r,n){return r&&Zme(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ehe(e,r,n){return r=Cx(r),the(e,y$()?Reflect.construct(r,n||[],Cx(e).constructor):r.apply(e,n))}function the(e,r){if(r&&(yd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rhe(e)}function rhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!e})()}function Cx(e){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cx(e)}function nhe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Bb(e,r)}function Bb(e,r){return Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Bb(e,r)}function j$(e,r,n){return r=b$(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function b$(e){var r=she(e,"string");return yd(r)=="symbol"?r:r+""}function she(e,r){if(yd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(yd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Wh=function(e){function r(){return Qme(this,r),ehe(this,r,arguments)}return nhe(r,e),Jme(r,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,m=s.yAxis,h=Xme(s,Vme),p=et(h,!1);this.props.direction==="x"&&u.type!=="number"&&Ul();var g=c.map(function(f){var v=d(f,l),b=v.x,y=v.y,j=v.value,C=v.errorVal;if(!C)return null;var S=[],N,P;if(Array.isArray(C)){var _=qme(C,2);N=_[0],P=_[1]}else N=P=C;if(i==="vertical"){var w=u.scale,A=y+a,D=A+o,O=A-o,$=w(j-N),U=w(j+P);S.push({x1:U,y1:D,x2:U,y2:O}),S.push({x1:$,y1:A,x2:U,y2:A}),S.push({x1:$,y1:D,x2:$,y2:O})}else if(i==="horizontal"){var V=m.scale,R=b+a,X=R-o,z=R+o,F=V(j-N),te=V(j+P);S.push({x1:X,y1:te,x2:z,y2:te}),S.push({x1:R,y1:F,x2:R,y2:te}),S.push({x1:X,y1:F,x2:z,y2:F})}return L.createElement(It,Px({className:"recharts-errorBar",key:"bar-".concat(S.map(function(de){return"".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))},p),S.map(function(de){return L.createElement("line",Px({},de,{key:"line-".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))}))});return L.createElement(It,{className:"recharts-errorBars"},g)}}])}(L.Component);j$(Wh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});j$(Wh,"displayName","ErrorBar");function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},th(e)}function SA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Wo(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?SA(Object(n),!0).forEach(function(s){ahe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ahe(e,r,n){return r=ihe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ihe(e){var r=ohe(e,"string");return th(r)=="symbol"?r:r+""}function ohe(e,r){if(th(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(th(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var N$=function(r){var n=r.children,s=r.formattedGraphicalItems,a=r.legendWidth,i=r.legendContent,o=hs(n,Wa);if(!o)return null;var l=Wa.defaultProps,c=l!==void 0?Wo(Wo({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,m){var h=m.item,p=m.props,g=p.sectors||p.data||[];return u.concat(g.map(function(f){return{type:o.props.iconType||h.props.legendType,value:f.name,color:f.fill,payload:f}}))},[]):d=(s||[]).map(function(u){var m=u.item,h=m.type.defaultProps,p=h!==void 0?Wo(Wo({},h),m.props):{},g=p.dataKey,f=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:g2(m),value:f||g,payload:p}}),Wo(Wo(Wo({},c),Wa.getWithHeight(o,a)),{},{payload:d,item:o})};function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rh(e)}function PA(e){return uhe(e)||dhe(e)||che(e)||lhe()}function lhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function che(e,r){if(e){if(typeof e=="string")return Ub(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ub(e,r)}}function dhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uhe(e){if(Array.isArray(e))return Ub(e)}function Ub(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function CA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ir(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?CA(Object(n),!0).forEach(function(s){qc(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qc(e,r,n){return r=mhe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function mhe(e){var r=hhe(e,"string");return rh(r)=="symbol"?r:r+""}function hhe(e,r){if(rh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(rh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Vr(e,r,n){return ht(e)||ht(r)?n:rn(r)?Ns(e,r,n):ct(r)?r(e):n}function cm(e,r,n,s){var a=dme(e,function(l){return Vr(l,r)});if(n==="number"){var i=a.filter(function(l){return Re(l)||parseFloat(l)});return i.length?[Tv(i),uo(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!ht(l)}):a;return o.map(function(l){return rn(l)||l instanceof Date?l:""})}var fhe=function(r){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s==null?void 0:s.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,m=a[d].coordinate,h=d>=l-1?a[0].coordinate:a[d+1].coordinate,p=void 0;if(Bn(m-u)!==Bn(h-m)){var g=[];if(Bn(h-m)===Bn(c[1]-c[0])){p=h;var f=m+c[1]-c[0];g[0]=Math.min(f,(f+u)/2),g[1]=Math.max(f,(f+u)/2)}else{p=u;var v=h+c[1]-c[0];g[0]=Math.min(m,(v+m)/2),g[1]=Math.max(m,(v+m)/2)}var b=[Math.min(m,(p+m)/2),Math.max(m,(p+m)/2)];if(r>b[0]&&r<=b[1]||r>=g[0]&&r<=g[1]){o=a[d].index;break}}else{var y=Math.min(u,h),j=Math.max(u,h);if(r>(y+m)/2&&r<=(j+m)/2){o=a[d].index;break}}}else for(var C=0;C<l;C++)if(C===0&&r<=(s[C].coordinate+s[C+1].coordinate)/2||C>0&&C<l-1&&r>(s[C].coordinate+s[C-1].coordinate)/2&&r<=(s[C].coordinate+s[C+1].coordinate)/2||C===l-1&&r>(s[C].coordinate+s[C-1].coordinate)/2){o=s[C].index;break}return o},g2=function(r){var n,s=r,a=s.type.displayName,i=(n=r.type)!==null&&n!==void 0&&n.defaultProps?Ir(Ir({},r.type.defaultProps),r.props):r.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},phe=function(r){var n=r.barSize,s=r.totalSize,a=r.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,m=Object.keys(u),h=0,p=m.length;h<p;h++){var g=u[m[h]],f=g.items,v=g.cateAxisId,b=f.filter(function(P){return vi(P.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,j=y!==void 0?Ir(Ir({},y),b[0].props):b[0].props,C=j.barSize,S=j[v];o[S]||(o[S]=[]);var N=ht(C)?n:C;o[S].push({item:b[0],stackList:b.slice(1),barSize:ht(N)?void 0:Un(N,s,0)})}}return o},xhe=function(r){var n=r.barGap,s=r.barCategoryGap,a=r.bandSize,i=r.sizeList,o=i===void 0?[]:i,l=r.maxBarSize,c=o.length;if(c<1)return null;var d=Un(n,a,0,!0),u,m=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,g=o.reduce(function(C,S){return C+S.barSize||0},0);g+=(c-1)*d,g>=a&&(g-=(c-1)*d,d=0),g>=a&&p>0&&(h=!0,p*=.9,g=c*p);var f=(a-g)/2>>0,v={offset:f-d,size:0};u=o.reduce(function(C,S){var N={item:S.item,position:{offset:v.offset+v.size+d,size:h?p:S.barSize}},P=[].concat(PA(C),[N]);return v=P[P.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(_){P.push({item:_,position:v})}),P},m)}else{var b=Un(s,a,0,!0);a-2*b-(c-1)*d<=0&&(d=0);var y=(a-2*b-(c-1)*d)/c;y>1&&(y>>=0);var j=l===+l?Math.min(y,l):y;u=o.reduce(function(C,S,N){var P=[].concat(PA(C),[{item:S.item,position:{offset:b+(y+d)*N+(y-j)/2,size:j}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(_){P.push({item:_,position:P[P.length-1].position})}),P},m)}return u},ghe=function(r,n,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=N$({children:i,legendWidth:c});if(d){var u=a||{},m=u.width,h=u.height,p=d.align,g=d.verticalAlign,f=d.layout;if((f==="vertical"||f==="horizontal"&&g==="middle")&&p!=="center"&&Re(r[p]))return Ir(Ir({},r),{},qc({},p,r[p]+(m||0)));if((f==="horizontal"||f==="vertical"&&p==="center")&&g!=="middle"&&Re(r[g]))return Ir(Ir({},r),{},qc({},g,r[g]+(h||0)))}return r},vhe=function(r,n,s){return ht(n)?!0:r==="horizontal"?n==="yAxis":r==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},w$=function(r,n,s,a,i){var o=n.props.children,l=ws(o,Wh).filter(function(d){return vhe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return r.reduce(function(d,u){var m=Vr(u,s);if(ht(m))return d;var h=Array.isArray(m)?[Tv(m),uo(m)]:[m,m],p=c.reduce(function(g,f){var v=Vr(u,f,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},yhe=function(r,n,s,a,i){var o=n.map(function(l){return w$(r,l,s,i,a)}).filter(function(l){return!ht(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},S$=function(r,n,s,a,i){var o=n.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&w$(r,c,d,a)||cm(r,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,m=d.length;u<m;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},P$=function(r,n){return r==="horizontal"&&n==="xAxis"||r==="vertical"&&n==="yAxis"||r==="centric"&&n==="angleAxis"||r==="radial"&&n==="radiusAxis"},C$=function(r,n,s,a){if(a)return r.map(function(c){return c.coordinate});var i,o,l=r.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(s),l},xi=function(r,n,s){if(!r)return null;var a=r.scale,i=r.duplicateDomain,o=r.type,l=r.range,c=r.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(n||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=r.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Bn(l[0]-l[1])*2*d:d,n&&(r.ticks||r.niceTicks)){var u=(r.ticks||r.niceTicks).map(function(m){var h=i?i.indexOf(m):m;return{coordinate:a(h)+d,value:m,offset:d}});return u.filter(function(m){return!iu(m.coordinate)})}return r.isCategorical&&r.categoricalDomain?r.categoricalDomain.map(function(m,h){return{coordinate:a(m)+d,value:m,index:h,offset:d}}):a.ticks&&!s?a.ticks(r.tickCount).map(function(m){return{coordinate:a(m)+d,value:m,offset:d}}):a.domain().map(function(m,h){return{coordinate:a(m)+d,value:i?i[m]:m,index:h,offset:d}})},mj=new WeakMap,Rf=function(r,n){if(typeof n!="function")return r;mj.has(r)||mj.set(r,new WeakMap);var s=mj.get(r);if(s.has(n))return s.get(n);var a=function(){r.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,a),a},_$=function(r,n,s){var a=r.scale,i=r.type,o=r.layout,l=r.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Gm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:jx(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:lm(),realScaleType:"point"}:i==="category"?{scale:Gm(),realScaleType:"band"}:{scale:jx(),realScaleType:"linear"};if($l(a)){var c="scale".concat(pv(a));return{scale:(yA[c]||lm)(),realScaleType:yA[c]?c:"point"}}return ct(a)?{scale:a}:{scale:lm(),realScaleType:"point"}},_A=1e-4,A$=function(r){var n=r.domain();if(!(!n||n.length<=2)){var s=n.length,a=r.range(),i=Math.min(a[0],a[1])-_A,o=Math.max(a[0],a[1])+_A,l=r(n[0]),c=r(n[s-1]);(l<i||l>o||c<i||c>o)&&r.domain([n[0],n[s-1]])}},jhe=function(r,n){if(!r)return null;for(var s=0,a=r.length;s<a;s++)if(r[s].item===n)return r[s].position;return null},bhe=function(r,n){if(!n||n.length!==2||!Re(n[0])||!Re(n[1]))return r;var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[r[0],r[1]];return(!Re(r[0])||r[0]<s)&&(i[0]=s),(!Re(r[1])||r[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},Nhe=function(r){var n=r.length;if(!(n<=0))for(var s=0,a=r[0].length;s<a;++s)for(var i=0,o=0,l=0;l<n;++l){var c=iu(r[l][s][1])?r[l][s][0]:r[l][s][1];c>=0?(r[l][s][0]=i,r[l][s][1]=i+c,i=r[l][s][1]):(r[l][s][0]=o,r[l][s][1]=o+c,o=r[l][s][1])}},whe=function(r){var n=r.length;if(!(n<=0))for(var s=0,a=r[0].length;s<a;++s)for(var i=0,o=0;o<n;++o){var l=iu(r[o][s][1])?r[o][s][0]:r[o][s][1];l>=0?(r[o][s][0]=i,r[o][s][1]=i+l,i=r[o][s][1]):(r[o][s][0]=0,r[o][s][1]=0)}},She={sign:Nhe,expand:VJ,none:ud,silhouette:qJ,wiggle:WJ,positive:whe},Phe=function(r,n,s){var a=n.map(function(l){return l.props.dataKey}),i=She[s],o=UJ().keys(a).value(function(l,c){return+Vr(l,c,0)}).order(hb).offset(i);return o(r)},Che=function(r,n,s,a,i,o){if(!r)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(m,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ir(Ir({},h.type.defaultProps),h.props):h.props,f=g.stackId,v=g.hide;if(v)return m;var b=g[s],y=m[b]||{hasStack:!1,stackGroups:{}};if(rn(f)){var j=y.stackGroups[f]||{numericAxisId:s,cateAxisId:a,items:[]};j.items.push(h),y.hasStack=!0,y.stackGroups[f]=j}else y.stackGroups[Yl("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[h]};return Ir(Ir({},m),{},qc({},b,y))},c),u={};return Object.keys(d).reduce(function(m,h){var p=d[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(f,v){var b=p.stackGroups[v];return Ir(Ir({},f),{},qc({},v,{numericAxisId:s,cateAxisId:a,items:b.items,stackedData:Phe(r,b.items,i)}))},g)}return Ir(Ir({},m),{},qc({},h,p))},u)},T$=function(r,n){var s=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=s||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=r.domain();if(!d.length)return null;var u=zme(d,i,l);return r.domain([Tv(u),uo(u)]),{niceTicks:u}}if(i&&a==="number"){var m=r.domain(),h=Bme(m,i,l);return{niceTicks:h}}return null};function _x(e){var r=e.axis,n=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!ht(a[r.dataKey])){var l=Jp(n,"value",a[r.dataKey]);if(l)return l.coordinate+s/2}return n[i]?n[i].coordinate+s/2:null}var c=Vr(a,ht(o)?r.dataKey:o);return ht(c)?null:r.scale(c)}var AA=function(r){var n=r.axis,s=r.ticks,a=r.offset,i=r.bandSize,o=r.entry,l=r.index;if(n.type==="category")return s[l]?s[l].coordinate+a:null;var c=Vr(o,n.dataKey,n.domain[l]);return ht(c)?null:n.scale(c)-i/2+a},_he=function(r){var n=r.numericAxis,s=n.scale.domain();if(n.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},Ahe=function(r,n){var s,a=(s=r.type)!==null&&s!==void 0&&s.defaultProps?Ir(Ir({},r.type.defaultProps),r.props):r.props,i=a.stackId;if(rn(i)){var o=n[i];if(o){var l=o.items.indexOf(r);return l>=0?o.stackedData[l]:null}}return null},The=function(r){return r.reduce(function(n,s){return[Tv(s.concat([n[0]]).filter(Re)),uo(s.concat([n[1]]).filter(Re))]},[1/0,-1/0])},E$=function(r,n,s){return Object.keys(r).reduce(function(a,i){var o=r[i],l=o.stackedData,c=l.reduce(function(d,u){var m=The(u.slice(n,s+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},TA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vb=function(r,n,s){if(ct(r))return r(n,s);if(!Array.isArray(r))return n;var a=[];if(Re(r[0]))a[0]=s?r[0]:Math.min(r[0],n[0]);else if(TA.test(r[0])){var i=+TA.exec(r[0])[1];a[0]=n[0]-i}else ct(r[0])?a[0]=r[0](n[0]):a[0]=n[0];if(Re(r[1]))a[1]=s?r[1]:Math.max(r[1],n[1]);else if(EA.test(r[1])){var o=+EA.exec(r[1])[1];a[1]=n[1]+o}else ct(r[1])?a[1]=r[1](n[1]):a[1]=n[1];return a},Ax=function(r,n,s){if(r&&r.scale&&r.scale.bandwidth){var a=r.scale.bandwidth();if(!s||a>0)return a}if(r&&n&&n.length>=2){for(var i=W1(n,function(m){return m.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},kA=function(r,n,s){return!r||!r.length||zl(r,Ns(s,"type.defaultProps.domain"))?n:r},k$=function(r,n){var s=r.type.defaultProps?Ir(Ir({},r.type.defaultProps),r.props):r.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return Ir(Ir({},et(r,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:g2(r),value:Vr(n,a),type:c,payload:n,chartType:d,hide:u})};function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nh(e)}function OA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function oi(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?OA(Object(n),!0).forEach(function(s){O$(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function O$(e,r,n){return r=Ehe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ehe(e){var r=khe(e,"string");return nh(r)=="symbol"?r:r+""}function khe(e,r){if(nh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(nh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ohe(e,r){return Ihe(e)||Mhe(e,r)||Dhe(e,r)||Rhe()}function Rhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dhe(e,r){if(e){if(typeof e=="string")return RA(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RA(e,r)}}function RA(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Mhe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Ihe(e){if(Array.isArray(e))return e}var Tx=Math.PI/180,$he=function(r){return r*180/Math.PI},hr=function(r,n,s,a){return{x:r+Math.cos(-Tx*a)*s,y:n+Math.sin(-Tx*a)*s}},R$=function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},Lhe=function(r,n,s,a,i){var o=r.width,l=r.height,c=r.startAngle,d=r.endAngle,u=Un(r.cx,o,o/2),m=Un(r.cy,l,l/2),h=R$(o,l,s),p=Un(r.innerRadius,h,0),g=Un(r.outerRadius,h,h*.8),f=Object.keys(n);return f.reduce(function(v,b){var y=n[b],j=y.domain,C=y.reversed,S;if(ht(y.range))a==="angleAxis"?S=[c,d]:a==="radiusAxis"&&(S=[p,g]),C&&(S=[S[1],S[0]]);else{S=y.range;var N=S,P=Ohe(N,2);c=P[0],d=P[1]}var _=_$(y,i),w=_.realScaleType,A=_.scale;A.domain(j).range(S),A$(A);var D=T$(A,oi(oi({},y),{},{realScaleType:w})),O=oi(oi(oi({},y),D),{},{range:S,radius:g,realScaleType:w,scale:A,cx:u,cy:m,innerRadius:p,outerRadius:g,startAngle:c,endAngle:d});return oi(oi({},v),{},O$({},b,O))},{})},Fhe=function(r,n){var s=r.x,a=r.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},zhe=function(r,n){var s=r.x,a=r.y,i=n.cx,o=n.cy,l=Fhe({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:$he(d),angleInRadian:d}},Bhe=function(r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:s-o*360}},Uhe=function(r,n){var s=n.startAngle,a=n.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return r+l*360},DA=function(r,n){var s=r.x,a=r.y,i=zhe({x:s,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=Bhe(n),m=u.startAngle,h=u.endAngle,p=l,g;if(m<=h){for(;p>h;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=h}else{for(;p>m;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=m}return g?oi(oi({},n),{},{radius:o,angle:Uhe(p,n)}):null},D$=function(r){return!x.isValidElement(r)&&!ct(r)&&typeof r!="boolean"?r.className:""};function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sh(e)}var Vhe=["offset"];function qhe(e){return Ghe(e)||Khe(e)||Hhe(e)||Whe()}function Whe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hhe(e,r){if(e){if(typeof e=="string")return qb(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qb(e,r)}}function Khe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ghe(e){if(Array.isArray(e))return qb(e)}function qb(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Xhe(e,r){if(e==null)return{};var n=Yhe(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Yhe(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function MA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Zr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?MA(Object(n),!0).forEach(function(s){Qhe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Qhe(e,r,n){return r=Zhe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Zhe(e){var r=Jhe(e,"string");return sh(r)=="symbol"?r:r+""}function Jhe(e,r){if(sh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(sh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ah.apply(this,arguments)}var efe=function(r){var n=r.value,s=r.formatter,a=ht(r.children)?n:r.children;return ct(s)?s(a):a},tfe=function(r,n){var s=Bn(n-r),a=Math.min(Math.abs(n-r),360);return s*a},rfe=function(r,n,s){var a=r.position,i=r.viewBox,o=r.offset,l=r.className,c=i,d=c.cx,u=c.cy,m=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,f=c.clockWise,v=(m+h)/2,b=tfe(p,g),y=b>=0?1:-1,j,C;a==="insideStart"?(j=p+y*o,C=f):a==="insideEnd"?(j=g-y*o,C=!f):a==="end"&&(j=g+y*o,C=f),C=b<=0?C:!C;var S=hr(d,u,v,j),N=hr(d,u,v,j+(C?1:-1)*359),P="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(N.x,",").concat(N.y),_=ht(r.id)?Yl("recharts-radial-line-"):r.id;return L.createElement("text",ah({},s,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:_,d:P})),L.createElement("textPath",{xlinkHref:"#".concat(_)},n))},nfe=function(r){var n=r.viewBox,s=r.offset,a=r.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,m=i.endAngle,h=(u+m)/2;if(a==="outside"){var p=hr(o,l,d+s,h),g=p.x,f=p.y;return{x:g,y:f,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,b=hr(o,l,v,h),y=b.x,j=b.y;return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},sfe=function(r){var n=r.viewBox,s=r.parentViewBox,a=r.offset,i=r.position,o=n,l=o.x,c=o.y,d=o.width,u=o.height,m=u>=0?1:-1,h=m*a,p=m>0?"end":"start",g=m>0?"start":"end",f=d>=0?1:-1,v=f*a,b=f>0?"end":"start",y=f>0?"start":"end";if(i==="top"){var j={x:l+d/2,y:c-m*a,textAnchor:"middle",verticalAnchor:p};return Zr(Zr({},j),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var C={x:l+d/2,y:c+u+h,textAnchor:"middle",verticalAnchor:g};return Zr(Zr({},C),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var S={x:l-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return Zr(Zr({},S),s?{width:Math.max(S.x-s.x,0),height:u}:{})}if(i==="right"){var N={x:l+d+v,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return Zr(Zr({},N),s?{width:Math.max(s.x+s.width-N.x,0),height:u}:{})}var P=s?{width:d,height:u}:{};return i==="insideLeft"?Zr({x:l+v,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},P):i==="insideRight"?Zr({x:l+d-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},P):i==="insideTop"?Zr({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:g},P):i==="insideBottom"?Zr({x:l+d/2,y:c+u-h,textAnchor:"middle",verticalAnchor:p},P):i==="insideTopLeft"?Zr({x:l+v,y:c+h,textAnchor:y,verticalAnchor:g},P):i==="insideTopRight"?Zr({x:l+d-v,y:c+h,textAnchor:b,verticalAnchor:g},P):i==="insideBottomLeft"?Zr({x:l+v,y:c+u-h,textAnchor:y,verticalAnchor:p},P):i==="insideBottomRight"?Zr({x:l+d-v,y:c+u-h,textAnchor:b,verticalAnchor:p},P):ru(i)&&(Re(i.x)||cl(i.x))&&(Re(i.y)||cl(i.y))?Zr({x:l+Un(i.x,d),y:c+Un(i.y,u),textAnchor:"end",verticalAnchor:"end"},P):Zr({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},afe=function(r){return"cx"in r&&Re(r.cx)};function cn(e){var r=e.offset,n=r===void 0?5:r,s=Xhe(e,Vhe),a=Zr({offset:n},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,m=u===void 0?"":u,h=a.textBreakAll;if(!i||ht(l)&&ht(c)&&!x.isValidElement(d)&&!ct(d))return null;if(x.isValidElement(d))return x.cloneElement(d,a);var p;if(ct(d)){if(p=x.createElement(d,a),x.isValidElement(p))return p}else p=efe(a);var g=afe(i),f=et(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return rfe(a,p,f);var v=g?nfe(a):sfe(a);return L.createElement(Fl,ah({className:pt("recharts-label",m)},f,v,{breakAll:h}),p)}cn.displayName="Label";var M$=function(r){var n=r.cx,s=r.cy,a=r.angle,i=r.startAngle,o=r.endAngle,l=r.r,c=r.radius,d=r.innerRadius,u=r.outerRadius,m=r.x,h=r.y,p=r.top,g=r.left,f=r.width,v=r.height,b=r.clockWise,y=r.labelViewBox;if(y)return y;if(Re(f)&&Re(v)){if(Re(m)&&Re(h))return{x:m,y:h,width:f,height:v};if(Re(p)&&Re(g))return{x:p,y:g,width:f,height:v}}return Re(m)&&Re(h)?{x:m,y:h,width:0,height:0}:Re(n)&&Re(s)?{cx:n,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:b}:r.viewBox?r.viewBox:{}},ife=function(r,n){return r?r===!0?L.createElement(cn,{key:"label-implicit",viewBox:n}):rn(r)?L.createElement(cn,{key:"label-implicit",viewBox:n,value:r}):x.isValidElement(r)?r.type===cn?x.cloneElement(r,{key:"label-implicit",viewBox:n}):L.createElement(cn,{key:"label-implicit",content:r,viewBox:n}):ct(r)?L.createElement(cn,{key:"label-implicit",content:r,viewBox:n}):ru(r)?L.createElement(cn,ah({viewBox:n},r,{key:"label-implicit"})):null:null},ofe=function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&s&&!r.label)return null;var a=r.children,i=M$(r),o=ws(a,cn).map(function(c,d){return x.cloneElement(c,{viewBox:n||i,key:"label-".concat(d)})});if(!s)return o;var l=ife(r.label,n||i);return[l].concat(qhe(o))};cn.parseViewBox=M$;cn.renderCallByParent=ofe;function lfe(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var cfe=lfe;const dfe=Zt(cfe);function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ih(e)}var ufe=["valueAccessor"],mfe=["data","dataKey","clockWise","id","textBreakAll"];function hfe(e){return gfe(e)||xfe(e)||pfe(e)||ffe()}function ffe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pfe(e,r){if(e){if(typeof e=="string")return Wb(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wb(e,r)}}function xfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gfe(e){if(Array.isArray(e))return Wb(e)}function Wb(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ex.apply(this,arguments)}function IA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function $A(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?IA(Object(n),!0).forEach(function(s){vfe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function vfe(e,r,n){return r=yfe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function yfe(e){var r=jfe(e,"string");return ih(r)=="symbol"?r:r+""}function jfe(e,r){if(ih(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(ih(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function LA(e,r){if(e==null)return{};var n=bfe(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function bfe(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Nfe=function(r){return Array.isArray(r.value)?dfe(r.value):r.value};function Ka(e){var r=e.valueAccessor,n=r===void 0?Nfe:r,s=LA(e,ufe),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=LA(s,mfe);return!a||!a.length?null:L.createElement(It,{className:"recharts-label-list"},a.map(function(u,m){var h=ht(i)?n(u,m):Vr(u&&u.payload,i),p=ht(l)?{}:{id:"".concat(l,"-").concat(m)};return L.createElement(cn,Ex({},et(u,!0),d,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:cn.parseViewBox(ht(o)?u:$A($A({},u),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Ka.displayName="LabelList";function wfe(e,r){return e?e===!0?L.createElement(Ka,{key:"labelList-implicit",data:r}):L.isValidElement(e)||ct(e)?L.createElement(Ka,{key:"labelList-implicit",data:r,content:e}):ru(e)?L.createElement(Ka,Ex({data:r},e,{key:"labelList-implicit"})):null:null}function Sfe(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,a=ws(s,Ka).map(function(o,l){return x.cloneElement(o,{data:r,key:"labelList-".concat(l)})});if(!n)return a;var i=wfe(e.label,r);return[i].concat(hfe(a))}Ka.renderCallByParent=Sfe;function oh(e){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},oh(e)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hb.apply(this,arguments)}function FA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function zA(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?FA(Object(n),!0).forEach(function(s){Pfe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Pfe(e,r,n){return r=Cfe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Cfe(e){var r=_fe(e,"string");return oh(r)=="symbol"?r:r+""}function _fe(e,r){if(oh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(oh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Afe=function(r,n){var s=Bn(n-r),a=Math.min(Math.abs(n-r),359.999);return s*a},Df=function(r){var n=r.cx,s=r.cy,a=r.radius,i=r.angle,o=r.sign,l=r.isExternal,c=r.cornerRadius,d=r.cornerIsExternal,u=c*(l?1:-1)+a,m=Math.asin(c/u)/Tx,h=d?i:i+o*m,p=hr(n,s,u,h),g=hr(n,s,a,h),f=d?i-o*m:i,v=hr(n,s,u*Math.cos(m*Tx),f);return{center:p,circleTangency:g,lineTangency:v,theta:m}},I$=function(r){var n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,o=r.startAngle,l=r.endAngle,c=Afe(o,l),d=o+c,u=hr(n,s,i,o),m=hr(n,s,i,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var p=hr(n,s,a,o),g=hr(n,s,a,d);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(s," Z");return h},Tfe=function(r){var n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,u=r.endAngle,m=Bn(u-d),h=Df({cx:n,cy:s,radius:i,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,f=h.theta,v=Df({cx:n,cy:s,radius:i,angle:u,sign:-m,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,y=v.lineTangency,j=v.theta,C=c?Math.abs(d-u):Math.abs(d-u)-f-j;if(C<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):I$({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var N=Df({cx:n,cy:s,radius:a,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=N.circleTangency,_=N.lineTangency,w=N.theta,A=Df({cx:n,cy:s,radius:a,angle:u,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=A.circleTangency,O=A.lineTangency,$=A.theta,U=c?Math.abs(d-u):Math.abs(d-u)-w-$;if(U<0&&o===0)return"".concat(S,"L").concat(n,",").concat(s,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,"Z")}else S+="L".concat(n,",").concat(s,"Z");return S},Efe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$$=function(r){var n=zA(zA({},Efe),r),s=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,m=n.endAngle,h=n.className;if(o<i||u===m)return null;var p=pt("recharts-sector",h),g=o-i,f=Un(l,g,0,!0),v;return f>0&&Math.abs(u-m)<360?v=Tfe({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(f,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:m}):v=I$({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:m}),L.createElement("path",Hb({},et(n,!0),{className:p,d:v,role:"img"}))};function lh(e){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},lh(e)}function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Kb.apply(this,arguments)}function BA(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function UA(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?BA(Object(n),!0).forEach(function(s){kfe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kfe(e,r,n){return r=Ofe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ofe(e){var r=Rfe(e,"string");return lh(r)=="symbol"?r:r+""}function Rfe(e,r){if(lh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(lh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var VA={curveBasisClosed:kJ,curveBasisOpen:OJ,curveBasis:EJ,curveBumpX:xJ,curveBumpY:gJ,curveLinearClosed:RJ,curveLinear:gv,curveMonotoneX:DJ,curveMonotoneY:MJ,curveNatural:IJ,curveStep:$J,curveStepAfter:FJ,curveStepBefore:LJ},Mf=function(r){return r.x===+r.x&&r.y===+r.y},Du=function(r){return r.x},Mu=function(r){return r.y},Dfe=function(r,n){if(ct(r))return r;var s="curve".concat(pv(r));return(s==="curveMonotone"||s==="curveBump")&&n?VA["".concat(s).concat(n==="vertical"?"Y":"X")]:VA[s]||gv},Mfe=function(r){var n=r.type,s=n===void 0?"linear":n,a=r.points,i=a===void 0?[]:a,o=r.baseLine,l=r.layout,c=r.connectNulls,d=c===void 0?!1:c,u=Dfe(s,l),m=d?i.filter(function(f){return Mf(f)}):i,h;if(Array.isArray(o)){var p=d?o.filter(function(f){return Mf(f)}):o,g=m.map(function(f,v){return UA(UA({},f),{},{base:p[v]})});return l==="vertical"?h=Pf().y(Mu).x1(Du).x0(function(f){return f.base.x}):h=Pf().x(Du).y1(Mu).y0(function(f){return f.base.y}),h.defined(Mf).curve(u),h(g)}return l==="vertical"&&Re(o)?h=Pf().y(Mu).x1(Du).x0(o):Re(o)?h=Pf().x(Du).y1(Mu).y0(o):h=k3().x(Du).y(Mu),h.defined(Mf).curve(u),h(m)},Pl=function(r){var n=r.className,s=r.points,a=r.path,i=r.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?Mfe(r):a;return x.createElement("path",Kb({},et(r,!1),ex(r),{className:pt("recharts-curve",n),d:o,ref:i}))},L$={exports:{}},Ife="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$fe=Ife,Lfe=$fe;function F$(){}function z$(){}z$.resetWarningCache=F$;var Ffe=function(){function e(s,a,i,o,l,c){if(c!==Lfe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function r(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:z$,resetWarningCache:F$};return n.PropTypes=n,n};L$.exports=Ffe();var zfe=L$.exports;const Qt=Zt(zfe);var Bfe=Object.getOwnPropertyNames,Ufe=Object.getOwnPropertySymbols,Vfe=Object.prototype.hasOwnProperty;function qA(e,r){return function(s,a,i){return e(s,a,i)&&r(s,a,i)}}function If(e){return function(n,s,a){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,a);var i=a.cache,o=i.get(n),l=i.get(s);if(o&&l)return o===s&&l===n;i.set(n,s),i.set(s,n);var c=e(n,s,a);return i.delete(n),i.delete(s),c}}function WA(e){return Bfe(e).concat(Ufe(e))}var qfe=Object.hasOwn||function(e,r){return Vfe.call(e,r)};function Jl(e,r){return e===r||!e&&!r&&e!==e&&r!==r}var Wfe="__v",Hfe="__o",Kfe="_owner",HA=Object.getOwnPropertyDescriptor,KA=Object.keys;function Gfe(e,r,n){var s=e.length;if(r.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],r[s],s,s,e,r,n))return!1;return!0}function Xfe(e,r){return Jl(e.getTime(),r.getTime())}function Yfe(e,r){return e.name===r.name&&e.message===r.message&&e.cause===r.cause&&e.stack===r.stack}function Qfe(e,r){return e===r}function GA(e,r,n){var s=e.size;if(s!==r.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=r.entries(),u=!1,m=0;(l=d.next())&&!l.done;){if(a[m]){m++;continue}var h=o.value,p=l.value;if(n.equals(h[0],p[0],c,m,e,r,n)&&n.equals(h[1],p[1],h[0],p[0],e,r,n)){u=a[m]=!0;break}m++}if(!u)return!1;c++}return!0}var Zfe=Jl;function Jfe(e,r,n){var s=KA(e),a=s.length;if(KA(r).length!==a)return!1;for(;a-- >0;)if(!B$(e,r,n,s[a]))return!1;return!0}function Iu(e,r,n){var s=WA(e),a=s.length;if(WA(r).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],!B$(e,r,n,i)||(o=HA(e,i),l=HA(r,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function epe(e,r){return Jl(e.valueOf(),r.valueOf())}function tpe(e,r){return e.source===r.source&&e.flags===r.flags}function XA(e,r,n){var s=e.size;if(s!==r.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=r.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&n.equals(o.value,l.value,o.value,l.value,e,r,n)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function rpe(e,r){var n=e.length;if(r.length!==n)return!1;for(;n-- >0;)if(e[n]!==r[n])return!1;return!0}function npe(e,r){return e.hostname===r.hostname&&e.pathname===r.pathname&&e.protocol===r.protocol&&e.port===r.port&&e.hash===r.hash&&e.username===r.username&&e.password===r.password}function B$(e,r,n,s){return(s===Kfe||s===Hfe||s===Wfe)&&(e.$$typeof||r.$$typeof)?!0:qfe(r,s)&&n.equals(e[s],r[s],s,s,e,r,n)}var spe="[object Arguments]",ape="[object Boolean]",ipe="[object Date]",ope="[object Error]",lpe="[object Map]",cpe="[object Number]",dpe="[object Object]",upe="[object RegExp]",mpe="[object Set]",hpe="[object String]",fpe="[object URL]",ppe=Array.isArray,YA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,QA=Object.assign,xpe=Object.prototype.toString.call.bind(Object.prototype.toString);function gpe(e){var r=e.areArraysEqual,n=e.areDatesEqual,s=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,m=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,f,v){if(g===f)return!0;if(g==null||f==null)return!1;var b=typeof g;if(b!==typeof f)return!1;if(b!=="object")return b==="number"?o(g,f,v):b==="function"?a(g,f,v):!1;var y=g.constructor;if(y!==f.constructor)return!1;if(y===Object)return l(g,f,v);if(ppe(g))return r(g,f,v);if(YA!=null&&YA(g))return m(g,f,v);if(y===Date)return n(g,f,v);if(y===RegExp)return d(g,f,v);if(y===Map)return i(g,f,v);if(y===Set)return u(g,f,v);var j=xpe(g);return j===ipe?n(g,f,v):j===upe?d(g,f,v):j===lpe?i(g,f,v):j===mpe?u(g,f,v):j===dpe?typeof g.then!="function"&&typeof f.then!="function"&&l(g,f,v):j===fpe?h(g,f,v):j===ope?s(g,f,v):j===spe?l(g,f,v):j===ape||j===cpe||j===hpe?c(g,f,v):!1}}function vpe(e){var r=e.circular,n=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?Iu:Gfe,areDatesEqual:Xfe,areErrorsEqual:Yfe,areFunctionsEqual:Qfe,areMapsEqual:s?qA(GA,Iu):GA,areNumbersEqual:Zfe,areObjectsEqual:s?Iu:Jfe,arePrimitiveWrappersEqual:epe,areRegExpsEqual:tpe,areSetsEqual:s?qA(XA,Iu):XA,areTypedArraysEqual:s?Iu:rpe,areUrlsEqual:npe};if(n&&(a=QA({},a,n(a))),r){var i=If(a.areArraysEqual),o=If(a.areMapsEqual),l=If(a.areObjectsEqual),c=If(a.areSetsEqual);a=QA({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function ype(e){return function(r,n,s,a,i,o,l){return e(r,n,l)}}function jpe(e){var r=e.circular,n=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(c,d){var u=s(),m=u.cache,h=m===void 0?r?new WeakMap:void 0:m,p=u.meta;return n(c,d,{cache:h,equals:a,meta:p,strict:i})};if(r)return function(c,d){return n(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return n(c,d,o)}}var bpe=Bo();Bo({strict:!0});Bo({circular:!0});Bo({circular:!0,strict:!0});Bo({createInternalComparator:function(){return Jl}});Bo({strict:!0,createInternalComparator:function(){return Jl}});Bo({circular:!0,createInternalComparator:function(){return Jl}});Bo({circular:!0,createInternalComparator:function(){return Jl},strict:!0});function Bo(e){e===void 0&&(e={});var r=e.circular,n=r===void 0?!1:r,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=vpe(e),c=gpe(l),d=s?s(c):ype(c);return jpe({circular:n,comparator:c,createState:a,equals:d,strict:o})}function Npe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function ZA(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function a(i){n<0&&(n=i),i-n>r?(e(i),n=-1):Npe(a)};requestAnimationFrame(s)}function Gb(e){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gb(e)}function wpe(e){return _pe(e)||Cpe(e)||Ppe(e)||Spe()}function Spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ppe(e,r){if(e){if(typeof e=="string")return JA(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JA(e,r)}}function JA(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Cpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _pe(e){if(Array.isArray(e))return e}function Ape(){var e={},r=function(){return null},n=!1,s=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=wpe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){ZA(a.bind(null,d),c);return}a(c),ZA(a.bind(null,d));return}Gb(i)==="object"&&(e=i,r(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,s(i)},subscribe:function(i){return r=i,function(){r=function(){return null}}}}}function ch(e){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ch(e)}function eT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function tT(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?eT(Object(n),!0).forEach(function(s){U$(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function U$(e,r,n){return r=Tpe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Tpe(e){var r=Epe(e,"string");return ch(r)==="symbol"?r:String(r)}function Epe(e,r){if(ch(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(ch(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var kpe=function(r,n){return[Object.keys(r),Object.keys(n)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},Ope=function(r){return r},Rpe=function(r){return r.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},dm=function(r,n){return Object.keys(n).reduce(function(s,a){return tT(tT({},s),{},U$({},a,r(a,n[a])))},{})},rT=function(r,n,s){return r.map(function(a){return"".concat(Rpe(a)," ").concat(n,"ms ").concat(s)}).join(",")};function Dpe(e,r){return $pe(e)||Ipe(e,r)||V$(e,r)||Mpe()}function Mpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ipe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function $pe(e){if(Array.isArray(e))return e}function Lpe(e){return Bpe(e)||zpe(e)||V$(e)||Fpe()}function Fpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V$(e,r){if(e){if(typeof e=="string")return Xb(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xb(e,r)}}function zpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bpe(e){if(Array.isArray(e))return Xb(e)}function Xb(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}var kx=1e-4,q$=function(r,n){return[0,3*r,3*n-6*r,3*r-3*n+1]},W$=function(r,n){return r.map(function(s,a){return s*Math.pow(n,a)}).reduce(function(s,a){return s+a})},nT=function(r,n){return function(s){var a=q$(r,n);return W$(a,s)}},Upe=function(r,n){return function(s){var a=q$(r,n),i=[].concat(Lpe(a.map(function(o,l){return o*l}).slice(1)),[0]);return W$(i,s)}},sT=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=Dpe(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var m=nT(a,o),h=nT(i,l),p=Upe(a,o),g=function(b){return b>1?1:b<0?0:b},f=function(b){for(var y=b>1?1:b,j=y,C=0;C<8;++C){var S=m(j)-y,N=p(j);if(Math.abs(S-y)<kx||N<kx)return h(j);j=g(j-S/N)}return h(j)};return f.isStepper=!1,f},Vpe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.stiff,s=n===void 0?100:n,a=r.damping,i=a===void 0?8:a,o=r.dt,l=o===void 0?17:o,c=function(u,m,h){var p=-(u-m)*s,g=h*i,f=h+(p-g)*l/1e3,v=h*l/1e3+u;return Math.abs(v-m)<kx&&Math.abs(f)<kx?[m,0]:[v,f]};return c.isStepper=!0,c.dt=l,c},qpe=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sT(a);case"spring":return Vpe();default:if(a.split("(")[0]==="cubic-bezier")return sT(a)}return typeof a=="function"?a:null};function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dh(e)}function aT(e){return Kpe(e)||Hpe(e)||H$(e)||Wpe()}function Wpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kpe(e){if(Array.isArray(e))return Qb(e)}function iT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function xn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?iT(Object(n),!0).forEach(function(s){Yb(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Yb(e,r,n){return r=Gpe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Gpe(e){var r=Xpe(e,"string");return dh(r)==="symbol"?r:String(r)}function Xpe(e,r){if(dh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(dh(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ype(e,r){return Jpe(e)||Zpe(e,r)||H$(e,r)||Qpe()}function Qpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H$(e,r){if(e){if(typeof e=="string")return Qb(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qb(e,r)}}function Qb(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Zpe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Jpe(e){if(Array.isArray(e))return e}var Ox=function(r,n,s){return r+(n-r)*s},Zb=function(r){var n=r.from,s=r.to;return n!==s},exe=function e(r,n,s){var a=dm(function(i,o){if(Zb(o)){var l=r(o.from,o.to,o.velocity),c=Ype(l,2),d=c[0],u=c[1];return xn(xn({},o),{},{from:d,velocity:u})}return o},n);return s<1?dm(function(i,o){return Zb(o)?xn(xn({},o),{},{velocity:Ox(o.velocity,a[i].velocity,s),from:Ox(o.from,a[i].from,s)}):o},n):e(r,a,s-1)};const txe=function(e,r,n,s,a){var i=kpe(e,r),o=i.reduce(function(v,b){return xn(xn({},v),{},Yb({},b,[e[b],r[b]]))},{}),l=i.reduce(function(v,b){return xn(xn({},v),{},Yb({},b,{from:e[b],velocity:0,to:r[b]}))},{}),c=-1,d,u,m=function(){return null},h=function(){return dm(function(b,y){return y.from},l)},p=function(){return!Object.values(l).filter(Zb).length},g=function(b){d||(d=b);var y=b-d,j=y/n.dt;l=exe(n,l,j),a(xn(xn(xn({},e),r),h())),d=b,p()||(c=requestAnimationFrame(m))},f=function(b){u||(u=b);var y=(b-u)/s,j=dm(function(S,N){return Ox.apply(void 0,aT(N).concat([n(y)]))},o);if(a(xn(xn(xn({},e),r),j)),y<1)c=requestAnimationFrame(m);else{var C=dm(function(S,N){return Ox.apply(void 0,aT(N).concat([n(1)]))},o);a(xn(xn(xn({},e),r),C))}};return m=n.isStepper?g:f,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jd(e)}var rxe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nxe(e,r){if(e==null)return{};var n=sxe(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function sxe(e,r){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(r.indexOf(a)>=0)&&(n[a]=e[a]);return n}function hj(e){return lxe(e)||oxe(e)||ixe(e)||axe()}function axe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ixe(e,r){if(e){if(typeof e=="string")return Jb(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jb(e,r)}}function oxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lxe(e){if(Array.isArray(e))return Jb(e)}function Jb(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function oT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ys(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?oT(Object(n),!0).forEach(function(s){Yu(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Yu(e,r,n){return r=K$(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function cxe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dxe(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,K$(s.key),s)}}function uxe(e,r,n){return r&&dxe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K$(e){var r=mxe(e,"string");return jd(r)==="symbol"?r:String(r)}function mxe(e,r){if(jd(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(jd(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function hxe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&eN(e,r)}function eN(e,r){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},eN(e,r)}function fxe(e){var r=pxe();return function(){var s=Rx(e),a;if(r){var i=Rx(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return tN(this,a)}}function tN(e,r){if(r&&(jd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rN(e)}function rN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rx(e){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rx(e)}var ba=function(e){hxe(n,e);var r=fxe(n);function n(s,a){var i;cxe(this,n),i=r.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,m=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(rN(i)),i.changeStyle=i.changeStyle.bind(rN(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),tN(i);if(m&&m.length)i.state={style:m[0].style};else if(d){if(typeof h=="function")return i.state={style:d},tN(i);i.state={style:c?Yu({},c,d):d}}else i.state={style:{}};return i}return uxe(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,m=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Yu({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(p);return}if(!(bpe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=g||d?m:a.to;if(this.state&&h){var v={style:c?Yu({},c,f):f};(c&&h[c]!==f||!c&&h!==f)&&this.setState(v)}this.runAnimation(Ys(Ys({},this.props),{},{from:f,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,m=a.onAnimationEnd,h=a.onAnimationStart,p=txe(o,l,qpe(d),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,u,g,c,m])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,m=d.duration,h=m===void 0?0:m,p=function(f,v,b){if(b===0)return f;var y=v.duration,j=v.easing,C=j===void 0?"ease":j,S=v.style,N=v.properties,P=v.onAnimationEnd,_=b>0?o[b-1]:v,w=N||Object.keys(S);if(typeof C=="function"||C==="spring")return[].concat(hj(f),[i.runJSAnimation.bind(i,{from:_.style,to:S,duration:y,easing:C}),y]);var A=rT(w,y,C),D=Ys(Ys(Ys({},_.style),S),{},{transition:A});return[].concat(hj(f),[D,y,P]).filter(Ope)};return this.manager.start([c].concat(hj(o.reduce(p,[u,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Ape());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,m=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var f=l?Yu({},l,c):c,v=rT(Object.keys(f),o,d);g.start([u,i,Ys(Ys({},f),{},{transition:v}),o,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=nxe(a,rxe),d=x.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var m=function(p){var g=p.props,f=g.style,v=f===void 0?{}:f,b=g.className,y=x.cloneElement(p,Ys(Ys({},c),{},{style:Ys(Ys({},v),u),className:b}));return y};return d===1?m(x.Children.only(i)):L.createElement("div",null,x.Children.map(i,function(h){return m(h)}))}}]),n}(x.PureComponent);ba.displayName="Animate";ba.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ba.propTypes={from:Qt.oneOfType([Qt.object,Qt.string]),to:Qt.oneOfType([Qt.object,Qt.string]),attributeName:Qt.string,duration:Qt.number,begin:Qt.number,easing:Qt.oneOfType([Qt.string,Qt.func]),steps:Qt.arrayOf(Qt.shape({duration:Qt.number.isRequired,style:Qt.object.isRequired,easing:Qt.oneOfType([Qt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qt.func]),properties:Qt.arrayOf("string"),onAnimationEnd:Qt.func})),children:Qt.oneOfType([Qt.node,Qt.func]),isActive:Qt.bool,canBegin:Qt.bool,onAnimationEnd:Qt.func,shouldReAnimate:Qt.bool,onAnimationStart:Qt.func,onAnimationReStart:Qt.func};function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},uh(e)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dx.apply(this,arguments)}function xxe(e,r){return jxe(e)||yxe(e,r)||vxe(e,r)||gxe()}function gxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vxe(e,r){if(e){if(typeof e=="string")return lT(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lT(e,r)}}function lT(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function yxe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function jxe(e){if(Array.isArray(e))return e}function cT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function dT(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?cT(Object(n),!0).forEach(function(s){bxe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bxe(e,r,n){return r=Nxe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Nxe(e){var r=wxe(e,"string");return uh(r)=="symbol"?r:r+""}function wxe(e,r){if(uh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(uh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var uT=function(r,n,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],h=0,p=4;h<p;h++)m[h]=i[h]>o?o:i[h];u="M".concat(r,",").concat(n+l*m[0]),m[0]>0&&(u+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(r+c*m[0],",").concat(n)),u+="L ".concat(r+s-c*m[1],",").concat(n),m[1]>0&&(u+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(r+s,",").concat(n+l*m[1])),u+="L ".concat(r+s,",").concat(n+a-l*m[2]),m[2]>0&&(u+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(r+s-c*m[2],",").concat(n+a)),u+="L ".concat(r+c*m[3],",").concat(n+a),m[3]>0&&(u+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(r,",").concat(n+a-l*m[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);u="M ".concat(r,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(r+c*g,",").concat(n,`
            L `).concat(r+s-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(r+s,",").concat(n+l*g,`
            L `).concat(r+s,",").concat(n+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(r+s-c*g,",").concat(n+a,`
            L `).concat(r+c*g,",").concat(n+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(r,",").concat(n+a-l*g," Z")}else u="M ".concat(r,",").concat(n," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},Sxe=function(r,n){if(!r||!n)return!1;var s=r.x,a=r.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),m=Math.min(o,o+c),h=Math.max(o,o+c);return s>=d&&s<=u&&a>=m&&a<=h}return!1},Pxe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},v2=function(r){var n=dT(dT({},Pxe),r),s=x.useRef(),a=x.useState(-1),i=xxe(a,2),o=i[0],l=i[1];x.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var C=s.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,d=n.y,u=n.width,m=n.height,h=n.radius,p=n.className,g=n.animationEasing,f=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,y=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||m!==+m||u===0||m===0)return null;var j=pt("recharts-rectangle",p);return y?L.createElement(ba,{canBegin:o>0,from:{width:u,height:m,x:c,y:d},to:{width:u,height:m,x:c,y:d},duration:f,animationEasing:g,isActive:y},function(C){var S=C.width,N=C.height,P=C.x,_=C.y;return L.createElement(ba,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:f,isActive:b,easing:g},L.createElement("path",Dx({},et(n,!0),{className:j,d:uT(P,_,S,N,h),ref:s})))}):L.createElement("path",Dx({},et(n,!0),{className:j,d:uT(c,d,u,m,h)}))},Cxe=["points","className","baseLinePoints","connectNulls"];function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tc.apply(this,arguments)}function _xe(e,r){if(e==null)return{};var n=Axe(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Axe(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function mT(e){return Oxe(e)||kxe(e)||Exe(e)||Txe()}function Txe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Exe(e,r){if(e){if(typeof e=="string")return nN(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nN(e,r)}}function kxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oxe(e){if(Array.isArray(e))return nN(e)}function nN(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}var hT=function(r){return r&&r.x===+r.x&&r.y===+r.y},Rxe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return r.forEach(function(s){hT(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),hT(r[0])&&n[n.length-1].push(r[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},um=function(r,n){var s=Rxe(r);n&&(s=[s.reduce(function(i,o){return[].concat(mT(i),mT(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},Dxe=function(r,n,s){var a=um(r,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(um(n.reverse(),s).slice(1))},Mxe=function(r){var n=r.points,s=r.className,a=r.baseLinePoints,i=r.connectNulls,o=_xe(r,Cxe);if(!n||!n.length)return null;var l=pt("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=Dxe(n,a,i);return L.createElement("g",{className:l},L.createElement("path",Tc({},et(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?L.createElement("path",Tc({},et(o,!0),{fill:"none",d:um(n,i)})):null,c?L.createElement("path",Tc({},et(o,!0),{fill:"none",d:um(a,i)})):null)}var u=um(n,i);return L.createElement("path",Tc({},et(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sN.apply(this,arguments)}var Hh=function(r){var n=r.cx,s=r.cy,a=r.r,i=r.className,o=pt("recharts-dot",i);return n===+n&&s===+s&&a===+a?x.createElement("circle",sN({},et(r,!1),ex(r),{className:o,cx:n,cy:s,r:a})):null};function mh(e){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mh(e)}var Ixe=["x","y","top","left","width","height","className"];function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},aN.apply(this,arguments)}function fT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function $xe(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?fT(Object(n),!0).forEach(function(s){Lxe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Lxe(e,r,n){return r=Fxe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Fxe(e){var r=zxe(e,"string");return mh(r)=="symbol"?r:r+""}function zxe(e,r){if(mh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(mh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Bxe(e,r){if(e==null)return{};var n=Uxe(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Uxe(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Vxe=function(r,n,s,a,i,o){return"M".concat(r,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(s)},qxe=function(r){var n=r.x,s=n===void 0?0:n,a=r.y,i=a===void 0?0:a,o=r.top,l=o===void 0?0:o,c=r.left,d=c===void 0?0:c,u=r.width,m=u===void 0?0:u,h=r.height,p=h===void 0?0:h,g=r.className,f=Bxe(r,Ixe),v=$xe({x:s,y:i,top:l,left:d,width:m,height:p},f);return!Re(s)||!Re(i)||!Re(m)||!Re(p)||!Re(l)||!Re(d)?null:L.createElement("path",aN({},et(v,!0),{className:pt("recharts-cross",g),d:Vxe(s,i,m,p,l,d)}))},Wxe=Av,Hxe=a$,Kxe=Ja;function Gxe(e,r){return e&&e.length?Wxe(e,Kxe(r),Hxe):void 0}var Xxe=Gxe;const Yxe=Zt(Xxe);var Qxe=Av,Zxe=Ja,Jxe=i$;function ege(e,r){return e&&e.length?Qxe(e,Zxe(r),Jxe):void 0}var tge=ege;const rge=Zt(tge);var nge=["cx","cy","angle","ticks","axisLine"],sge=["ticks","tick","angle","tickFormatter","stroke"];function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bd(e)}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mm.apply(this,arguments)}function pT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ho(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?pT(Object(n),!0).forEach(function(s){Ov(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xT(e,r){if(e==null)return{};var n=age(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function age(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function ige(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,X$(s.key),s)}}function oge(e,r,n){return r&&gT(e.prototype,r),n&&gT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lge(e,r,n){return r=Mx(r),cge(e,G$()?Reflect.construct(r,n||[],Mx(e).constructor):r.apply(e,n))}function cge(e,r){if(r&&(bd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dge(e)}function dge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!e})()}function Mx(e){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mx(e)}function uge(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&iN(e,r)}function iN(e,r){return iN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},iN(e,r)}function Ov(e,r,n){return r=X$(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function X$(e){var r=mge(e,"string");return bd(r)=="symbol"?r:r+""}function mge(e,r){if(bd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(bd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Rv=function(e){function r(){return ige(this,r),lge(this,r,arguments)}return uge(r,e),oge(r,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return hr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=Yxe(l,function(u){return u.coordinate||0}),d=rge(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=xT(s,nge),u=l.reduce(function(g,f){return[Math.min(g[0],f.coordinate),Math.max(g[1],f.coordinate)]},[1/0,-1/0]),m=hr(a,i,u[0],o),h=hr(a,i,u[1],o),p=Ho(Ho(Ho({},et(d,!1)),{},{fill:"none"},et(c,!1)),{},{x1:m.x,y1:m.y,x2:h.x,y2:h.y});return L.createElement("line",mm({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=xT(a,sge),m=this.getTickTextAnchor(),h=et(u,!1),p=et(o,!1),g=i.map(function(f,v){var b=s.getTickValueCoord(f),y=Ho(Ho(Ho(Ho({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:d},p),{},{index:v},b),{},{payload:f});return L.createElement(It,mm({className:pt("recharts-polar-radius-axis-tick",D$(o)),key:"tick-".concat(f.coordinate)},Ll(s.props,f,v)),r.renderTickItem(o,y,c?c(f.value,v):f.value))});return L.createElement(It,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:L.createElement(It,{className:pt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),cn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return L.isValidElement(s)?o=L.cloneElement(s,a):ct(s)?o=s(a):o=L.createElement(Fl,mm({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(x.PureComponent);Ov(Rv,"displayName","PolarRadiusAxis");Ov(Rv,"axisType","radiusAxis");Ov(Rv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nd(e)}function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nl.apply(this,arguments)}function vT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ko(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?vT(Object(n),!0).forEach(function(s){Dv(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function hge(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Q$(s.key),s)}}function fge(e,r,n){return r&&yT(e.prototype,r),n&&yT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pge(e,r,n){return r=Ix(r),xge(e,Y$()?Reflect.construct(r,n||[],Ix(e).constructor):r.apply(e,n))}function xge(e,r){if(r&&(Nd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gge(e)}function gge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y$=function(){return!!e})()}function Ix(e){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ix(e)}function vge(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&oN(e,r)}function oN(e,r){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},oN(e,r)}function Dv(e,r,n){return r=Q$(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Q$(e){var r=yge(e,"string");return Nd(r)=="symbol"?r:r+""}function yge(e,r){if(Nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Nd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var jge=Math.PI/180,jT=1e-5,Mv=function(e){function r(){return hge(this,r),pge(this,r,arguments)}return vge(r,e),fge(r,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,m=hr(i,o,l,s.coordinate),h=hr(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:m.x,y1:m.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*jge),o;return i>jT?o=a==="outer"?"start":"end":i<-jT?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=Ko(Ko({},et(this.props,!1)),{},{fill:"none"},et(l,!1));if(c==="circle")return L.createElement(Hh,nl({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,m=u.map(function(h){return hr(a,i,o,h.coordinate)});return L.createElement(Mxe,nl({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=et(this.props,!1),m=et(o,!1),h=Ko(Ko({},u),{},{fill:"none"},et(l,!1)),p=i.map(function(g,f){var v=s.getTickLineCoord(g),b=s.getTickTextAnchor(g),y=Ko(Ko(Ko({textAnchor:b},u),{},{stroke:"none",fill:d},m),{},{index:f,payload:g,x:v.x2,y:v.y2});return L.createElement(It,nl({className:pt("recharts-polar-angle-axis-tick",D$(o)),key:"tick-".concat(g.coordinate)},Ll(s.props,g,f)),l&&L.createElement("line",nl({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&r.renderTickItem(o,y,c?c(g.value,f):g.value))});return L.createElement(It,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:L.createElement(It,{className:pt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return L.isValidElement(s)?o=L.cloneElement(s,a):ct(s)?o=s(a):o=L.createElement(Fl,nl({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(x.PureComponent);Dv(Mv,"displayName","PolarAngleAxis");Dv(Mv,"axisType","angleAxis");Dv(Mv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var bge=tI,Nge=bge(Object.getPrototypeOf,Object),wge=Nge,Sge=$i,Pge=wge,Cge=Li,_ge="[object Object]",Age=Function.prototype,Tge=Object.prototype,Z$=Age.toString,Ege=Tge.hasOwnProperty,kge=Z$.call(Object);function Oge(e){if(!Cge(e)||Sge(e)!=_ge)return!1;var r=Pge(e);if(r===null)return!0;var n=Ege.call(r,"constructor")&&r.constructor;return typeof n=="function"&&n instanceof n&&Z$.call(n)==kge}var Rge=Oge;const Dge=Zt(Rge);var Mge=$i,Ige=Li,$ge="[object Boolean]";function Lge(e){return e===!0||e===!1||Ige(e)&&Mge(e)==$ge}var Fge=Lge;const zge=Zt(Fge);function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hh(e)}function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$x.apply(this,arguments)}function Bge(e,r){return Wge(e)||qge(e,r)||Vge(e,r)||Uge()}function Uge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vge(e,r){if(e){if(typeof e=="string")return bT(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bT(e,r)}}function bT(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function qge(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Wge(e){if(Array.isArray(e))return e}function NT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function wT(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?NT(Object(n),!0).forEach(function(s){Hge(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Hge(e,r,n){return r=Kge(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Kge(e){var r=Gge(e,"string");return hh(r)=="symbol"?r:r+""}function Gge(e,r){if(hh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(hh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ST=function(r,n,s,a,i){var o=s-a,l;return l="M ".concat(r,",").concat(n),l+="L ".concat(r+s,",").concat(n),l+="L ".concat(r+s-o/2,",").concat(n+i),l+="L ".concat(r+s-o/2-a,",").concat(n+i),l+="L ".concat(r,",").concat(n," Z"),l},Xge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yge=function(r){var n=wT(wT({},Xge),r),s=x.useRef(),a=x.useState(-1),i=Bge(a,2),o=i[0],l=i[1];x.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var j=s.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,m=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,f=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||m!==+m||h!==+h||u===0&&m===0||h===0)return null;var y=pt("recharts-trapezoid",p);return b?L.createElement(ba,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:u,lowerWidth:m,height:h,x:c,y:d},duration:f,animationEasing:g,isActive:b},function(j){var C=j.upperWidth,S=j.lowerWidth,N=j.height,P=j.x,_=j.y;return L.createElement(ba,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:f,easing:g},L.createElement("path",$x({},et(n,!0),{className:y,d:ST(P,_,C,S,N),ref:s})))}):L.createElement("g",null,L.createElement("path",$x({},et(n,!0),{className:y,d:ST(c,d,u,m,h)})))},Qge=["option","shapeType","propTransformer","activeClassName","isActive"];function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fh(e)}function Zge(e,r){if(e==null)return{};var n=Jge(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jge(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function PT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Lx(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?PT(Object(n),!0).forEach(function(s){eve(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function eve(e,r,n){return r=tve(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function tve(e){var r=rve(e,"string");return fh(r)=="symbol"?r:r+""}function rve(e,r){if(fh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(fh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function nve(e,r){return Lx(Lx({},r),e)}function sve(e,r){return e==="symbols"}function CT(e){var r=e.shapeType,n=e.elementProps;switch(r){case"rectangle":return L.createElement(v2,n);case"trapezoid":return L.createElement(Yge,n);case"sector":return L.createElement($$,n);case"symbols":if(sve(r))return L.createElement($1,n);break;default:return null}}function ave(e){return x.isValidElement(e)?e.props:e}function J$(e){var r=e.option,n=e.shapeType,s=e.propTransformer,a=s===void 0?nve:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Zge(e,Qge),d;if(x.isValidElement(r))d=x.cloneElement(r,Lx(Lx({},c),ave(r)));else if(ct(r))d=r(c);else if(Dge(r)&&!zge(r)){var u=a(r,c);d=L.createElement(CT,{shapeType:n,elementProps:u})}else{var m=c;d=L.createElement(CT,{shapeType:n,elementProps:m})}return l?L.createElement(It,{className:o},d):d}function Iv(e,r){return r!=null&&"trapezoids"in e.props}function $v(e,r){return r!=null&&"sectors"in e.props}function ph(e,r){return r!=null&&"points"in e.props}function ive(e,r){var n,s,a=e.x===(r==null||(n=r.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===r.x,i=e.y===(r==null||(s=r.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===r.y;return a&&i}function ove(e,r){var n=e.endAngle===r.endAngle,s=e.startAngle===r.startAngle;return n&&s}function lve(e,r){var n=e.x===r.x,s=e.y===r.y,a=e.z===r.z;return n&&s&&a}function cve(e,r){var n;return Iv(e,r)?n=ive:$v(e,r)?n=ove:ph(e,r)&&(n=lve),n}function dve(e,r){var n;return Iv(e,r)?n="trapezoids":$v(e,r)?n="sectors":ph(e,r)&&(n="points"),n}function uve(e,r){if(Iv(e,r)){var n;return(n=r.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if($v(e,r)){var s;return(s=r.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return ph(e,r)?r.payload:{}}function mve(e){var r=e.activeTooltipItem,n=e.graphicalItem,s=e.itemData,a=dve(n,r),i=uve(n,r),o=s.filter(function(c,d){var u=zl(i,c),m=n.props[a].filter(function(g){var f=cve(n,r);return f(g,r)}),h=n.props[a].indexOf(m[m.length-1]),p=d===h;return u&&p}),l=s.indexOf(o[o.length-1]);return l}var up;function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wd(e)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ec.apply(this,arguments)}function _T(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function cr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?_T(Object(n),!0).forEach(function(s){$s(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_T(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function hve(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function AT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,t5(s.key),s)}}function fve(e,r,n){return r&&AT(e.prototype,r),n&&AT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pve(e,r,n){return r=Fx(r),xve(e,e5()?Reflect.construct(r,n||[],Fx(e).constructor):r.apply(e,n))}function xve(e,r){if(r&&(wd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gve(e)}function gve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e5=function(){return!!e})()}function Fx(e){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fx(e)}function vve(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&lN(e,r)}function lN(e,r){return lN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},lN(e,r)}function $s(e,r,n){return r=t5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function t5(e){var r=yve(e,"string");return wd(r)=="symbol"?r:r+""}function yve(e,r){if(wd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(wd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var cs=function(e){function r(n){var s;return hve(this,r),s=pve(this,r,[n]),$s(s,"pieRef",null),$s(s,"sectorRefs",[]),$s(s,"id",Yl("recharts-pie-")),$s(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),ct(a)&&a()}),$s(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),ct(a)&&a()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return vve(r,e),fve(r,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=et(this.props,!1),m=et(o,!1),h=et(l,!1),p=o&&o.offsetRadius||20,g=s.map(function(f,v){var b=(f.startAngle+f.endAngle)/2,y=hr(f.cx,f.cy,f.outerRadius+p,b),j=cr(cr(cr(cr({},u),f),{},{stroke:"none"},m),{},{index:v,textAnchor:r.getTextAnchor(y.x,f.cx)},y),C=cr(cr(cr(cr({},u),f),{},{fill:"none",stroke:f.fill},h),{},{index:v,points:[hr(f.cx,f.cy,f.outerRadius,b),y]}),S=c;return ht(c)&&ht(d)?S="value":ht(c)&&(S=d),L.createElement(It,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(v)},l&&r.renderLabelLineItem(l,C,"line"),r.renderLabelItem(o,j,Vr(f,S)))});return L.createElement(It,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&s.length!==1)return null;var m=a.isActiveIndex(u),h=c&&a.hasActiveIndex()?c:null,p=m?o:h,g=cr(cr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return L.createElement(It,Ec({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Ll(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),L.createElement(J$,Ec({option:p,isActive:m,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,m=this.state,h=m.prevSectors,p=m.prevIsAnimationActive;return L.createElement(ba,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var f=g.t,v=[],b=i&&i[0],y=b.startAngle;return i.forEach(function(j,C){var S=h&&h[C],N=C>0?Ns(j,"paddingAngle",0):0;if(S){var P=en(S.endAngle-S.startAngle,j.endAngle-j.startAngle),_=cr(cr({},j),{},{startAngle:y+N,endAngle:y+P(f)+N});v.push(_),y=_.endAngle}else{var w=j.endAngle,A=j.startAngle,D=en(0,w-A),O=D(f),$=cr(cr({},j),{},{startAngle:y+N,endAngle:y+O+N});v.push($),y=$.endAngle}}),L.createElement(It,null,s.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!zl(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,m=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!Re(d)||!Re(u)||!Re(m)||!Re(h))return null;var f=pt("recharts-pie",l);return L.createElement(It,{tabIndex:this.props.rootTabIndex,className:f,ref:function(b){s.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),cn.renderCallByParent(this.props,null,!1),(!p||g)&&Ka.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(L.isValidElement(s))return L.cloneElement(s,a);if(ct(s))return s(a);var o=pt("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return L.createElement(Pl,Ec({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(L.isValidElement(s))return L.cloneElement(s,a);var o=i;if(ct(s)&&(o=s(a),L.isValidElement(o)))return o;var l=pt("recharts-pie-label-text",typeof s!="boolean"&&!ct(s)?s.className:"");return L.createElement(Fl,Ec({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);up=cs;$s(cs,"displayName","Pie");$s(cs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!fa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$s(cs,"parseDeltaAngle",function(e,r){var n=Bn(r-e),s=Math.min(Math.abs(r-e),360);return n*s});$s(cs,"getRealPieData",function(e){var r=e.data,n=e.children,s=et(e,!1),a=ws(n,Fi);return r&&r.length?r.map(function(i,o){return cr(cr(cr({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return cr(cr({},s),i.props)}):[]});$s(cs,"parseCoordinateOfPie",function(e,r){var n=r.top,s=r.left,a=r.width,i=r.height,o=R$(a,i),l=s+Un(e.cx,a,a/2),c=n+Un(e.cy,i,i/2),d=Un(e.innerRadius,o,0),u=Un(e.outerRadius,o,o*.8),m=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:m}});$s(cs,"getComposedData",function(e){var r=e.item,n=e.offset,s=r.type.defaultProps!==void 0?cr(cr({},r.type.defaultProps),r.props):r.props,a=up.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,m=s.valueKey,h=s.tooltipType,p=Math.abs(s.minAngle),g=up.parseCoordinateOfPie(s,n),f=up.parseDeltaAngle(o,l),v=Math.abs(f),b=d;ht(d)&&ht(m)?(ha(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):ht(d)&&(ha(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=m);var y=a.filter(function(_){return Vr(_,b,0)!==0}).length,j=(v>=360?y:y-1)*c,C=v-y*p-j,S=a.reduce(function(_,w){var A=Vr(w,b,0);return _+(Re(A)?A:0)},0),N;if(S>0){var P;N=a.map(function(_,w){var A=Vr(_,b,0),D=Vr(_,u,w),O=(Re(A)?A:0)/S,$;w?$=P.endAngle+Bn(f)*c*(A!==0?1:0):$=o;var U=$+Bn(f)*((A!==0?p:0)+O*C),V=($+U)/2,R=(g.innerRadius+g.outerRadius)/2,X=[{name:D,value:A,payload:_,dataKey:b,type:h}],z=hr(g.cx,g.cy,R,V);return P=cr(cr(cr({percent:O,cornerRadius:i,name:D,tooltipPayload:X,midAngle:V,middleRadius:R,tooltipPosition:z},_),g),{},{value:Vr(_,b),startAngle:$,endAngle:U,payload:_,paddingAngle:Bn(f)*c}),P})}return cr(cr({},g),{},{sectors:N,data:a})});var jve=Math.ceil,bve=Math.max;function Nve(e,r,n,s){for(var a=-1,i=bve(jve((r-e)/(n||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=n;return o}var wve=Nve,Sve=jI,TT=1/0,Pve=17976931348623157e292;function Cve(e){if(!e)return e===0?e:0;if(e=Sve(e),e===TT||e===-TT){var r=e<0?-1:1;return r*Pve}return e===e?e:0}var r5=Cve,_ve=wve,Ave=bv,fj=r5;function Tve(e){return function(r,n,s){return s&&typeof s!="number"&&Ave(r,n,s)&&(n=s=void 0),r=fj(r),n===void 0?(n=r,r=0):n=fj(n),s=s===void 0?r<n?1:-1:fj(s),_ve(r,n,s,e)}}var Eve=Tve,kve=Eve,Ove=kve(),Rve=Ove;const zx=Zt(Rve);function xh(e){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xh(e)}function ET(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function kT(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ET(Object(n),!0).forEach(function(s){n5(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function n5(e,r,n){return r=Dve(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Dve(e){var r=Mve(e,"string");return xh(r)=="symbol"?r:r+""}function Mve(e,r){if(xh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(xh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Ive=["Webkit","Moz","O","ms"],$ve=function(r,n){var s=r.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Ive.reduce(function(i,o){return kT(kT({},i),{},n5({},o+s,n))},{});return a[r]=n,a};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sd(e)}function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bx.apply(this,arguments)}function OT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function pj(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?OT(Object(n),!0).forEach(function(s){us(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Lve(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function RT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,a5(s.key),s)}}function Fve(e,r,n){return r&&RT(e.prototype,r),n&&RT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zve(e,r,n){return r=Ux(r),Bve(e,s5()?Reflect.construct(r,n||[],Ux(e).constructor):r.apply(e,n))}function Bve(e,r){if(r&&(Sd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uve(e)}function Uve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s5=function(){return!!e})()}function Ux(e){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ux(e)}function Vve(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&cN(e,r)}function cN(e,r){return cN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},cN(e,r)}function us(e,r,n){return r=a5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a5(e){var r=qve(e,"string");return Sd(r)=="symbol"?r:r+""}function qve(e,r){if(Sd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Sd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Wve=function(r){var n=r.data,s=r.startIndex,a=r.endIndex,i=r.x,o=r.width,l=r.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=lm().domain(zx(0,c)).range([i,i+o-l]),u=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},DT=function(r){return r.changedTouches&&!!r.changedTouches.length},Pd=function(e){function r(n){var s;return Lve(this,r),s=zve(this,r,[n]),us(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),us(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),us(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),us(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),us(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),us(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),us(s,"handleSlideDragStart",function(a){var i=DT(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return Vve(r,e),Fve(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,m=Math.min(a,i),h=Math.max(a,i),p=r.getIndexInRange(o,m),g=r.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:g===u?u:g-g%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Vr(i[s],l,s);return ct(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,m=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,f=s.pageX-i;f>0?f=Math.min(f,d+u-m-l,d+u-m-o):f<0&&(f=Math.max(f,d-o,d-l));var v=this.getIndex({startX:o+f,endX:l+f});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:o+f,endX:l+f,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=DT(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,m=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,f=u.gap,v=u.data,b={startX:this.state.startX,endX:this.state.endX},y=s.pageX-i;y>0?y=Math.min(y,m+h-p-d):y<0&&(y=Math.max(y,m-d)),b[o]=d+y;var j=this.getIndex(b),C=j.startIndex,S=j.endIndex,N=function(){var _=v.length-1;return o==="startX"&&(l>c?C%f===0:S%f===0)||l<c&&S===_||o==="endX"&&(l>c?S%f===0:C%f===0)||l>c&&S===_};this.setState(us(us({},o,d+y),"brushMoveStartX",s.pageX),function(){g&&N()&&g(j)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],m=l.indexOf(u);if(m!==-1){var h=m+s;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=d||a==="endX"&&p<=c||this.setState(us({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return L.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,m=x.Children.only(d);return m?L.cloneElement(m,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,m=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,f=c.startIndex,v=c.endIndex,b=Math.max(s,this.props.x),y=pj(pj({},et(this.props,!1)),{},{x:b,y:d,width:u,height:m}),j=p||"Min value: ".concat((i=g[f])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return L.createElement(It,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(h,y))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,m=Math.max(Math.abs(a-s)-d,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:m,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,m=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:d};return L.createElement(It,{className:"recharts-brush-texts"},L.createElement(Fl,Bx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,h)-p,y:o+l/2},g),this.getTextOfTick(a)),L.createElement(Fl,Bx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,h)+c+p,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,m=s.alwaysShowText,h=this.state,p=h.startX,g=h.endX,f=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!Re(l)||!Re(c)||!Re(d)||!Re(u)||d<=0||u<=0)return null;var j=pt("recharts-brush",i),C=L.Children.count(o)===1,S=$ve("userSelect","none");return L.createElement(It,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(f||v||b||y||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return L.isValidElement(s)?i=L.cloneElement(s,a):ct(s)?i=s(a):i=r.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,m=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return pj({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?Wve({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])}(x.PureComponent);us(Pd,"displayName","Brush");us(Pd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Hve=q1;function Kve(e,r){var n;return Hve(e,function(s,a,i){return n=r(s,a,i),!n}),!!n}var Gve=Kve,Xve=K3,Yve=Ja,Qve=Gve,Zve=ls,Jve=bv;function eye(e,r,n){var s=Zve(e)?Xve:Qve;return n&&Jve(e,r,n)&&(r=void 0),s(e,Yve(r))}var tye=eye;const rye=Zt(tye);var Ga=function(r,n){var s=r.alwaysShow,a=r.ifOverflow;return s&&(a="extendDomain"),a===n},MT=pI;function nye(e,r,n){r=="__proto__"&&MT?MT(e,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[r]=n}var sye=nye,aye=sye,iye=hI,oye=Ja;function lye(e,r){var n={};return r=oye(r),iye(e,function(s,a,i){aye(n,a,r(s,a,i))}),n}var cye=lye;const dye=Zt(cye);function uye(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!r(e[n],n,e))return!1;return!0}var mye=uye,hye=q1;function fye(e,r){var n=!0;return hye(e,function(s,a,i){return n=!!r(s,a,i),n}),n}var pye=fye,xye=mye,gye=pye,vye=Ja,yye=ls,jye=bv;function bye(e,r,n){var s=yye(e)?xye:gye;return n&&jye(e,r,n)&&(r=void 0),s(e,vye(r))}var Nye=bye;const i5=Zt(Nye);var wye=["x","y"];function gh(e){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gh(e)}function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dN.apply(this,arguments)}function IT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function $u(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?IT(Object(n),!0).forEach(function(s){Sye(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Sye(e,r,n){return r=Pye(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Pye(e){var r=Cye(e,"string");return gh(r)=="symbol"?r:r+""}function Cye(e,r){if(gh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(gh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function _ye(e,r){if(e==null)return{};var n=Aye(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Aye(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Tye(e,r){var n=e.x,s=e.y,a=_ye(e,wye),i="".concat(n),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(r.height||a.height),u=parseInt(d,10),m="".concat(r.width||a.width),h=parseInt(m,10);return $u($u($u($u($u({},r),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:r.name,radius:r.radius})}function $T(e){return L.createElement(J$,dN({shapeType:"rectangle",propTransformer:Tye,activeClassName:"recharts-active-bar"},e))}var Eye=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof r=="number")return r;var i=Re(s)||rZ(s);return i?r(s,a):(i||Ul(),n)}},kye=["value","background"],o5;function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cd(e)}function Oye(e,r){if(e==null)return{};var n=Rye(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Rye(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vx.apply(this,arguments)}function LT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Hr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?LT(Object(n),!0).forEach(function(s){mo(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Dye(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function FT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,c5(s.key),s)}}function Mye(e,r,n){return r&&FT(e.prototype,r),n&&FT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iye(e,r,n){return r=qx(r),$ye(e,l5()?Reflect.construct(r,n||[],qx(e).constructor):r.apply(e,n))}function $ye(e,r){if(r&&(Cd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lye(e)}function Lye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l5=function(){return!!e})()}function qx(e){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qx(e)}function Fye(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&uN(e,r)}function uN(e,r){return uN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},uN(e,r)}function mo(e,r,n){return r=c5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function c5(e){var r=zye(e,"string");return Cd(r)=="symbol"?r:r+""}function zye(e,r){if(Cd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Cd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var vr=function(e){function r(){var n;Dye(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Iye(this,r,[].concat(a)),mo(n,"state",{isAnimationFinished:!1}),mo(n,"id",Yl("recharts-bar-")),mo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),mo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Fye(r,e),Mye(r,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=et(this.props,!1);return s&&s.map(function(m,h){var p=h===c,g=p?d:o,f=Hr(Hr(Hr({},u),m),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return L.createElement(It,Vx({className:"recharts-bar-rectangle"},Ll(a.props,m,h),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(h)}),L.createElement($T,f))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,m=a.animationId,h=this.state.prevData;return L.createElement(ba,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,f=i.map(function(v,b){var y=h&&h[b];if(y){var j=en(y.x,v.x),C=en(y.y,v.y),S=en(y.width,v.width),N=en(y.height,v.height);return Hr(Hr({},v),{},{x:j(g),y:C(g),width:S(g),height:N(g)})}if(o==="horizontal"){var P=en(0,v.height),_=P(g);return Hr(Hr({},v),{},{y:v.y+v.height-_,height:_})}var w=en(0,v.width),A=w(g);return Hr(Hr({},v),{},{width:A})});return L.createElement(It,null,s.renderRectanglesStatically(f))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!zl(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=et(this.props.background,!1);return i.map(function(d,u){d.value;var m=d.background,h=Oye(d,kye);if(!m)return null;var p=Hr(Hr(Hr(Hr(Hr({},h),{},{fill:"#eee"},m),c),Ll(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return L.createElement($T,Vx({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},p))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,m=ws(u,Wh);if(!m)return null;var h=d==="vertical"?o[0].height/2:o[0].width/2,p=function(v,b){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:Vr(v,b)}},g={clipPath:s?"url(#clipPath-".concat(a,")"):null};return L.createElement(It,g,m.map(function(f){return L.cloneElement(f,{key:"error-bar-".concat(a,"-").concat(f.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,m=s.width,h=s.height,p=s.isAnimationActive,g=s.background,f=s.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=pt("recharts-bar",o),y=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,C=y||j,S=ht(f)?this.id:f;return L.createElement(It,{className:b},y||j?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(S)},L.createElement("rect",{x:y?d:d-m/2,y:j?u:u-h/2,width:y?m:m*2,height:j?h:h*2}))):null,L.createElement(It,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,S),(!p||v)&&Ka.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(x.PureComponent);o5=vr;mo(vr,"displayName","Bar");mo(vr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});mo(vr,"getComposedData",function(e){var r=e.props,n=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,m=e.displayedData,h=e.offset,p=jhe(s,n);if(!p)return null;var g=r.layout,f=n.type.defaultProps,v=f!==void 0?Hr(Hr({},f),n.props):n.props,b=v.dataKey,y=v.children,j=v.minPointSize,C=g==="horizontal"?o:i,S=d?C.scale.domain():null,N=_he({numericAxis:C}),P=ws(y,Fi),_=m.map(function(w,A){var D,O,$,U,V,R;d?D=bhe(d[u+A],S):(D=Vr(w,b),Array.isArray(D)||(D=[N,D]));var X=Eye(j,o5.defaultProps.minPointSize)(D[1],A);if(g==="horizontal"){var z,F=[o.scale(D[0]),o.scale(D[1])],te=F[0],de=F[1];O=AA({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:w,index:A}),$=(z=de??te)!==null&&z!==void 0?z:void 0,U=p.size;var ie=te-de;if(V=Number.isNaN(ie)?0:ie,R={x:O,y:o.y,width:U,height:o.height},Math.abs(X)>0&&Math.abs(V)<Math.abs(X)){var fe=Bn(V||X)*(Math.abs(X)-Math.abs(V));$-=fe,V+=fe}}else{var ge=[i.scale(D[0]),i.scale(D[1])],he=ge[0],Te=ge[1];if(O=he,$=AA({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:w,index:A}),U=Te-he,V=p.size,R={x:i.x,y:$,width:i.width,height:V},Math.abs(X)>0&&Math.abs(U)<Math.abs(X)){var Se=Bn(U||X)*(Math.abs(X)-Math.abs(U));U+=Se}}return Hr(Hr(Hr({},w),{},{x:O,y:$,width:U,height:V,value:d?D:D[1],payload:w,background:R},P&&P[A]&&P[A].props),{},{tooltipPayload:[k$(n,w)],tooltipPosition:{x:O+U/2,y:$+V/2}})});return Hr({data:_,layout:g},h)});function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vh(e)}function Bye(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,d5(s.key),s)}}function Uye(e,r,n){return r&&zT(e.prototype,r),n&&zT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function BT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function aa(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?BT(Object(n),!0).forEach(function(s){Lv(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Lv(e,r,n){return r=d5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function d5(e){var r=Vye(e,"string");return vh(r)=="symbol"?r:r+""}function Vye(e,r){if(vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(vh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var y2=function(r,n,s,a,i){var o=r.width,l=r.height,c=r.layout,d=r.children,u=Object.keys(n),m={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},h=!!hs(d,vr);return u.reduce(function(p,g){var f=n[g],v=f.orientation,b=f.domain,y=f.padding,j=y===void 0?{}:y,C=f.mirror,S=f.reversed,N="".concat(v).concat(C?"Mirror":""),P,_,w,A,D;if(f.type==="number"&&(f.padding==="gap"||f.padding==="no-gap")){var O=b[1]-b[0],$=1/0,U=f.categoricalDomain.sort(aZ);if(U.forEach(function(ge,he){he>0&&($=Math.min((ge||0)-(U[he-1]||0),$))}),Number.isFinite($)){var V=$/O,R=f.layout==="vertical"?s.height:s.width;if(f.padding==="gap"&&(P=V*R/2),f.padding==="no-gap"){var X=Un(r.barCategoryGap,V*R),z=V*R/2;P=z-X-(z-X)/R*X}}}a==="xAxis"?_=[s.left+(j.left||0)+(P||0),s.left+s.width-(j.right||0)-(P||0)]:a==="yAxis"?_=c==="horizontal"?[s.top+s.height-(j.bottom||0),s.top+(j.top||0)]:[s.top+(j.top||0)+(P||0),s.top+s.height-(j.bottom||0)-(P||0)]:_=f.range,S&&(_=[_[1],_[0]]);var F=_$(f,i,h),te=F.scale,de=F.realScaleType;te.domain(b).range(_),A$(te);var ie=T$(te,aa(aa({},f),{},{realScaleType:de}));a==="xAxis"?(D=v==="top"&&!C||v==="bottom"&&C,w=s.left,A=m[N]-D*f.height):a==="yAxis"&&(D=v==="left"&&!C||v==="right"&&C,w=m[N]-D*f.width,A=s.top);var fe=aa(aa(aa({},f),ie),{},{realScaleType:de,x:w,y:A,scale:te,width:a==="xAxis"?s.width:f.width,height:a==="yAxis"?s.height:f.height});return fe.bandSize=Ax(fe,ie),!f.hide&&a==="xAxis"?m[N]+=(D?-1:1)*fe.height:f.hide||(m[N]+=(D?-1:1)*fe.width),aa(aa({},p),{},Lv({},g,fe))},{})},u5=function(r,n){var s=r.x,a=r.y,i=n.x,o=n.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},qye=function(r){var n=r.x1,s=r.y1,a=r.x2,i=r.y2;return u5({x:n,y:s},{x:a,y:i})},m5=function(){function e(r){Bye(this,e),this.scale=r}return Uye(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();Lv(m5,"EPS",1e-4);var j2=function(r){var n=Object.keys(r).reduce(function(s,a){return aa(aa({},s),{},Lv({},a,m5.create(r[a])))},{});return aa(aa({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return dye(a,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return i5(a,function(i,o){return n[o].isInRange(i)})}})};function Wye(e){return(e%180+180)%180}var Hye=function(r){var n=r.width,s=r.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Wye(a),o=i*Math.PI/180,l=Math.atan(s/n),c=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Kye=Ja,Gye=zh,Xye=yv;function Yye(e){return function(r,n,s){var a=Object(r);if(!Gye(r)){var i=Kye(n);r=Xye(r),n=function(l){return i(a[l],l,a)}}var o=e(r,n,s);return o>-1?a[i?r[o]:o]:void 0}}var Qye=Yye,Zye=r5;function Jye(e){var r=Zye(e),n=r%1;return r===r?n?r-n:r:0}var eje=Jye,tje=oI,rje=Ja,nje=eje,sje=Math.max;function aje(e,r,n){var s=e==null?0:e.length;if(!s)return-1;var a=n==null?0:nje(n);return a<0&&(a=sje(s+a,0)),tje(e,rje(r),a)}var ije=aje,oje=Qye,lje=ije,cje=oje(lje),dje=cje;const uje=Zt(dje);var mje=iQ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),b2=x.createContext(void 0),N2=x.createContext(void 0),h5=x.createContext(void 0),f5=x.createContext({}),p5=x.createContext(void 0),x5=x.createContext(0),g5=x.createContext(0),UT=function(r){var n=r.state,s=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=r.clipPathId,l=r.children,c=r.width,d=r.height,u=mje(i);return L.createElement(b2.Provider,{value:s},L.createElement(N2.Provider,{value:a},L.createElement(f5.Provider,{value:i},L.createElement(h5.Provider,{value:u},L.createElement(p5.Provider,{value:o},L.createElement(x5.Provider,{value:d},L.createElement(g5.Provider,{value:c},l)))))))},hje=function(){return x.useContext(p5)},v5=function(r){var n=x.useContext(b2);n==null&&Ul();var s=n[r];return s==null&&Ul(),s},fje=function(){var r=x.useContext(b2);return eo(r)},pje=function(){var r=x.useContext(N2),n=uje(r,function(s){return i5(s.domain,Number.isFinite)});return n||eo(r)},y5=function(r){var n=x.useContext(N2);n==null&&Ul();var s=n[r];return s==null&&Ul(),s},xje=function(){var r=x.useContext(h5);return r},gje=function(){return x.useContext(f5)},w2=function(){return x.useContext(g5)},S2=function(){return x.useContext(x5)};function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_d(e)}function vje(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yje(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,b5(s.key),s)}}function jje(e,r,n){return r&&yje(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bje(e,r,n){return r=Wx(r),Nje(e,j5()?Reflect.construct(r,n||[],Wx(e).constructor):r.apply(e,n))}function Nje(e,r){if(r&&(_d(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wje(e)}function wje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j5=function(){return!!e})()}function Wx(e){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wx(e)}function Sje(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&mN(e,r)}function mN(e,r){return mN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},mN(e,r)}function VT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function qT(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?VT(Object(n),!0).forEach(function(s){P2(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function P2(e,r,n){return r=b5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function b5(e){var r=Pje(e,"string");return _d(r)=="symbol"?r:r+""}function Pje(e,r){if(_d(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(_d(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Cje(e,r){return Eje(e)||Tje(e,r)||Aje(e,r)||_je()}function _je(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aje(e,r){if(e){if(typeof e=="string")return WT(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WT(e,r)}}function WT(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Tje(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Eje(e){if(Array.isArray(e))return e}function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hN.apply(this,arguments)}var kje=function(r,n){var s;return L.isValidElement(r)?s=L.cloneElement(r,n):ct(r)?s=r(n):s=L.createElement("line",hN({},n,{className:"recharts-reference-line-line"})),s},Oje=function(r,n,s,a,i,o,l,c,d){var u=i.x,m=i.y,h=i.width,p=i.height;if(s){var g=d.y,f=r.y.apply(g,{position:o});if(Ga(d,"discard")&&!r.y.isInRange(f))return null;var v=[{x:u+h,y:f},{x:u,y:f}];return c==="left"?v.reverse():v}if(n){var b=d.x,y=r.x.apply(b,{position:o});if(Ga(d,"discard")&&!r.x.isInRange(y))return null;var j=[{x:y,y:m+p},{x:y,y:m}];return l==="top"?j.reverse():j}if(a){var C=d.segment,S=C.map(function(N){return r.apply(N,{position:o})});return Ga(d,"discard")&&rye(S,function(N){return!r.isInRange(N)})?null:S}return null};function Rje(e){var r=e.x,n=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=hje(),u=v5(a),m=y5(i),h=xje();if(!d||!h)return null;ha(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=j2({x:u.scale,y:m.scale}),g=rn(r),f=rn(n),v=s&&s.length===2,b=Oje(p,g,f,v,h,e.position,u.orientation,m.orientation,e);if(!b)return null;var y=Cje(b,2),j=y[0],C=j.x,S=j.y,N=y[1],P=N.x,_=N.y,w=Ga(e,"hidden")?"url(#".concat(d,")"):void 0,A=qT(qT({clipPath:w},et(e,!0)),{},{x1:C,y1:S,x2:P,y2:_});return L.createElement(It,{className:pt("recharts-reference-line",l)},kje(o,A),cn.renderCallByParent(e,qye({x1:C,y1:S,x2:P,y2:_})))}var C2=function(e){function r(){return vje(this,r),bje(this,r,arguments)}return Sje(r,e),jje(r,[{key:"render",value:function(){return L.createElement(Rje,this.props)}}])}(L.Component);P2(C2,"displayName","ReferenceLine");P2(C2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fN.apply(this,arguments)}function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ad(e)}function HT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function KT(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?HT(Object(n),!0).forEach(function(s){Fv(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Dje(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Mje(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,w5(s.key),s)}}function Ije(e,r,n){return r&&Mje(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $je(e,r,n){return r=Hx(r),Lje(e,N5()?Reflect.construct(r,n||[],Hx(e).constructor):r.apply(e,n))}function Lje(e,r){if(r&&(Ad(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fje(e)}function Fje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N5=function(){return!!e})()}function Hx(e){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hx(e)}function zje(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&pN(e,r)}function pN(e,r){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},pN(e,r)}function Fv(e,r,n){return r=w5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function w5(e){var r=Bje(e,"string");return Ad(r)=="symbol"?r:r+""}function Bje(e,r){if(Ad(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Ad(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Uje=function(r){var n=r.x,s=r.y,a=r.xAxis,i=r.yAxis,o=j2({x:a.scale,y:i.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return Ga(r,"discard")&&!o.isInRange(l)?null:l},zv=function(e){function r(){return Dje(this,r),$je(this,r,arguments)}return zje(r,e),Ije(r,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=rn(a),u=rn(i);if(ha(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var m=Uje(this.props);if(!m)return null;var h=m.x,p=m.y,g=this.props,f=g.shape,v=g.className,b=Ga(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=KT(KT({clipPath:b},et(this.props,!0)),{},{cx:h,cy:p});return L.createElement(It,{className:pt("recharts-reference-dot",v)},r.renderDot(f,y),cn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(L.Component);Fv(zv,"displayName","ReferenceDot");Fv(zv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Fv(zv,"renderDot",function(e,r){var n;return L.isValidElement(e)?n=L.cloneElement(e,r):ct(e)?n=e(r):n=L.createElement(Hh,fN({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"})),n});function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xN.apply(this,arguments)}function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Td(e)}function GT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function XT(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?GT(Object(n),!0).forEach(function(s){Bv(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Vje(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function qje(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,P5(s.key),s)}}function Wje(e,r,n){return r&&qje(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hje(e,r,n){return r=Kx(r),Kje(e,S5()?Reflect.construct(r,n||[],Kx(e).constructor):r.apply(e,n))}function Kje(e,r){if(r&&(Td(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gje(e)}function Gje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S5=function(){return!!e})()}function Kx(e){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kx(e)}function Xje(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&gN(e,r)}function gN(e,r){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},gN(e,r)}function Bv(e,r,n){return r=P5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function P5(e){var r=Yje(e,"string");return Td(r)=="symbol"?r:r+""}function Yje(e,r){if(Td(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Td(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Qje=function(r,n,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,m=i.yAxis;if(!u||!m)return null;var h=j2({x:u.scale,y:m.scale}),p={x:r?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:s?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(d,{position:"end"}):h.y.rangeMax};return Ga(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:u5(p,g)},Uv=function(e){function r(){return Vje(this,r),Hje(this,r,arguments)}return Xje(r,e),Wje(r,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;ha(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=rn(a),h=rn(i),p=rn(o),g=rn(l),f=this.props.shape;if(!m&&!h&&!p&&!g&&!f)return null;var v=Qje(m,h,p,g,this.props);if(!v&&!f)return null;var b=Ga(this.props,"hidden")?"url(#".concat(u,")"):void 0;return L.createElement(It,{className:pt("recharts-reference-area",c)},r.renderRect(f,XT(XT({clipPath:b},et(this.props,!0)),v)),cn.renderCallByParent(this.props,v))}}])}(L.Component);Bv(Uv,"displayName","ReferenceArea");Bv(Uv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Bv(Uv,"renderRect",function(e,r){var n;return L.isValidElement(e)?n=L.cloneElement(e,r):ct(e)?n=e(r):n=L.createElement(v2,xN({},r,{className:"recharts-reference-area-rect"})),n});function C5(e,r,n){if(r<1)return[];if(r===1&&n===void 0)return e;for(var s=[],a=0;a<e.length;a+=r)s.push(e[a]);return s}function Zje(e,r,n){var s={width:e.width+r.width,height:e.height+r.height};return Hye(s,n)}function Jje(e,r,n){var s=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return r===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function Gx(e,r,n,s,a){if(e*r<e*s||e*r>e*a)return!1;var i=n();return e*(r-e*i/2-s)>=0&&e*(r+e*i/2-a)<=0}function e0e(e,r){return C5(e,r+1)}function t0e(e,r,n,s,a){for(var i=(s||[]).slice(),o=r.start,l=r.end,c=0,d=1,u=o,m=function(){var g=s==null?void 0:s[c];if(g===void 0)return{v:C5(s,d)};var f=c,v,b=function(){return v===void 0&&(v=n(g,f)),v},y=g.coordinate,j=c===0||Gx(e,y,b,u,l);j||(c=0,u=o,d+=1),j&&(u=y+e*(b()/2+a),c+=d)},h;d<=i.length;)if(h=m(),h)return h.v;return[]}function yh(e){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yh(e)}function YT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function An(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?YT(Object(n),!0).forEach(function(s){r0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function r0e(e,r,n){return r=n0e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function n0e(e){var r=s0e(e,"string");return yh(r)=="symbol"?r:r+""}function s0e(e,r){if(yh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(yh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function a0e(e,r,n,s,a){for(var i=(s||[]).slice(),o=i.length,l=r.start,c=r.end,d=function(h){var p=i[h],g,f=function(){return g===void 0&&(g=n(p,h)),g};if(h===o-1){var v=e*(p.coordinate+e*f()/2-c);i[h]=p=An(An({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=An(An({},p),{},{tickCoord:p.coordinate});var b=Gx(e,p.tickCoord,f,l,c);b&&(c=p.tickCoord-e*(f()/2+a),i[h]=An(An({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function i0e(e,r,n,s,a,i){var o=(s||[]).slice(),l=o.length,c=r.start,d=r.end;if(i){var u=s[l-1],m=n(u,l-1),h=e*(u.coordinate+e*m/2-d);o[l-1]=u=An(An({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=Gx(e,u.tickCoord,function(){return m},c,d);p&&(d=u.tickCoord-e*(m/2+a),o[l-1]=An(An({},u),{},{isShow:!0}))}for(var g=i?l-1:l,f=function(y){var j=o[y],C,S=function(){return C===void 0&&(C=n(j,y)),C};if(y===0){var N=e*(j.coordinate-e*S()/2-c);o[y]=j=An(An({},j),{},{tickCoord:N<0?j.coordinate-N*e:j.coordinate})}else o[y]=j=An(An({},j),{},{tickCoord:j.coordinate});var P=Gx(e,j.tickCoord,S,c,d);P&&(c=j.tickCoord+e*(S()/2+a),o[y]=An(An({},j),{},{isShow:!0}))},v=0;v<g;v++)f(v);return o}function _2(e,r,n){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,m=e.angle;if(!a||!a.length||!s)return[];if(Re(c)||fa.isSsr)return e0e(a,typeof c=="number"&&Re(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=u&&p==="width"?om(u,{fontSize:r,letterSpacing:n}):{width:0,height:0},f=function(j,C){var S=ct(d)?d(j.value,C):j.value;return p==="width"?Zje(om(S,{fontSize:r,letterSpacing:n}),g,m):om(S,{fontSize:r,letterSpacing:n})[p]},v=a.length>=2?Bn(a[1].coordinate-a[0].coordinate):1,b=Jje(i,v,p);return c==="equidistantPreserveStart"?t0e(v,b,f,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=i0e(v,b,f,a,o,c==="preserveStartEnd"):h=a0e(v,b,f,a,o),h.filter(function(y){return y.isShow}))}var o0e=["viewBox"],l0e=["viewBox"],c0e=["ticks"];function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ed(e)}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kc.apply(this,arguments)}function QT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Qr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?QT(Object(n),!0).forEach(function(s){A2(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xj(e,r){if(e==null)return{};var n=d0e(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function d0e(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function u0e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ZT(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,A5(s.key),s)}}function m0e(e,r,n){return r&&ZT(e.prototype,r),n&&ZT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h0e(e,r,n){return r=Xx(r),f0e(e,_5()?Reflect.construct(r,n||[],Xx(e).constructor):r.apply(e,n))}function f0e(e,r){if(r&&(Ed(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p0e(e)}function p0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_5=function(){return!!e})()}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xx(e)}function x0e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&vN(e,r)}function vN(e,r){return vN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},vN(e,r)}function A2(e,r,n){return r=A5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function A5(e){var r=g0e(e,"string");return Ed(r)=="symbol"?r:r+""}function g0e(e,r){if(Ed(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Ed(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var hu=function(e){function r(n){var s;return u0e(this,r),s=h0e(this,r,[n]),s.state={fontSize:"",letterSpacing:""},s}return x0e(r,e),m0e(r,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=xj(s,o0e),l=this.props,c=l.viewBox,d=xj(l,l0e);return!Uc(i,c)||!Uc(o,d)||!Uc(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,m=a.mirror,h=a.tickMargin,p,g,f,v,b,y,j=m?-1:1,C=s.tickSize||u,S=Re(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":p=g=s.coordinate,v=o+ +!m*c,f=v-j*C,y=f-j*h,b=S;break;case"left":f=v=s.coordinate,g=i+ +!m*l,p=g-j*C,b=p-j*h,y=S;break;case"right":f=v=s.coordinate,g=i+ +m*l,p=g+j*C,b=p+j*h,y=S;break;default:p=g=s.coordinate,v=o+ +m*c,f=v+j*C,y=f+j*h,b=S;break}return{line:{x1:p,y1:f,x2:g,y2:v},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,m=Qr(Qr(Qr({},et(this.props,!1)),et(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);m=Qr(Qr({},m),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!d||c==="right"&&d);m=Qr(Qr({},m),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return L.createElement("line",kc({},m,{className:pt("recharts-cartesian-axis-line",Ns(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,m=l.tickFormatter,h=l.unit,p=_2(Qr(Qr({},this.props),{},{ticks:s}),a,i),g=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),v=et(this.props,!1),b=et(u,!1),y=Qr(Qr({},v),{},{fill:"none"},et(c,!1)),j=p.map(function(C,S){var N=o.getTickLineCoord(C),P=N.line,_=N.tick,w=Qr(Qr(Qr(Qr({textAnchor:g,verticalAnchor:f},v),{},{stroke:"none",fill:d},b),_),{},{index:S,payload:C,visibleTicksCount:p.length,tickFormatter:m});return L.createElement(It,kc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Ll(o.props,C,S)),c&&L.createElement("line",kc({},y,P,{className:pt("recharts-cartesian-axis-tick-line",Ns(c,"className"))})),u&&r.renderTickItem(u,w,"".concat(ct(m)?m(C.value,S):C.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var m=this.props,h=m.ticks,p=xj(m,c0e),g=h;return ct(c)&&(g=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:L.createElement(It,{className:pt("recharts-cartesian-axis",d),ref:function(v){s.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),cn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=pt(a.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(s)?o=L.cloneElement(s,Qr(Qr({},a),{},{className:l})):ct(s)?o=s(Qr(Qr({},a),{},{className:l})):o=L.createElement(Fl,kc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(x.Component);A2(hu,"displayName","CartesianAxis");A2(hu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var v0e=["x1","y1","x2","y2","key"],y0e=["offset"];function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vl(e)}function JT(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function En(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?JT(Object(n),!0).forEach(function(s){j0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function j0e(e,r,n){return r=b0e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function b0e(e){var r=N0e(e,"string");return Vl(r)=="symbol"?r:r+""}function N0e(e,r){if(Vl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Vl(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ml.apply(this,arguments)}function eE(e,r){if(e==null)return{};var n=w0e(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function w0e(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}var S0e=function(r){var n=r.fill;if(!n||n==="none")return null;var s=r.fillOpacity,a=r.x,i=r.y,o=r.width,l=r.height,c=r.ry;return L.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function T5(e,r){var n;if(L.isValidElement(e))n=L.cloneElement(e,r);else if(ct(e))n=e(r);else{var s=r.x1,a=r.y1,i=r.x2,o=r.y2,l=r.key,c=eE(r,v0e),d=et(c,!1);d.offset;var u=eE(d,y0e);n=L.createElement("line",ml({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function P0e(e){var r=e.x,n=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=En(En({},e),{},{x1:r,y1:l,x2:r+n,y2:l,key:"line-".concat(c),index:c});return T5(a,d)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function C0e(e){var r=e.y,n=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=En(En({},e),{},{x1:l,y1:r,x2:l,y2:r+n,key:"line-".concat(c),index:c});return T5(a,d)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function _0e(e){var r=e.horizontalFill,n=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!r||!r.length)return null;var u=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var m=u.map(function(h,p){var g=!u[p+1],f=g?a+o-h:u[p+1]-h;if(f<=0)return null;var v=p%r.length;return L.createElement("rect",{key:"react-".concat(p),y:h,x:s,height:f,width:i,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function A0e(e){var r=e.vertical,n=r===void 0?!0:r,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!s||!s.length)return null;var u=d.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var m=u.map(function(h,p){var g=!u[p+1],f=g?i+l-h:u[p+1]-h;if(f<=0)return null;var v=p%s.length;return L.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:f,height:c,stroke:"none",fill:s[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var T0e=function(r,n){var s=r.xAxis,a=r.width,i=r.height,o=r.offset;return C$(_2(En(En(En({},hu.defaultProps),s),{},{ticks:xi(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},E0e=function(r,n){var s=r.yAxis,a=r.width,i=r.height,o=r.offset;return C$(_2(En(En(En({},hu.defaultProps),s),{},{ticks:xi(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},oc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Xr(e){var r,n,s,a,i,o,l=w2(),c=S2(),d=gje(),u=En(En({},e),{},{stroke:(r=e.stroke)!==null&&r!==void 0?r:oc.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:oc.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:oc.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:oc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:oc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:oc.verticalFill,x:Re(e.x)?e.x:d.left,y:Re(e.y)?e.y:d.top,width:Re(e.width)?e.width:d.width,height:Re(e.height)?e.height:d.height}),m=u.x,h=u.y,p=u.width,g=u.height,f=u.syncWithTicks,v=u.horizontalValues,b=u.verticalValues,y=fje(),j=pje();if(!Re(p)||p<=0||!Re(g)||g<=0||!Re(m)||m!==+m||!Re(h)||h!==+h)return null;var C=u.verticalCoordinatesGenerator||T0e,S=u.horizontalCoordinatesGenerator||E0e,N=u.horizontalPoints,P=u.verticalPoints;if((!N||!N.length)&&ct(S)){var _=v&&v.length,w=S({yAxis:j?En(En({},j),{},{ticks:_?v:j.ticks}):void 0,width:l,height:c,offset:d},_?!0:f);ha(Array.isArray(w),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Vl(w),"]")),Array.isArray(w)&&(N=w)}if((!P||!P.length)&&ct(C)){var A=b&&b.length,D=C({xAxis:y?En(En({},y),{},{ticks:A?b:y.ticks}):void 0,width:l,height:c,offset:d},A?!0:f);ha(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Vl(D),"]")),Array.isArray(D)&&(P=D)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(S0e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),L.createElement(P0e,ml({},u,{offset:d,horizontalPoints:N,xAxis:y,yAxis:j})),L.createElement(C0e,ml({},u,{offset:d,verticalPoints:P,xAxis:y,yAxis:j})),L.createElement(_0e,ml({},u,{horizontalPoints:N})),L.createElement(A0e,ml({},u,{verticalPoints:P})))}Xr.displayName="CartesianGrid";var k0e=["type","layout","connectNulls","ref"],O0e=["key"];function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kd(e)}function tE(e,r){if(e==null)return{};var n=R0e(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function R0e(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hm.apply(this,arguments)}function rE(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ds(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?rE(Object(n),!0).forEach(function(s){ia(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function lc(e){return $0e(e)||I0e(e)||M0e(e)||D0e()}function D0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M0e(e,r){if(e){if(typeof e=="string")return yN(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yN(e,r)}}function I0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $0e(e){if(Array.isArray(e))return yN(e)}function yN(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function L0e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function nE(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,k5(s.key),s)}}function F0e(e,r,n){return r&&nE(e.prototype,r),n&&nE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z0e(e,r,n){return r=Yx(r),B0e(e,E5()?Reflect.construct(r,n||[],Yx(e).constructor):r.apply(e,n))}function B0e(e,r){if(r&&(kd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U0e(e)}function U0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E5=function(){return!!e})()}function Yx(e){return Yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yx(e)}function V0e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&jN(e,r)}function jN(e,r){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},jN(e,r)}function ia(e,r,n){return r=k5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function k5(e){var r=q0e(e,"string");return kd(r)=="symbol"?r:r+""}function q0e(e,r){if(kd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(kd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var qn=function(e){function r(){var n;L0e(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=z0e(this,r,[].concat(a)),ia(n,"state",{isAnimationFinished:!0,totalLength:0}),ia(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ia(n,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(b,y){return b+y});if(!d)return n.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),m=o%d,h=l-o,p=[],g=0,f=0;g<c.length;f+=c[g],++g)if(f+c[g]>m){p=[].concat(lc(c.slice(0,g)),[m-f]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(lc(r.repeat(c,u)),lc(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),ia(n,"id",Yl("recharts-line-")),ia(n,"pathRef",function(o){n.mainCurve=o}),ia(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ia(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return V0e(r,e),F0e(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,m=ws(u,Wh);if(!m)return null;var h=function(f,v){return{x:f.x,y:f.y,value:f.value,errorVal:Vr(f.payload,v)}},p={clipPath:s?"url(#clipPath-".concat(a,")"):null};return L.createElement(It,p,m.map(function(g){return L.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,m=et(this.props,!1),h=et(c,!0),p=d.map(function(f,v){var b=ds(ds(ds({key:"dot-".concat(v),r:3},m),h),{},{index:v,cx:f.x,cy:f.y,value:f.value,dataKey:u,payload:f.payload,points:d});return r.renderDotItem(c,b)}),g={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return L.createElement(It,hm({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var m=tE(l,k0e),h=ds(ds(ds({},et(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:d,connectNulls:u});return L.createElement(Pl,hm({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,m=o.animationDuration,h=o.animationEasing,p=o.animationId,g=o.animateNewValues,f=o.width,v=o.height,b=this.state,y=b.prevPoints,j=b.totalLength;return L.createElement(ba,{begin:u,duration:m,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var S=C.t;if(y){var N=y.length/l.length,P=l.map(function(O,$){var U=Math.floor($*N);if(y[U]){var V=y[U],R=en(V.x,O.x),X=en(V.y,O.y);return ds(ds({},O),{},{x:R(S),y:X(S)})}if(g){var z=en(f*2,O.x),F=en(v/2,O.y);return ds(ds({},O),{},{x:z(S),y:F(S)})}return ds(ds({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(P,s,a)}var _=en(0,j),w=_(S),A;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});A=i.getStrokeDasharray(w,j,D)}else A=i.generateSimpleStrokeDasharray(j,w);return i.renderCurveStatically(l,s,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!zl(d,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,m=a.top,h=a.left,p=a.width,g=a.height,f=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,j=pt("recharts-line",c),C=d&&d.allowDataOverflow,S=u&&u.allowDataOverflow,N=C||S,P=ht(v)?this.id:v,_=(s=et(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},w=_.r,A=w===void 0?3:w,D=_.strokeWidth,O=D===void 0?2:D,$=v3(o)?o:{},U=$.clipDot,V=U===void 0?!0:U,R=A*2+O;return L.createElement(It,{className:j},C||S?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(P)},L.createElement("rect",{x:C?h:h-p/2,y:S?m:m-g/2,width:C?p:p*2,height:S?g:g*2})),!V&&L.createElement("clipPath",{id:"clipPath-dots-".concat(P)},L.createElement("rect",{x:h-R/2,y:m-R/2,width:p+R,height:g+R}))):null,!y&&this.renderCurve(N,P),this.renderErrorBar(N,P),(y||o)&&this.renderDots(N,V,P),(!f||b)&&Ka.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(lc(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(lc(o),lc(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(L.isValidElement(s))i=L.cloneElement(s,a);else if(ct(s))i=s(a);else{var o=a.key,l=tE(a,O0e),c=pt("recharts-line-dot",typeof s!="boolean"?s.className:"");i=L.createElement(Hh,hm({key:o},l,{className:c}))}return i}}])}(x.PureComponent);ia(qn,"displayName","Line");ia(qn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ia(qn,"getComposedData",function(e){var r=e.props,n=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=r.layout,m=c.map(function(h,p){var g=Vr(h,o);return u==="horizontal"?{x:_x({axis:n,ticks:a,bandSize:l,entry:h,index:p}),y:ht(g)?null:s.scale(g),value:g,payload:h}:{x:ht(g)?null:n.scale(g),y:_x({axis:s,ticks:i,bandSize:l,entry:h,index:p}),value:g,payload:h}});return ds({points:m,layout:u},d)});var W0e=["layout","type","stroke","connectNulls","isRange","ref"],H0e=["key"],O5;function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Od(e)}function R5(e,r){if(e==null)return{};var n=K0e(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function K0e(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hl.apply(this,arguments)}function sE(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Gi(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?sE(Object(n),!0).forEach(function(s){za(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function G0e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function aE(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,M5(s.key),s)}}function X0e(e,r,n){return r&&aE(e.prototype,r),n&&aE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y0e(e,r,n){return r=Qx(r),Q0e(e,D5()?Reflect.construct(r,n||[],Qx(e).constructor):r.apply(e,n))}function Q0e(e,r){if(r&&(Od(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z0e(e)}function Z0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D5=function(){return!!e})()}function Qx(e){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qx(e)}function J0e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&bN(e,r)}function bN(e,r){return bN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},bN(e,r)}function za(e,r,n){return r=M5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function M5(e){var r=ebe(e,"string");return Od(r)=="symbol"?r:r+""}function ebe(e,r){if(Od(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Od(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Uo=function(e){function r(){var n;G0e(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Y0e(this,r,[].concat(a)),za(n,"state",{isAnimationFinished:!0}),za(n,"id",Yl("recharts-area-")),za(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ct(o)&&o()}),za(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ct(o)&&o()}),n}return J0e(r,e),X0e(r,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,m=c.dataKey,h=et(this.props,!1),p=et(d,!0),g=u.map(function(v,b){var y=Gi(Gi(Gi({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:v.x,cy:v.y,dataKey:m,value:v.value,payload:v.payload,points:u});return r.renderDotItem(d,y)}),f={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return L.createElement(It,hl({className:"recharts-area-dots"},f),g)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=s*Math.abs(c-d),m=uo(o.map(function(h){return h.y||0}));return Re(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(uo(i.map(function(h){return h.y||0})),m)),Re(m)?L.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=s*Math.abs(c-d),m=uo(o.map(function(h){return h.x||0}));return Re(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(uo(i.map(function(h){return h.x||0})),m)),Re(m)?L.createElement("rect",{x:0,y:c<d?c:c-u,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,m=l.connectNulls,h=l.isRange;l.ref;var p=R5(l,W0e);return L.createElement(It,{clipPath:i?"url(#clipPath-".concat(o,")"):null},L.createElement(Pl,hl({},et(p,!0),{points:s,connectNulls:m,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&L.createElement(Pl,hl({},et(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:s})),u!=="none"&&h&&L.createElement(Pl,hl({},et(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,m=o.animationDuration,h=o.animationEasing,p=o.animationId,g=this.state,f=g.prevPoints,v=g.prevBaseLine;return L.createElement(ba,{begin:u,duration:m,isActive:d,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(f){var j=f.length/l.length,C=l.map(function(_,w){var A=Math.floor(w*j);if(f[A]){var D=f[A],O=en(D.x,_.x),$=en(D.y,_.y);return Gi(Gi({},_),{},{x:O(y),y:$(y)})}return _}),S;if(Re(c)&&typeof c=="number"){var N=en(v,c);S=N(y)}else if(ht(c)||iu(c)){var P=en(v,0);S=P(y)}else S=c.map(function(_,w){var A=Math.floor(w*j);if(v[A]){var D=v[A],O=en(D.x,_.x),$=en(D.y,_.y);return Gi(Gi({},_),{},{x:O(y),y:$(y)})}return _});return i.renderAreaStatically(C,S,s,a)}return L.createElement(It,null,L.createElement("defs",null,L.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),L.createElement(It,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,m=d.prevBaseLine,h=d.totalLength;return c&&o&&o.length&&(!u&&h>0||!zl(u,o)||!zl(m,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,m=a.xAxis,h=a.yAxis,p=a.width,g=a.height,f=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,j=pt("recharts-area",c),C=m&&m.allowDataOverflow,S=h&&h.allowDataOverflow,N=C||S,P=ht(v)?this.id:v,_=(s=et(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},w=_.r,A=w===void 0?3:w,D=_.strokeWidth,O=D===void 0?2:D,$=v3(o)?o:{},U=$.clipDot,V=U===void 0?!0:U,R=A*2+O;return L.createElement(It,{className:j},C||S?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(P)},L.createElement("rect",{x:C?u:u-p/2,y:S?d:d-g/2,width:C?p:p*2,height:S?g:g*2})),!V&&L.createElement("clipPath",{id:"clipPath-dots-".concat(P)},L.createElement("rect",{x:u-R/2,y:d-R/2,width:p+R,height:g+R}))):null,y?null:this.renderArea(N,P),(o||y)&&this.renderDots(N,V,P),(!f||b)&&Ka.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(x.PureComponent);O5=Uo;za(Uo,"displayName","Area");za(Uo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!fa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});za(Uo,"getBaseValue",function(e,r,n,s){var a=e.layout,i=e.baseValue,o=r.props.baseValue,l=o??i;if(Re(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:n,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});za(Uo,"getComposedData",function(e){var r=e.props,n=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,m=e.displayedData,h=e.offset,p=r.layout,g=d&&d.length,f=O5.getBaseValue(r,n,s,a),v=p==="horizontal",b=!1,y=m.map(function(C,S){var N;g?N=d[u+S]:(N=Vr(C,c),Array.isArray(N)?b=!0:N=[f,N]);var P=N[1]==null||g&&Vr(C,c)==null;return v?{x:_x({axis:s,ticks:i,bandSize:l,entry:C,index:S}),y:P?null:a.scale(N[1]),value:N,payload:C}:{x:P?null:s.scale(N[1]),y:_x({axis:a,ticks:o,bandSize:l,entry:C,index:S}),value:N,payload:C}}),j;return g||b?j=y.map(function(C){var S=Array.isArray(C.value)?C.value[0]:null;return v?{x:C.x,y:S!=null&&C.y!=null?a.scale(S):null}:{x:S!=null?s.scale(S):null,y:C.y}}):j=v?a.scale(f):s.scale(f),Gi({points:y,baseLine:j,layout:p,isRange:b},h)});za(Uo,"renderDotItem",function(e,r){var n;if(L.isValidElement(e))n=L.cloneElement(e,r);else if(ct(e))n=e(r);else{var s=pt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=r.key,i=R5(r,H0e);n=L.createElement(Hh,hl({},i,{key:a,className:s}))}return n});function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rd(e)}function tbe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function rbe(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,L5(s.key),s)}}function nbe(e,r,n){return r&&rbe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sbe(e,r,n){return r=Zx(r),abe(e,I5()?Reflect.construct(r,n||[],Zx(e).constructor):r.apply(e,n))}function abe(e,r){if(r&&(Rd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ibe(e)}function ibe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I5=function(){return!!e})()}function Zx(e){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zx(e)}function obe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&NN(e,r)}function NN(e,r){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},NN(e,r)}function $5(e,r,n){return r=L5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function L5(e){var r=lbe(e,"string");return Rd(r)=="symbol"?r:r+""}function lbe(e,r){if(Rd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Rd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wN.apply(this,arguments)}function cbe(e){var r=e.xAxisId,n=w2(),s=S2(),a=v5(r);return a==null?null:x.createElement(hu,wN({},a,{className:pt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return xi(o,!0)}}))}var Pr=function(e){function r(){return tbe(this,r),sbe(this,r,arguments)}return obe(r,e),nbe(r,[{key:"render",value:function(){return x.createElement(cbe,this.props)}}])}(x.Component);$5(Pr,"displayName","XAxis");$5(Pr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dd(e)}function dbe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ube(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,B5(s.key),s)}}function mbe(e,r,n){return r&&ube(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hbe(e,r,n){return r=Jx(r),fbe(e,F5()?Reflect.construct(r,n||[],Jx(e).constructor):r.apply(e,n))}function fbe(e,r){if(r&&(Dd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pbe(e)}function pbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F5=function(){return!!e})()}function Jx(e){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jx(e)}function xbe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&SN(e,r)}function SN(e,r){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},SN(e,r)}function z5(e,r,n){return r=B5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function B5(e){var r=gbe(e,"string");return Dd(r)=="symbol"?r:r+""}function gbe(e,r){if(Dd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Dd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},PN.apply(this,arguments)}var vbe=function(r){var n=r.yAxisId,s=w2(),a=S2(),i=y5(n);return i==null?null:x.createElement(hu,PN({},i,{className:pt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return xi(l,!0)}}))},Cr=function(e){function r(){return dbe(this,r),hbe(this,r,arguments)}return xbe(r,e),mbe(r,[{key:"render",value:function(){return x.createElement(vbe,this.props)}}])}(x.Component);z5(Cr,"displayName","YAxis");z5(Cr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function iE(e){return Nbe(e)||bbe(e)||jbe(e)||ybe()}function ybe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jbe(e,r){if(e){if(typeof e=="string")return CN(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CN(e,r)}}function bbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nbe(e){if(Array.isArray(e))return CN(e)}function CN(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}var _N=function(r,n,s,a,i){var o=ws(r,C2),l=ws(r,zv),c=[].concat(iE(o),iE(l)),d=ws(r,Uv),u="".concat(a,"Id"),m=a[0],h=n;if(c.length&&(h=c.reduce(function(f,v){if(v.props[u]===s&&Ga(v.props,"extendDomain")&&Re(v.props[m])){var b=v.props[m];return[Math.min(f[0],b),Math.max(f[1],b)]}return f},h)),d.length){var p="".concat(m,"1"),g="".concat(m,"2");h=d.reduce(function(f,v){if(v.props[u]===s&&Ga(v.props,"extendDomain")&&Re(v.props[p])&&Re(v.props[g])){var b=v.props[p],y=v.props[g];return[Math.min(f[0],b,y),Math.max(f[1],b,y)]}return f},h)}return i&&i.length&&(h=i.reduce(function(f,v){return Re(v)?[Math.min(f[0],v),Math.max(f[1],v)]:f},h)),h},U5={exports:{}};(function(e){var r=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,m||c,h),g=n?n+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)r.call(u,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,p=m.length,g=new Array(p);h<p;h++)g[h]=m[h].fn;return g},l.prototype.listenerCount=function(d){var u=n?n+d:d,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,u,m,h,p,g){var f=n?n+d:d;if(!this._events[f])return!1;var v=this._events[f],b=arguments.length,y,j;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,m),!0;case 4:return v.fn.call(v.context,u,m,h),!0;case 5:return v.fn.call(v.context,u,m,h,p),!0;case 6:return v.fn.call(v.context,u,m,h,p,g),!0}for(j=1,y=new Array(b-1);j<b;j++)y[j-1]=arguments[j];v.fn.apply(v.context,y)}else{var C=v.length,S;for(j=0;j<C;j++)switch(v[j].once&&this.removeListener(d,v[j].fn,void 0,!0),b){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,u);break;case 3:v[j].fn.call(v[j].context,u,m);break;case 4:v[j].fn.call(v[j].context,u,m,h);break;default:if(!y)for(S=1,y=new Array(b-1);S<b;S++)y[S-1]=arguments[S];v[j].fn.apply(v[j].context,y)}}return!0},l.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},l.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},l.prototype.removeListener=function(d,u,m,h){var p=n?n+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!m||g.context===m)&&o(this,p);else{for(var f=0,v=[],b=g.length;f<b;f++)(g[f].fn!==u||h&&!g[f].once||m&&g[f].context!==m)&&v.push(g[f]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(U5);var wbe=U5.exports;const Sbe=Zt(wbe);var gj=new Sbe,vj="recharts.syncMouseEvents";function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jh(e)}function Pbe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cbe(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,V5(s.key),s)}}function _be(e,r,n){return r&&Cbe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yj(e,r,n){return r=V5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function V5(e){var r=Abe(e,"string");return jh(r)=="symbol"?r:r+""}function Abe(e,r){if(jh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(jh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tbe=function(){function e(){Pbe(this,e),yj(this,"activeIndex",0),yj(this,"coordinateList",[]),yj(this,"layout","horizontal")}return _be(e,[{key:"setDetails",value:function(n){var s,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,u=n.offset,m=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,m=i+c+d,h=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:m,pageY:h})}}}])}();function Ebe(e,r,n){if(n==="number"&&r===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],a=e==null?void 0:e[1];if(s&&a&&Re(s)&&Re(a))return!0}return!1}function kbe(e,r,n,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:r.y-a,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function q5(e){var r=e.cx,n=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=hr(r,n,s,a),l=hr(r,n,s,i);return{points:[o,l],cx:r,cy:n,radius:s,startAngle:a,endAngle:i}}function Obe(e,r,n){var s,a,i,o;if(e==="horizontal")s=r.x,i=s,a=n.top,o=n.top+n.height;else if(e==="vertical")a=r.y,o=a,s=n.left,i=n.left+n.width;else if(r.cx!=null&&r.cy!=null)if(e==="centric"){var l=r.cx,c=r.cy,d=r.innerRadius,u=r.outerRadius,m=r.angle,h=hr(l,c,d,m),p=hr(l,c,u,m);s=h.x,a=h.y,i=p.x,o=p.y}else return q5(r);return[{x:s,y:a},{x:i,y:o}]}function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bh(e)}function oE(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function $f(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?oE(Object(n),!0).forEach(function(s){Rbe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Rbe(e,r,n){return r=Dbe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Dbe(e){var r=Mbe(e,"string");return bh(r)=="symbol"?r:r+""}function Mbe(e,r){if(bh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(bh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ibe(e){var r,n,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,m=e.layout,h=e.chartName,p=(r=s.props.cursor)!==null&&r!==void 0?r:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,f=Pl;if(h==="ScatterChart")g=o,f=qxe;else if(h==="BarChart")g=kbe(m,o,c,u),f=v2;else if(m==="radial"){var v=q5(o),b=v.cx,y=v.cy,j=v.radius,C=v.startAngle,S=v.endAngle;g={cx:b,cy:y,startAngle:C,endAngle:S,innerRadius:j,outerRadius:j},f=$$}else g={points:Obe(m,o,c)},f=Pl;var N=$f($f($f($f({stroke:"#ccc",pointerEvents:"none"},c),g),et(p,!1)),{},{payload:l,payloadIndex:d,className:pt("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,N):x.createElement(f,N)}var $be=["item"],Lbe=["children","className","width","height","style","compact","title","desc"];function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Md(e)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Oc.apply(this,arguments)}function lE(e,r){return Bbe(e)||zbe(e,r)||H5(e,r)||Fbe()}function Fbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zbe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Bbe(e){if(Array.isArray(e))return e}function cE(e,r){if(e==null)return{};var n=Ube(e,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Ube(e,r){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Vbe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function qbe(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,K5(s.key),s)}}function Wbe(e,r,n){return r&&qbe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hbe(e,r,n){return r=eg(r),Kbe(e,W5()?Reflect.construct(r,n||[],eg(e).constructor):r.apply(e,n))}function Kbe(e,r){if(r&&(Md(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gbe(e)}function Gbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W5=function(){return!!e})()}function eg(e){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eg(e)}function Xbe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&AN(e,r)}function AN(e,r){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},AN(e,r)}function Id(e){return Zbe(e)||Qbe(e)||H5(e)||Ybe()}function Ybe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H5(e,r){if(e){if(typeof e=="string")return TN(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TN(e,r)}}function Qbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zbe(e){if(Array.isArray(e))return TN(e)}function TN(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function dE(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ye(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?dE(Object(n),!0).forEach(function(s){lt(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function lt(e,r,n){return r=K5(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function K5(e){var r=Jbe(e,"string");return Md(r)=="symbol"?r:r+""}function Jbe(e,r){if(Md(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r||"default");if(Md(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var eNe={xAxis:["bottom","top"],yAxis:["left","right"]},tNe={width:"100%",height:"100%"},G5={x:0,y:0};function Lf(e){return e}var rNe=function(r,n){return n==="horizontal"?r.x:n==="vertical"?r.y:n==="centric"?r.angle:r.radius},nNe=function(r,n,s,a){var i=n.find(function(u){return u&&u.index===s});if(i){if(r==="horizontal")return{x:i.coordinate,y:a.y};if(r==="vertical")return{x:a.x,y:i.coordinate};if(r==="centric"){var o=i.coordinate,l=a.radius;return ye(ye(ye({},a),hr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return ye(ye(ye({},a),hr(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return G5},Vv=function(r,n){var s=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Id(l),Id(d)):l},[]);return o.length>0?o:r&&r.length&&Re(a)&&Re(i)?r.slice(a,i+1):[]};function X5(e){return e==="number"?[0,"auto"]:void 0}var EN=function(r,n,s,a){var i=r.graphicalItems,o=r.tooltipAxis,l=Vv(n,r);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,m=(u=d.props.data)!==null&&u!==void 0?u:n;m&&r.dataStartIndex+r.dataEndIndex!==0&&r.dataEndIndex-r.dataStartIndex>=s&&(m=m.slice(r.dataStartIndex,r.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=m===void 0?l:m;h=Jp(p,o.dataKey,a)}else h=m&&m[s]||l[s];return h?[].concat(Id(c),[k$(d,h)]):c},[])},uE=function(r,n,s,a){var i=a||{x:r.chartX,y:r.chartY},o=rNe(i,s),l=r.orderedTooltipTicks,c=r.tooltipAxis,d=r.tooltipTicks,u=fhe(o,l,d,c);if(u>=0&&d){var m=d[u]&&d[u].value,h=EN(r,n,u,m),p=nNe(s,l,u,i);return{activeTooltipIndex:u,activeLabel:m,activePayload:h,activeCoordinate:p}}return null},sNe=function(r,n){var s=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=r.layout,m=r.children,h=r.stackOffset,p=P$(u,i);return s.reduce(function(g,f){var v,b=f.type.defaultProps!==void 0?ye(ye({},f.type.defaultProps),f.props):f.props,y=b.type,j=b.dataKey,C=b.allowDataOverflow,S=b.allowDuplicatedCategory,N=b.scale,P=b.ticks,_=b.includeHidden,w=b[o];if(g[w])return g;var A=Vv(r.data,{graphicalItems:a.filter(function(ie){var fe,ge=o in ie.props?ie.props[o]:(fe=ie.type.defaultProps)===null||fe===void 0?void 0:fe[o];return ge===w}),dataStartIndex:c,dataEndIndex:d}),D=A.length,O,$,U;Ebe(b.domain,C,y)&&(O=Vb(b.domain,null,C),p&&(y==="number"||N!=="auto")&&(U=cm(A,j,"category")));var V=X5(y);if(!O||O.length===0){var R,X=(R=b.domain)!==null&&R!==void 0?R:V;if(j){if(O=cm(A,j,y),y==="category"&&p){var z=sZ(O);S&&z?($=O,O=zx(0,D)):S||(O=kA(X,O,f).reduce(function(ie,fe){return ie.indexOf(fe)>=0?ie:[].concat(Id(ie),[fe])},[]))}else if(y==="category")S?O=O.filter(function(ie){return ie!==""&&!ht(ie)}):O=kA(X,O,f).reduce(function(ie,fe){return ie.indexOf(fe)>=0||fe===""||ht(fe)?ie:[].concat(Id(ie),[fe])},[]);else if(y==="number"){var F=yhe(A,a.filter(function(ie){var fe,ge,he=o in ie.props?ie.props[o]:(fe=ie.type.defaultProps)===null||fe===void 0?void 0:fe[o],Te="hide"in ie.props?ie.props.hide:(ge=ie.type.defaultProps)===null||ge===void 0?void 0:ge.hide;return he===w&&(_||!Te)}),j,i,u);F&&(O=F)}p&&(y==="number"||N!=="auto")&&(U=cm(A,j,"category"))}else p?O=zx(0,D):l&&l[w]&&l[w].hasStack&&y==="number"?O=h==="expand"?[0,1]:E$(l[w].stackGroups,c,d):O=S$(A,a.filter(function(ie){var fe=o in ie.props?ie.props[o]:ie.type.defaultProps[o],ge="hide"in ie.props?ie.props.hide:ie.type.defaultProps.hide;return fe===w&&(_||!ge)}),y,u,!0);if(y==="number")O=_N(m,O,w,i,P),X&&(O=Vb(X,O,C));else if(y==="category"&&X){var te=X,de=O.every(function(ie){return te.indexOf(ie)>=0});de&&(O=te)}}return ye(ye({},g),{},lt({},w,ye(ye({},b),{},{axisType:i,domain:O,categoricalDomain:U,duplicateDomain:$,originalDomain:(v=b.domain)!==null&&v!==void 0?v:V,isCategorical:p,layout:u})))},{})},aNe=function(r,n){var s=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=r.layout,m=r.children,h=Vv(r.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),p=h.length,g=P$(u,i),f=-1;return s.reduce(function(v,b){var y=b.type.defaultProps!==void 0?ye(ye({},b.type.defaultProps),b.props):b.props,j=y[o],C=X5("number");if(!v[j]){f++;var S;return g?S=zx(0,p):l&&l[j]&&l[j].hasStack?(S=E$(l[j].stackGroups,c,d),S=_N(m,S,j,i)):(S=Vb(C,S$(h,s.filter(function(N){var P,_,w=o in N.props?N.props[o]:(P=N.type.defaultProps)===null||P===void 0?void 0:P[o],A="hide"in N.props?N.props.hide:(_=N.type.defaultProps)===null||_===void 0?void 0:_.hide;return w===j&&!A}),"number",u),a.defaultProps.allowDataOverflow),S=_N(m,S,j,i)),ye(ye({},v),{},lt({},j,ye(ye({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ns(eNe,"".concat(i,".").concat(f%2),null),domain:S,originalDomain:C,isCategorical:g,layout:u})))}return v},{})},iNe=function(r,n){var s=n.axisType,a=s===void 0?"xAxis":s,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=r.children,m="".concat(a,"Id"),h=ws(u,i),p={};return h&&h.length?p=sNe(r,{axes:h,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(p=aNe(r,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),p},oNe=function(r){var n=eo(r),s=xi(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:W1(s,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ax(n,s)}},mE=function(r){var n=r.children,s=r.defaultShowTooltip,a=hs(n,Pd),i=0,o=0;return r.data&&r.data.length!==0&&(o=r.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},lNe=function(r){return!r||!r.length?!1:r.some(function(n){var s=vi(n&&n.type);return s&&s.indexOf("Bar")>=0})},hE=function(r){return r==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:r==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:r==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},cNe=function(r,n){var s=r.props,a=r.graphicalItems,i=r.xAxisMap,o=i===void 0?{}:i,l=r.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,m=s.children,h=s.margin||{},p=hs(m,Pd),g=hs(m,Wa),f=Object.keys(c).reduce(function(S,N){var P=c[N],_=P.orientation;return!P.mirror&&!P.hide?ye(ye({},S),{},lt({},_,S[_]+P.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(S,N){var P=o[N],_=P.orientation;return!P.mirror&&!P.hide?ye(ye({},S),{},lt({},_,Ns(S,"".concat(_))+P.height)):S},{top:h.top||0,bottom:h.bottom||0}),b=ye(ye({},v),f),y=b.bottom;p&&(b.bottom+=p.props.height||Pd.defaultProps.height),g&&n&&(b=ghe(b,a,s,n));var j=d-b.left-b.right,C=u-b.top-b.bottom;return ye(ye({brushBottom:y},b),{},{width:Math.max(j,0),height:Math.max(C,0)})},dNe=function(r,n){if(n==="xAxis")return r[n].width;if(n==="yAxis")return r[n].height},qv=function(r){var n=r.chartName,s=r.GraphicalChild,a=r.defaultTooltipEventType,i=a===void 0?"axis":a,o=r.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=r.axisComponents,d=r.legendContent,u=r.formatAxisMap,m=r.defaultProps,h=function(b,y){var j=y.graphicalItems,C=y.stackGroups,S=y.offset,N=y.updateId,P=y.dataStartIndex,_=y.dataEndIndex,w=b.barSize,A=b.layout,D=b.barGap,O=b.barCategoryGap,$=b.maxBarSize,U=hE(A),V=U.numericAxisName,R=U.cateAxisName,X=lNe(j),z=[];return j.forEach(function(F,te){var de=Vv(b.data,{graphicalItems:[F],dataStartIndex:P,dataEndIndex:_}),ie=F.type.defaultProps!==void 0?ye(ye({},F.type.defaultProps),F.props):F.props,fe=ie.dataKey,ge=ie.maxBarSize,he=ie["".concat(V,"Id")],Te=ie["".concat(R,"Id")],Se={},Ue=c.reduce(function(H,se){var le=y["".concat(se.axisType,"Map")],ne=ie["".concat(se.axisType,"Id")];le&&le[ne]||se.axisType==="zAxis"||Ul();var Q=le[ne];return ye(ye({},H),{},lt(lt({},se.axisType,Q),"".concat(se.axisType,"Ticks"),xi(Q)))},Se),be=Ue[R],Z=Ue["".concat(R,"Ticks")],xe=C&&C[he]&&C[he].hasStack&&Ahe(F,C[he].stackGroups),oe=vi(F.type).indexOf("Bar")>=0,ze=Ax(be,Z),Fe=[],tt=X&&phe({barSize:w,stackGroups:C,totalSize:dNe(Ue,R)});if(oe){var ot,pe,qe=ht(ge)?$:ge,ae=(ot=(pe=Ax(be,Z,!0))!==null&&pe!==void 0?pe:qe)!==null&&ot!==void 0?ot:0;Fe=xhe({barGap:D,barCategoryGap:O,bandSize:ae!==ze?ae:ze,sizeList:tt[Te],maxBarSize:qe}),ae!==ze&&(Fe=Fe.map(function(H){return ye(ye({},H),{},{position:ye(ye({},H.position),{},{offset:H.position.offset-ae/2})})}))}var je=F&&F.type&&F.type.getComposedData;je&&z.push({props:ye(ye({},je(ye(ye({},Ue),{},{displayedData:de,props:b,dataKey:fe,item:F,bandSize:ze,barPosition:Fe,offset:S,stackedData:xe,layout:A,dataStartIndex:P,dataEndIndex:_}))),{},lt(lt(lt({key:F.key||"item-".concat(te)},V,Ue[V]),R,Ue[R]),"animationId",N)),childIndex:xZ(F,b.children),item:F})}),z},p=function(b,y){var j=b.props,C=b.dataStartIndex,S=b.dataEndIndex,N=b.updateId;if(!PC({props:j}))return null;var P=j.children,_=j.layout,w=j.stackOffset,A=j.data,D=j.reverseStackOrder,O=hE(_),$=O.numericAxisName,U=O.cateAxisName,V=ws(P,s),R=Che(A,V,"".concat($,"Id"),"".concat(U,"Id"),w,D),X=c.reduce(function(ie,fe){var ge="".concat(fe.axisType,"Map");return ye(ye({},ie),{},lt({},ge,iNe(j,ye(ye({},fe),{},{graphicalItems:V,stackGroups:fe.axisType===$&&R,dataStartIndex:C,dataEndIndex:S}))))},{}),z=cNe(ye(ye({},X),{},{props:j,graphicalItems:V}),y==null?void 0:y.legendBBox);Object.keys(X).forEach(function(ie){X[ie]=u(j,X[ie],z,ie.replace("Map",""),n)});var F=X["".concat(U,"Map")],te=oNe(F),de=h(j,ye(ye({},X),{},{dataStartIndex:C,dataEndIndex:S,updateId:N,graphicalItems:V,stackGroups:R,offset:z}));return ye(ye({formattedGraphicalItems:de,graphicalItems:V,offset:z,stackGroups:R},te),X)},g=function(v){function b(y){var j,C,S;return Vbe(this,b),S=Hbe(this,b,[y]),lt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),lt(S,"accessibilityManager",new Tbe),lt(S,"handleLegendBBoxUpdate",function(N){if(N){var P=S.state,_=P.dataStartIndex,w=P.dataEndIndex,A=P.updateId;S.setState(ye({legendBBox:N},p({props:S.props,dataStartIndex:_,dataEndIndex:w,updateId:A},ye(ye({},S.state),{},{legendBBox:N}))))}}),lt(S,"handleReceiveSyncEvent",function(N,P,_){if(S.props.syncId===N){if(_===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(P)}}),lt(S,"handleBrushChange",function(N){var P=N.startIndex,_=N.endIndex;if(P!==S.state.dataStartIndex||_!==S.state.dataEndIndex){var w=S.state.updateId;S.setState(function(){return ye({dataStartIndex:P,dataEndIndex:_},p({props:S.props,dataStartIndex:P,dataEndIndex:_,updateId:w},S.state))}),S.triggerSyncEvent({dataStartIndex:P,dataEndIndex:_})}}),lt(S,"handleMouseEnter",function(N){var P=S.getMouseInfo(N);if(P){var _=ye(ye({},P),{},{isTooltipActive:!0});S.setState(_),S.triggerSyncEvent(_);var w=S.props.onMouseEnter;ct(w)&&w(_,N)}}),lt(S,"triggeredAfterMouseMove",function(N){var P=S.getMouseInfo(N),_=P?ye(ye({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(_),S.triggerSyncEvent(_);var w=S.props.onMouseMove;ct(w)&&w(_,N)}),lt(S,"handleItemMouseEnter",function(N){S.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),lt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),lt(S,"handleMouseMove",function(N){N.persist(),S.throttleTriggeredAfterMouseMove(N)}),lt(S,"handleMouseLeave",function(N){S.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var _=S.props.onMouseLeave;ct(_)&&_(P,N)}),lt(S,"handleOuterEvent",function(N){var P=pZ(N),_=Ns(S.props,"".concat(P));if(P&&ct(_)){var w,A;/.*touch.*/i.test(P)?A=S.getMouseInfo(N.changedTouches[0]):A=S.getMouseInfo(N),_((w=A)!==null&&w!==void 0?w:{},N)}}),lt(S,"handleClick",function(N){var P=S.getMouseInfo(N);if(P){var _=ye(ye({},P),{},{isTooltipActive:!0});S.setState(_),S.triggerSyncEvent(_);var w=S.props.onClick;ct(w)&&w(_,N)}}),lt(S,"handleMouseDown",function(N){var P=S.props.onMouseDown;if(ct(P)){var _=S.getMouseInfo(N);P(_,N)}}),lt(S,"handleMouseUp",function(N){var P=S.props.onMouseUp;if(ct(P)){var _=S.getMouseInfo(N);P(_,N)}}),lt(S,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),lt(S,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseDown(N.changedTouches[0])}),lt(S,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseUp(N.changedTouches[0])}),lt(S,"handleDoubleClick",function(N){var P=S.props.onDoubleClick;if(ct(P)){var _=S.getMouseInfo(N);P(_,N)}}),lt(S,"handleContextMenu",function(N){var P=S.props.onContextMenu;if(ct(P)){var _=S.getMouseInfo(N);P(_,N)}}),lt(S,"triggerSyncEvent",function(N){S.props.syncId!==void 0&&gj.emit(vj,S.props.syncId,N,S.eventEmitterSymbol)}),lt(S,"applySyncEvent",function(N){var P=S.props,_=P.layout,w=P.syncMethod,A=S.state.updateId,D=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)S.setState(ye({dataStartIndex:D,dataEndIndex:O},p({props:S.props,dataStartIndex:D,dataEndIndex:O,updateId:A},S.state)));else if(N.activeTooltipIndex!==void 0){var $=N.chartX,U=N.chartY,V=N.activeTooltipIndex,R=S.state,X=R.offset,z=R.tooltipTicks;if(!X)return;if(typeof w=="function")V=w(z,N);else if(w==="value"){V=-1;for(var F=0;F<z.length;F++)if(z[F].value===N.activeLabel){V=F;break}}var te=ye(ye({},X),{},{x:X.left,y:X.top}),de=Math.min($,te.x+te.width),ie=Math.min(U,te.y+te.height),fe=z[V]&&z[V].value,ge=EN(S.state,S.props.data,V),he=z[V]?{x:_==="horizontal"?z[V].coordinate:de,y:_==="horizontal"?ie:z[V].coordinate}:G5;S.setState(ye(ye({},N),{},{activeLabel:fe,activeCoordinate:he,activePayload:ge,activeTooltipIndex:V}))}else S.setState(N)}),lt(S,"renderCursor",function(N){var P,_=S.state,w=_.isTooltipActive,A=_.activeCoordinate,D=_.activePayload,O=_.offset,$=_.activeTooltipIndex,U=_.tooltipAxisBandSize,V=S.getTooltipEventType(),R=(P=N.props.active)!==null&&P!==void 0?P:w,X=S.props.layout,z=N.key||"_recharts-cursor";return L.createElement(Ibe,{key:z,activeCoordinate:A,activePayload:D,activeTooltipIndex:$,chartName:n,element:N,isActive:R,layout:X,offset:O,tooltipAxisBandSize:U,tooltipEventType:V})}),lt(S,"renderPolarAxis",function(N,P,_){var w=Ns(N,"type.axisType"),A=Ns(S.state,"".concat(w,"Map")),D=N.type.defaultProps,O=D!==void 0?ye(ye({},D),N.props):N.props,$=A&&A[O["".concat(w,"Id")]];return x.cloneElement(N,ye(ye({},$),{},{className:pt(w,$.className),key:N.key||"".concat(P,"-").concat(_),ticks:xi($,!0)}))}),lt(S,"renderPolarGrid",function(N){var P=N.props,_=P.radialLines,w=P.polarAngles,A=P.polarRadius,D=S.state,O=D.radiusAxisMap,$=D.angleAxisMap,U=eo(O),V=eo($),R=V.cx,X=V.cy,z=V.innerRadius,F=V.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(w)?w:xi(V,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(A)?A:xi(U,!0).map(function(te){return te.coordinate}),cx:R,cy:X,innerRadius:z,outerRadius:F,key:N.key||"polar-grid",radialLines:_})}),lt(S,"renderLegend",function(){var N=S.state.formattedGraphicalItems,P=S.props,_=P.children,w=P.width,A=P.height,D=S.props.margin||{},O=w-(D.left||0)-(D.right||0),$=N$({children:_,formattedGraphicalItems:N,legendWidth:O,legendContent:d});if(!$)return null;var U=$.item,V=cE($,$be);return x.cloneElement(U,ye(ye({},V),{},{chartWidth:w,chartHeight:A,margin:D,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),lt(S,"renderTooltip",function(){var N,P=S.props,_=P.children,w=P.accessibilityLayer,A=hs(_,Br);if(!A)return null;var D=S.state,O=D.isTooltipActive,$=D.activeCoordinate,U=D.activePayload,V=D.activeLabel,R=D.offset,X=(N=A.props.active)!==null&&N!==void 0?N:O;return x.cloneElement(A,{viewBox:ye(ye({},R),{},{x:R.left,y:R.top}),active:X,label:V,payload:X?U:[],coordinate:$,accessibilityLayer:w})}),lt(S,"renderBrush",function(N){var P=S.props,_=P.margin,w=P.data,A=S.state,D=A.offset,O=A.dataStartIndex,$=A.dataEndIndex,U=A.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Rf(S.handleBrushChange,N.props.onChange),data:w,x:Re(N.props.x)?N.props.x:D.left,y:Re(N.props.y)?N.props.y:D.top+D.height+D.brushBottom-(_.bottom||0),width:Re(N.props.width)?N.props.width:D.width,startIndex:O,endIndex:$,updateId:"brush-".concat(U)})}),lt(S,"renderReferenceElement",function(N,P,_){if(!N)return null;var w=S,A=w.clipPathId,D=S.state,O=D.xAxisMap,$=D.yAxisMap,U=D.offset,V=N.type.defaultProps||{},R=N.props,X=R.xAxisId,z=X===void 0?V.xAxisId:X,F=R.yAxisId,te=F===void 0?V.yAxisId:F;return x.cloneElement(N,{key:N.key||"".concat(P,"-").concat(_),xAxis:O[z],yAxis:$[te],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:A})}),lt(S,"renderActivePoints",function(N){var P=N.item,_=N.activePoint,w=N.basePoint,A=N.childIndex,D=N.isRange,O=[],$=P.props.key,U=P.item.type.defaultProps!==void 0?ye(ye({},P.item.type.defaultProps),P.item.props):P.item.props,V=U.activeDot,R=U.dataKey,X=ye(ye({index:A,dataKey:R,cx:_.x,cy:_.y,r:4,fill:g2(P.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},et(V,!1)),ex(V));return O.push(b.renderActiveDot(V,X,"".concat($,"-activePoint-").concat(A))),w?O.push(b.renderActiveDot(V,ye(ye({},X),{},{cx:w.x,cy:w.y}),"".concat($,"-basePoint-").concat(A))):D&&O.push(null),O}),lt(S,"renderGraphicChild",function(N,P,_){var w=S.filterFormatItem(N,P,_);if(!w)return null;var A=S.getTooltipEventType(),D=S.state,O=D.isTooltipActive,$=D.tooltipAxis,U=D.activeTooltipIndex,V=D.activeLabel,R=S.props.children,X=hs(R,Br),z=w.props,F=z.points,te=z.isRange,de=z.baseLine,ie=w.item.type.defaultProps!==void 0?ye(ye({},w.item.type.defaultProps),w.item.props):w.item.props,fe=ie.activeDot,ge=ie.hide,he=ie.activeBar,Te=ie.activeShape,Se=!!(!ge&&O&&X&&(fe||he||Te)),Ue={};A!=="axis"&&X&&X.props.trigger==="click"?Ue={onClick:Rf(S.handleItemMouseEnter,N.props.onClick)}:A!=="axis"&&(Ue={onMouseLeave:Rf(S.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Rf(S.handleItemMouseEnter,N.props.onMouseEnter)});var be=x.cloneElement(N,ye(ye({},w.props),Ue));function Z(se){return typeof $.dataKey=="function"?$.dataKey(se.payload):null}if(Se)if(U>=0){var xe,oe;if($.dataKey&&!$.allowDuplicatedCategory){var ze=typeof $.dataKey=="function"?Z:"payload.".concat($.dataKey.toString());xe=Jp(F,ze,V),oe=te&&de&&Jp(de,ze,V)}else xe=F==null?void 0:F[U],oe=te&&de&&de[U];if(Te||he){var Fe=N.props.activeIndex!==void 0?N.props.activeIndex:U;return[x.cloneElement(N,ye(ye(ye({},w.props),Ue),{},{activeIndex:Fe})),null,null]}if(!ht(xe))return[be].concat(Id(S.renderActivePoints({item:w,activePoint:xe,basePoint:oe,childIndex:U,isRange:te})))}else{var tt,ot=(tt=S.getItemByXY(S.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:be},pe=ot.graphicalItem,qe=pe.item,ae=qe===void 0?N:qe,je=pe.childIndex,H=ye(ye(ye({},w.props),Ue),{},{activeIndex:je});return[x.cloneElement(ae,H),null,null]}return te?[be,null,null]:[be,null]}),lt(S,"renderCustomized",function(N,P,_){return x.cloneElement(N,ye(ye({key:"recharts-customized-".concat(_)},S.props),S.state))}),lt(S,"renderMap",{CartesianGrid:{handler:Lf,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Lf},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Lf},YAxis:{handler:Lf},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((j=y.id)!==null&&j!==void 0?j:Yl("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=bI(S.triggeredAfterMouseMove,(C=y.throttleDelay)!==null&&C!==void 0?C:1e3/60),S.state={},S}return Xbe(b,v),Wbe(b,[{key:"componentDidMount",value:function(){var j,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,C=j.children,S=j.data,N=j.height,P=j.layout,_=hs(C,Br);if(_){var w=_.props.defaultIndex;if(!(typeof w!="number"||w<0||w>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[w]&&this.state.tooltipTicks[w].value,D=EN(this.state,S,w,A),O=this.state.tooltipTicks[w].coordinate,$=(this.state.offset.top+N)/2,U=P==="horizontal",V=U?{x:O,y:$}:{y:O,x:$},R=this.state.formattedGraphicalItems.find(function(z){var F=z.item;return F.type.name==="Scatter"});R&&(V=ye(ye({},V),R.props.points[w].tooltipPosition),D=R.props.points[w].tooltipPayload);var X={activeTooltipIndex:w,isTooltipActive:!0,activeLabel:A,activePayload:D,activeCoordinate:V};this.setState(X),this.renderCursor(_),this.accessibilityManager.setIndex(w)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var S,N;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(j){sb([hs(j.children,Br)],[hs(this.props.children,Br)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=hs(this.props.children,Br);if(j&&typeof j.props.shared=="boolean"){var C=j.props.shared?"axis":"item";return l.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var C=this.container,S=C.getBoundingClientRect(),N=Ule(S),P={chartX:Math.round(j.pageX-N.left),chartY:Math.round(j.pageY-N.top)},_=S.width/C.offsetWidth||1,w=this.inRange(P.chartX,P.chartY,_);if(!w)return null;var A=this.state,D=A.xAxisMap,O=A.yAxisMap,$=this.getTooltipEventType(),U=uE(this.state,this.props.data,this.props.layout,w);if($!=="axis"&&D&&O){var V=eo(D).scale,R=eo(O).scale,X=V&&V.invert?V.invert(P.chartX):null,z=R&&R.invert?R.invert(P.chartY):null;return ye(ye({},P),{},{xValue:X,yValue:z},U)}return U?ye(ye({},P),U):null}},{key:"inRange",value:function(j,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,P=j/S,_=C/S;if(N==="horizontal"||N==="vertical"){var w=this.state.offset,A=P>=w.left&&P<=w.left+w.width&&_>=w.top&&_<=w.top+w.height;return A?{x:P,y:_}:null}var D=this.state,O=D.angleAxisMap,$=D.radiusAxisMap;if(O&&$){var U=eo(O);return DA({x:P,y:_},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,C=this.getTooltipEventType(),S=hs(j,Br),N={};S&&C==="axis"&&(S.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=ex(this.props,this.handleOuterEvent);return ye(ye({},P),N)}},{key:"addListener",value:function(){gj.on(vj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gj.removeListener(vj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,C,S){for(var N=this.state.formattedGraphicalItems,P=0,_=N.length;P<_;P++){var w=N[P];if(w.item===j||w.props.key===j.key||C===vi(w.item.type)&&S===w.childIndex)return w}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,C=this.state.offset,S=C.left,N=C.top,P=C.height,_=C.width;return L.createElement("defs",null,L.createElement("clipPath",{id:j},L.createElement("rect",{x:S,y:N,height:P,width:_})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(C,S){var N=lE(S,2),P=N[0],_=N[1];return ye(ye({},C),{},lt({},P,_.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(C,S){var N=lE(S,2),P=N[0],_=N[1];return ye(ye({},C),{},lt({},P,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[j])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(j){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[j])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(j){var C=this.state,S=C.formattedGraphicalItems,N=C.activeItem;if(S&&S.length)for(var P=0,_=S.length;P<_;P++){var w=S[P],A=w.props,D=w.item,O=D.type.defaultProps!==void 0?ye(ye({},D.type.defaultProps),D.props):D.props,$=vi(D.type);if($==="Bar"){var U=(A.data||[]).find(function(z){return Sxe(j,z)});if(U)return{graphicalItem:w,payload:U}}else if($==="RadialBar"){var V=(A.data||[]).find(function(z){return DA(j,z)});if(V)return{graphicalItem:w,payload:V}}else if(Iv(w,N)||$v(w,N)||ph(w,N)){var R=mve({graphicalItem:w,activeTooltipItem:N,itemData:O.data}),X=O.activeIndex===void 0?R:O.activeIndex;return{graphicalItem:ye(ye({},w),{},{childIndex:X}),payload:ph(w,N)?O.data[R]:w.props.data[R]}}}return null}},{key:"render",value:function(){var j=this;if(!PC(this))return null;var C=this.props,S=C.children,N=C.className,P=C.width,_=C.height,w=C.style,A=C.compact,D=C.title,O=C.desc,$=cE(C,Lbe),U=et($,!1);if(A)return L.createElement(UT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(ib,Oc({},U,{width:P,height:_,title:D,desc:O}),this.renderClipPath(),_C(S,this.renderMap)));if(this.props.accessibilityLayer){var V,R;U.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,U.role=(R=this.props.role)!==null&&R!==void 0?R:"application",U.onKeyDown=function(z){j.accessibilityManager.keyboardEvent(z)},U.onFocus=function(){j.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return L.createElement(UT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Oc({className:pt("recharts-wrapper",N),style:ye({position:"relative",cursor:"default",width:P,height:_},w)},X,{ref:function(F){j.container=F}}),L.createElement(ib,Oc({},U,{width:P,height:_,title:D,desc:O,style:tNe}),this.renderClipPath(),_C(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);lt(g,"displayName",n),lt(g,"defaultProps",ye({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),lt(g,"getDerivedStateFromProps",function(v,b){var y=v.dataKey,j=v.data,C=v.children,S=v.width,N=v.height,P=v.layout,_=v.stackOffset,w=v.margin,A=b.dataStartIndex,D=b.dataEndIndex;if(b.updateId===void 0){var O=mE(v);return ye(ye(ye({},O),{},{updateId:0},p(ye(ye({props:v},O),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:j,prevWidth:S,prevHeight:N,prevLayout:P,prevStackOffset:_,prevMargin:w,prevChildren:C})}if(y!==b.prevDataKey||j!==b.prevData||S!==b.prevWidth||N!==b.prevHeight||P!==b.prevLayout||_!==b.prevStackOffset||!Uc(w,b.prevMargin)){var $=mE(v),U={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},V=ye(ye({},uE(b,j,P)),{},{updateId:b.updateId+1}),R=ye(ye(ye({},$),U),V);return ye(ye(ye({},R),p(ye({props:v},R),b)),{},{prevDataKey:y,prevData:j,prevWidth:S,prevHeight:N,prevLayout:P,prevStackOffset:_,prevMargin:w,prevChildren:C})}if(!sb(C,b.prevChildren)){var X,z,F,te,de=hs(C,Pd),ie=de&&(X=(z=de.props)===null||z===void 0?void 0:z.startIndex)!==null&&X!==void 0?X:A,fe=de&&(F=(te=de.props)===null||te===void 0?void 0:te.endIndex)!==null&&F!==void 0?F:D,ge=ie!==A||fe!==D,he=!ht(j),Te=he&&!ge?b.updateId:b.updateId+1;return ye(ye({updateId:Te},p(ye(ye({props:v},b),{},{updateId:Te,dataStartIndex:ie,dataEndIndex:fe}),b)),{},{prevChildren:C,dataStartIndex:ie,dataEndIndex:fe})}return null}),lt(g,"renderActiveDot",function(v,b,y){var j;return x.isValidElement(v)?j=x.cloneElement(v,b):ct(v)?j=v(b):j=L.createElement(Hh,b),L.createElement(It,{className:"recharts-active-dot",key:y},j)});var f=x.forwardRef(function(b,y){return L.createElement(g,Oc({},b,{ref:y}))});return f.displayName=g.displayName,f},ql=qv({chartName:"LineChart",GraphicalChild:qn,axisComponents:[{axisType:"xAxis",AxisComp:Pr},{axisType:"yAxis",AxisComp:Cr}],formatAxisMap:y2}),pa=qv({chartName:"BarChart",GraphicalChild:vr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Pr},{axisType:"yAxis",AxisComp:Cr}],formatAxisMap:y2}),fu=qv({chartName:"PieChart",GraphicalChild:cs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Mv},{axisType:"radiusAxis",AxisComp:Rv}],formatAxisMap:Lhe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),uNe=qv({chartName:"AreaChart",GraphicalChild:Uo,axisComponents:[{axisType:"xAxis",AxisComp:Pr},{axisType:"yAxis",AxisComp:Cr}],formatAxisMap:y2});const fE=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--accent))","hsl(var(--muted))"];function mNe(){const{products:e,orders:r,customers:n}=Mg(),s=L.useMemo(()=>{const i=new Date().getMonth(),o=new Date().getFullYear(),l=Array.from({length:6},(g,f)=>{const v=new Date(o,i-5+f),b=r.filter(y=>{const j=new Date(y.orderDate);return j.getMonth()===v.getMonth()&&j.getFullYear()===v.getFullYear()});return{month:v.toLocaleDateString("en-US",{month:"short"}),sales:b.reduce((y,j)=>y+j.total,0),orders:b.length,customers:new Set(b.map(y=>y.supplierId)).size}}),c=e.reduce((g,f)=>(g[f.category]=(g[f.category]||0)+1,g),{}),d=Object.entries(c).map(([g,f])=>({name:g,value:f,percentage:(f/e.length*100).toFixed(1)})),u=[{name:"In Stock",value:e.filter(g=>g.currentStock>10).length,color:"hsl(var(--primary))"},{name:"Low Stock",value:e.filter(g=>g.currentStock<=10&&g.currentStock>0).length,color:"hsl(var(--accent))"},{name:"Out of Stock",value:e.filter(g=>g.currentStock===0).length,color:"hsl(var(--destructive))"}],m=r.reduce((g,f)=>g+f.total,0),h=r.length>0?m/r.length:0,p=e.sort((g,f)=>(f.currentStock||0)-(g.currentStock||0)).slice(0,5);return{monthlyData:l,categoryChartData:d,stockData:u,totalRevenue:m,avgOrderValue:h,topProducts:p,totalOrders:r.length,totalCustomers:n.length,totalProducts:e.length}},[e,r,n]),a=({title:i,value:o,icon:l,trend:c,className:d=""})=>t.jsxs(T,{className:d,children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:i}),t.jsx(l,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:o}),c&&t.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[c>0?t.jsx(yt,{className:"h-4 w-4 text-green-500 mr-1"}):t.jsx(Ci,{className:"h-4 w-4 text-red-500 mr-1"}),Math.abs(c),"% from last month"]})]})]});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(a,{title:"Total Revenue",value:`$${s.totalRevenue.toLocaleString()}`,icon:mt,trend:8.5}),t.jsx(a,{title:"Total Orders",value:s.totalOrders.toLocaleString(),icon:zn,trend:12.3}),t.jsx(a,{title:"Total Customers",value:s.totalCustomers.toLocaleString(),icon:it,trend:5.7}),t.jsx(a,{title:"Total Products",value:s.totalProducts.toLocaleString(),icon:vt,trend:-2.1})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Sales Trend (Last 6 Months)"})}),t.jsx(E,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(uNe,{data:s.monthlyData,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Br,{formatter:(i,o)=>[o==="sales"?`$${i}`:i,o==="sales"?"Sales":"Orders"]}),t.jsx(Uo,{type:"monotone",dataKey:"sales",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.3})]})})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Product Categories"})}),t.jsx(E,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(fu,{children:[t.jsx(cs,{data:s.categoryChartData,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:i,percentage:o})=>`${i} (${o}%)`,children:s.categoryChartData.map((i,o)=>t.jsx(Fi,{fill:fE[o%fE.length]},`cell-${o}`))}),t.jsx(Br,{})]})})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Inventory Status"})}),t.jsx(E,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(pa,{data:s.stockData,layout:"horizontal",children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{type:"number"}),t.jsx(Cr,{dataKey:"name",type:"category",width:80}),t.jsx(Br,{}),t.jsx(vr,{dataKey:"value",fill:"hsl(var(--primary))"})]})})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Top Selling Products"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:s.topProducts.map((i,o)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(re,{variant:"secondary",children:o+1}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:i.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:i.category})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium",children:[i.currentStock||0," in stock"]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",i.sellingPrice]})]})]},i.id))})})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Orders & Customer Growth"})}),t.jsx(E,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(ql,{data:s.monthlyData,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Br,{}),t.jsx(qn,{type:"monotone",dataKey:"orders",stroke:"hsl(var(--primary))",strokeWidth:2,name:"Orders"}),t.jsx(qn,{type:"monotone",dataKey:"customers",stroke:"hsl(var(--accent))",strokeWidth:2,name:"New Customers"})]})})})]})]})}function hNe(e,r){return x.useReducer((n,s)=>r[n][s]??n,e)}var T2="ScrollArea",[Y5,jPe]=Gn(T2),[fNe,Ks]=Y5(T2),Q5=x.forwardRef((e,r)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=x.useState(null),[d,u]=x.useState(null),[m,h]=x.useState(null),[p,g]=x.useState(null),[f,v]=x.useState(null),[b,y]=x.useState(0),[j,C]=x.useState(0),[S,N]=x.useState(!1),[P,_]=x.useState(!1),w=Ot(r,D=>c(D)),A=Yg(a);return t.jsx(fNe,{scope:n,type:s,dir:A,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:m,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:f,onScrollbarYChange:v,scrollbarYEnabled:P,onScrollbarYEnabledChange:_,onCornerWidthChange:y,onCornerHeightChange:C,children:t.jsx(Je.div,{dir:A,...o,ref:w,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});Q5.displayName=T2;var Z5="ScrollAreaViewport",J5=x.forwardRef((e,r)=>{const{__scopeScrollArea:n,children:s,nonce:a,...i}=e,o=Ks(Z5,n),l=x.useRef(null),c=Ot(r,l,o.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(Je.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});J5.displayName=Z5;var ei="ScrollAreaScrollbar",E2=x.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=Ks(ei,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?t.jsx(pNe,{...s,ref:r,forceMount:n}):a.type==="scroll"?t.jsx(xNe,{...s,ref:r,forceMount:n}):a.type==="auto"?t.jsx(eL,{...s,ref:r,forceMount:n}):a.type==="always"?t.jsx(k2,{...s,ref:r}):null});E2.displayName=ei;var pNe=x.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=Ks(ei,e.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),t.jsx(Xn,{present:n||i,children:t.jsx(eL,{"data-state":i?"visible":"hidden",...s,ref:r})})}),xNe=x.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=Ks(ei,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Hv(()=>c("SCROLL_END"),100),[l,c]=hNe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let m=d[u];const h=()=>{const p=d[u];m!==p&&(c("SCROLL"),o()),m=p};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),t.jsx(Xn,{present:n||l!=="hidden",children:t.jsx(k2,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:r,onPointerEnter:Ye(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ye(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),eL=x.forwardRef((e,r)=>{const n=Ks(ei,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=x.useState(!1),l=e.orientation==="horizontal",c=Hv(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return $d(n.viewport,c),$d(n.content,c),t.jsx(Xn,{present:s||i,children:t.jsx(k2,{"data-state":i?"visible":"hidden",...a,ref:r})})}),k2=x.forwardRef((e,r)=>{const{orientation:n="vertical",...s}=e,a=Ks(ei,e.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=aL(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function m(h,p){return NNe(h,o.current,l,p)}return n==="horizontal"?t.jsx(gNe,{...u,ref:r,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=pE(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=m(h,a.dir))}}):n==="vertical"?t.jsx(vNe,{...u,ref:r,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=pE(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=m(h))}}):null}),gNe=x.forwardRef((e,r)=>{const{sizes:n,onSizesChange:s,...a}=e,i=Ks(ei,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),d=Ot(r,c,i.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),t.jsx(rL,{"data-orientation":"horizontal",...a,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Wv(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),oL(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:rg(o.paddingLeft),paddingEnd:rg(o.paddingRight)}})}})}),vNe=x.forwardRef((e,r)=>{const{sizes:n,onSizesChange:s,...a}=e,i=Ks(ei,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),d=Ot(r,c,i.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),t.jsx(rL,{"data-orientation":"vertical",...a,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Wv(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),oL(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:rg(o.paddingTop),paddingEnd:rg(o.paddingBottom)}})}})}),[yNe,tL]=Y5(ei),rL=x.forwardRef((e,r)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...h}=e,p=Ks(ei,n),[g,f]=x.useState(null),v=Ot(r,w=>f(w)),b=x.useRef(null),y=x.useRef(""),j=p.viewport,C=s.content-s.viewport,S=Gr(u),N=Gr(c),P=Hv(m,10);function _(w){if(b.current){const A=w.clientX-b.current.left,D=w.clientY-b.current.top;d({x:A,y:D})}}return x.useEffect(()=>{const w=A=>{const D=A.target;(g==null?void 0:g.contains(D))&&S(A,C)};return document.addEventListener("wheel",w,{passive:!1}),()=>document.removeEventListener("wheel",w,{passive:!1})},[j,g,C,S]),x.useEffect(N,[s,N]),$d(g,P),$d(p.content,P),t.jsx(yNe,{scope:n,scrollbar:g,hasThumb:a,onThumbChange:Gr(i),onThumbPointerUp:Gr(o),onThumbPositionChange:N,onThumbPointerDown:Gr(l),children:t.jsx(Je.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Ye(e.onPointerDown,w=>{w.button===0&&(w.target.setPointerCapture(w.pointerId),b.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),_(w))}),onPointerMove:Ye(e.onPointerMove,_),onPointerUp:Ye(e.onPointerUp,w=>{const A=w.target;A.hasPointerCapture(w.pointerId)&&A.releasePointerCapture(w.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),tg="ScrollAreaThumb",nL=x.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=tL(tg,e.__scopeScrollArea);return t.jsx(Xn,{present:n||a.hasThumb,children:t.jsx(jNe,{ref:r,...s})})}),jNe=x.forwardRef((e,r)=>{const{__scopeScrollArea:n,style:s,...a}=e,i=Ks(tg,n),o=tL(tg,n),{onThumbPositionChange:l}=o,c=Ot(r,m=>o.onThumbChange(m)),d=x.useRef(void 0),u=Hv(()=>{d.current&&(d.current(),d.current=void 0)},100);return x.useEffect(()=>{const m=i.viewport;if(m){const h=()=>{if(u(),!d.current){const p=wNe(m,l);d.current=p,l()}};return l(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[i.viewport,u,l]),t.jsx(Je.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Ye(e.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),g=m.clientX-p.left,f=m.clientY-p.top;o.onThumbPointerDown({x:g,y:f})}),onPointerUp:Ye(e.onPointerUp,o.onThumbPointerUp)})});nL.displayName=tg;var O2="ScrollAreaCorner",sL=x.forwardRef((e,r)=>{const n=Ks(O2,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?t.jsx(bNe,{...e,ref:r}):null});sL.displayName=O2;var bNe=x.forwardRef((e,r)=>{const{__scopeScrollArea:n,...s}=e,a=Ks(O2,n),[i,o]=x.useState(0),[l,c]=x.useState(0),d=!!(i&&l);return $d(a.scrollbarX,()=>{var m;const u=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),$d(a.scrollbarY,()=>{var m;const u=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?t.jsx(Je.div,{...s,ref:r,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function rg(e){return e?parseInt(e,10):0}function aL(e,r){const n=e/r;return isNaN(n)?0:n}function Wv(e){const r=aL(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*r;return Math.max(s,18)}function NNe(e,r,n,s="ltr"){const a=Wv(n),i=a/2,o=r||i,l=a-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,m=s==="ltr"?[0,u]:[u*-1,0];return iL([c,d],m)(e)}function pE(e,r,n="ltr"){const s=Wv(r),a=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-a,o=r.content-r.viewport,l=i-s,c=n==="ltr"?[0,o]:[o*-1,0],d=Y0(e,c);return iL([0,o],[0,l])(d)}function iL(e,r){return n=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const s=(r[1]-r[0])/(e[1]-e[0]);return r[0]+s*(n-e[0])}}function oL(e,r){return e>0&&e<r}var wNe=(e,r=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&r(),n=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function Hv(e,r){const n=Gr(e),s=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),x.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,r)},[n,r])}function $d(e,r){const n=Gr(r);Lr(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,n])}var lL=Q5,SNe=J5,PNe=sL;const cL=x.forwardRef(({className:e,children:r,...n},s)=>t.jsxs(lL,{ref:s,className:Ee("relative overflow-hidden",e),...n,children:[t.jsx(SNe,{className:"h-full w-full rounded-[inherit]",children:r}),t.jsx(dL,{}),t.jsx(PNe,{})]}));cL.displayName=lL.displayName;const dL=x.forwardRef(({className:e,orientation:r="vertical",...n},s)=>t.jsx(E2,{ref:s,orientation:r,className:Ee("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:t.jsx(nL,{className:"relative flex-1 rounded-full bg-border"})}));dL.displayName=E2.displayName;var Kv="Popover",[uL,bPe]=Gn(Kv,[Yd]),Kh=Yd(),[CNe,Vo]=uL(Kv),mL=e=>{const{__scopePopover:r,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Kh(r),c=x.useRef(null),[d,u]=x.useState(!1),[m,h]=ga({prop:s,defaultProp:a??!1,onChange:i,caller:Kv});return t.jsx(e1,{...l,children:t.jsx(CNe,{scope:r,contentId:ma(),triggerRef:c,open:m,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:d,onCustomAnchorAdd:x.useCallback(()=>u(!0),[]),onCustomAnchorRemove:x.useCallback(()=>u(!1),[]),modal:o,children:n})})};mL.displayName=Kv;var hL="PopoverAnchor",_Ne=x.forwardRef((e,r)=>{const{__scopePopover:n,...s}=e,a=Vo(hL,n),i=Kh(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),t.jsx(Cg,{...i,...s,ref:r})});_Ne.displayName=hL;var fL="PopoverTrigger",pL=x.forwardRef((e,r)=>{const{__scopePopover:n,...s}=e,a=Vo(fL,n),i=Kh(n),o=Ot(r,a.triggerRef),l=t.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":jL(a.open),...s,ref:o,onClick:Ye(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:t.jsx(Cg,{asChild:!0,...i,children:l})});pL.displayName=fL;var R2="PopoverPortal",[ANe,TNe]=uL(R2,{forceMount:void 0}),xL=e=>{const{__scopePopover:r,forceMount:n,children:s,container:a}=e,i=Vo(R2,r);return t.jsx(ANe,{scope:r,forceMount:n,children:t.jsx(Xn,{present:n||i.open,children:t.jsx(Th,{asChild:!0,container:a,children:s})})})};xL.displayName=R2;var Ld="PopoverContent",gL=x.forwardRef((e,r)=>{const n=TNe(Ld,e.__scopePopover),{forceMount:s=n.forceMount,...a}=e,i=Vo(Ld,e.__scopePopover);return t.jsx(Xn,{present:s||i.open,children:i.modal?t.jsx(kNe,{...a,ref:r}):t.jsx(ONe,{...a,ref:r})})});gL.displayName=Ld;var ENe=kl("PopoverContent.RemoveScroll"),kNe=x.forwardRef((e,r)=>{const n=Vo(Ld,e.__scopePopover),s=x.useRef(null),a=Ot(r,s),i=x.useRef(!1);return x.useEffect(()=>{const o=s.current;if(o)return c1(o)},[]),t.jsx(Lg,{as:ENe,allowPinchZoom:!0,children:t.jsx(vL,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ye(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ye(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ONe=x.forwardRef((e,r)=>{const n=Vo(Ld,e.__scopePopover),s=x.useRef(!1),a=x.useRef(!1);return t.jsx(vL,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),vL=x.forwardRef((e,r)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=e,h=Vo(Ld,n),p=Kh(n);return l1(),t.jsx(Ig,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:t.jsx(qd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:t.jsx(t1,{"data-state":jL(h.open),role:"dialog",id:h.contentId,...p,...m,ref:r,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),yL="PopoverClose",RNe=x.forwardRef((e,r)=>{const{__scopePopover:n,...s}=e,a=Vo(yL,n);return t.jsx(Je.button,{type:"button",...s,ref:r,onClick:Ye(e.onClick,()=>a.onOpenChange(!1))})});RNe.displayName=yL;var DNe="PopoverArrow",MNe=x.forwardRef((e,r)=>{const{__scopePopover:n,...s}=e,a=Kh(n);return t.jsx(r1,{...a,...s,ref:r})});MNe.displayName=DNe;function jL(e){return e?"open":"closed"}var INe=mL,$Ne=pL,LNe=xL,bL=gL;const FNe=INe,zNe=$Ne,NL=x.forwardRef(({className:e,align:r="center",sideOffset:n=4,...s},a)=>t.jsx(LNe,{children:t.jsx(bL,{ref:a,align:r,sideOffset:n,className:Ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));NL.displayName=bL.displayName;function yn(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function BNe(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}const Ff=43200,xE=1440;let UNe={};function VNe(){return UNe}function gE(e){const r=yn(e),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+e-+n}function mp(e,r){const n=yn(e),s=yn(r),a=n.getTime()-s.getTime();return a<0?-1:a>0?1:a}function qNe(e){return BNe(e,Date.now())}function WNe(e,r){const n=yn(e),s=yn(r),a=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return a*12+i}function HNe(e){return r=>{const s=(e?Math[e]:Math.trunc)(r);return s===0?0:s}}function KNe(e,r){return+yn(e)-+yn(r)}function GNe(e){const r=yn(e);return r.setHours(23,59,59,999),r}function XNe(e){const r=yn(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function YNe(e){const r=yn(e);return+GNe(r)==+XNe(r)}function QNe(e,r){const n=yn(e),s=yn(r),a=mp(n,s),i=Math.abs(WNe(n,s));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let l=mp(n,s)===-a;YNe(yn(e))&&i===1&&mp(e,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function ZNe(e,r,n){const s=KNe(e,r)/1e3;return HNe(n==null?void 0:n.roundingMethod)(s)}const JNe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ewe=(e,r,n)=>{let s;const a=JNe[e];return typeof a=="string"?s=a:r===1?s=a.one:s=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function jj(e){return(r={})=>{const n=r.width?String(r.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const twe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rwe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nwe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},swe={date:jj({formats:twe,defaultWidth:"full"}),time:jj({formats:rwe,defaultWidth:"full"}),dateTime:jj({formats:nwe,defaultWidth:"full"})},awe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iwe=(e,r,n,s)=>awe[e];function Lu(e){return(r,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return a[i]}}const owe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lwe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hwe=(e,r)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fwe={ordinalNumber:hwe,era:Lu({values:owe,defaultWidth:"wide"}),quarter:Lu({values:lwe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Lu({values:cwe,defaultWidth:"wide"}),day:Lu({values:dwe,defaultWidth:"wide"}),dayPeriod:Lu({values:uwe,defaultWidth:"wide",formattingValues:mwe,defaultFormattingWidth:"wide"})};function Fu(e){return(r,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=r.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?xwe(l,m=>m.test(o)):pwe(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=r.slice(o.length);return{value:d,rest:u}}}function pwe(e,r){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r(e[n]))return n}function xwe(e,r){for(let n=0;n<e.length;n++)if(r(e[n]))return n}function gwe(e){return(r,n={})=>{const s=r.match(e.matchPattern);if(!s)return null;const a=s[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=r.slice(a.length);return{value:o,rest:l}}}const vwe=/^(\d+)(th|st|nd|rd)?/i,ywe=/\d+/i,jwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bwe={any:[/^b/i,/^(a|c)/i]},Nwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wwe={any:[/1/i,/2/i,/3/i,/4/i]},Swe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_we={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Awe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Twe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ewe={ordinalNumber:gwe({matchPattern:vwe,parsePattern:ywe,valueCallback:e=>parseInt(e,10)}),era:Fu({matchPatterns:jwe,defaultMatchWidth:"wide",parsePatterns:bwe,defaultParseWidth:"any"}),quarter:Fu({matchPatterns:Nwe,defaultMatchWidth:"wide",parsePatterns:wwe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fu({matchPatterns:Swe,defaultMatchWidth:"wide",parsePatterns:Pwe,defaultParseWidth:"any"}),day:Fu({matchPatterns:Cwe,defaultMatchWidth:"wide",parsePatterns:_we,defaultParseWidth:"any"}),dayPeriod:Fu({matchPatterns:Awe,defaultMatchWidth:"any",parsePatterns:Twe,defaultParseWidth:"any"})},kwe={code:"en-US",formatDistance:ewe,formatLong:swe,formatRelative:iwe,localize:fwe,match:Ewe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Owe(e,r,n){const s=VNe(),a=(n==null?void 0:n.locale)??s.locale??kwe,i=2520,o=mp(e,r);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,d;o>0?(c=yn(r),d=yn(e)):(c=yn(e),d=yn(r));const u=ZNe(d,c),m=(gE(d)-gE(c))/1e3,h=Math.round((u-m)/60);let p;if(h<2)return n!=null&&n.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<xE){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Ff){const g=Math.round(h/xE);return a.formatDistance("xDays",g,l)}else if(h<Ff*2)return p=Math.round(h/Ff),a.formatDistance("aboutXMonths",p,l)}if(p=QNe(d,c),p<12){const g=Math.round(h/Ff);return a.formatDistance("xMonths",g,l)}else{const g=p%12,f=Math.trunc(p/12);return g<3?a.formatDistance("aboutXYears",f,l):g<9?a.formatDistance("overXYears",f,l):a.formatDistance("almostXYears",f+1,l)}}function Rwe(e,r){return Owe(e,qNe(e),r)}const Dwe={success:ut,error:Si,warning:tr,info:vB},Mwe={success:"text-green-500",error:"text-red-500",warning:"text-yellow-500",info:"text-blue-500"};function Iwe(){const{notifications:e,unreadCount:r,markAsRead:n,clearNotification:s,clearAllNotifications:a}=Aq(),i=o=>{o.read||n(o.id),o.action&&o.action.onClick()};return t.jsxs(FNe,{children:[t.jsx(zNe,{asChild:!0,children:t.jsxs(k,{variant:"ghost",size:"sm",className:"relative",children:[t.jsx(id,{className:"h-4 w-4"}),r>0&&t.jsx(re,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center text-xs p-0",children:r>99?"99+":r})]})}),t.jsx(NL,{className:"w-80 p-0",align:"end",children:t.jsxs(T,{children:[t.jsx(B,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(q,{className:"text-sm font-medium",children:"Notifications"}),e.length>0&&t.jsx(k,{variant:"ghost",size:"sm",onClick:a,className:"text-xs",children:"Clear All"})]})}),t.jsx(E,{className:"p-0",children:e.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(id,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No notifications"})]}):t.jsx(cL,{className:"h-80",children:t.jsx("div",{className:"space-y-1 p-2",children:e.map(o=>{const l=Dwe[o.type],c=Mwe[o.type];return t.jsx("div",{className:`p-3 rounded-lg cursor-pointer transition-colors ${o.read?"bg-background hover:bg-muted/50":"bg-muted hover:bg-muted/80"}`,onClick:()=>i(o),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(l,{className:`h-4 w-4 mt-0.5 ${c}`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium leading-tight",children:o.title}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1 leading-relaxed",children:o.message}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Rwe(o.timestamp,{addSuffix:!0})})]}),t.jsx(k,{variant:"ghost",size:"sm",onClick:d=>{d.stopPropagation(),s(o.id)},className:"h-6 w-6 p-0 hover:bg-destructive/10",children:t.jsx(Hd,{className:"h-3 w-3"})})]}),o.action&&t.jsx(k,{variant:"outline",size:"sm",className:"mt-2 h-6 text-xs",onClick:d=>{d.stopPropagation(),o.action.onClick()},children:o.action.label})]}),!o.read&&t.jsx("div",{className:"h-2 w-2 bg-primary rounded-full mt-1"})]})},o.id)})})})})]})})]})}const $we=e=>{const r={PHARMACY_OWNER:{title:"Pharmacy Owner Dashboard",subtitle:"Complete business overview and strategic insights",stats:[{name:"Total Revenue",value:"$124,500",change:"+12.5%",icon:mt,color:"text-green-600",up:!0},{name:"Active Customers",value:"2,847",change:"+8.2%",icon:it,color:"text-blue-600",up:!0},{name:"Profit Margin",value:"23.4%",change:"+2.1%",icon:yt,color:"text-purple-600",up:!0},{name:"Staff Performance",value:"94%",change:"+3.0%",icon:ca,color:"text-indigo-600",up:!0}],sections:["financial","inventory","staff","alerts"]},PHARMACY_MANAGER:{title:"Manager Dashboard",subtitle:"Operational oversight and team management",stats:[{name:"Daily Orders",value:"247",change:"+5.2%",icon:zn,color:"text-green-600",up:!0},{name:"Inventory Value",value:"$89,340",change:"-2.1%",icon:vt,color:"text-orange-600",up:!1},{name:"Staff Online",value:"12/15",change:"80%",icon:it,color:"text-blue-600",up:!0},{name:"Efficiency",value:"87%",change:"+4.3%",icon:ca,color:"text-purple-600",up:!0}],sections:["operations","inventory","staff","alerts"]},SENIOR_PHARMACIST:{title:"Senior Pharmacist Dashboard",subtitle:"Clinical oversight and prescription management",stats:[{name:"Prescriptions",value:"156",change:"+7.1%",icon:$t,color:"text-green-600",up:!0},{name:"Consultations",value:"43",change:"+12.3%",icon:it,color:"text-blue-600",up:!0},{name:"Compliance Score",value:"98%",change:"+0.5%",icon:ut,color:"text-green-600",up:!0},{name:"Critical Alerts",value:"3",change:"-2",icon:tr,color:"text-red-600",up:!0}],sections:["prescriptions","compliance","alerts"]},PHARMACY_TECHNICIAN:{title:"Technician Dashboard",subtitle:"Daily operations and inventory management",stats:[{name:"Items Processed",value:"89",change:"+15.2%",icon:vt,color:"text-green-600",up:!0},{name:"Orders Fulfilled",value:"34",change:"+8.7%",icon:ut,color:"text-blue-600",up:!0},{name:"Inventory Updates",value:"127",change:"+22.1%",icon:ca,color:"text-purple-600",up:!0},{name:"Customer Assists",value:"18",change:"+5.9%",icon:it,color:"text-indigo-600",up:!0}],sections:["tasks","inventory","alerts"]},CASHIER:{title:"Cashier Dashboard",subtitle:"Sales transactions and customer service",stats:[{name:"Transactions",value:"67",change:"+11.2%",icon:zn,color:"text-green-600",up:!0},{name:"Revenue",value:"$3,247",change:"+18.5%",icon:mt,color:"text-blue-600",up:!0},{name:"Customers Served",value:"89",change:"+9.4%",icon:it,color:"text-purple-600",up:!0},{name:"Avg. Transaction",value:"$48.47",change:"+6.7%",icon:yt,color:"text-indigo-600",up:!0}],sections:["sales","customers"]},SUPPLIER_ADMIN:{title:"Supplier Admin Dashboard",subtitle:"Complete supplier portal management",stats:[{name:"Active Clients",value:"42",change:"+3",icon:it,color:"text-green-600",up:!0},{name:"Orders Processed",value:"186",change:"+12.4%",icon:zn,color:"text-blue-600",up:!0},{name:"Revenue",value:"$67,890",change:"+8.7%",icon:mt,color:"text-purple-600",up:!0},{name:"Delivery Rate",value:"96%",change:"+2.1%",icon:hn,color:"text-indigo-600",up:!0}],sections:["clients","orders","deliveries"]},SALES_MANAGER:{title:"Sales Manager Dashboard",subtitle:"Territory and client relationship management",stats:[{name:"Territory Sales",value:"$45,670",change:"+15.3%",icon:mt,color:"text-green-600",up:!0},{name:"Active Clients",value:"28",change:"+4",icon:it,color:"text-blue-600",up:!0},{name:"Conversion Rate",value:"67%",change:"+5.2%",icon:yt,color:"text-purple-600",up:!0},{name:"Pipeline Value",value:"$78,920",change:"+22.1%",icon:ca,color:"text-indigo-600",up:!0}],sections:["territory","clients","performance"]},ACCOUNT_REPRESENTATIVE:{title:"Account Representative Dashboard",subtitle:"Client management and order processing",stats:[{name:"Assigned Clients",value:"15",change:"+2",icon:it,color:"text-green-600",up:!0},{name:"Orders Managed",value:"73",change:"+18.9%",icon:zn,color:"text-blue-600",up:!0},{name:"Client Satisfaction",value:"92%",change:"+3.4%",icon:ut,color:"text-purple-600",up:!0},{name:"Response Time",value:"1.2h",change:"-0.3h",icon:Ut,color:"text-green-600",up:!0}],sections:["clients","orders","support"]},DELIVERY_COORDINATOR:{title:"Delivery Coordinator Dashboard",subtitle:"Route planning and delivery management",stats:[{name:"Active Routes",value:"8",change:"+1",icon:SB,color:"text-green-600",up:!0},{name:"Deliveries Today",value:"47",change:"+12.7%",icon:hn,color:"text-blue-600",up:!0},{name:"On-Time Rate",value:"94%",change:"+2.8%",icon:ut,color:"text-purple-600",up:!0},{name:"Drivers Active",value:"6/8",change:"75%",icon:Bw,color:"text-indigo-600",up:!0}],sections:["routes","deliveries","drivers"]}};return r[e]||r.CASHIER};function Lwe(){const[e,r]=x.useState(null);if(x.useEffect(()=>{const a=localStorage.getItem("currentUser");a&&r(JSON.parse(a))},[]),!e)return t.jsx("div",{children:"Loading..."});const n=$we(e.role),s=a=>{switch(a){case"financial":return t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Financial Overview"}),t.jsx(kt,{children:"Revenue and profit analysis"})]}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Monthly Revenue"}),t.jsx("span",{className:"font-semibold text-green-600",children:"$124,500"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Operating Costs"}),t.jsx("span",{className:"font-semibold text-red-600",children:"$95,300"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Net Profit"}),t.jsx("span",{className:"font-semibold text-blue-600",children:"$29,200"})]})]})})]});case"operations":return t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Daily Operations"}),t.jsx(kt,{children:"Today's operational metrics"})]}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Orders Processed"}),t.jsx(re,{variant:"secondary",children:"247"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Returns Handled"}),t.jsx(re,{variant:"secondary",children:"12"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Inventory Updates"}),t.jsx(re,{variant:"secondary",children:"89"})]})]})})]});case"prescriptions":return t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Prescription Management"}),t.jsx(kt,{children:"Clinical oversight dashboard"})]}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Pending Reviews"}),t.jsx(re,{variant:"destructive",children:"8"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Approved Today"}),t.jsx(re,{variant:"secondary",children:"156"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Consultations"}),t.jsx(re,{variant:"outline",children:"43"})]})]})})]});case"sales":return t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Today's Sales"}),t.jsx(kt,{children:"Transaction summary"})]}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Total Transactions"}),t.jsx("span",{className:"font-semibold",children:"67"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Cash Sales"}),t.jsx("span",{className:"font-semibold",children:"$1,847"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Card Sales"}),t.jsx("span",{className:"font-semibold",children:"$1,400"})]})]})})]});case"inventory":return t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Inventory Status"}),t.jsx(kt,{children:"Stock levels and alerts"})]}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Low Stock Items"}),t.jsx(re,{variant:"destructive",children:"12"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Expiring Soon"}),t.jsx(re,{variant:"outline",children:"8"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Out of Stock"}),t.jsx(re,{variant:"destructive",children:"3"})]})]})})]});case"alerts":return t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"System Alerts"}),t.jsx(kt,{children:"Important notifications"})]}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[t.jsx(tr,{className:"w-4 h-4 text-red-500"}),t.jsx("span",{children:"3 medications expire within 7 days"})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[t.jsx(tr,{className:"w-4 h-4 text-orange-500"}),t.jsx("span",{children:"Low stock: Acetaminophen 500mg"})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[t.jsx(ut,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{children:"System backup completed"})]})]})})]});default:return null}};return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n.title}),t.jsx("p",{className:"text-muted-foreground mt-2",children:n.subtitle}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Welcome back, ",e.name," • ",new Date().toLocaleDateString()]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(k,{variant:"outline",children:[t.jsx(ca,{className:"w-4 h-4 mr-2"}),"Quick Actions"]}),t.jsxs(k,{children:[t.jsx($t,{className:"w-4 h-4 mr-2"}),"Generate Report"]})]})]}),t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:n.stats.map(a=>{const i=a.icon;return t.jsxs(T,{children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:a.name}),t.jsx(i,{className:`h-4 w-4 ${a.color}`})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:a.value}),t.jsxs("p",{className:`text-xs flex items-center ${a.up?"text-green-600":"text-red-600"}`,children:[a.up?t.jsx(yt,{className:"w-3 h-3 mr-1"}):t.jsx(Ci,{className:"w-3 h-3 mr-1"}),a.change," from yesterday"]})]})]},a.name)})}),t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.sections.map(a=>t.jsx("div",{children:s(a)},a))}),t.jsxs("div",{className:"mt-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"Analytics & Insights"}),t.jsx(Iwe,{})]}),t.jsx(mNe,{})]})]})}const Fwe=[{month:"Jan",sales:12450,orders:145,profit:3680},{month:"Feb",sales:13200,orders:156,profit:3920},{month:"Mar",sales:11800,orders:138,profit:3540},{month:"Apr",sales:14500,orders:167,profit:4350},{month:"May",sales:15200,orders:178,profit:4560},{month:"Jun",sales:13900,orders:162,profit:4170}],zwe=[{name:"Ibuprofen 400mg",sales:2450,units:340,category:"Pain Relief"},{name:"Vitamin D3",sales:1890,units:210,category:"Vitamins"},{name:"Amoxicillin 500mg",sales:1650,units:132,category:"Antibiotics"},{name:"Blood Pressure Monitor",sales:1420,units:89,category:"Devices"},{name:"Insulin Pen",sales:1280,units:67,category:"Diabetes"}],Bwe=[{name:"MedSupply Co",orders:45,onTime:42,rating:4.8,value:12450},{name:"PharmaDist",orders:32,onTime:30,rating:4.6,value:8900},{name:"HealthWare",orders:28,onTime:27,rating:4.9,value:7650},{name:"MedTech",orders:15,onTime:13,rating:4.3,value:4200},{name:"DiabetesCare",orders:22,onTime:21,rating:4.7,value:6800}];function Uwe(){return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Reports & Analytics"}),t.jsx("p",{className:"text-muted-foreground",children:"Business insights and performance analytics"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{variant:"outline",children:[t.jsx(Rt,{size:16,className:"mr-2"}),"Date Range"]}),t.jsxs(k,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Report"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Revenue"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"$15,200"}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(yt,{size:10,className:"mr-1"}),"+8.5% from last month"]})]}),t.jsx(mt,{className:"text-success",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"178"}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(yt,{size:10,className:"mr-1"}),"+12% from last month"]})]}),t.jsx(zn,{className:"text-primary",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Products Sold"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"2,847"}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(yt,{size:10,className:"mr-1"}),"+15% from last month"]})]}),t.jsx(vt,{className:"text-warning",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Profit Margin"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"28.5%"}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(yt,{size:10,className:"mr-1"}),"+2.1% from last month"]})]}),t.jsx(ar,{className:"text-primary",size:24})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(ar,{className:"mr-2 text-primary",size:20}),"6-Month Sales Trend"]})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:Fwe.map(e=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 text-sm font-medium text-panel-foreground",children:e.month}),t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${e.sales/16e3*100}%`}})})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium text-panel-foreground",children:["$",e.sales.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.orders," orders"]})]})]},e.month))})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(vt,{className:"mr-2 text-warning",size:20}),"Top Selling Products"]})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-3",children:zwe.map((e,r)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold text-sm",children:r+1}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-panel-foreground",children:e.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e.category})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium text-panel-foreground",children:["$",e.sales]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.units," units"]})]})]},e.name))})})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(it,{className:"mr-2 text-success",size:20}),"Supplier Performance Analysis"]})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Supplier"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Total Orders"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"On-Time Delivery"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Rating"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Total Value"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Performance"})]})}),t.jsx("tbody",{children:Bwe.map(e=>{const r=Math.round(e.onTime/e.orders*100),n=r>=95?"text-success":r>=85?"text-warning":"text-destructive";return t.jsxs("tr",{className:"border-b border-border hover:bg-panel transition-colors",children:[t.jsx("td",{className:"py-3 px-4 font-medium text-foreground",children:e.name}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:e.orders}),t.jsxs("td",{className:"py-3 px-4",children:[t.jsxs("span",{className:"text-foreground",children:[e.onTime,"/",e.orders]}),t.jsxs("span",{className:`ml-2 text-sm ${n}`,children:["(",r,"%)"]})]}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(On,{className:"w-4 h-4 fill-warning text-warning mr-1"}),t.jsx("span",{className:"text-foreground",children:e.rating})]})}),t.jsxs("td",{className:"py-3 px-4 font-medium text-foreground",children:["$",e.value.toLocaleString()]}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(re,{variant:r>=95?"default":r>=85?"secondary":"destructive",children:r>=95?"Excellent":r>=85?"Good":"Needs Improvement"})})]},e.name)})})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsxs(E,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx($t,{className:"mr-2 text-primary",size:20}),t.jsx("h3",{className:"font-medium text-card-foreground",children:"Inventory Report"})]}),t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(xt,{size:14})})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Complete inventory analysis with stock levels, expiry dates, and reorder recommendations."}),t.jsxs(k,{variant:"outline",size:"sm",className:"w-full",children:[t.jsx(bt,{size:14,className:"mr-2"}),"Generate Report"]})]})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsxs(E,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ar,{className:"mr-2 text-success",size:20}),t.jsx("h3",{className:"font-medium text-card-foreground",children:"Financial Report"})]}),t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(xt,{size:14})})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Monthly financial summary including revenue, expenses, profit margins, and cash flow."}),t.jsxs(k,{variant:"outline",size:"sm",className:"w-full",children:[t.jsx(bt,{size:14,className:"mr-2"}),"Generate Report"]})]})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsxs(E,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(tr,{className:"mr-2 text-warning",size:20}),t.jsx("h3",{className:"font-medium text-card-foreground",children:"Compliance Report"})]}),t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(xt,{size:14})})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Regulatory compliance status, expiry tracking, and audit trail documentation."}),t.jsxs(k,{variant:"outline",size:"sm",className:"w-full",children:[t.jsx(bt,{size:14,className:"mr-2"}),"Generate Report"]})]})})]})]})}var Vwe="Label",wL=x.forwardRef((e,r)=>t.jsx(Je.label,{...e,ref:r,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));wL.displayName=Vwe;var SL=wL;const qwe=Gl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),M=x.forwardRef(({className:e,...r},n)=>t.jsx(SL,{ref:n,className:Ee(qwe(),e),...r}));M.displayName=SL.displayName;function Wwe(){const[e,r]=x.useState(""),[n,s]=x.useState(""),[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,d]=x.useState(!1),u=qs(),{toast:m}=Tt();x.useEffect(()=>{const p=localStorage.getItem("currentUser"),g=localStorage.getItem("access_token");if(p&&g){JSON.parse(p).role==="super_admin"?u("/admin/dashboard",{replace:!0}):u("/",{replace:!0});return}const f=localStorage.getItem("rememberedEmail"),v=localStorage.getItem("rememberedPassword");f&&(r(f),d(!0)),v&&s(v);const b=document.getElementById("particles");if(!b)return;const y=b.getContext("2d");if(!y)return;b.width=window.innerWidth,b.height=window.innerHeight;const j=[];for(let N=0;N<50;N++)j.push({x:Math.random()*b.width,y:Math.random()*b.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*2+1});function C(){y.clearRect(0,0,b.width,b.height),j.forEach(N=>{N.x+=N.vx,N.y+=N.vy,(N.x<0||N.x>b.width)&&(N.vx*=-1),(N.y<0||N.y>b.height)&&(N.vy*=-1),y.beginPath(),y.arc(N.x,N.y,N.size,0,Math.PI*2),y.fillStyle="rgba(148, 163, 184, 0.3)",y.fill()}),requestAnimationFrame(C)}C();const S=()=>{b.width=window.innerWidth,b.height=window.innerHeight};return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const h=async p=>{var g,f;p.preventDefault(),l(!0);try{const v=await vM.login(e,n);if(v.success&&v.data){const{user:b,tokens:y}=v.data;localStorage.setItem("access_token",y.access),localStorage.setItem("refresh_token",y.refresh),localStorage.setItem("currentUser",JSON.stringify(b)),localStorage.setItem("userEmail",b.email),b.organization_id&&localStorage.setItem("selectedOrganization",b.organization_id),c?(localStorage.setItem("rememberedEmail",e),localStorage.setItem("rememberedPassword",n)):(localStorage.removeItem("rememberedEmail"),localStorage.removeItem("rememberedPassword")),m({title:"Login Successful",description:`Welcome back, ${b.first_name} ${b.last_name}!`}),setTimeout(()=>{b.role==="super_admin"?window.location.href="/admin/dashboard":window.location.href="/"},100)}else m({title:"Authentication Failed",description:v.message||"Please check your credentials and try again",variant:"destructive"})}catch(v){console.error("Login error:",v),m({title:"Connection Error",description:((f=(g=v.response)==null?void 0:g.data)==null?void 0:f.message)||"Unable to connect. Please try again.",variant:"destructive"})}l(!1)};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 to-slate-900 flex relative overflow-hidden",children:[t.jsx("canvas",{id:"particles",className:"absolute inset-0 pointer-events-none"}),t.jsx("div",{className:"hidden lg:flex lg:w-1/2 relative items-center justify-center p-12",children:t.jsxs("div",{className:"relative z-10 text-center space-y-8",children:[t.jsxs("div",{className:"relative w-80 h-80 mx-auto",children:[t.jsx("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-20 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-500 ${o?"bg-white/40 scale-110 shadow-2xl shadow-white/20":"bg-white/20"}`,children:t.jsx(vt,{className:`w-10 h-10 text-white transition-all duration-300 ${o?"animate-pulse":""}`})}),t.jsxs("div",{className:`absolute inset-0 transition-all duration-1000 ease-out ${o?"animate-spin":""}`,style:{animationDuration:o?"0.8s":"2s",animationTimingFunction:o?"linear":"cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:[t.jsx("div",{className:`absolute top-8 left-1/2 transform -translate-x-1/2 w-16 h-16 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-300 ${o?"bg-blue-500/50 scale-110 shadow-lg shadow-blue-500/30":"bg-blue-500/30"}`,children:t.jsx(PB,{className:"w-8 h-8 text-white"})}),t.jsx("div",{className:`absolute top-1/2 right-8 transform -translate-y-1/2 w-14 h-14 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-300 ${o?"bg-green-500/50 scale-110 shadow-lg shadow-green-500/30":"bg-green-500/30"}`,children:t.jsx(Va,{className:"w-7 h-7 text-white"})}),t.jsx("div",{className:`absolute bottom-8 left-1/2 transform -translate-x-1/2 w-16 h-16 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-300 ${o?"bg-red-500/50 scale-110 shadow-lg shadow-red-500/30":"bg-red-500/30"}`,children:t.jsx(Fw,{className:"w-8 h-8 text-white"})}),t.jsx("div",{className:`absolute top-1/2 left-8 transform -translate-y-1/2 w-14 h-14 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-300 ${o?"bg-purple-500/50 scale-110 shadow-lg shadow-purple-500/30":"bg-purple-500/30"}`,children:t.jsx(vt,{className:"w-7 h-7 text-white"})})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h1",{className:"text-4xl font-bold text-white",children:"drpharmas"}),t.jsx("p",{className:"text-xl text-slate-300",children:"Advanced Healthcare Management"}),t.jsx("p",{className:"text-slate-400 max-w-md mx-auto",children:"Streamline your pharmacy operations with our comprehensive management system designed for modern healthcare providers."})]})]})}),t.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 relative z-10",children:t.jsxs("div",{className:"w-full max-w-md space-y-8",children:[t.jsxs("div",{className:"lg:hidden text-center space-y-4",children:[t.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto",children:t.jsx(vt,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-2xl font-bold text-white",children:"drpharmas"})]}),t.jsxs("div",{className:"space-y-6 p-8 border border-white/20 rounded-lg backdrop-blur-sm",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Welcome Back"}),t.jsx("p",{className:"text-slate-300",children:"Sign in to access your dashboard"})]}),t.jsxs("form",{onSubmit:h,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"email",className:"text-sm font-medium text-slate-200",children:"Email Address"}),t.jsx(J,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:p=>r(p.target.value),className:"px-4 h-12 bg-white/10 backdrop-blur-sm border-white/20 text-white placeholder:text-slate-400 focus:border-white/40 focus:bg-white/20",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"password",className:"text-sm font-medium text-slate-200",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(J,{id:"password",type:a?"text":"password",placeholder:"Enter your password",value:n,onChange:p=>s(p.target.value),className:"px-4 pr-12 h-12 bg-white/10 backdrop-blur-sm border-white/20 text-white placeholder:text-slate-400 focus:border-white/40 focus:bg-white/20",required:!0}),t.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:a?t.jsx(km,{size:18}):t.jsx(xt,{size:18})})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"rememberMe",checked:c,onChange:p=>d(p.target.checked),className:"w-4 h-4 text-white bg-white/10 border-white/20 rounded focus:ring-white/40"}),t.jsx(M,{htmlFor:"rememberMe",className:"text-sm text-slate-300 cursor-pointer",children:"Remember my credentials"})]}),t.jsx(k,{type:"submit",className:"w-full h-12 bg-white text-slate-900 hover:bg-slate-100 font-semibold text-lg",disabled:o,children:o?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ir,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Signing In..."})]}):"Sign In"})]})]})]})})]})}const Hwe=()=>{const e=Ii();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),t.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),t.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},rt=OD,Ft=MW,Kwe=RD,PL=x.forwardRef(({className:e,...r},n)=>t.jsx(zg,{ref:n,className:Ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));PL.displayName=zg.displayName;const nt=x.forwardRef(({className:e,children:r,...n},s)=>t.jsxs(Kwe,{children:[t.jsx(PL,{}),t.jsxs(Bg,{ref:s,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[r,t.jsxs(DD,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[t.jsx(Hd,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nt.displayName=Bg.displayName;const st=({className:e,...r})=>t.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});st.displayName="DialogHeader";const jr=({className:e,...r})=>t.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});jr.displayName="DialogFooter";const at=x.forwardRef(({className:e,...r},n)=>t.jsx(Ug,{ref:n,className:Ee("text-lg font-semibold leading-none tracking-tight",e),...r}));at.displayName=Ug.displayName;const Pt=x.forwardRef(({className:e,...r},n)=>t.jsx(Vg,{ref:n,className:Ee("text-sm text-muted-foreground",e),...r}));Pt.displayName=Vg.displayName;function Gwe({isOpen:e,onClose:r,receiptData:n}){const[s,a]=x.useState({business_name:"",business_address:"",business_phone:"",business_email:"",receipt_footer:"",receipt_logo:null,tax_rate:13});x.useEffect(()=>{e&&i()},[e]);const i=async()=>{try{const l=localStorage.getItem("access_token")||localStorage.getItem("token"),c=await fetch("http://localhost:8000/api/pos/settings/",{headers:{"Content-Type":"application/json",...l&&{Authorization:`Bearer ${l}`}}});if(c.ok){const d=await c.json();a({business_name:d.business_name||"",business_address:d.business_address||"",business_phone:d.business_phone||"",business_email:d.business_email||"",receipt_footer:d.receipt_footer||"",receipt_logo:d.receipt_logo||null,tax_rate:d.tax_rate||13})}}catch(l){console.error("Error fetching POS settings:",l)}};if(!n)return null;const o=()=>{window.print()};return t.jsxs(rt,{open:e,onOpenChange:r,children:[t.jsxs(nt,{className:"max-w-md",children:[t.jsxs(st,{children:[t.jsxs(at,{className:"flex items-center justify-between",children:["Receipt",t.jsxs(k,{onClick:o,size:"sm",className:"ml-2",children:[t.jsx(Om,{size:16,className:"mr-1"}),"Print"]})]}),t.jsxs(Pt,{children:["Receipt for sale ",n.sale.sale_number]})]}),t.jsxs("div",{className:"receipt-content font-mono text-sm print:text-xs print:w-full print:max-w-none",id:"receipt-print",children:[t.jsxs("div",{className:"text-center border-b pb-2 mb-2",children:[s.receipt_logo&&t.jsx("div",{className:"mb-2",children:t.jsx("img",{src:s.receipt_logo,alt:"Business Logo",className:"mx-auto max-h-12 object-contain",onError:l=>{l.currentTarget.style.display="none"}})}),t.jsxs("h2",{className:"font-bold text-lg",children:[s.business_name||n.organization.name,n.branch.name&&n.branch.name!==(s.business_name||n.organization.name)&&t.jsxs("span",{children:[" (",n.branch.name,")"]})]}),(s.business_address||n.organization.address)&&t.jsx("p",{className:"text-xs",children:s.business_address||n.organization.address}),(s.business_phone||n.organization.phone)&&t.jsxs("p",{className:"text-xs",children:["Phone: ",s.business_phone||n.organization.phone]}),s.business_email&&t.jsxs("p",{className:"text-xs",children:["Email: ",s.business_email]})]}),t.jsxs("div",{className:"border-b pb-2 mb-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Bill No:"}),t.jsx("span",{children:n.sale.sale_number})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Date:"}),t.jsx("span",{children:n.sale.sale_date})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Cashier:"}),t.jsx("span",{children:n.sale.cashier})]})]}),t.jsxs("div",{className:"border-b pb-2 mb-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Patient:"}),t.jsx("span",{children:n.patient.name})]}),n.patient.patient_id&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"ID:"}),t.jsx("span",{children:n.patient.patient_id})]}),n.patient.phone&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Phone:"}),t.jsx("span",{children:n.patient.phone})]})]}),t.jsx("div",{className:"border-b pb-2 mb-2",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left",children:"Item"}),t.jsx("th",{className:"text-center",children:"Qty"}),t.jsx("th",{className:"text-right",children:"Price"}),t.jsx("th",{className:"text-right",children:"Total"})]})}),t.jsx("tbody",{children:n.items.map((l,c)=>t.jsxs("tr",{children:[t.jsxs("td",{className:"text-left",children:[t.jsx("div",{children:l.name}),l.batch&&t.jsxs("div",{className:"text-xs text-gray-500",children:["Batch: ",l.batch]})]}),t.jsx("td",{className:"text-center",children:l.quantity}),t.jsx("td",{className:"text-right",children:l.unit_price.toFixed(2)}),t.jsx("td",{className:"text-right",children:l.total.toFixed(2)})]},c))})]})}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Subtotal:"}),t.jsxs("span",{children:["NPR ",n.totals.subtotal.toFixed(2)]})]}),n.totals.tax>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{children:["Tax (",s.tax_rate,"%):"]}),t.jsxs("span",{children:["NPR ",n.totals.tax.toFixed(2)]})]}),n.totals.discount>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Discount:"}),t.jsxs("span",{children:["-NPR ",n.totals.discount.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between font-bold border-t pt-1",children:[t.jsx("span",{children:"Total:"}),t.jsxs("span",{children:["NPR ",n.totals.total.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{children:["Paid (",n.payment_method,"):"]}),t.jsxs("span",{children:["NPR ",n.totals.paid.toFixed(2)]})]}),n.totals.change>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Change:"}),t.jsxs("span",{children:["NPR ",n.totals.change.toFixed(2)]})]}),n.totals.credit>0&&t.jsxs("div",{className:"flex justify-between text-red-600",children:[t.jsx("span",{children:"Credit Due:"}),t.jsxs("span",{children:["NPR ",n.totals.credit.toFixed(2)]})]})]}),t.jsxs("div",{className:"text-center mt-4 pt-2 border-t text-xs",children:[s.receipt_footer?t.jsx("p",{children:s.receipt_footer}):t.jsx("p",{children:"Thank you for your business!"}),t.jsx("p",{children:"Please keep this receipt for your records"})]})]})]}),t.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @media print {
            * {
              -webkit-print-color-adjust: exact !important;
              color-adjust: exact !important;
            }
            body {
              margin: 0 !important;
              padding: 0 !important;
            }
            body * {
              visibility: hidden;
            }
            #receipt-print, #receipt-print * {
              visibility: visible;
            }
            #receipt-print {
              position: absolute !important;
              left: 0 !important;
              top: 0 !important;
              width: 80mm !important;
              max-width: 80mm !important;
              font-size: 10px !important;
              line-height: 1.1 !important;
              margin: 0 !important;
              padding: 5mm !important;
              box-sizing: border-box !important;
            }
            @page {
              size: 80mm auto !important;
              margin: 0 !important;
              padding: 0 !important;
            }
          }
        `}})]})}const In="https://drpharmas.com/backend";function Xwe(){const[e,r]=x.useState(""),[n,s]=x.useState([]),[a,i]=x.useState({name:"",phone:"",discount:0}),[o,l]=x.useState("cash"),[c,d]=x.useState(""),[u,m]=x.useState([]),[h,p]=x.useState(!0),[g,f]=x.useState(""),[v,b]=x.useState(""),[y,j]=x.useState(""),[C,S]=x.useState(""),[N,P]=x.useState(""),[_,w]=x.useState(""),[A,D]=x.useState([]),[O,$]=x.useState(!1),[U,V]=x.useState([]),[R,X]=x.useState([]),[z,F]=x.useState(null),[te,de]=x.useState(!1),[ie,fe]=x.useState(""),[ge,he]=x.useState("all"),[Te,Se]=x.useState(1),Ue=5,[be,Z]=x.useState(0),[xe,oe]=x.useState("percent"),[ze,Fe]=x.useState("cash"),[tt,ot]=x.useState(!1),[pe,qe]=x.useState(null),[ae,je]=x.useState(null),[H,se]=x.useState(!1),[le,ne]=x.useState({business_name:"",business_address:"",business_phone:"",business_email:"",receipt_footer:"",receipt_logo:null,tax_rate:13,tax_inclusive:!1,payment_methods:["cash","online"]}),{toast:Q}=Tt(),ce=JSON.parse(localStorage.getItem("currentUser")||"{}"),Ne=ce==null?void 0:ce.branch_id,G=async()=>{try{const ee=localStorage.getItem("access_token")||localStorage.getItem("token"),Be=await fetch(`${In}/pos/settings/`,{headers:{"Content-Type":"application/json",...ee&&{Authorization:`Bearer ${ee}`}}});if(Be.ok){const Ze=await Be.json();ne({business_name:Ze.business_name||"",business_address:Ze.business_address||"",business_phone:Ze.business_phone||"",business_email:Ze.business_email||"",receipt_footer:Ze.receipt_footer||"",receipt_logo:Ze.receipt_logo||null,tax_rate:Ze.tax_rate||13,tax_inclusive:Ze.tax_inclusive||!1,payment_methods:Ze.payment_methods||["cash","online"]})}}catch(ee){console.error("Error fetching POS settings:",ee),ne({business_name:"",business_address:"",business_phone:"",business_email:"",receipt_footer:"",receipt_logo:null,tax_rate:13,tax_inclusive:!1,payment_methods:["cash","online"]})}},ue=ee=>{const Be=u.find(ft=>ft.medicine_id===ee);if(!Be)return 0;const Ze=n.filter(ft=>ft.medicine_id===ee).reduce((ft,Et)=>ft+Et.quantity,0);return Math.max(0,Be.total_stock-Ze)},Le=async()=>{try{const ee=localStorage.getItem("access_token")||localStorage.getItem("token"),Be=Ne?`${In}/inventory/inventory-items/?branch_id=${Ne}&pos_mode=true`:`${In}/inventory/inventory-items/?pos_mode=true`,Ze=await fetch(Be,{headers:{"Content-Type":"application/json",...ee&&{Authorization:`Bearer ${ee}`}}});if(Ze.ok){const Et=(await Ze.json()).map(Mt=>{var pn,or,qr,Mn;return{id:Mt.id,medicine_id:Mt.medicine_id,name:((pn=Mt.medicine)==null?void 0:pn.name)||"Unknown Medicine",batch:Mt.batch_number,price:parseFloat(Mt.selling_price)||0,stock:Mt.current_stock,total_stock:Mt.total_stock,expiry:Mt.expiry_date,barcode:((or=Mt.medicine)==null?void 0:or.product_code)||"",strength:((qr=Mt.medicine)==null?void 0:qr.strength)||"",dosage_form:((Mn=Mt.medicine)==null?void 0:Mn.dosage_form)||"",unit:Mt.unit,location:Mt.location,all_batches:Mt.all_batches||[]}}).filter(Mt=>Mt.total_stock>0);m(Et)}}catch(ee){console.error("Error fetching inventory:",ee)}finally{p(!1)}},We=async()=>{try{const ee=localStorage.getItem("access_token")||localStorage.getItem("token"),Be=await fetch(`${In}/pos/sales/`,{headers:{"Content-Type":"application/json",...ee&&{Authorization:`Bearer ${ee}`}}});if(Be.ok){const Ze=await Be.json();X(Ze)}}catch(ee){console.error("Error fetching bills:",ee)}},St=async()=>{try{const ee=localStorage.getItem("access_token")||localStorage.getItem("token"),Be=await fetch(`${In}/pos/sales/pending/`,{headers:{"Content-Type":"application/json",...ee&&{Authorization:`Bearer ${ee}`}}});if(Be.ok){const Ze=await Be.json();V(Ze)}}catch(ee){console.error("Error fetching pending bills:",ee)}};x.useEffect(()=>{Le(),We(),St(),G()},[]);const sn=u.filter(ee=>ee.name.toLowerCase().includes(e.toLowerCase())||ee.barcode.includes(e)||ee.batch.toLowerCase().includes(e.toLowerCase())),br=async(ee,Be=1)=>{const Ze=n.filter(Et=>Et.medicine_id===ee.medicine_id).reduce((Et,Mt)=>Et+Mt.quantity,0);if(Ze+Be>ee.total_stock){Q({title:"Insufficient Stock",description:`Only ${ee.total_stock} units available. You already have ${Ze} in cart.`,variant:"destructive"});return}try{const Et=localStorage.getItem("access_token")||localStorage.getItem("token"),Mt=await fetch(`${In}/inventory/allocate-stock/`,{method:"POST",headers:{"Content-Type":"application/json",...Et&&{Authorization:`Bearer ${Et}`}},body:JSON.stringify({medicine_id:ee.medicine_id,quantity:Be,branch_id:Ne})});if(!Mt.ok){const qr=await Mt.json();Q({title:"Stock Error",description:qr.error||"Failed to allocate stock",variant:"destructive"});return}const pn=await Mt.json(),or={};pn.allocations.forEach(qr=>{const Mn=qr.selling_price.toString();or[Mn]||(or[Mn]={price:qr.selling_price,quantity:0,batches:[]}),or[Mn].quantity+=qr.allocated_quantity,or[Mn].batches.push({inventory_item_id:qr.batch_id,batch_number:qr.batch_number,allocated_quantity:qr.allocated_quantity,selling_price:qr.selling_price})}),s(qr=>{let Mn=[...qr];return Object.values(or).forEach(ec=>{const Qv=`${ee.medicine_id}_${ec.price}`,pu=Mn.findIndex(T6=>T6.cart_key===Qv);pu>=0?Mn[pu]={...Mn[pu],quantity:Mn[pu].quantity+ec.quantity,batch_info:[...Mn[pu].batch_info,...ec.batches]}:Mn.push({...ee,id:Qv,cart_key:Qv,medicine_id:ee.medicine_id,price:ec.price,quantity:ec.quantity,batch_info:ec.batches})}),Mn}),Le()}catch(Et){console.error("Error adding to cart:",Et)}},Ca=async(ee,Be)=>{if(Be<=0){Nr(ee);return}const Ze=n.find(or=>or.cart_key===ee);if(!Ze)return;const ft=u.find(or=>or.medicine_id===Ze.medicine_id);if(!ft){Q({title:"Product Not Found",description:"Unable to validate stock for this item",variant:"destructive"});return}const Et=n.filter(or=>or.medicine_id===Ze.medicine_id&&or.cart_key!==ee).reduce((or,qr)=>or+qr.quantity,0);if(Et+Be>ft.total_stock){Q({title:"Insufficient Stock",description:`Only ${ft.total_stock} units available. Maximum you can set: ${ft.total_stock-Et}`,variant:"destructive"});return}const pn=Be-Ze.quantity;pn>0?await br(Ze,pn):s(or=>or.map(qr=>qr.cart_key===ee?{...qr,quantity:Be}:qr))},Nr=ee=>{s(Be=>Be.filter(Ze=>Ze.cart_key!==ee))},zr=n.reduce((ee,Be)=>ee+Be.price*Be.quantity,0),Ts=le.tax_rate>0&&le.tax_inclusive===!0,Dn=Ts?zr*(le.tax_rate/100):0,Dt=zr+Dn,Ht=xe==="amount"?be:Dt*a.discount/100,Bt=Dt-Ht,nr=Math.max(0,Bt-(parseFloat(c)||0)),Es=async ee=>{if(w(ee),ee.trim())try{const Be=localStorage.getItem("access_token")||localStorage.getItem("token"),Ze=await fetch(`${In}/patients/?search=${encodeURIComponent(ee)}`,{headers:{Authorization:`Bearer ${Be}`}});if(Ze.ok){const ft=await Ze.json();D(ft.results||[]),$(!0)}}catch(Be){console.error("Error searching patients:",Be)}else $(!1),D([])},dt=ee=>{f(ee.patient_id||""),b(ee.full_name||`${ee.first_name||""} ${ee.last_name||""}`.trim()),j(ee.phone||""),S(ee.age||""),P(ee.gender||""),i({name:ee.full_name||`${ee.first_name||""} ${ee.last_name||""}`.trim(),phone:ee.phone||"",discount:0}),$(!1),w("")},qt=async()=>{if(n.length===0){Q({title:"Cart Empty",description:"Please add items to cart before saving.",variant:"destructive"});return}try{const ee=localStorage.getItem("access_token")||localStorage.getItem("token"),Be={patient_id:g,patient_name:v||"Walk-in Customer",patient_age:C,patient_phone:y,patient_gender:N,branch_id:Ne,items:n.map(Mt=>({medicine_id:Mt.medicine_id,quantity:Mt.quantity,price:Mt.price,batch:Mt.batch,batch_info:Mt.batch_info})),subtotal:zr,total:Bt,discount_amount:Ht,tax_amount:Dn,payment_method:o},Ze=ae?`${In}/pos/sales/${ae}/update-pending/`:`${In}/pos/sales/save-pending/`,ft=await fetch(Ze,{method:ae?"PUT":"POST",headers:{"Content-Type":"application/json",...ee&&{Authorization:`Bearer ${ee}`}},body:JSON.stringify(Be)});if(!ft.ok){const Mt=await ft.json();throw new Error(Mt.error||"Failed to save pending bill")}const Et=await ft.json();s([]),f(""),b(""),j(""),S(""),P(""),w(""),$(!1),i({name:"",phone:"",discount:0}),Z(0),d(""),je(null),St(),Q({title:ae?"Bill Updated":"Bill Saved",description:`Bill ${Et.sale_number} ${ae?"updated":"saved"} successfully`})}catch(ee){console.error("Error saving pending bill:",ee),Q({title:"Save Error",description:ee.message||"Failed to save pending bill",variant:"destructive"})}},Jt=ee=>{f(ee.patientId),b(ee.patientName),j(ee.patientPhone),S(ee.patientAge),P(ee.patientGender),s(ee.items),i({name:ee.patientName,phone:ee.patientPhone,discount:0}),je(ee.id),Q({title:"Bill Loaded",description:`Bill ${ee.sale_number} loaded to cart`})},Nn=async ee=>{try{const Be=localStorage.getItem("access_token")||localStorage.getItem("token"),Ze=await fetch(`${In}/pos/sales/${ee}/delete/`,{method:"DELETE",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}}});if(Ze.ok)V(ft=>ft.filter(Et=>Et.id!==ee)),Q({title:"Bill Deleted",description:"Pending bill deleted successfully"});else{const ft=await Ze.json();Q({title:"Delete Error",description:ft.error||"Failed to delete pending bill",variant:"destructive"})}}catch(Be){console.error("Error deleting pending bill:",Be),Q({title:"Delete Error",description:"Failed to delete pending bill",variant:"destructive"})}},wn=()=>{if(n.length===0){Q({title:"Cart Empty",description:"Please add items to cart before checkout.",variant:"destructive"});return}se(!0)},Y=async()=>{try{const ee=localStorage.getItem("access_token")||localStorage.getItem("token"),Be={patient_id:g,patient_name:v||"Walk-in Customer",patient_age:C,patient_phone:y,patient_gender:N,branch_id:Ne,items:n.map(or=>({medicine_id:or.medicine_id,quantity:or.quantity,price:or.price,batch:or.batch,batch_info:or.batch_info})),subtotal:zr,total:Bt,discount_amount:Ht,tax_amount:Dn,payment_method:o,paid_amount:parseFloat(c)||0,credit_amount:nr,transaction_id:o==="online"?`TXN_${Date.now()}`:"",sale_id:ae},Ze=ae?`${In}/pos/sales/complete/`:`${In}/pos/sales/create/`,ft=await fetch(Ze,{method:"POST",headers:{"Content-Type":"application/json",...ee&&{Authorization:`Bearer ${ee}`}},body:JSON.stringify(Be)});if(!ft.ok){const or=await ft.json();throw new Error(or.error||"Failed to create sale")}const Et=await ft.json(),Mt=nr>0?"Credit Sale":"Cash Sale",pn=nr>0?`Credit sale completed. Due: NPR ${nr.toFixed(2)}`:`Sale completed for NPR ${Bt.toFixed(2)}`;Q({title:Mt,description:`${pn} - Bill: ${Et.sale_number}`}),Et.receipt&&(qe(Et.receipt),ot(!0)),s([]),i({name:"",phone:"",discount:0}),l("cash"),d(""),r(""),f(""),b(""),j(""),S(""),P(""),w(""),$(!1),Z(0),oe("percent"),Fe("cash"),je(null),Le(),We(),St()}catch(ee){console.error("Error creating sale:",ee),Q({title:"Sale Error",description:ee.message||"Failed to complete sale",variant:"destructive"})}},ve=async ee=>{F(ee),de(!0);try{const Be=localStorage.getItem("access_token")||localStorage.getItem("token"),Ze=await fetch(`${In}/pos/sales/${ee.id}/receipt/`,{headers:{Authorization:`Bearer ${Be}`}});if(Ze.ok){const ft=await Ze.json();qe(ft)}}catch(Be){console.error("Error generating receipt:",Be)}},He=async ee=>{try{const Be=localStorage.getItem("access_token")||localStorage.getItem("token"),Ze=await fetch(`${In}/pos/sales/${ee}/delete/`,{method:"DELETE",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}}});if(Ze.ok)X(ft=>ft.filter(Et=>Et.id!==ee)),Q({title:"Bill Deleted",description:"Bill deleted successfully"}),Le();else{const ft=await Ze.json();Q({title:"Delete Error",description:ft.error||"Failed to delete bill",variant:"destructive"})}}catch(Be){console.error("Error deleting bill:",Be),Q({title:"Delete Error",description:"Failed to delete bill",variant:"destructive"})}},Me=R.filter(ee=>{const Be=ee.patientName.toLowerCase().includes(ie.toLowerCase())||ee.id.toLowerCase().includes(ie.toLowerCase())||ee.patientPhone.includes(ie),Ze=ge==="all"||ee.status===ge;return Be&&Ze}),Ge=Math.ceil(Me.length/Ue),Kt=Me.slice((Te-1)*Ue,Te*Ue);return t.jsxs("div",{className:"bg-gray-50 p-2 space-y-4",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row gap-2",children:[t.jsxs("div",{className:"lg:w-2/3 bg-white rounded-md shadow p-2 flex flex-col gap-2",children:[t.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[t.jsxs("div",{className:"relative col-span-2",children:[t.jsx(M,{htmlFor:"patientId",className:"text-xs",children:"Patient ID"}),t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 z-10",size:14}),t.jsx(J,{id:"patientId",value:_||g,onChange:ee=>{ee.target.value.trim()?Es(ee.target.value):(f(""),w(""),$(!1))},placeholder:"Search Patient ID, Name or Phone",className:"h-8 text-sm pl-7"}),O&&A.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border rounded-md shadow-lg z-20 max-h-32 overflow-y-auto",children:A.map((ee,Be)=>t.jsxs("div",{className:"p-2 hover:bg-gray-50 cursor-pointer border-b last:border-b-0",onClick:()=>dt(ee),children:[t.jsx("div",{className:"font-medium text-xs",children:ee.full_name||`${ee.first_name||""} ${ee.last_name||""}`.trim()}),t.jsxs("div",{className:"text-xs text-gray-500",children:[ee.patient_id," • ",ee.phone||"No phone"," • ",ee.age,"Y/",ee.gender]})]},ee.id||`patient-${Be}`))})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"patientName",className:"text-xs",children:"Name"}),t.jsx(J,{id:"patientName",value:v,onChange:ee=>{b(ee.target.value),i({...a,name:ee.target.value})},placeholder:"Patient Name",className:"h-8 text-sm"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"patientAge",className:"text-xs",children:"Age"}),t.jsx(J,{id:"patientAge",value:C,onChange:ee=>S(ee.target.value),placeholder:"Age",className:"h-8 text-sm"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"patientPhone",className:"text-xs",children:"Phone"}),t.jsx(J,{id:"patientPhone",value:y,onChange:ee=>{j(ee.target.value),i({...a,phone:ee.target.value})},placeholder:"Phone",className:"h-8 text-sm"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"patientGender",className:"text-xs",children:"Gender"}),t.jsxs(_e,{value:N,onValueChange:P,children:[t.jsx(Pe,{className:"h-8 text-sm",children:t.jsx(Ae,{placeholder:"Gender"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"male",children:"Male"}),t.jsx(I,{value:"female",children:"Female"}),t.jsx(I,{value:"other",children:"Other"})]})]})]})]}),U.length>0&&t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-1",children:[t.jsxs("h3",{className:"text-xs font-semibold mb-1",children:["Pending Bills (",U.length,")"]}),t.jsx("div",{className:"grid grid-cols-4 gap-1 max-h-16 overflow-y-auto",children:U.map((ee,Be)=>{var Ze;return t.jsxs("div",{className:"relative bg-white border rounded p-1 text-xs hover:bg-gray-50 h-8 flex flex-col justify-center",children:[t.jsxs("div",{className:"cursor-pointer text-center",onClick:()=>Jt(ee),children:[t.jsx("div",{className:"font-medium text-xs leading-tight",children:((Ze=String(ee.id).split("_")[1])==null?void 0:Ze.slice(-3))||String(ee.id).slice(-3)}),t.jsx("div",{className:"text-gray-500 text-xs truncate leading-tight",children:ee.patientName.slice(0,4)})]}),t.jsx(k,{size:"icon",variant:"ghost",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 text-red-500 hover:text-red-700",onClick:()=>Nn(ee.id),children:t.jsx(Hd,{size:6})})]},ee.id||`saved-bill-${Be}`)})})]}),t.jsx("div",{children:t.jsx(J,{type:"text",placeholder:"Search medicine, barcode, batch...",value:e,onChange:ee=>r(ee.target.value),className:"h-7 text-xs"})}),t.jsx("div",{className:"flex-1 overflow-y-auto border rounded",children:h?t.jsx("div",{className:"text-center py-2 text-xs",children:"Loading..."}):t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-100 sticky top-0 text-left",children:[t.jsx("th",{className:"p-1 font-medium",children:"Medicine"}),t.jsx("th",{className:"p-1 font-medium",children:"Batch"}),t.jsx("th",{className:"p-1 font-medium",children:"Strength"}),t.jsx("th",{className:"p-1 font-medium",children:"Stock"}),t.jsx("th",{className:"p-1 font-medium",children:"Price"})]})}),t.jsx("tbody",{children:sn.length>0?sn.map((ee,Be)=>t.jsxs("tr",{className:`border-b hover:bg-gray-50 cursor-pointer ${ue(ee.medicine_id)<=0?"opacity-50 cursor-not-allowed":""}`,onClick:()=>ue(ee.medicine_id)>0&&br(ee),children:[t.jsx("td",{className:"p-1",children:ee.name}),t.jsx("td",{className:"p-1",children:ee.batch}),t.jsx("td",{className:"p-1",children:ee.strength}),t.jsx("td",{className:"p-1",children:(()=>{const Ze=ue(ee.medicine_id);return t.jsx(re,{variant:Ze===0?"secondary":Ze<10?"destructive":"default",className:"text-xs",children:Ze})})()}),t.jsxs("td",{className:"p-1",children:["NPR ",ee.price.toFixed(2)]})]},ee.id||`product-${Be}`)):t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No products found"})})})]})})]}),t.jsxs("div",{className:"lg:w-1/3 bg-white rounded-md shadow p-2 flex flex-col h-full",children:[t.jsx("h2",{className:"text-sm font-semibold mb-2",children:"Cart"}),t.jsx("div",{className:"flex-1 max-h-[200px] overflow-y-auto",children:n.length>0?n.map((ee,Be)=>t.jsxs("div",{className:"flex justify-between items-center py-1 border-b text-xs",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium",children:ee.name}),t.jsxs("p",{className:"text-gray-500 text-xs",children:[ee.batch," | NPR ",ee.price.toFixed(2)," x ",ee.quantity]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(J,{type:"number",value:ee.quantity,onChange:Ze=>{const ft=Ze.target.value;if(ft===""){s(Mt=>Mt.map(pn=>pn.cart_key===ee.cart_key?{...pn,quantity:""}:pn));return}const Et=parseInt(ft);!isNaN(Et)&&Et>0&&s(Mt=>Mt.map(pn=>pn.cart_key===ee.cart_key?{...pn,quantity:Et}:pn))},onBlur:Ze=>{const ft=Ze.target.value;if(ft===""||ft==="0"){Nr(ee.cart_key);return}const Et=parseInt(ft)||1;Ca(ee.cart_key,Et)},className:"w-12 h-5 text-xs text-center",min:"1"}),t.jsx(k,{size:"icon",variant:"destructive",className:"h-5 w-5",onClick:()=>Nr(ee.cart_key),children:t.jsx(as,{size:10})})]})]},ee.cart_key||`cart-item-${Be}`)):t.jsx("p",{className:"text-center text-gray-500 text-xs py-4",children:"Cart is empty"})}),n.length>0&&t.jsxs("div",{className:"bg-blue-50 p-2 rounded text-xs space-y-1",children:[t.jsxs("div",{className:"flex justify-between font-semibold",children:[t.jsx("span",{children:"Cart Total:"}),t.jsxs("span",{children:["NPR ",zr.toFixed(2)]})]}),Ts&&t.jsxs("div",{className:"flex justify-between text-orange-700",children:[t.jsxs("span",{children:["Tax (",le.tax_rate,"%):"]}),t.jsxs("span",{children:["NPR ",Dn.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between font-semibold border-t pt-1",children:[t.jsx("span",{children:"Subtotal:"}),t.jsxs("span",{children:["NPR ",Dt.toFixed(2)]})]}),Ht>0&&t.jsxs("div",{className:"flex justify-between text-red-700",children:[t.jsx("span",{children:"Less: Discount"}),t.jsxs("span",{children:["-NPR ",Ht.toFixed(2)]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-1",children:"📝 Discount"}),t.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[t.jsx("div",{children:t.jsxs(_e,{value:xe,onValueChange:oe,children:[t.jsx(Pe,{className:"h-8 text-sm bg-orange-50",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"percent",children:"Percentage (%)"}),t.jsx(I,{value:"amount",children:"Amount (NPR)"})]})]})}),t.jsx("div",{children:t.jsx(J,{type:"number",value:xe==="percent"?a.discount||"":be||"",onChange:ee=>{const Be=ee.target.value===""?0:parseFloat(ee.target.value)||0;xe==="percent"?i({...a,discount:Be}):Z(Be)},placeholder:xe==="percent"?"Enter %":"Enter NPR",className:"h-8 text-sm bg-orange-50"})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-1",children:"📝 Payment Mode"}),t.jsxs(_e,{value:o,onValueChange:l,children:[t.jsx(Pe,{className:"h-8 text-sm",children:t.jsx(Ae,{placeholder:"Payment Method"})}),t.jsx(Ce,{children:le.payment_methods.map(ee=>t.jsx(I,{value:ee,children:ee.charAt(0).toUpperCase()+ee.slice(1)},ee))})]})]}),o==="online"&&t.jsx("div",{children:t.jsx(J,{type:"text",placeholder:"Transaction ID",className:"h-8 text-sm"})})]})]}),t.jsx(La,{className:"my-1"}),t.jsx("div",{className:"space-y-1",children:t.jsx("div",{className:"bg-gray-800 text-white p-1 rounded text-sm",children:t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Total to Pay:"}),t.jsxs("span",{className:"font-bold",children:["NPR ",Bt.toFixed(2)]})]})})}),t.jsx(La,{className:"my-1"}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-1",children:"💵 Payment"}),t.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[t.jsx("div",{children:t.jsx(J,{type:"number",value:c||"",onChange:ee=>{const Be=ee.target.value===""?"":parseFloat(ee.target.value)||0;d(Be)},placeholder:`NPR ${Bt.toFixed(2)}`,className:"h-8 text-sm font-medium bg-green-50"})}),t.jsx("div",{children:c!==""&&c>0?t.jsx("div",{className:`p-1 rounded text-sm ${parseFloat(c)>Bt?"bg-green-100 text-green-800":parseFloat(c)<Bt?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:parseFloat(c)>Bt?"Return:":parseFloat(c)<Bt?"Due:":"Exact:"}),t.jsx("span",{className:"font-bold",children:parseFloat(c)===Bt?"NPR 0.00":`NPR ${Math.abs(Bt-parseFloat(c)).toFixed(2)}`})]})}):t.jsx("div",{className:"bg-gray-100 p-1 rounded text-sm text-gray-600",children:t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Enter payment"}),t.jsx("span",{children:"NPR 0.00"})]})})})]})]}),t.jsx(La,{className:"my-1"}),t.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[t.jsx(k,{className:"h-6 text-sm bg-gray-500 hover:bg-gray-600 text-white",onClick:qt,children:"💾 Save"}),t.jsxs(k,{className:`col-span-2 h-6 text-sm ${parseFloat(c)<Bt&&c!==""?"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700":"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700"}`,onClick:wn,children:[parseFloat(c)<Bt&&c!==""?"🏦 Credit Sale":"💳 Complete Sale"," - NPR ",Bt.toFixed(2)]})]})]})]}),t.jsxs("div",{className:"w-full bg-white rounded-md shadow p-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Completed Bills"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),t.jsx(J,{placeholder:"Search bills...",value:ie,onChange:ee=>fe(ee.target.value),className:"pl-8 w-64"})]}),t.jsxs(_e,{value:ge,onValueChange:he,children:[t.jsx(Pe,{className:"w-32",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Bills"}),t.jsx(I,{value:"completed",children:"Completed"}),t.jsx(I,{value:"credit",children:"Credit"})]})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-100",children:[t.jsx("th",{className:"p-2 text-left",children:"Bill ID"}),t.jsx("th",{className:"p-2 text-left",children:"Patient"}),t.jsx("th",{className:"p-2 text-left",children:"Phone"}),t.jsx("th",{className:"p-2 text-left",children:"Total"}),t.jsx("th",{className:"p-2 text-left",children:"Credit"}),t.jsx("th",{className:"p-2 text-left",children:"Status"}),t.jsx("th",{className:"p-2 text-left",children:"Date"}),t.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),t.jsx("tbody",{children:Kt.map((ee,Be)=>t.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[t.jsx("td",{className:"p-2 font-medium",children:ee.id}),t.jsx("td",{className:"p-2",children:ee.patientName}),t.jsx("td",{className:"p-2",children:ee.patientPhone}),t.jsxs("td",{className:"p-2",children:["NPR ",ee.total.toFixed(2)]}),t.jsx("td",{className:"p-2",children:ee.creditAmount>0?t.jsxs(re,{variant:"destructive",children:["NPR ",ee.creditAmount.toFixed(2)]}):t.jsx(re,{variant:"default",children:"Paid"})}),t.jsx("td",{className:"p-2",children:t.jsx(re,{variant:ee.status==="completed"?"default":"secondary",children:ee.status})}),t.jsx("td",{className:"p-2",children:ee.completedAt}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx(k,{size:"sm",variant:"outline",onClick:()=>ve(ee),children:t.jsx(xt,{size:14})}),t.jsx(k,{size:"sm",variant:"outline",onClick:async()=>{try{const Ze=localStorage.getItem("access_token")||localStorage.getItem("token"),ft=await fetch(`${In}/pos/sales/${ee.id}/receipt/`,{headers:{Authorization:`Bearer ${Ze}`}});if(ft.ok){const Et=await ft.json();qe(Et),ot(!0)}else Q({title:"Receipt Error",description:"Failed to generate receipt",variant:"destructive"})}catch(Ze){console.error("Error generating receipt:",Ze),Q({title:"Receipt Error",description:"Failed to generate receipt",variant:"destructive"})}},children:t.jsx(Om,{size:14})}),t.jsx(k,{size:"sm",variant:"destructive",onClick:()=>He(ee.id),children:t.jsx(as,{size:14})})]})})]},ee.id||`bill-${Be}`))})]})}),t.jsxs("div",{className:"flex justify-between items-center mt-4",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(Te-1)*Ue+1," to ",Math.min(Te*Ue,Me.length)," of ",Me.length," bills"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(k,{variant:"outline",size:"sm",disabled:Te===1,onClick:()=>Se(ee=>ee-1),children:"Previous"}),t.jsxs("span",{className:"px-3 py-1 text-sm",children:[Te," of ",Ge]}),t.jsx(k,{variant:"outline",size:"sm",disabled:Te===Ge,onClick:()=>Se(ee=>ee+1),children:"Next"})]})]})]})]}),t.jsx(rt,{open:te,onOpenChange:de,children:t.jsxs(nt,{className:"max-w-2xl",children:[t.jsx(st,{children:t.jsxs(at,{children:["Bill Details - ",z==null?void 0:z.id]})}),z&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Patient Information"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Name:"})," ",z.patientName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"ID:"})," ",z.patientId]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Age:"})," ",z.patientAge]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",z.patientPhone]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Gender:"})," ",z.patientGender]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Bill Summary"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Subtotal:"})," NPR ",z.subtotal.toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Discount:"})," NPR ",z.discountAmount.toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Tax:"})," NPR ",z.taxAmount.toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Total:"})," NPR ",z.total.toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Paid:"})," NPR ",z.paidAmount.toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Credit:"})," NPR ",z.creditAmount.toFixed(2)]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Items"}),t.jsxs("table",{className:"w-full text-sm border",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-100",children:[t.jsx("th",{className:"p-2 text-left",children:"Medicine"}),t.jsx("th",{className:"p-2 text-left",children:"Batch"}),t.jsx("th",{className:"p-2 text-left",children:"Qty"}),t.jsx("th",{className:"p-2 text-left",children:"Price"}),t.jsx("th",{className:"p-2 text-left",children:"Total"})]})}),t.jsx("tbody",{children:z.items.map((ee,Be)=>t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"p-2",children:ee.name}),t.jsx("td",{className:"p-2",children:ee.batch}),t.jsx("td",{className:"p-2",children:ee.quantity}),t.jsxs("td",{className:"p-2",children:["NPR ",ee.price.toFixed(2)]}),t.jsxs("td",{className:"p-2",children:["NPR ",(ee.quantity*ee.price).toFixed(2)]})]},ee.id||`item-${Be}`))})]})]})]})]})}),t.jsx(rt,{open:H,onOpenChange:se,children:t.jsxs(nt,{className:"max-w-md",children:[t.jsx(st,{children:t.jsxs(at,{className:"flex items-center",children:[t.jsx(xt,{className:"mr-2",size:18}),"Sale Preview"]})}),t.jsxs("div",{className:"space-y-4",children:[(v||y)&&t.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Patient Information"}),v&&t.jsxs("p",{className:"text-sm",children:["Name: ",v]}),y&&t.jsxs("p",{className:"text-sm",children:["Phone: ",y]}),C&&t.jsxs("p",{className:"text-sm",children:["Age: ",C]}),N&&t.jsxs("p",{className:"text-sm",children:["Gender: ",N]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium mb-2",children:["Items (",n.length,")"]}),t.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:n.map((ee,Be)=>t.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded text-sm",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium",children:ee.name}),t.jsxs("p",{className:"text-muted-foreground",children:[ee.batch," • NPR ",ee.price," × ",ee.quantity]})]}),t.jsxs("p",{className:"font-medium",children:["NPR ",(ee.price*ee.quantity).toFixed(2)]})]},ee.cart_key||`preview-item-${Be}`))})]}),t.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Subtotal:"}),t.jsxs("span",{children:["NPR ",zr.toFixed(2)]})]}),Ts&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{children:["Tax (",le.tax_rate,"%):"]}),t.jsxs("span",{children:["NPR ",Dn.toFixed(2)]})]}),Ht>0&&t.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[t.jsx("span",{children:"Discount:"}),t.jsxs("span",{children:["-NPR ",Ht.toFixed(2)]})]}),t.jsx(La,{}),t.jsxs("div",{className:"flex justify-between font-bold",children:[t.jsx("span",{children:"Total:"}),t.jsxs("span",{children:["NPR ",Bt.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[t.jsx("span",{children:"Payment Method:"}),t.jsx(re,{variant:"outline",children:o.charAt(0).toUpperCase()+o.slice(1)})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Paid Amount:"}),t.jsxs("span",{children:["NPR ",(parseFloat(c)||0).toFixed(2)]})]}),nr>0&&t.jsxs("div",{className:"flex justify-between text-sm text-orange-600",children:[t.jsx("span",{children:"Credit Amount:"}),t.jsxs("span",{children:["NPR ",nr.toFixed(2)]})]})]})}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx(k,{variant:"outline",onClick:()=>se(!1),className:"flex-1",children:"Cancel"}),t.jsx(k,{onClick:()=>{se(!1),Y()},className:`flex-1 ${parseFloat(c)<Bt&&c!==""?"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700":"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700"}`,children:"Confirm Sale"})]})]})]})}),t.jsx(Gwe,{isOpen:tt,onClose:()=>ot(!1),receiptData:pe})]})}var bj="rovingFocusGroup.onEntryFocus",Ywe={bubbles:!1,cancelable:!0},Gh="RovingFocusGroup",[kN,CL,Qwe]=Dw(Gh),[Zwe,_L]=Gn(Gh,[Qwe]),[Jwe,e1e]=Zwe(Gh),AL=x.forwardRef((e,r)=>t.jsx(kN.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(kN.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(t1e,{...e,ref:r})})}));AL.displayName=Gh;var t1e=x.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,h=x.useRef(null),p=Ot(r,h),g=Yg(i),[f,v]=ga({prop:o,defaultProp:l??null,onChange:c,caller:Gh}),[b,y]=x.useState(!1),j=Gr(d),C=CL(n),S=x.useRef(!1),[N,P]=x.useState(0);return x.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(bj,j),()=>_.removeEventListener(bj,j)},[j]),t.jsx(Jwe,{scope:n,orientation:s,dir:g,loop:a,currentTabStopId:f,onItemFocus:x.useCallback(_=>v(_),[v]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>P(_=>_+1),[]),onFocusableItemRemove:x.useCallback(()=>P(_=>_-1),[]),children:t.jsx(Je.div,{tabIndex:b||N===0?-1:0,"data-orientation":s,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:Ye(e.onMouseDown,()=>{S.current=!0}),onFocus:Ye(e.onFocus,_=>{const w=!S.current;if(_.target===_.currentTarget&&w&&!b){const A=new CustomEvent(bj,Ywe);if(_.currentTarget.dispatchEvent(A),!A.defaultPrevented){const D=C().filter(R=>R.focusable),O=D.find(R=>R.active),$=D.find(R=>R.id===f),V=[O,$,...D].filter(Boolean).map(R=>R.ref.current);kL(V,u)}}S.current=!1}),onBlur:Ye(e.onBlur,()=>y(!1))})})}),TL="RovingFocusGroupItem",EL=x.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=ma(),d=i||c,u=e1e(TL,n),m=u.currentTabStopId===d,h=CL(n),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:f}=u;return x.useEffect(()=>{if(s)return p(),()=>g()},[s,p,g]),t.jsx(kN.ItemSlot,{scope:n,id:d,focusable:s,active:a,children:t.jsx(Je.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...l,ref:r,onMouseDown:Ye(e.onMouseDown,v=>{s?u.onItemFocus(d):v.preventDefault()}),onFocus:Ye(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Ye(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=s1e(v,u.orientation,u.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let j=h().filter(C=>C.focusable).map(C=>C.ref.current);if(b==="last")j.reverse();else if(b==="prev"||b==="next"){b==="prev"&&j.reverse();const C=j.indexOf(v.currentTarget);j=u.loop?a1e(j,C+1):j.slice(C+1)}setTimeout(()=>kL(j))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:f!=null}):o})})});EL.displayName=TL;var r1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function n1e(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function s1e(e,r,n){const s=n1e(e.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return r1e[s]}function kL(e,r=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:r}),document.activeElement!==n))return}function a1e(e,r){return e.map((n,s)=>e[(r+s)%e.length])}var i1e=AL,o1e=EL,Gv="Tabs",[l1e,NPe]=Gn(Gv,[_L]),OL=_L(),[c1e,D2]=l1e(Gv),RL=x.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Yg(l),[m,h]=ga({prop:s,onChange:a,defaultProp:i??"",caller:Gv});return t.jsx(c1e,{scope:n,baseId:ma(),value:m,onValueChange:h,orientation:o,dir:u,activationMode:c,children:t.jsx(Je.div,{dir:u,"data-orientation":o,...d,ref:r})})});RL.displayName=Gv;var DL="TabsList",ML=x.forwardRef((e,r)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=D2(DL,n),o=OL(n);return t.jsx(i1e,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:t.jsx(Je.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:r})})});ML.displayName=DL;var IL="TabsTrigger",$L=x.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,o=D2(IL,n),l=OL(n),c=zL(o.baseId,s),d=BL(o.baseId,s),u=s===o.value;return t.jsx(o1e,{asChild:!0,...l,focusable:!a,active:u,children:t.jsx(Je.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:r,onMouseDown:Ye(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(s):m.preventDefault()}),onKeyDown:Ye(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(s)}),onFocus:Ye(e.onFocus,()=>{const m=o.activationMode!=="manual";!u&&!a&&m&&o.onValueChange(s)})})})});$L.displayName=IL;var LL="TabsContent",FL=x.forwardRef((e,r)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=e,l=D2(LL,n),c=zL(l.baseId,s),d=BL(l.baseId,s),u=s===l.value,m=x.useRef(u);return x.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),t.jsx(Xn,{present:a||u,children:({present:h})=>t.jsx(Je.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});FL.displayName=LL;function zL(e,r){return`${e}-trigger-${r}`}function BL(e,r){return`${e}-content-${r}`}var d1e=RL,UL=ML,VL=$L,qL=FL;const Or=d1e,Ar=x.forwardRef(({className:e,...r},n)=>t.jsx(UL,{ref:n,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));Ar.displayName=UL.displayName;const Oe=x.forwardRef(({className:e,...r},n)=>t.jsx(VL,{ref:n,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...r}));Oe.displayName=VL.displayName;const $e=x.forwardRef(({className:e,...r},n)=>t.jsx(qL,{ref:n,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));$e.displayName=qL.displayName;const Ct=x.forwardRef(({className:e,...r},n)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:n,className:Ee("w-full caption-bottom text-sm",e),...r})}));Ct.displayName="Table";const _t=x.forwardRef(({className:e,...r},n)=>t.jsx("thead",{ref:n,className:Ee("[&_tr]:border-b",e),...r}));_t.displayName="TableHeader";const At=x.forwardRef(({className:e,...r},n)=>t.jsx("tbody",{ref:n,className:Ee("[&_tr:last-child]:border-0",e),...r}));At.displayName="TableBody";const u1e=x.forwardRef(({className:e,...r},n)=>t.jsx("tfoot",{ref:n,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));u1e.displayName="TableFooter";const Ie=x.forwardRef(({className:e,...r},n)=>t.jsx("tr",{ref:n,className:Ee("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...r}));Ie.displayName="TableRow";const K=x.forwardRef(({className:e,...r},n)=>t.jsx("th",{ref:n,className:Ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));K.displayName="TableHead";const W=x.forwardRef(({className:e,...r},n)=>t.jsx("td",{ref:n,className:Ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));W.displayName="TableCell";const m1e=x.forwardRef(({className:e,...r},n)=>t.jsx("caption",{ref:n,className:Ee("mt-4 text-sm text-muted-foreground",e),...r}));m1e.displayName="TableCaption";const qi="https://drpharmas.com/backend",zf=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--accent))","hsl(var(--muted))"];function h1e(){var w,A,D,O,$,U;const[e,r]=x.useState("today"),[n,s]=x.useState(new Date().toISOString().split("T")[0]),[a,i]=x.useState(new Date().toISOString().split("T")[0]),[o,l]=x.useState(!1),[c,d]=x.useState(null),[u,m]=x.useState([]),[h,p]=x.useState([]),[g,f]=x.useState([]),[v,b]=x.useState([]),[y,j]=x.useState([]),[C,S]=x.useState(null),{toast:N}=Tt();x.useEffect(()=>{const V=new Date;let R=new Date,X=new Date;switch(e){case"today":R=V,X=V;break;case"7days":R=new Date(V.getTime()-6*24*60*60*1e3),X=V;break;case"30days":R=new Date(V.getTime()-29*24*60*60*1e3),X=V;break;case"custom":return}s(R.toISOString().split("T")[0]),i(X.toISOString().split("T")[0])},[e]),x.useEffect(()=>{n&&a&&P()},[n,a]);const P=async()=>{l(!0);try{const V=localStorage.getItem("access_token")||localStorage.getItem("token"),R={"Content-Type":"application/json",...V&&{Authorization:`Bearer ${V}`}},X=new URLSearchParams({start_date:n,end_date:a}),[z,F,te,de,ie,fe,ge]=await Promise.all([fetch(`${qi}/pos/reports/sales-summary/?${X}`,{headers:R}),fetch(`${qi}/pos/reports/daily-trend/?${X}`,{headers:R}),fetch(`${qi}/pos/reports/hourly-pattern/?date=${a}`,{headers:R}),fetch(`${qi}/pos/reports/top-products/?${X}&limit=10`,{headers:R}),fetch(`${qi}/pos/reports/payment-methods/?${X}`,{headers:R}),fetch(`${qi}/pos/reports/staff-performance/?${X}`,{headers:R}),fetch(`${qi}/pos/reports/customer-analytics/?${X}`,{headers:R})]);if(z.ok){const he=await z.json();d(he.summary)}if(F.ok){const he=await F.json();m(he.daily_sales)}if(te.ok){const he=await te.json();p(he.hourly_sales)}if(de.ok){const he=await de.json();f(he.top_products)}if(ie.ok){const he=await ie.json();b(he.payment_methods)}if(fe.ok){const he=await fe.json();j(he.staff_performance)}if(ge.ok){const he=await ge.json();S(he.customer_analytics)}}catch(V){console.error("Error fetching reports data:",V),N({title:"Error",description:"Failed to load reports data",variant:"destructive"})}finally{l(!1)}},_=async V=>{try{const R=localStorage.getItem("access_token")||localStorage.getItem("token"),X=new URLSearchParams({start_date:n,end_date:a,type:V}),z=await fetch(`${qi}/pos/reports/export/?${X}`,{headers:{...R&&{Authorization:`Bearer ${R}`}}});if(z.ok){const F=await z.blob(),te=window.URL.createObjectURL(F),de=document.createElement("a");de.href=te,de.download=`${V}_report_${n}_${a}.csv`,document.body.appendChild(de),de.click(),window.URL.revokeObjectURL(te),document.body.removeChild(de),N({title:"Export Successful",description:`${V} report exported successfully`})}else throw new Error("Export failed")}catch{N({title:"Export Failed",description:"Failed to export report",variant:"destructive"})}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center",children:[t.jsx(ar,{className:"mr-2 text-primary"}),"POS Reports & Analytics"]}),t.jsx("p",{className:"text-muted-foreground",children:"Comprehensive sales analytics and performance metrics"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(_e,{value:e,onValueChange:r,children:[t.jsx(Pe,{className:"w-40",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"today",children:"Today"}),t.jsx(I,{value:"7days",children:"Last 7 Days"}),t.jsx(I,{value:"30days",children:"Last 30 Days"}),t.jsx(I,{value:"custom",children:"Custom Range"})]})]}),e==="custom"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(M,{className:"text-sm",children:"From:"}),t.jsx(J,{type:"date",value:n,onChange:V=>s(V.target.value),className:"w-40"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(M,{className:"text-sm",children:"To:"}),t.jsx(J,{type:"date",value:a,onChange:V=>i(V.target.value),className:"w-40"})]})]}),t.jsxs(k,{variant:"outline",onClick:P,disabled:o,children:[t.jsx(Pi,{size:16,className:`mr-2 ${o?"animate-spin":""}`}),"Refresh"]}),t.jsxs(_e,{onValueChange:_,children:[t.jsx(Pe,{className:"w-32",children:t.jsx(Ae,{placeholder:"Export"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"sales",children:"Sales Report"}),t.jsx(I,{value:"products",children:"Products Report"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sales"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["NPR ",((w=c==null?void 0:c.total_sales)==null?void 0:w.toLocaleString())||"0"]}),t.jsxs("p",{className:`text-xs flex items-center mt-1 ${((c==null?void 0:c.sales_growth)||0)>=0?"text-green-600":"text-red-600"}`,children:[t.jsx(yt,{size:12,className:"mr-1"}),(c==null?void 0:c.sales_growth)>=0?"+":"",((A=c==null?void 0:c.sales_growth)==null?void 0:A.toFixed(1))||"0","% from previous period"]})]}),t.jsx(mt,{className:"h-8 w-8 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Transactions"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:(c==null?void 0:c.total_transactions)||0}),t.jsxs("p",{className:`text-xs flex items-center mt-1 ${((c==null?void 0:c.transaction_growth)||0)>=0?"text-green-600":"text-red-600"}`,children:[t.jsx(yt,{size:12,className:"mr-1"}),(c==null?void 0:c.transaction_growth)>=0?"+":"",((D=c==null?void 0:c.transaction_growth)==null?void 0:D.toFixed(1))||"0","% from previous period"]})]}),t.jsx(zn,{className:"h-8 w-8 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Transaction"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["NPR ",((O=c==null?void 0:c.avg_transaction_value)==null?void 0:O.toFixed(0))||"0"]}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Profit Margin: ",(($=c==null?void 0:c.profit_margin)==null?void 0:$.toFixed(1))||"0","%"]})]}),t.jsx(q4,{className:"h-8 w-8 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Unique Customers"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:(c==null?void 0:c.unique_customers)||0}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Total Items: ",(c==null?void 0:c.total_items_sold)||0]})]}),t.jsx(it,{className:"h-8 w-8 text-primary"})]})})})]}),t.jsxs(Or,{defaultValue:"overview",className:"space-y-4",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-5",children:[t.jsx(Oe,{value:"overview",children:"Overview"}),t.jsx(Oe,{value:"products",children:"Products"}),t.jsx(Oe,{value:"payments",children:"Payments"}),t.jsx(Oe,{value:"staff",children:"Staff"}),t.jsx(Oe,{value:"customers",children:"Customers"})]}),t.jsx($e,{value:"overview",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Daily Sales Trend"})}),t.jsx(E,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(ql,{data:u||[],children:[t.jsx(Xr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),t.jsx(Pr,{dataKey:"date",stroke:"hsl(var(--muted-foreground))"}),t.jsx(Cr,{stroke:"hsl(var(--muted-foreground))"}),t.jsx(Br,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",color:"hsl(var(--foreground))"}}),t.jsx(qn,{type:"monotone",dataKey:"sales",stroke:"hsl(var(--primary))",strokeWidth:2})]})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Hourly Sales Pattern"})}),t.jsx(E,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(pa,{data:h||[],children:[t.jsx(Xr,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),t.jsx(Pr,{dataKey:"hour",stroke:"hsl(var(--muted-foreground))"}),t.jsx(Cr,{stroke:"hsl(var(--muted-foreground))"}),t.jsx(Br,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",color:"hsl(var(--foreground))"}}),t.jsx(vr,{dataKey:"sales",fill:"hsl(var(--primary))"})]})})})]})]})}),t.jsx($e,{value:"products",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"text-card-foreground flex items-center",children:[t.jsx(vt,{className:"mr-2"}),"Top Selling Products"]})}),t.jsx(E,{children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Product Name"}),t.jsx(K,{children:"Units Sold"}),t.jsx(K,{children:"Revenue"}),t.jsx(K,{children:"Profit"}),t.jsx(K,{children:"Performance"})]})}),t.jsx(At,{children:g.map((V,R)=>{var X,z,F;return t.jsxs(Ie,{children:[t.jsxs(W,{className:"font-medium",children:[V.name,V.strength&&t.jsxs("div",{className:"text-xs text-muted-foreground",children:[V.strength," ",V.dosage_form]})]}),t.jsx(W,{children:V.quantity_sold}),t.jsxs(W,{children:["NPR ",(X=V.total_revenue)==null?void 0:X.toLocaleString()]}),t.jsxs(W,{children:["NPR ",(z=V.total_profit)==null?void 0:z.toLocaleString()]}),t.jsx(W,{children:t.jsxs(re,{variant:V.profit_margin>30?"default":V.profit_margin>15?"secondary":"outline",children:[(F=V.profit_margin)==null?void 0:F.toFixed(1),"% margin"]})})]},V.product_id)})})]})})]})}),t.jsx($e,{value:"payments",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"text-card-foreground flex items-center",children:[t.jsx(ss,{className:"mr-2"}),"Payment Method Distribution"]})}),t.jsx(E,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(fu,{children:[t.jsx(cs,{data:v||[],cx:"50%",cy:"50%",labelLine:!1,label:({payment_method:V,percentage:R})=>`${V}: ${R==null?void 0:R.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"percentage",children:(v||[]).map((V,R)=>t.jsx(Fi,{fill:zf[R%zf.length]},`cell-${R}`))}),t.jsx(Br,{})]})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Payment Method Details"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:(v||[]).map((V,R)=>{var X,z;return t.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:zf[R%zf.length]}}),t.jsx("span",{className:"font-medium text-foreground capitalize",children:V.payment_method})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-bold text-foreground",children:["NPR ",(X=V.total_amount)==null?void 0:X.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[(z=V.percentage)==null?void 0:z.toFixed(1),"% of total"]})]})]},V.payment_method)})})})]})]})}),t.jsx($e,{value:"staff",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"text-card-foreground flex items-center",children:[t.jsx(it,{className:"mr-2"}),"Cashier Performance"]})}),t.jsx(E,{children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Cashier Name"}),t.jsx(K,{children:"Transactions"}),t.jsx(K,{children:"Total Sales"}),t.jsx(K,{children:"Avg Transaction"}),t.jsx(K,{children:"Performance"})]})}),t.jsx(At,{children:(y||[]).map((V,R)=>{var X,z;return t.jsxs(Ie,{children:[t.jsx(W,{className:"font-medium",children:V.name}),t.jsx(W,{children:V.transaction_count}),t.jsxs(W,{children:["NPR ",(X=V.total_sales)==null?void 0:X.toLocaleString()]}),t.jsxs(W,{children:["NPR ",(z=V.avg_transaction_value)==null?void 0:z.toFixed(0)]}),t.jsx(W,{children:t.jsx(re,{variant:R===0?"default":R<2?"secondary":"outline",children:R===0?"Top Performer":R<2?"Good":"Average"})})]},V.staff_id)})})]})})]})}),t.jsx($e,{value:"customers",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Customer Analytics"})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center p-3 border border-border rounded",children:[t.jsx("span",{className:"text-foreground",children:"New Customers"}),t.jsx("span",{className:"font-bold text-primary",children:(C==null?void 0:C.new_customers)||0})]}),t.jsxs("div",{className:"flex justify-between items-center p-3 border border-border rounded",children:[t.jsx("span",{className:"text-foreground",children:"Returning Customers"}),t.jsx("span",{className:"font-bold text-primary",children:(C==null?void 0:C.returning_customers)||0})]}),t.jsxs("div",{className:"flex justify-between items-center p-3 border border-border rounded",children:[t.jsx("span",{className:"text-foreground",children:"High Value Customers"}),t.jsx("span",{className:"font-bold text-primary",children:(C==null?void 0:C.high_value_customers)||0})]}),t.jsxs("div",{className:"flex justify-between items-center p-3 border border-border rounded",children:[t.jsx("span",{className:"text-foreground",children:"Customer Retention Rate"}),t.jsxs("span",{className:"font-bold text-success",children:[((U=C==null?void 0:C.retention_rate)==null?void 0:U.toFixed(1))||"0","%"]})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Purchase Frequency"})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-foreground",children:"Total Customers"}),t.jsx("span",{className:"font-bold text-primary",children:(C==null?void 0:C.total_customers)||0})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-foreground",children:"New Customers"}),t.jsx("span",{className:"font-bold text-primary",children:(C==null?void 0:C.new_customers)||0})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-foreground",children:"Returning Customers"}),t.jsx("span",{className:"font-bold text-primary",children:(C==null?void 0:C.returning_customers)||0})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-foreground",children:"High Value Customers"}),t.jsx("span",{className:"font-bold text-success",children:(C==null?void 0:C.high_value_customers)||0})]})]})})]})]})})]})]})}var Xv="Switch",[f1e,wPe]=Gn(Xv),[p1e,x1e]=f1e(Xv),WL=x.forwardRef((e,r)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[h,p]=x.useState(null),g=Ot(r,j=>p(j)),f=x.useRef(!1),v=h?u||!!h.closest("form"):!0,[b,y]=ga({prop:a,defaultProp:i??!1,onChange:d,caller:Xv});return t.jsxs(p1e,{scope:n,checked:b,disabled:l,children:[t.jsx(Je.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":XL(b),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:g,onClick:Ye(e.onClick,j=>{y(C=>!C),v&&(f.current=j.isPropagationStopped(),f.current||j.stopPropagation())})}),v&&t.jsx(GL,{control:h,bubbles:!f.current,name:s,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});WL.displayName=Xv;var HL="SwitchThumb",KL=x.forwardRef((e,r)=>{const{__scopeSwitch:n,...s}=e,a=x1e(HL,n);return t.jsx(Je.span,{"data-state":XL(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:r})});KL.displayName=HL;var g1e="SwitchBubbleInput",GL=x.forwardRef(({__scopeSwitch:e,control:r,checked:n,bubbles:s=!0,...a},i)=>{const o=x.useRef(null),l=Ot(o,i),c=j1(n),d=Qw(r);return x.useEffect(()=>{const u=o.current;if(!u)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&p){const g=new Event("click",{bubbles:s});p.call(u,n),u.dispatchEvent(g)}},[c,n,s]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});GL.displayName=g1e;function XL(e){return e?"checked":"unchecked"}var YL=WL,v1e=KL;const wt=x.forwardRef(({className:e,...r},n)=>t.jsx(YL,{className:Ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...r,ref:n,children:t.jsx(v1e,{className:Ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));wt.displayName=YL.displayName;const Vt=x.forwardRef(({className:e,...r},n)=>t.jsx("textarea",{className:Ee("flex min-h-[60px] w-full border border-gray-300 bg-transparent px-2 py-1 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Vt.displayName="Textarea";function y1e(){const[e,r]=x.useState(!1),[n,s]=x.useState(!1),[a,i]=x.useState(null),[o,l]=x.useState({businessName:"",address:"",phone:"",email:"",footerText:"",logoUrl:null}),[c,d]=x.useState({vatEnabled:!1,vatRate:13,taxInclusive:!1}),[u,m]=x.useState({onlinePayments:["cash","online"]}),{toast:h}=Tt();x.useEffect(()=>{p()},[]);const p=async()=>{try{r(!0);const y=(await Ve.get("/pos/settings/")).data;l({businessName:y.business_name||"",address:y.business_address||"",phone:y.business_phone||"",email:y.business_email||"",footerText:y.receipt_footer||"",logoUrl:y.receipt_logo||null}),d({vatEnabled:y.tax_rate>0,vatRate:y.tax_rate||13,taxInclusive:y.tax_inclusive||!1}),m({onlinePayments:y.payment_methods||["cash","online"]})}catch(b){console.error("Error loading settings:",b),h({title:"Error",description:"Failed to load POS settings",variant:"destructive"})}finally{r(!1)}},g=async()=>{try{s(!0);const b=new FormData;b.append("business_name",o.businessName),b.append("business_address",o.address),b.append("business_phone",o.phone),b.append("business_email",o.email),b.append("receipt_footer",o.footerText),b.append("tax_rate",c.vatEnabled?c.vatRate.toString():"0"),b.append("tax_inclusive",c.taxInclusive?"true":"false"),b.append("payment_methods",JSON.stringify(u.onlinePayments)),a&&b.append("receipt_logo",a),await Ve.post("/pos/settings/",b,{headers:{"Content-Type":"multipart/form-data"}}),h({title:"Settings Saved",description:"POS settings have been updated successfully"}),await p(),i(null)}catch(b){console.error("Error saving settings:",b),h({title:"Error",description:"Failed to save POS settings",variant:"destructive"})}finally{s(!1)}},f=()=>{l({businessName:"",address:"",phone:"",email:"",footerText:"",logoUrl:null}),d({vatEnabled:!1,vatRate:13,taxInclusive:!1}),m({onlinePayments:["cash","online"]}),i(null),h({title:"Settings Reset",description:"All settings have been reset to default values"})},v=b=>{var j;const y=(j=b.target.files)==null?void 0:j[0];if(y){if(y.size>2*1024*1024){h({title:"File too large",description:"Please select a file smaller than 2MB",variant:"destructive"});return}if(!y.type.startsWith("image/")){h({title:"Invalid file type",description:"Please select an image file (PNG, JPG, etc.)",variant:"destructive"});return}i(y)}};return e?t.jsxs("div",{className:"flex items-center justify-center h-64",children:[t.jsx(ir,{className:"h-8 w-8 animate-spin"}),t.jsx("span",{className:"ml-2",children:"Loading settings..."})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center",children:[t.jsx(ln,{className:"mr-2 text-primary"}),"POS Settings"]}),t.jsx("p",{className:"text-muted-foreground",children:"Configure point of sale system preferences"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(k,{variant:"outline",onClick:f,disabled:n,children:[t.jsx(Rm,{size:16,className:"mr-2"}),"Reset to Default"]}),t.jsxs(k,{onClick:g,disabled:n,children:[n?t.jsx(ir,{size:16,className:"mr-2 animate-spin"}):t.jsx(Co,{size:16,className:"mr-2"}),n?"Saving...":"Save Changes"]})]})]}),t.jsxs(Or,{defaultValue:"receipt",className:"space-y-4",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-3",children:[t.jsx(Oe,{value:"receipt",children:"Receipt"}),t.jsx(Oe,{value:"tax",children:"Tax & VAT"}),t.jsx(Oe,{value:"payment",children:"Payment"})]}),t.jsx($e,{value:"receipt",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"text-card-foreground flex items-center",children:[t.jsx(zw,{className:"mr-2"}),"Receipt Configuration"]})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"businessName",children:"Business Name"}),t.jsx(J,{id:"businessName",value:o.businessName,onChange:b=>l({...o,businessName:b.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"address",children:"Address"}),t.jsx(Vt,{id:"address",value:o.address,onChange:b=>l({...o,address:b.target.value}),rows:3})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"phone",children:"Phone"}),t.jsx(J,{id:"phone",value:o.phone,onChange:b=>l({...o,phone:b.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"email",children:"Email"}),t.jsx(J,{id:"email",type:"email",value:o.email,onChange:b=>l({...o,email:b.target.value})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"footerText",children:"Footer Text"}),t.jsx(Vt,{id:"footerText",value:o.footerText,onChange:b=>l({...o,footerText:b.target.value}),rows:2})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Logo Upload"})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{children:"Business Logo"}),t.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[o.logoUrl&&!a?t.jsxs("div",{className:"mb-4",children:[t.jsx("img",{src:o.logoUrl.startsWith("http")?o.logoUrl:`https://drpharmas.com/backend${o.logoUrl}`,alt:"Current logo",className:"mx-auto max-h-20 object-contain mb-2",onError:b=>{console.error("Failed to load image:",o.logoUrl),b.currentTarget.style.display="none"}}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Current logo"})]}):a?t.jsxs("div",{className:"mb-4",children:[t.jsx("img",{src:URL.createObjectURL(a),alt:"New logo preview",className:"mx-auto max-h-20 object-contain mb-2"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["New logo selected: ",a.name]})]}):t.jsx(dB,{className:"mx-auto h-8 w-8 text-muted-foreground mb-2"}),t.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden",id:"logo-upload"}),t.jsxs(k,{variant:"outline",className:"mb-2",onClick:()=>{var b;return(b=document.getElementById("logo-upload"))==null?void 0:b.click()},children:[t.jsx(kh,{size:16,className:"mr-2"}),o.logoUrl||a?"Change Logo":"Upload Logo"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Max size: 2MB, PNG/JPG format"})]})]})})]})]})}),t.jsx($e,{value:"tax",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border max-w-md",children:[t.jsx(B,{children:t.jsxs(q,{className:"text-card-foreground flex items-center",children:[t.jsx(q4,{className:"mr-2"}),"Tax Configuration"]})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(M,{htmlFor:"vatEnabled",children:"Include Tax"}),t.jsx(wt,{id:"vatEnabled",checked:c.vatEnabled,onCheckedChange:b=>d({...c,vatEnabled:b})})]}),t.jsxs("div",{className:`space-y-4 p-3 border rounded-lg transition-opacity ${c.vatEnabled?"bg-background":"opacity-50 bg-muted/20"}`,children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"vatRate",className:c.vatEnabled?"":"text-muted-foreground",children:"Tax Rate (%)"}),t.jsx(J,{id:"vatRate",type:"number",value:c.vatRate,onChange:b=>d({...c,vatRate:Number(b.target.value)}),placeholder:"Enter tax percentage",min:"0",max:"100",step:"0.01",disabled:!c.vatEnabled})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(M,{htmlFor:"taxInclusive",className:c.vatEnabled?"":"text-muted-foreground",children:"Tax Inclusive Pricing"}),t.jsx(wt,{id:"taxInclusive",checked:c.taxInclusive,onCheckedChange:b=>d({...c,taxInclusive:b}),disabled:!c.vatEnabled})]})]})]})]})}),t.jsx($e,{value:"payment",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border max-w-lg",children:[t.jsx(B,{children:t.jsxs(q,{className:"text-card-foreground flex items-center",children:[t.jsx(ss,{className:"mr-2"}),"Online Payment Methods"]})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[u.onlinePayments.map((b,y)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(J,{value:b,onChange:j=>{const C=[...u.onlinePayments];C[y]=j.target.value,m({...u,onlinePayments:C})},placeholder:"e.g., eSewa, Khalti, Bank Transfer"}),t.jsx(k,{variant:"outline",size:"sm",onClick:()=>{const j=u.onlinePayments.filter((C,S)=>S!==y);m({...u,onlinePayments:j})},children:"Remove"})]},y)),t.jsx(k,{variant:"outline",onClick:()=>{m({...u,onlinePayments:[...u.onlinePayments,""]})},children:"Add Payment Method"})]}),t.jsx("div",{className:"pt-4 border-t",children:t.jsxs(k,{onClick:g,disabled:n,children:[n?t.jsx(ir,{size:16,className:"mr-2 animate-spin"}):t.jsx(Co,{size:16,className:"mr-2"}),n?"Saving...":"Save Payment Methods"]})})]})]})})]})]})}const ni="https://drpharmas.com/backend";function j1e(){var br,Ca,Nr,zr,Ts,Dn,Dt,Ht,Bt,nr,Es,dt,qt,Jt,Nn,wn;const[e,r]=x.useState(""),[n,s]=x.useState("all"),[a,i]=x.useState("all"),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[u,m]=x.useState(!1),[h,p]=x.useState(!1),[g,f]=x.useState(null),[v,b]=x.useState(null),[y,j]=x.useState([]),[C,S]=x.useState([]),[N,P]=x.useState(!0),{toast:_}=Tt(),w=JSON.parse(localStorage.getItem("currentUser")||"{}"),A=w==null?void 0:w.branch_id,[D,O]=x.useState({name:"",contact:""}),[$,U]=x.useState([{id:1,medicineId:"",medicineName:"",quantity:"",costPrice:"",sellingPrice:"",unit:"pieces",packSize:"",batchNumber:"",manufacturingDate:"",expiryDate:""}]),[V,R]=x.useState([]),[X,z]=x.useState(!1),[F,te]=x.useState({}),[de,ie]=x.useState({}),[fe,ge]=x.useState({}),[he,Te]=x.useState({totalAmount:0,paidAmount:0,creditAmount:0,paymentMethod:"cash",paymentDate:new Date().toISOString().split("T")[0],notes:""}),[Se,Ue]=x.useState([]),[be,Z]=x.useState(!1);x.useEffect(()=>{const Y=ze();Te(ve=>({...ve,totalAmount:Y,paidAmount:ve.paidAmount||Y,creditAmount:Math.max(0,Y-(ve.paidAmount||Y))}))},[$]);const xe=async()=>{try{const Y=localStorage.getItem("access_token")||localStorage.getItem("token"),ve=A?`${ni}/inventory/inventory-items/?branch_id=${A}`:`${ni}/inventory/inventory-items/`,He=await fetch(ve,{headers:{"Content-Type":"application/json",...Y&&{Authorization:`Bearer ${Y}`}}});if(He.ok){const Me=await He.json();j(Me);const Ge=[...new Set(Me.map(Kt=>{var ee,Be;return(Be=(ee=Kt.medicine)==null?void 0:ee.category)==null?void 0:Be.name}).filter(Boolean))];S(Ge)}}catch(Y){console.error("Error fetching inventory:",Y)}finally{P(!1)}},oe=async()=>{try{const Y=localStorage.getItem("access_token")||localStorage.getItem("token"),ve=await fetch(`${ni}/inventory/purchase-history/`,{headers:{"Content-Type":"application/json",...Y&&{Authorization:`Bearer ${Y}`}}});if(ve.ok){const He=await ve.json();Ue(He)}}catch(Y){console.error("Error fetching purchase history:",Y)}};x.useEffect(()=>{xe(),oe()},[]);const ze=()=>$.reduce((Y,ve)=>{const He=parseFloat(ve.quantity)||0,Me=parseFloat(ve.costPrice)||0;return Y+He*Me},0),Fe=()=>$.filter(Y=>Y.medicineName&&Y.quantity&&Y.costPrice).length,tt=async Y=>{if(Y.length<2){R([]);return}try{const ve=localStorage.getItem("access_token")||localStorage.getItem("token"),He=A?`${ni}/inventory/suppliers/search/?q=${encodeURIComponent(Y)}&branch_id=${A}`:`${ni}/inventory/suppliers/search/?q=${encodeURIComponent(Y)}`,Me=await fetch(He,{method:"GET",headers:{"Content-Type":"application/json",...ve&&{Authorization:`Bearer ${ve}`}}});if(console.log("Supplier search response status:",Me.status),!Me.ok){console.error("Supplier search failed:",Me.status,Me.statusText);const Kt=await Me.text();console.error("Response text:",Kt),R([]);return}const Ge=await Me.json();console.log("Supplier search data:",Ge),R(Ge)}catch(ve){console.error("Error searching suppliers:",ve),R([])}},ot=async(Y,ve)=>{if(console.log(`Medicine search called with query: '${Y}', itemId: ${ve}`),Y.length<2){console.log("Query too short, clearing suggestions"),te(He=>({...He,[ve]:[]}));return}try{console.log("Making API call to medicine search");const He=localStorage.getItem("access_token")||localStorage.getItem("token");console.log("Token found:",He?"Yes":"No");const Me=await fetch(`${ni}/inventory/medicines/search/?q=${encodeURIComponent(Y)}`,{method:"GET",headers:{"Content-Type":"application/json",...He&&{Authorization:`Bearer ${He}`}}});if(console.log("Medicine search response status:",Me.status),!Me.ok){console.error("Medicine search failed:",Me.status,Me.statusText);const Kt=await Me.text();console.error("Response text:",Kt),te(ee=>({...ee,[ve]:[]}));return}const Ge=await Me.json();console.log("Medicine search data:",Ge),te(Kt=>({...Kt,[ve]:Ge}))}catch(He){console.error("Error searching medicines:",He),te(Me=>({...Me,[ve]:[]}))}},pe=()=>{const Y=Math.max(...$.map(ve=>ve.id))+1;U([...$,{id:Y,medicineId:"",medicineName:"",quantity:"",costPrice:"",sellingPrice:"",unit:"pieces",packSize:"",batchNumber:"",manufacturingDate:"",expiryDate:""}])},qe=(Y,ve,He)=>{U($.map(Me=>Me.id===Y?{...Me,[ve]:He}:Me))},ae=Y=>{$.length>1&&U($.filter(ve=>ve.id!==Y))},je=new Date,H={};y.forEach(Y=>{var He;const ve=(He=Y.medicine)==null?void 0:He.id;if(ve&&(H[ve]||(H[ve]={id:ve,medicine:Y.medicine,total_stock:0,min_stock:Y.min_stock||10,max_stock:Y.max_stock||1e3,cost_price:Y.cost_price,selling_price:Y.selling_price,location:Y.location,supplier_name:Y.supplier_name,batches:[],earliest_expiry:null}),H[ve].total_stock+=Y.current_stock||0,H[ve].batches.push(Y),Y.expiry_date)){const Me=new Date(Y.expiry_date);(!H[ve].earliest_expiry||Me<H[ve].earliest_expiry)&&(H[ve].earliest_expiry=Me)}});const le=Object.values(H).filter(Y=>{var Be,Ze,ft;const ve=((Be=Y.medicine)==null?void 0:Be.name)||"",He=((ft=(Ze=Y.medicine)==null?void 0:Ze.category)==null?void 0:ft.name)||"",Me=ve.toLowerCase().includes(e.toLowerCase()),Ge=n==="all"||He===n,Kt=a==="all"||a==="low"&&Y.total_stock<=Y.min_stock||a==="normal"&&Y.total_stock>Y.min_stock&&Y.total_stock<Y.max_stock||a==="high"&&Y.total_stock>=Y.max_stock,ee=o==="all"||(()=>{if(!Y.earliest_expiry)return!1;const Et=Math.ceil((Y.earliest_expiry-je)/(1e3*60*60*24));return o==="critical"?Et<=7&&Et>=0:o==="high_risk"?Et<=30&&Et>7:o==="expired"?Et<0:!0})();return Me&&Ge&&Kt&&ee}),ne=Y=>{const ve=Y.total_stock||0,He=Y.min_stock||0,Me=Y.max_stock||999;return ve<=He?{status:"Low Stock",variant:"destructive",icon:Ci}:ve>=Me?{status:"Overstock",variant:"secondary",icon:yt}:{status:"Normal",variant:"default",icon:vt}},Q={};y.forEach(Y=>{var He;const ve=(He=Y.medicine)==null?void 0:He.id;ve&&(Q[ve]||(Q[ve]={medicine:Y.medicine,total_stock:0,total_value:0,min_stock:Y.min_stock||10,batches:[]}),Q[ve].total_stock+=Y.current_stock||0,Q[ve].total_value+=(Y.current_stock||0)*(Y.cost_price||0),Q[ve].batches.push(Y))});const ce=Object.values(Q),Ne=ce.length,G=ce.filter(Y=>Y.total_stock<=Y.min_stock).length,ue=ce.reduce((Y,ve)=>Y+ve.total_value,0),Le=y.filter(Y=>{if(!Y.expiry_date)return!1;const ve=new Date(Y.expiry_date),He=Math.ceil((ve-je)/(1e3*60*60*24));return He<=7&&He>=0}),We=y.filter(Y=>{if(!Y.expiry_date)return!1;const ve=new Date(Y.expiry_date),He=Math.ceil((ve-je)/(1e3*60*60*24));return He<=30&&He>7}),St=[...Le,...We].reduce((Y,ve)=>Y+(ve.current_stock||0)*(ve.cost_price||0),0),sn=Y=>{b(Y),O({name:Y.supplier_name||"",contact:""}),U([{id:1,medicineId:Y.medicine.id,medicineName:Y.medicine.name,quantity:"",costPrice:"",sellingPrice:Y.selling_price||"",unit:Y.unit||"pieces",packSize:"",batchNumber:"",manufacturingDate:"",expiryDate:"",location:Y.location||""}]),ge({1:Y.medicine.name}),p(!0)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Stock Management"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{variant:"outline",onClick:()=>Z(!0),children:[t.jsx(Ut,{size:16,className:"mr-2"}),"Purchase History"]}),t.jsxs(rt,{open:c,onOpenChange:d,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{size:20,className:"mr-2"}),"Add New Item"]})}),t.jsxs(nt,{className:"max-w-[95vw] max-h-[95vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Inventory Item"}),t.jsx(Pt,{children:"Add a new medicine or product to your inventory"})]}),t.jsxs("div",{className:"flex flex-col h-[75vh]",children:[t.jsx("div",{className:"bg-gray-50 p-2 rounded mb-2",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx(J,{value:D.name,onChange:Y=>{const ve=Y.target.value;O({...D,name:ve,id:null,type:"custom"}),ve.length>=2?(tt(ve),z(!0)):z(!1)},onFocus:()=>{D.name.length>=2&&z(!0)},onBlur:()=>{setTimeout(()=>{z(!1)},300)},placeholder:"Supplier Name *",className:"text-sm h-8"}),X&&V.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-32 overflow-y-auto",children:V.map(Y=>t.jsxs("div",{className:"px-2 py-1 hover:bg-gray-100 cursor-pointer text-xs",onMouseDown:ve=>{ve.preventDefault(),O({name:Y.name,contact:Y.contact,id:Y.id,type:Y.type}),z(!1)},children:[t.jsx("div",{className:"font-medium",children:Y.name}),t.jsx("div",{className:"text-gray-500",children:Y.contact}),t.jsx("div",{className:"text-xs text-blue-500",children:Y.type==="user"?"Supplier User":"Custom"})]},`${Y.type}-${Y.id}`))})]}),t.jsx(J,{value:D.contact,onChange:Y=>O({...D,contact:Y.target.value}),placeholder:"Contact",className:"text-sm h-8"})]})}),t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("div",{className:"text-sm font-medium",children:"Items"}),t.jsxs(k,{type:"button",variant:"outline",size:"sm",onClick:pe,className:"h-7 px-2",children:[t.jsx(zt,{size:14,className:"mr-1"}),"Add"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto border rounded p-2 mb-2",children:t.jsx("div",{className:"space-y-2",children:$.map((Y,ve)=>{var He;return t.jsxs("div",{className:"grid grid-cols-10 gap-2 items-start p-3 border rounded bg-white",children:[t.jsxs("div",{className:"col-span-2 relative",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Medicine Name *"}),t.jsx("input",{type:"text",value:fe[Y.id]||"",onChange:Me=>{const Ge=Me.target.value;ge(Kt=>({...Kt,[Y.id]:Ge})),Ge.length>=2?(ot(Ge,Y.id),ie(Kt=>({...Kt,[Y.id]:!0}))):ie(Kt=>({...Kt,[Y.id]:!1}))},placeholder:"Search medicine...",style:{width:"100%",height:"28px",padding:"4px 8px",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px",outline:"none"}}),de[Y.id]&&((He=F[Y.id])==null?void 0:He.length)>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-32 overflow-y-auto",children:F[Y.id].map(Me=>t.jsxs("div",{className:"px-2 py-1 hover:bg-gray-100 cursor-pointer text-xs",onClick:()=>{console.log("Selected medicine:",Me),console.log("Medicine unit:",Me.unit),U(Ge=>Ge.map(Kt=>Kt.id===Y.id?{...Kt,medicineName:Me.name,medicineId:Me.id,unit:Me.unit||"pieces",packSize:Me.pack_size||"",costPrice:Me.cost_price||"",sellingPrice:Me.selling_price||""}:Kt)),ge(Ge=>({...Ge,[Y.id]:Me.name})),ie(Ge=>({...Ge,[Y.id]:!1})),console.log("Updated item unit to:",Me.unit)},children:[t.jsx("div",{className:"font-medium",children:Me.name}),t.jsxs("div",{className:"text-gray-500",children:[Me.strength," - ",Me.dosage_form]})]},Me.id))})]}),t.jsxs("div",{className:"col-span-1",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Qty *"}),t.jsx(J,{type:"number",value:Y.quantity,onChange:Me=>qe(Y.id,"quantity",Me.target.value),placeholder:"0",className:"text-xs h-7"})]}),t.jsxs("div",{className:"col-span-1",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Unit"}),t.jsx("input",{type:"text",value:Y.unit,readOnly:!0,style:{width:"100%",height:"28px",padding:"4px 8px",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px",backgroundColor:"#f9fafb",color:"#6b7280"}},`unit-${Y.id}-${Y.unit}`)]}),t.jsxs("div",{className:"col-span-1",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Cost *"}),t.jsx("input",{type:"number",step:"0.01",value:Y.costPrice,onChange:Me=>qe(Y.id,"costPrice",Me.target.value),placeholder:"0.00",style:{width:"100%",height:"28px",padding:"4px 8px",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px"}}),Y.quantity&&Y.costPrice&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Total: NPR ",(parseFloat(Y.quantity)*parseFloat(Y.costPrice)).toFixed(2)]}),Y.packSize&&t.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["1 ",Y.unit," = ",Y.packSize," pieces"]})]}),t.jsxs("div",{className:"col-span-1",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"SP"}),t.jsx(J,{type:"number",step:"0.01",value:Y.sellingPrice,onChange:Me=>qe(Y.id,"sellingPrice",Me.target.value),placeholder:"0",className:"text-xs h-7"})]}),t.jsxs("div",{className:"col-span-1",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Batch *"}),t.jsx(J,{value:Y.batchNumber,onChange:Me=>qe(Y.id,"batchNumber",Me.target.value),placeholder:"Batch",className:"text-xs h-7"})]}),t.jsxs("div",{className:"col-span-1",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Mfg Date *"}),t.jsx("input",{type:"date",value:Y.manufacturingDate,onChange:Me=>qe(Y.id,"manufacturingDate",Me.target.value),style:{width:"100%",height:"28px",padding:"2px 4px",fontSize:"11px",border:"1px solid #d1d5db",borderRadius:"4px"}})]}),t.jsxs("div",{className:"col-span-1",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Exp Date *"}),t.jsx("input",{type:"date",value:Y.expiryDate,onChange:Me=>qe(Y.id,"expiryDate",Me.target.value),style:{width:"100%",height:"28px",padding:"2px 4px",fontSize:"11px",border:"1px solid #d1d5db",borderRadius:"4px"}})]}),t.jsxs("div",{className:"col-span-1 flex justify-center",children:[ve===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Del"}),t.jsx(k,{type:"button",variant:"outline",size:"sm",onClick:()=>ae(Y.id),disabled:$.length===1,className:"h-7 w-7 p-0 ml-0",children:t.jsx(as,{size:10})})]})]},Y.id)})})}),t.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Payment Details"}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Total Amount"}),t.jsx(J,{type:"number",value:ze().toFixed(2),disabled:!0,className:"text-xs bg-white font-medium"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Paid Amount"}),t.jsx(J,{type:"number",step:"0.01",value:he.paidAmount,onChange:Y=>{const ve=parseFloat(Y.target.value)||0,He=ze();Te(Me=>({...Me,paidAmount:ve,creditAmount:Math.max(0,He-ve),paymentMethod:ve>=He?"cash":ve>0?"partial":"credit"}))},className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Credit/Due"}),t.jsx(J,{type:"number",value:(ze()-he.paidAmount).toFixed(2),disabled:!0,className:"text-xs bg-red-50 text-red-600 font-medium"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Payment Method"}),t.jsxs(_e,{value:he.paymentMethod,onValueChange:Y=>Te(ve=>({...ve,paymentMethod:Y})),children:[t.jsx(Pe,{className:"text-xs",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"cash",children:"Cash Payment"}),t.jsx(I,{value:"credit",children:"Credit (Pay Later)"}),t.jsx(I,{value:"partial",children:"Partial Payment"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Payment Date"}),t.jsx(J,{type:"date",value:he.paymentDate,onChange:Y=>Te(ve=>({...ve,paymentDate:Y.target.value})),className:"text-xs"})]})]})]}),t.jsx("div",{className:"bg-gray-50 p-2 rounded",children:t.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Items:"}),t.jsx("span",{className:"ml-1 font-medium",children:Fe()})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Total:"}),t.jsxs("span",{className:"ml-1 font-medium",children:["NPR ",ze().toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Supplier:"}),t.jsx("span",{className:"ml-1 font-medium text-xs",children:D.name||"None"})]})]})})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),t.jsx(k,{onClick:async()=>{var He,Me;if(console.log(`
=== FRONTEND INVENTORY CREATE DEBUG ===`),console.log("Global supplier:",D),console.log("All items:",$),console.log("Payment details:",he),console.log("User branch ID:",A),!D.name){console.log("ERROR: No supplier name provided"),_({title:"Error",description:"Please select a supplier",variant:"destructive"});return}const Y=$.filter(Ge=>Ge.medicineId&&Ge.medicineName&&Ge.quantity&&Ge.costPrice&&Ge.batchNumber&&Ge.manufacturingDate&&Ge.expiryDate);if(console.log("Valid items count:",Y.length),console.log("Valid items:",Y),Y.length===0){console.log("ERROR: No valid items found"),_({title:"Error",description:"Please fill in all required fields for at least one item",variant:"destructive"});return}const ve={supplier:{name:D.name,contact:D.contact,id:D.id,type:D.type||"custom"},branch_id:A,items:Y.map(Ge=>({medicine_id:Ge.medicineId,quantity:Ge.quantity,unit:Ge.unit,cost_price:Ge.costPrice,selling_price:Ge.sellingPrice||null,batch_number:Ge.batchNumber,manufacturing_date:Ge.manufacturingDate,expiry_date:Ge.expiryDate})),payment:he};console.log("Request payload:",JSON.stringify(ve,null,2));try{const Ge=localStorage.getItem("access_token")||localStorage.getItem("token");console.log("Token available:",Ge?"Yes":"No");const Kt=await fetch(`${ni}/inventory/inventory/create/`,{method:"POST",headers:{"Content-Type":"application/json",...Ge&&{Authorization:`Bearer ${Ge}`}},body:JSON.stringify(ve)});console.log("Response status:",Kt.status),console.log("Response ok:",Kt.ok);const ee=await Kt.json();console.log("Response data:",ee),Kt.ok?(console.log("SUCCESS: Inventory created successfully"),console.log("Created items count:",((He=ee.created_items)==null?void 0:He.length)||0),console.log("Errors count:",((Me=ee.errors)==null?void 0:Me.length)||0),O({name:"",contact:"",id:null,type:"custom"}),U([{id:1,medicineId:"",medicineName:"",quantity:"",costPrice:"",sellingPrice:"",unit:"pieces",batchNumber:"",manufacturingDate:"",expiryDate:""}]),Te({totalAmount:0,paidAmount:0,creditAmount:0,paymentMethod:"cash",paymentDate:new Date().toISOString().split("T")[0],notes:""}),d(!1),_({title:"Success",description:ee.message}),xe(),oe()):(console.log("ERROR: Failed to create inventory"),console.log("Error details:",ee),_({title:"Error",description:ee.error||"Failed to create inventory items",variant:"destructive"}))}catch(Ge){console.error("CRITICAL ERROR creating inventory items:",Ge),_({title:"Error",description:"Failed to create inventory items",variant:"destructive"})}},children:"Add Item"})]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3",children:[t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:Ne}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Items"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(tr,{className:"h-5 w-5 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:G}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Low Stock"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(yt,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-bold",children:["NPR ",(ue/1e3).toFixed(0),"K"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Stock Value"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:C.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Categories"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-5 w-5 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold text-red-600",children:Le.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Critical"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Rt,{className:"h-5 w-5 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold text-orange-600",children:We.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"High Risk"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(tr,{className:"h-5 w-5 text-yellow-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-bold text-yellow-600",children:["NPR ",(St/1e3).toFixed(0),"K"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"At Risk"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:Le.length+We.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Expiring"})]})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search medicines...",value:e,onChange:Y=>r(Y.target.value),className:"pl-10"})]})}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by category"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Categories"}),C.map(Y=>t.jsx(I,{value:Y,children:Y},Y))]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by stock"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Stock Levels"}),t.jsx(I,{value:"low",children:"Low Stock"}),t.jsx(I,{value:"normal",children:"Normal Stock"}),t.jsx(I,{value:"high",children:"Overstock"})]})]}),t.jsxs(_e,{value:o,onValueChange:l,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by expiry"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Items"}),t.jsx(I,{value:"critical",children:"Critical (≤ 7 days)"}),t.jsx(I,{value:"high_risk",children:"High Risk (≤ 30 days)"}),t.jsx(I,{value:"expired",children:"Expired"})]})]})]})})}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{children:["Inventory Items (",le.length,")"]})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Medicine"}),t.jsx(K,{children:"Category"}),t.jsx(K,{children:"Current Stock"}),t.jsx(K,{children:"Stock Status"}),t.jsx(K,{children:"Unit Price"}),t.jsx(K,{children:"Location"}),t.jsx(K,{children:"Supplier"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:N?t.jsx(Ie,{children:t.jsx(W,{colSpan:8,className:"text-center py-8",children:"Loading inventory..."})}):le.length===0?t.jsx(Ie,{children:t.jsx(W,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No inventory items found"})}):le.map(Y=>{var Ge,Kt,ee,Be;const ve=ne(Y),He=ve.icon,Me=Y.batches[0];return t.jsxs(Ie,{children:[t.jsxs(W,{className:"font-medium",children:[((Ge=Y.medicine)==null?void 0:Ge.name)||"N/A",((Kt=Y.medicine)==null?void 0:Kt.strength)&&t.jsxs("div",{className:"text-xs text-muted-foreground",children:[Y.medicine.strength," - ",Y.medicine.dosage_form]}),Y.batches.length>1&&t.jsxs("div",{className:"text-xs text-blue-600",children:[Y.batches.length," batches available"]})]}),t.jsx(W,{children:((Be=(ee=Y.medicine)==null?void 0:ee.category)==null?void 0:Be.name)||"N/A"}),t.jsx(W,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"font-medium",children:Y.total_stock||0}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Min: ",Y.min_stock||0," | Max: ",Y.max_stock||999]})]})}),t.jsx(W,{children:t.jsxs(re,{variant:ve.variant,className:"flex items-center gap-1 w-fit",children:[t.jsx(He,{size:12}),ve.status]})}),t.jsxs(W,{children:["NPR ",Y.cost_price||0]}),t.jsx(W,{children:t.jsx(re,{variant:"outline",children:Y.location||"N/A"})}),t.jsx(W,{children:Y.supplier_name||"N/A"}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(k,{size:"sm",variant:"outline",onClick:()=>sn(Me),title:"Restock this item",children:[t.jsx(Rm,{size:12,className:"mr-1"}),"Restock"]}),t.jsxs(k,{size:"sm",variant:"outline",onClick:()=>{f(Y),m(!0)},children:[t.jsx(mn,{size:12,className:"mr-1"}),"Manage Batches"]})]})})]},Y.id)})})]})})})]}),t.jsx(rt,{open:u,onOpenChange:m,children:t.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsxs(at,{children:["Manage Batches - ",(br=g==null?void 0:g.medicine)==null?void 0:br.name]}),t.jsx(Pt,{children:"Update selling prices and locations for individual batches"})]}),g&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Medicine Summary"}),t.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Total Stock:"})," ",t.jsx("span",{className:"font-medium",children:g.total_stock})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Batches:"})," ",t.jsx("span",{className:"font-medium",children:((Ca=g.batches)==null?void 0:Ca.length)||0})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Category:"})," ",t.jsx("span",{className:"font-medium",children:((zr=(Nr=g.medicine)==null?void 0:Nr.category)==null?void 0:zr.name)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Unit:"})," ",t.jsx("span",{className:"font-medium",children:((Dn=(Ts=g.batches)==null?void 0:Ts[0])==null?void 0:Dn.unit)||"pieces"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium",children:"Individual Batches"}),(Dt=g.batches)==null?void 0:Dt.map((Y,ve)=>t.jsx("div",{className:"border rounded p-3 bg-white",children:t.jsxs("div",{className:"grid grid-cols-6 gap-3 items-center",children:[t.jsxs("div",{children:[t.jsxs(M,{className:"text-xs",children:["Batch #",ve+1]}),t.jsx("div",{className:"text-xs font-medium",children:Y.batch_number}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Stock: ",Y.current_stock]})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Cost Price"}),t.jsx(J,{type:"number",step:"0.01",value:Y.cost_price||0,disabled:!0,className:"text-xs bg-gray-100"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Selling Price *"}),t.jsx(J,{type:"number",step:"0.01",value:Y.selling_price||0,onChange:He=>{const Me=g.batches.map(Ge=>Ge.id===Y.id?{...Ge,selling_price:parseFloat(He.target.value)||0}:Ge);f({...g,batches:Me})},className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Location"}),t.jsx(J,{value:Y.location||"",onChange:He=>{const Me=g.batches.map(Ge=>Ge.id===Y.id?{...Ge,location:He.target.value}:Ge);f({...g,batches:Me})},placeholder:"e.g., A1-01",className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Expiry Date"}),t.jsx("div",{className:"text-xs font-medium",children:Y.expiry_date||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500",children:Y.supplier_name||"N/A"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Total Value"}),t.jsxs("div",{className:"text-xs font-medium text-green-600",children:["NPR ",((Y.selling_price||0)*(Y.current_stock||0)).toFixed(2)]})]})]})},Y.id))]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),t.jsx(k,{onClick:async()=>{if(g!=null&&g.batches)try{const Y=localStorage.getItem("access_token")||localStorage.getItem("token"),ve=g.batches.map(Ge=>fetch(`${ni}/inventory/inventory-items/${Ge.id}/`,{method:"PATCH",headers:{"Content-Type":"application/json",...Y&&{Authorization:`Bearer ${Y}`}},body:JSON.stringify({selling_price:Ge.selling_price,location:Ge.location,branch_id:A})}));(await Promise.all(ve)).every(Ge=>Ge.ok)?(_({title:"Success",description:`Updated ${g.batches.length} batches successfully`}),m(!1),xe()):_({title:"Partial Success",description:"Some batches failed to update",variant:"destructive"})}catch(Y){console.error("Error updating batches:",Y),_({title:"Error",description:"Failed to update batches",variant:"destructive"})}},children:"Save All Changes"})]})]})}),t.jsx(rt,{open:h,onOpenChange:p,children:t.jsxs(nt,{className:"max-w-[90vw] max-h-[90vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsxs(at,{children:["Restock Item - ",(Ht=v==null?void 0:v.medicine)==null?void 0:Ht.name]}),t.jsx(Pt,{children:"Add new stock for existing medicine with updated pricing and batch details"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Supplier Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(J,{value:D.name,onChange:Y=>O({...D,name:Y.target.value}),placeholder:"Supplier Name *",className:"text-sm"}),t.jsx(J,{value:D.contact,onChange:Y=>O({...D,contact:Y.target.value}),placeholder:"Contact",className:"text-sm"})]})]}),t.jsxs("div",{className:"border rounded p-3",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Item Details"}),t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Medicine"}),t.jsx(J,{value:((Bt=$[0])==null?void 0:Bt.medicineName)||"",disabled:!0,className:"text-xs bg-gray-100"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Quantity *"}),t.jsx(J,{type:"number",value:((nr=$[0])==null?void 0:nr.quantity)||"",onChange:Y=>qe(1,"quantity",Y.target.value),className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Cost Price *"}),t.jsx(J,{type:"number",step:"0.01",value:((Es=$[0])==null?void 0:Es.costPrice)||"",onChange:Y=>qe(1,"costPrice",Y.target.value),className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Selling Price *"}),t.jsx(J,{type:"number",step:"0.01",value:((dt=$[0])==null?void 0:dt.sellingPrice)||"",onChange:Y=>qe(1,"sellingPrice",Y.target.value),className:"text-xs"})]})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Batch Number *"}),t.jsx(J,{value:((qt=$[0])==null?void 0:qt.batchNumber)||"",onChange:Y=>qe(1,"batchNumber",Y.target.value),className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Manufacturing Date"}),t.jsx(J,{type:"date",value:((Jt=$[0])==null?void 0:Jt.manufacturingDate)||"",onChange:Y=>qe(1,"manufacturingDate",Y.target.value),className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Expiry Date *"}),t.jsx(J,{type:"date",value:((Nn=$[0])==null?void 0:Nn.expiryDate)||"",onChange:Y=>qe(1,"expiryDate",Y.target.value),className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Location"}),t.jsx(J,{value:((wn=$[0])==null?void 0:wn.location)||"",onChange:Y=>qe(1,"location",Y.target.value),placeholder:"e.g., A1-01",className:"text-xs"})]})]})]}),t.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Payment Details"}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Total Amount"}),t.jsx(J,{type:"number",value:ze().toFixed(2),disabled:!0,className:"text-xs bg-white font-medium"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Paid Amount"}),t.jsx(J,{type:"number",step:"0.01",value:he.paidAmount,onChange:Y=>{const ve=parseFloat(Y.target.value)||0,He=ze();Te(Me=>({...Me,paidAmount:ve,creditAmount:Math.max(0,He-ve),paymentMethod:ve>=He?"cash":ve>0?"partial":"credit"}))},className:"text-xs"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Credit/Due"}),t.jsx(J,{type:"number",value:(ze()-he.paidAmount).toFixed(2),disabled:!0,className:"text-xs bg-red-50 text-red-600 font-medium"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Payment Method"}),t.jsxs(_e,{value:he.paymentMethod,onValueChange:Y=>Te(ve=>({...ve,paymentMethod:Y})),children:[t.jsx(Pe,{className:"text-xs",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"cash",children:"Cash Payment"}),t.jsx(I,{value:"credit",children:"Credit (Pay Later)"}),t.jsx(I,{value:"partial",children:"Partial Payment"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Payment Date"}),t.jsx(J,{type:"date",value:he.paymentDate,onChange:Y=>Te(ve=>({...ve,paymentDate:Y.target.value})),className:"text-xs"})]})]})]}),v&&t.jsxs("div",{className:"bg-yellow-50 p-3 rounded",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Previous Stock Info"}),t.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[t.jsxs("div",{children:["Current: ",t.jsx("span",{className:"font-medium",children:v.current_stock})]}),t.jsxs("div",{children:["Cost: ",t.jsxs("span",{className:"font-medium",children:["NPR ",v.cost_price]})]}),t.jsxs("div",{children:["Selling: ",t.jsxs("span",{className:"font-medium",children:["NPR ",v.selling_price]})]}),t.jsxs("div",{children:["Batch: ",t.jsx("span",{className:"font-medium",children:v.batch_number})]})]})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),t.jsx(k,{onClick:async()=>{var Y,ve,He,Me;if(!D.name||!((Y=$[0])!=null&&Y.quantity)||!((ve=$[0])!=null&&ve.costPrice)||!((He=$[0])!=null&&He.batchNumber)||!((Me=$[0])!=null&&Me.expiryDate)){_({title:"Error",description:"Please fill all required fields",variant:"destructive"});return}try{const Ge={supplier:{name:D.name,contact:D.contact,type:D.type||"custom"},branch_id:A,item:{medicine_id:$[0].medicineId,quantity:$[0].quantity,unit:$[0].unit,cost_price:$[0].costPrice,selling_price:$[0].sellingPrice,batch_number:$[0].batchNumber,manufacturing_date:$[0].manufacturingDate,expiry_date:$[0].expiryDate},payment:he,previous_item_id:v.id};console.log(`
=== FRONTEND RESTOCK DEBUG ===`),console.log("Restock payload:",JSON.stringify(Ge,null,2)),console.log("Restock item:",v);const Kt=localStorage.getItem("access_token")||localStorage.getItem("token"),ee=await fetch(`${ni}/inventory/restock/`,{method:"POST",headers:{"Content-Type":"application/json",...Kt&&{Authorization:`Bearer ${Kt}`}},body:JSON.stringify(Ge)});console.log("Restock response status:",ee.status);const Be=await ee.json();console.log("Restock response data:",Be),ee.ok?(console.log("SUCCESS: Restock completed"),_({title:"Success",description:Be.message}),p(!1),xe(),oe(),O({name:"",contact:""}),U([{id:1,medicineId:"",medicineName:"",quantity:"",costPrice:"",sellingPrice:"",unit:"pieces",batchNumber:"",manufacturingDate:"",expiryDate:""}]),Te({totalAmount:0,paidAmount:0,creditAmount:0,paymentMethod:"cash",paymentDate:new Date().toISOString().split("T")[0],notes:""})):(console.log("ERROR: Restock failed"),_({title:"Error",description:Be.error||"Failed to restock item",variant:"destructive"}))}catch(Ge){console.error("CRITICAL ERROR restocking item:",Ge),_({title:"Error",description:"Failed to restock item",variant:"destructive"})}},children:"Complete Restock"})]})]})}),t.jsx(rt,{open:be,onOpenChange:Z,children:t.jsxs(nt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsx(st,{children:t.jsx(at,{children:"Purchase History"})}),t.jsx("div",{className:"space-y-4",children:Se.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No purchase history found"}):Se.map(Y=>t.jsxs("div",{className:"border rounded p-4 bg-white",children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:Y.transaction_number}),t.jsx("p",{className:"text-sm text-gray-600",children:Y.supplier_name}),t.jsx("p",{className:"text-xs text-gray-500",children:Y.created_at})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium",children:["NPR ",Y.total_amount.toFixed(2)]}),t.jsx("p",{className:"text-sm text-gray-600",children:Y.payment_method}),Y.credit_amount>0&&t.jsxs(re,{variant:"destructive",className:"text-xs",children:["Credit: NPR ",Y.credit_amount.toFixed(2)]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h5",{className:"text-sm font-medium",children:"Items:"}),Y.items.map(ve=>t.jsxs("div",{className:"flex justify-between items-center py-1 px-2 bg-gray-50 rounded text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:ve.product_name}),t.jsxs("span",{className:"text-gray-500 ml-2",children:["Batch: ",ve.batch_number]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("span",{children:[ve.quantity_purchased," ",ve.unit]}),t.jsxs("span",{className:"ml-2 text-gray-600",children:["@ NPR ",ve.cost_price.toFixed(2)]}),t.jsxs("span",{className:"ml-2 font-medium",children:["= NPR ",ve.total_cost.toFixed(2)]})]})]},ve.id))]})]},Y.id))}),t.jsx(jr,{children:t.jsx(k,{variant:"outline",onClick:()=>Z(!1),children:"Close"})})]})})]})}const Bf={totalProducts:1247,totalValue:85e4,lowStockItems:23,criticalExpiry:8,pendingOrders:12,inTransit:5,monthlyMovement:{inbound:45e3,outbound:38e3,variance:7e3}},b1e=[{id:1,type:"stock_in",product:"Paracetamol 500mg",quantity:200,time:"2 hours ago",icon:F4,color:"text-green-600"},{id:2,type:"stock_out",product:"Amoxicillin 250mg",quantity:50,time:"4 hours ago",icon:rB,color:"text-red-600"},{id:3,type:"order",product:"Insulin Pen",quantity:100,time:"6 hours ago",icon:zn,color:"text-blue-600"},{id:4,type:"transfer",product:"Cetirizine 10mg",quantity:75,time:"8 hours ago",icon:hn,color:"text-orange-600"}],N1e=[{id:"MED001",name:"Aspirin 100mg",currentStock:12,minStock:50,severity:"critical"},{id:"MED002",name:"Cough Syrup",currentStock:8,minStock:25,severity:"critical"},{id:"MED003",name:"Band-Aid Strips",currentStock:18,minStock:30,severity:"warning"},{id:"MED004",name:"Thermometer",currentStock:5,minStock:10,severity:"warning"}],w1e=[{id:"MED005",name:"Vitamin C 1000mg",batch:"BTH001",daysLeft:5,severity:"critical"},{id:"MED006",name:"Eye Drops",batch:"BTH002",daysLeft:12,severity:"warning"},{id:"MED007",name:"Antibiotic Cream",batch:"BTH003",daysLeft:25,severity:"caution"}];function S1e(){x.useState("30d");const e=r=>{const n={critical:"destructive",warning:"secondary",caution:"outline"};return t.jsx(re,{variant:n[r],children:r})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Inventory Dashboard"}),t.jsx("p",{className:"text-muted-foreground",children:"Overview of your pharmacy inventory and key metrics"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(k,{asChild:!0,children:t.jsxs(wr,{to:"/inventory/purchase-orders",children:[t.jsx(zt,{size:16,className:"mr-2"}),"New Purchase Order"]})}),t.jsx(k,{variant:"outline",asChild:!0,children:t.jsxs(wr,{to:"/reports",children:[t.jsx($t,{size:16,className:"mr-2"}),"Generate Report"]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Products"}),t.jsx("p",{className:"text-2xl font-bold",children:Bf.totalProducts.toLocaleString()}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(yt,{size:12,className:"mr-1"}),"+5.2% from last month"]})]}),t.jsx(vt,{className:"h-8 w-8 text-blue-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",Bf.totalValue.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(yt,{size:12,className:"mr-1"}),"+2.8% from last month"]})]}),t.jsx(mt,{className:"h-8 w-8 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Low Stock Alerts"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:Bf.lowStockItems}),t.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[t.jsx(Ci,{size:12,className:"mr-1"}),"Requires attention"]})]}),t.jsx(tr,{className:"h-8 w-8 text-red-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiry Alerts"}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Bf.criticalExpiry}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(Rt,{size:12,className:"mr-1"}),"Within 30 days"]})]}),t.jsx(Rt,{className:"h-8 w-8 text-orange-600"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-6",children:t.jsx(wr,{to:"/inventory/stock-management",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(vt,{className:"h-8 w-8 mx-auto text-blue-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"Stock Management"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage inventory levels"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-6",children:t.jsx(wr,{to:"/inventory/purchase-orders",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(zn,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"Purchase Orders"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and track orders"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-6",children:t.jsx(wr,{to:"/inventory/stock-transfers",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(hn,{className:"h-8 w-8 mx-auto text-purple-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"Stock Transfers"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Move stock between locations"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-6",children:t.jsx(wr,{to:"/inventory/expiry-tracking",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Rt,{className:"h-8 w-8 mx-auto text-orange-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"Expiry Tracking"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor expiration dates"})]})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(tr,{className:"mr-2 text-red-600",size:20}),"Low Stock Alerts"]})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-3",children:[N1e.map(r=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:r.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stock: ",r.currentStock," / Min: ",r.minStock]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[e(r.severity),t.jsx(k,{size:"sm",variant:"outline",children:"Reorder"})]})]},r.id)),t.jsx(k,{variant:"outline",className:"w-full",asChild:!0,children:t.jsx(wr,{to:"/inventory/stock-management",children:"View All Low Stock Items"})})]})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(Rt,{className:"mr-2 text-orange-600",size:20}),"Expiry Alerts"]})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-3",children:[w1e.map(r=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:r.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Batch: ",r.batch," • ",r.daysLeft," days left"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[e(r.severity),t.jsx(k,{size:"sm",variant:"outline",children:"Manage"})]})]},r.id)),t.jsx(k,{variant:"outline",className:"w-full",asChild:!0,children:t.jsx(wr,{to:"/inventory/expiry-tracking",children:"View All Expiring Items"})})]})})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Recent Inventory Activity"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:b1e.map(r=>{const n=r.icon;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(n,{className:`h-5 w-5 ${r.color}`}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:r.product}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",r.quantity," • ",r.time]})]})]}),t.jsx(re,{variant:"outline",children:r.type.replace("_"," ")})]},r.id)})})})]})]})}const Go="https://drpharmas.com/backend";function P1e(){const[e,r]=x.useState([]),[n,s]=x.useState([]),[a,i]=x.useState(!0),[o,l]=x.useState(""),[c,d]=x.useState("all"),[u,m]=x.useState(null),[h,p]=x.useState(!1),[g,f]=x.useState(!1),[v,b]=x.useState(""),[y,j]=x.useState([]),[C,S]=x.useState({}),[N,P]=x.useState(!1),[_,w]=x.useState(!1),[A,D]=x.useState({method:"",tracking:"",notes:""}),[O,$]=x.useState(1),[U,V]=x.useState(1),[R,X]=x.useState(0),z=10,{toast:F}=Tt(),te=async(H=1)=>{try{i(!0);const se=localStorage.getItem("access_token")||localStorage.getItem("token"),le=await fetch(`${Go}/inventory/supplier/orders/?page=${H}&page_size=${z}`,{headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}}});if(le.ok){const ne=await le.json();r(ne.results||ne||[]),s(ne.results||ne||[]),X(ne.count||0),V(Math.ceil((ne.count||0)/z)),$(H)}else{const ne=await le.json();F({title:"Error",description:ne.error||"Failed to load orders",variant:"destructive"})}}catch(se){console.error("Error fetching orders:",se),F({title:"Error",description:"Failed to load orders",variant:"destructive"})}finally{i(!1)}};x.useEffect(()=>{te(1)},[]),x.useEffect(()=>{let H=e;o&&(H=H.filter(se=>se.order_number.toLowerCase().includes(o.toLowerCase())||se.buyer_organization_name.toLowerCase().includes(o.toLowerCase())||se.buyer_branch_name.toLowerCase().includes(o.toLowerCase()))),c!=="all"&&(H=H.filter(se=>se.status===c)),s(H)},[e,o,c]);const de=H=>{const se={submitted:{variant:"secondary",icon:Ut,label:"New Order"},supplier_reviewing:{variant:"outline",icon:xt,label:"Reviewing"},supplier_confirmed:{variant:"default",icon:ut,label:"Quote Sent"},supplier_rejected:{variant:"destructive",icon:va,label:"Rejected"},buyer_confirmed:{variant:"default",icon:ut,label:"Buyer Accepted"},buyer_reconfirming:{variant:"outline",icon:Ut,label:"Buyer Reconfirming"},payment_pending:{variant:"destructive",icon:Si,label:"Payment Pending"},payment_partial:{variant:"outline",icon:Si,label:"Partial Payment"},payment_completed:{variant:"default",icon:ut,label:"Payment Complete"},ready_to_ship:{variant:"default",icon:vt,label:"Ready to Ship"},shipped:{variant:"outline",icon:hn,label:"Shipped"},delivered:{variant:"default",icon:vt,label:"Delivered"},completed:{variant:"default",icon:ut,label:"Completed"}},le=se[H]||se.submitted,ne=le.icon;return t.jsxs(re,{variant:le.variant,className:"flex items-center gap-1",children:[t.jsx(ne,{size:12}),le.label]})},ie=H=>{m(H),p(!0)},fe=async H=>{try{const se=localStorage.getItem("access_token")||localStorage.getItem("token"),le=await fetch(`${Go}/inventory/supplier/inventory-prices/`,{method:"POST",headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}},body:JSON.stringify({products:H})});if(le.ok){const ne=await le.json();return S(ne),P(!0),ne}}catch(se){console.error("Error fetching inventory prices:",se)}return P(!0),{}};x.useEffect(()=>{if(g&&u&&y.length>0&&!N){const H=y.map(se=>{var le,ne,Q;return{order_item_id:se.id,name:((le=se.product)==null?void 0:le.name)||"",strength:((ne=se.product)==null?void 0:ne.strength)||"",dosage_form:((Q=se.product)==null?void 0:Q.dosage_form)||"",batch_number:se.batch_number||""}});fe(H)}},[g,u,y,N]),x.useEffect(()=>{N&&Object.keys(C).length>0&&y.length>0&&j(H=>H.map(se=>{const le=C[se.id];return{...se,unit_price:le||se.unit_price||0}}))},[C,N]);const ge=async H=>{m(H),b(H.supplier_notes||""),P(!1),S({}),j(H.items.map(se=>({...se}))),f(!0)},he=(H,se,le)=>{j(ne=>ne.map(Q=>Q.id===H?{...Q,[se]:le}:Q))},Te=async()=>{if(u)try{i(!0);const H=localStorage.getItem("access_token")||localStorage.getItem("token"),se=await fetch(`${Go}/inventory/supplier/orders/${u.id}/update/`,{method:"POST",headers:{"Content-Type":"application/json",...H&&{Authorization:`Bearer ${H}`}},body:JSON.stringify({action:"confirm",supplier_notes:v,items:y.map(le=>({id:le.id,quantity_confirmed:le.quantity_confirmed,unit_price:le.unit_price,is_available:le.is_available,supplier_notes:le.supplier_notes}))})});if(se.ok)F({title:"Success",description:"Order confirmed successfully"}),f(!1),te(O);else{const le=await se.json();F({title:"Error",description:le.error||"Failed to confirm order",variant:"destructive"})}}catch(H){console.error("Error confirming order:",H),F({title:"Error",description:"Failed to confirm order",variant:"destructive"})}finally{i(!1)}},Se=async()=>{if(u)try{i(!0);const H=localStorage.getItem("access_token")||localStorage.getItem("token"),se=await fetch(`${Go}/inventory/supplier/orders/${u.id}/update/`,{method:"POST",headers:{"Content-Type":"application/json",...H&&{Authorization:`Bearer ${H}`}},body:JSON.stringify({action:"reject",supplier_notes:v})});if(se.ok)F({title:"Success",description:"Order rejected successfully"}),f(!1),te(O);else{const le=await se.json();F({title:"Error",description:le.error||"Failed to reject order",variant:"destructive"})}}catch(H){console.error("Error rejecting order:",H),F({title:"Error",description:"Failed to reject order",variant:"destructive"})}finally{i(!1)}},Ue=H=>(console.log("Checking canUpdateOrder for status:",H),H==="submitted"||H==="supplier_reviewing"),be=H=>H==="ready_to_ship"||H==="payment_completed"||H==="buyer_confirmed"||H==="payment_partial",Z=H=>H==="shipped",xe=H=>H==="delivered",oe=H=>{m(H),D({method:"",tracking:"",notes:""}),w(!0)},ze=async H=>{try{i(!0);const se=localStorage.getItem("access_token")||localStorage.getItem("token");await fetch(`${Go}/inventory/bulk-orders/${H.id}/status/`,{method:"POST",headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}},body:JSON.stringify({action:"mark_delivered",notes:"Order delivered by supplier"})}),F({title:"Success",description:"Order marked as delivered"}),te(O)}catch{F({title:"Error",description:"Failed to update order status",variant:"destructive"})}finally{i(!1)}},Fe=async()=>{if(u)try{i(!0);const H=localStorage.getItem("access_token")||localStorage.getItem("token");await fetch(`${Go}/inventory/purchase-orders/${u.id}/ship/`,{method:"POST",headers:{"Content-Type":"application/json",...H&&{Authorization:`Bearer ${H}`}},body:JSON.stringify({shipping_method:A.method,tracking_number:A.tracking,shipping_notes:A.notes})}),F({title:"Success",description:"Order shipped successfully"}),w(!1),te(O)}catch{F({title:"Error",description:"Failed to ship order",variant:"destructive"})}finally{i(!1)}},tt=async H=>{try{i(!0);const se=localStorage.getItem("access_token")||localStorage.getItem("token"),le=await fetch(`${Go}/inventory/purchase-orders/${H.id}/release-stock/`,{method:"POST",headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}}});if(le.ok)F({title:"Success",description:"Stock released and transferred to buyer"}),te(O);else{const ne=await le.json();ne.insufficient_items?F({title:"Insufficient Stock",description:`Please add inventory for: ${ne.insufficient_items.map(Q=>Q.product_name).join(", ")}`,variant:"destructive"}):F({title:"Error",description:ne.error||"Failed to release stock",variant:"destructive"})}}catch{F({title:"Error",description:"Failed to release stock",variant:"destructive"})}finally{i(!1)}},ot=e.length,pe=e.filter(H=>H.status==="submitted"||H.status==="supplier_reviewing").length,qe=e.filter(H=>["supplier_confirmed","buyer_confirmed","ready_to_ship"].includes(H.status)).length,ae=e.filter(H=>["shipped","delivered"].includes(H.status)).length,je=e.reduce((H,se)=>H+se.total_amount,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Manage Orders"}),t.jsx("p",{className:"text-muted-foreground",children:"Review and manage orders from pharmacy buyers"})]})}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zn,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:ot}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-5 w-5 text-yellow-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:pe}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ut,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:qe}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"In Progress"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(hn,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:ae}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivered"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:je>0?Math.round(je).toLocaleString():"0"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Value"})]})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search by order number, buyer organization...",value:o,onChange:H=>l(H.target.value),className:"pl-10"})]})}),t.jsxs(_e,{value:c,onValueChange:d,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Statuses"}),t.jsx(I,{value:"submitted",children:"New Orders"}),t.jsx(I,{value:"supplier_confirmed",children:"Quote Sent"}),t.jsx(I,{value:"buyer_confirmed",children:"Buyer Accepted"}),t.jsx(I,{value:"payment_completed",children:"Payment Complete"}),t.jsx(I,{value:"ready_to_ship",children:"Ready to Ship"}),t.jsx(I,{value:"shipped",children:"Shipped"}),t.jsx(I,{value:"delivered",children:"Delivered"}),t.jsx(I,{value:"completed",children:"Completed"})]})]})]})})}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs(q,{children:["Orders (",R,")"]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:["Page ",O," of ",U]})]})}),t.jsxs(E,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Order Number"}),t.jsx(K,{children:"Buyer"}),t.jsx(K,{children:"Branch"}),t.jsx(K,{children:"Order Date"}),t.jsx(K,{children:"Expected Date"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Items"}),t.jsx(K,{children:"Total Amount"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:a?t.jsx(Ie,{children:t.jsx(W,{colSpan:9,className:"text-center py-8",children:"Loading orders..."})}):n.length===0?t.jsx(Ie,{children:t.jsx(W,{colSpan:9,className:"text-center py-8",children:"No orders found"})}):n.map(H=>t.jsxs(Ie,{children:[t.jsx(W,{className:"font-medium",children:H.order_number}),t.jsx(W,{children:H.buyer_organization_name}),t.jsx(W,{children:H.buyer_branch_name}),t.jsx(W,{children:new Date(H.order_date).toLocaleDateString()}),t.jsx(W,{children:new Date(H.expected_delivery_date).toLocaleDateString()}),t.jsx(W,{children:de(H.status)}),t.jsx(W,{children:H.total_items}),t.jsx(W,{className:"font-medium text-sm",children:H.total_amount>0?Math.round(H.total_amount).toLocaleString():"0"}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs(k,{size:"sm",variant:"outline",onClick:()=>ie(H),className:"h-7 px-2 text-xs",children:[t.jsx(xt,{size:10,className:"mr-1"}),"View"]}),(Ue(H.status)||H.status==="Pending")&&t.jsxs(k,{size:"sm",onClick:()=>ge(H),className:"h-7 px-2 text-xs",children:[t.jsx($t,{size:10,className:"mr-1"}),H.status==="submitted"||H.status==="Pending"?"Quote":"Update"]}),be(H.status)&&t.jsxs(k,{size:"sm",variant:"outline",onClick:()=>oe(H),className:"h-7 px-2 text-xs",children:[t.jsx(hn,{size:10,className:"mr-1"}),"Ship"]}),Z(H.status)&&t.jsxs(k,{size:"sm",variant:"outline",onClick:()=>ze(H),className:"h-7 px-2 text-xs",children:[t.jsx(vt,{size:10,className:"mr-1"}),"Delivered"]}),xe(H.status)&&t.jsxs(k,{size:"sm",variant:"default",onClick:()=>tt(H),className:"h-7 px-2 text-xs",children:[t.jsx(ut,{size:10,className:"mr-1"}),"Release"]})]})})]},H.id))})]})}),U>1&&t.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(O-1)*z+1," to ",Math.min(O*z,R)," of ",R," orders"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(k,{variant:"outline",size:"sm",onClick:()=>te(O-1),disabled:O===1||a,children:[t.jsx(U4,{size:16}),"Previous"]}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,U)},(H,se)=>{const le=se+Math.max(1,O-2);return le>U?null:t.jsx(k,{variant:le===O?"default":"outline",size:"sm",onClick:()=>te(le),disabled:a,className:"w-8 h-8 p-0",children:le},le)})}),t.jsxs(k,{variant:"outline",size:"sm",onClick:()=>te(O+1),disabled:O===U||a,children:["Next",t.jsx(Lw,{size:16})]})]})]})]})]}),t.jsx(rt,{open:h,onOpenChange:p,children:t.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsxs(at,{children:["Order Details - ",u==null?void 0:u.order_number]}),t.jsx(Pt,{children:"View complete order information and items"})]}),u&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Buyer Organization"}),t.jsx("p",{className:"font-medium",children:u.buyer_organization_name})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Branch"}),t.jsx("p",{className:"font-medium",children:u.buyer_branch_name})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Order Date"}),t.jsx("p",{children:new Date(u.order_date).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Expected Delivery"}),t.jsx("p",{children:new Date(u.expected_delivery_date).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Status"}),t.jsx("div",{className:"mt-1",children:de(u.status)})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Total Amount"}),t.jsx("p",{className:"font-bold text-lg",children:u.total_amount>0?Math.round(u.total_amount).toLocaleString():"0"})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Buyer Notes"}),t.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:u.buyer_notes||"No notes"})]}),t.jsxs("div",{children:[t.jsxs(M,{children:["Order Items (",u.items.length,")"]}),t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Product"}),t.jsx(K,{children:"Requested"}),t.jsx(K,{children:"Confirmed"}),t.jsx(K,{children:"Unit Price"}),t.jsx(K,{children:"Total"}),t.jsx(K,{children:"Available"})]})}),t.jsx(At,{children:u.items.map(H=>{var se,le,ne;return t.jsxs(Ie,{children:[t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:((se=H.product)==null?void 0:se.name)||"Product not found"}),t.jsxs("div",{className:"text-sm text-gray-500",children:[(le=H.product)==null?void 0:le.strength," - ",(ne=H.product)==null?void 0:ne.dosage_form]})]})}),t.jsx(W,{children:H.quantity_requested}),t.jsx(W,{children:H.quantity_confirmed||"-"}),t.jsx(W,{className:"text-sm",children:H.unit_price?Math.round(H.unit_price).toLocaleString():"-"}),t.jsx(W,{className:"text-sm",children:H.total_price?Math.round(H.total_price).toLocaleString():"-"}),t.jsx(W,{children:t.jsx(re,{variant:H.is_available?"default":"destructive",children:H.is_available?"Yes":"No"})})]},H.id)})})]})]})]})]})}),t.jsx(rt,{open:g,onOpenChange:f,children:t.jsxs(nt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsxs(at,{children:["Update Order - ",u==null?void 0:u.order_number]}),t.jsx(Pt,{children:"Confirm quantities, set prices, and update order status"})]}),u&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Order Information"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:["Buyer: ",u.buyer_organization_name]}),t.jsxs("div",{children:["Branch: ",u.buyer_branch_name]}),t.jsxs("div",{children:["Expected: ",new Date(u.expected_delivery_date).toLocaleDateString()]})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Order Items"}),t.jsx("div",{className:"border rounded p-4 max-h-96 overflow-y-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Product"}),t.jsx(K,{children:"Requested"}),t.jsx(K,{children:"Confirm Qty"}),t.jsx(K,{children:"Unit Price"}),t.jsx(K,{children:"Available"}),t.jsx(K,{children:"Notes"})]})}),t.jsx(At,{children:y.map(H=>{var se,le,ne;return t.jsxs(Ie,{children:[t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-sm",children:((se=H.product)==null?void 0:se.name)||"Product not found"}),t.jsxs("div",{className:"text-xs text-gray-500",children:[(le=H.product)==null?void 0:le.strength," - ",(ne=H.product)==null?void 0:ne.dosage_form]})]})}),t.jsx(W,{children:H.quantity_requested}),t.jsx(W,{children:t.jsx(J,{type:"number",min:"0",max:H.quantity_requested,value:H.quantity_confirmed,onChange:Q=>he(H.id,"quantity_confirmed",parseInt(Q.target.value)||0),className:"w-20"})}),t.jsx(W,{children:t.jsx(J,{type:"number",step:"0.01",min:"0",value:H.unit_price,onChange:Q=>he(H.id,"unit_price",parseFloat(Q.target.value)||0),className:"w-24",placeholder:"Set price"})}),t.jsx(W,{children:t.jsxs(_e,{value:H.is_available?"true":"false",onValueChange:Q=>he(H.id,"is_available",Q==="true"),children:[t.jsx(Pe,{className:"w-20",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"true",children:"Yes"}),t.jsx(I,{value:"false",children:"No"})]})]})}),t.jsx(W,{children:t.jsx(J,{value:H.supplier_notes,onChange:Q=>he(H.id,"supplier_notes",Q.target.value),placeholder:"Item notes...",className:"w-32"})})]},H.id)})})]})})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Supplier Notes"}),t.jsx(Vt,{value:v,onChange:H=>b(H.target.value),placeholder:"Add notes about this order...",rows:3})]}),t.jsx("div",{className:"bg-gray-50 p-3 rounded",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"font-medium text-sm",children:"Total Confirmed Amount:"}),t.jsx("span",{className:"text-lg font-bold",children:Math.round(y.reduce((H,se)=>H+se.quantity_confirmed*se.unit_price,0)).toLocaleString()})]})})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),t.jsx(k,{variant:"destructive",onClick:Se,disabled:a,children:"Reject Order"}),t.jsx(k,{onClick:Te,disabled:a,children:"Confirm Order"})]})]})}),t.jsx(rt,{open:_,onOpenChange:w,children:t.jsxs(nt,{className:"max-w-md",children:[t.jsxs(st,{children:[t.jsxs(at,{children:["Ship Order - ",u==null?void 0:u.order_number]}),t.jsx(Pt,{children:"Update shipping details for this order"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Shipping Method"}),t.jsx(J,{value:A.method,onChange:H=>D(se=>({...se,method:H.target.value})),placeholder:"e.g., Express Delivery, Standard Post"})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Tracking Number"}),t.jsx(J,{value:A.tracking,onChange:H=>D(se=>({...se,tracking:H.target.value})),placeholder:"Enter tracking number"})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Shipping Notes"}),t.jsx(Vt,{value:A.notes,onChange:H=>D(se=>({...se,notes:H.target.value})),placeholder:"Additional shipping notes...",rows:3})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),t.jsx(k,{onClick:Fe,disabled:a||!A.method,children:"Ship Order"})]})]})})]})}function vE({value:e,onChange:r,onSelect:n,onSearch:s,placeholder:a="Type to search...",className:i,disabled:o=!1}){const[l,c]=x.useState([]),[d,u]=x.useState(!1),[m,h]=x.useState(!1),p=x.useRef(null);x.useEffect(()=>{const v=b=>{p.current&&!p.current.contains(b.target)&&u(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const g=async v=>{if(!o)if(r(v),v.length>=2){h(!0);try{const b=await s(v);c(b),u(!0)}catch(b){console.error("Search error:",b),c([])}finally{h(!1)}}else u(!1),c([])},f=v=>{n(v),u(!1),c([])};return t.jsxs("div",{className:"relative",ref:p,children:[t.jsx(J,{value:e,onChange:v=>g(v.target.value),onFocus:()=>{!o&&e.length>=2&&l.length>0&&u(!0)},placeholder:a,className:i,disabled:o}),d&&t.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-48 overflow-y-auto",children:m?t.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Searching..."}):l.length===0?t.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:e.length>=2?"No results found":"Type to search"}):l.map(v=>t.jsxs("div",{className:"px-2 py-2 hover:bg-gray-100 cursor-pointer text-sm border-b last:border-b-0",onClick:()=>f(v),children:[t.jsx("div",{className:"font-medium",children:v.name}),v.strength&&v.dosage_form&&t.jsxs("div",{className:"text-xs text-muted-foreground",children:[v.strength," - ",v.dosage_form]}),v.contact&&t.jsx("div",{className:"text-xs text-muted-foreground",children:v.contact}),v.current_stock!==void 0&&t.jsxs("div",{className:"text-xs text-green-600",children:["Stock: ",v.current_stock," ",v.unit]})]},v.id))})]})}const C1e="https://drpharmas.com/backend";function _1e({open:e,onOpenChange:r,order:n,onOrderUpdated:s}){const[a,i]=x.useState([]),[o,l]=x.useState(""),[c,d]=x.useState(!1),[u,m]=x.useState(0),[h,p]=x.useState("cash"),[g,f]=x.useState(""),{toast:v}=Tt();L.useEffect(()=>{if(n&&e){console.log("Order data:",n),console.log("Order items:",n.items);const _=n.items.map(w=>({id:w.id,quantity:w.quantity_confirmed,delete:!1,notes:"",original:w}));console.log("Adjusted items:",_),i(_),l(""),m(0),f("")}},[n,e]);const b=(_,w,A)=>{i(D=>D.map(O=>O.id===_?{...O,[w]:A}:O))},y=()=>a.reduce((_,w)=>w.delete?_:_+w.quantity*w.original.unit_price,0),j=()=>{const _=y();return Math.max(0,_-u)},C=async()=>{try{d(!0);const _={items:a.map(D=>({id:D.id,quantity:D.quantity,delete:D.delete,notes:D.notes})),buyer_notes:o,payment:u>0?{amount:u,payment_method:h,notes:g,payment_type:"installment"}:{}},w=localStorage.getItem("access_token")||localStorage.getItem("token");if(!(await fetch(`${C1e}/inventory/purchase-orders/${n==null?void 0:n.id}/adjust/`,{method:"POST",headers:{"Content-Type":"application/json",...w&&{Authorization:`Bearer ${w}`}},body:JSON.stringify(_)})).ok)throw new Error("Failed to adjust order");v({title:"Order Adjusted",description:"Order items have been successfully adjusted."}),s(),r(!1)}catch(_){console.error("Error adjusting order:",_),v({title:"Error",description:"Failed to adjust order items",variant:"destructive"})}finally{d(!1)}};if(!n)return null;const S=y(),N=n.total_amount-S,P=j();return t.jsx(rt,{open:e,onOpenChange:r,children:t.jsxs(nt,{className:"max-w-5xl max-h-[85vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsxs(at,{className:"text-lg",children:["Reconfirm Order - ",n.order_number]}),t.jsx(Pt,{className:"text-sm",children:"Adjust quantities, remove items, and make payment for this order."})]}),t.jsxs("div",{className:"space-y-4 text-sm",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-3 p-3 bg-muted rounded text-sm",children:[t.jsxs("div",{children:[t.jsx(M,{className:"text-xs font-medium",children:"Original Total"}),t.jsxs("p",{className:"text-base font-bold",children:["NPR ",n.total_amount.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs font-medium",children:"Adjusted Total"}),t.jsxs("p",{className:"text-base font-bold text-blue-600",children:["NPR ",S.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs font-medium",children:"Savings"}),t.jsxs("p",{className:`text-base font-bold ${N>0?"text-green-600":"text-gray-500"}`,children:["NPR ",N.toLocaleString()]})]})]}),t.jsxs("div",{className:"space-y-3 p-3 border rounded-lg",children:[t.jsx(M,{className:"text-sm font-semibold",children:"Payment Information"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"paymentAmount",className:"text-xs",children:"Payment Amount"}),t.jsx(J,{id:"paymentAmount",type:"number",min:"0",max:S,value:u,onChange:_=>m(parseFloat(_.target.value)||0),placeholder:"0.00",className:"h-8 text-sm"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"paymentMethod",className:"text-xs",children:"Payment Method"}),t.jsxs(_e,{value:h,onValueChange:p,children:[t.jsx(Pe,{className:"h-8 text-sm",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"cash",children:"Cash"}),t.jsx(I,{value:"bank_transfer",children:"Bank Transfer"}),t.jsx(I,{value:"check",children:"Check"}),t.jsx(I,{value:"credit_card",children:"Credit Card"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs",children:"Remaining Due"}),t.jsxs("div",{className:"p-2 bg-gray-100 rounded text-right font-bold text-sm",children:["NPR ",P.toLocaleString()]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"paymentNotes",className:"text-xs",children:"Payment Notes"}),t.jsx(Vt,{id:"paymentNotes",value:g,onChange:_=>f(_.target.value),placeholder:"Payment reference, transaction ID, etc...",rows:2,className:"text-sm"})]}),u>0&&t.jsx("div",{className:"p-3 bg-blue-50 rounded",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:["Payment: NPR ",u.toLocaleString()]}),t.jsxs("div",{children:["Remaining: NPR ",P.toLocaleString()]}),t.jsxs("div",{children:["Method: ",h.replace("_"," ").toUpperCase()]}),t.jsxs("div",{children:["Status: ",P<=0?"PAID IN FULL":"PARTIAL PAYMENT"]})]})})]}),t.jsxs("div",{children:[t.jsxs(M,{className:"text-sm font-semibold",children:["Order Items (",a.length,")"]}),t.jsx("div",{className:"border rounded mt-1",children:t.jsxs(Ct,{className:"text-xs",children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Product"}),t.jsx(K,{children:"Requested"}),t.jsx(K,{children:"Confirmed"}),t.jsx(K,{children:"Adjusted Qty"}),t.jsx(K,{children:"Unit Price"}),t.jsx(K,{children:"Total"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:a.map(_=>t.jsxs(Ie,{className:_.delete?"opacity-50 bg-red-50":"",children:[t.jsx(W,{className:"p-2",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-xs",children:_.original.product.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:_.original.product.strength})]})}),t.jsx(W,{className:"p-2 text-xs",children:_.original.quantity_requested}),t.jsx(W,{className:"p-2 text-xs",children:_.original.quantity_confirmed}),t.jsx(W,{className:"p-2",children:_.delete?t.jsx("span",{className:"text-red-600 font-medium text-xs",children:"REMOVED"}):t.jsx(J,{type:"number",min:"0",max:_.original.quantity_confirmed,value:_.quantity,onChange:w=>b(_.id,"quantity",parseInt(w.target.value)||0),className:"w-16 h-7 text-xs"})}),t.jsxs(W,{className:"p-2 text-xs",children:["NPR ",_.original.unit_price]}),t.jsx(W,{className:"p-2",children:t.jsxs("span",{className:`text-xs ${_.delete?"line-through text-red-600":"font-medium"}`,children:["NPR ",(_.delete?0:_.quantity*_.original.unit_price).toLocaleString()]})}),t.jsx(W,{className:"p-2",children:_.delete?t.jsx(re,{variant:"destructive",className:"text-xs px-1 py-0",children:"Removed"}):_.quantity<_.original.quantity_confirmed?t.jsx(re,{variant:"outline",className:"text-xs px-1 py-0",children:"Reduced"}):t.jsx(re,{variant:"secondary",className:"text-xs px-1 py-0",children:"Unchanged"})}),t.jsx(W,{className:"p-2",children:t.jsx("div",{className:"flex items-center gap-1",children:_.delete?t.jsxs(k,{size:"sm",variant:"outline",onClick:()=>b(_.id,"delete",!1),className:"h-6 px-2 text-xs",children:[t.jsx(Co,{size:10,className:"mr-1"}),"Restore"]}):t.jsxs(k,{size:"sm",variant:"destructive",onClick:()=>b(_.id,"delete",!0),className:"h-6 px-2 text-xs",children:[t.jsx(as,{size:10,className:"mr-1"}),"Remove"]})})})]},_.id))})]})})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"buyerNotes",className:"text-sm font-semibold",children:"Reconfirmation Notes"}),t.jsx(Vt,{id:"buyerNotes",placeholder:"Notes about order adjustments and payment...",value:o,onChange:_=>l(_.target.value),className:"mt-1 text-sm",rows:3})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),t.jsx(k,{onClick:C,disabled:c,children:c?"Processing...":u>0?"Reconfirm & Pay":"Reconfirm Order"})]})]})})}const Wi="https://drpharmas.com/backend",A1e=e=>({draft:{label:"Draft",variant:"secondary"},submitted:{label:"Submitted",variant:"outline"},supplier_reviewing:{label:"Under Review",variant:"outline"},supplier_confirmed:{label:"Quote Received",variant:"default"},buyer_reviewing:{label:"Reviewing Quote",variant:"default"},buyer_confirmed:{label:"Confirmed",variant:"default"},buyer_reconfirming:{label:"Reconfirming",variant:"outline"},payment_pending:{label:"Payment Pending",variant:"destructive"},payment_partial:{label:"Partial Payment",variant:"outline"},payment_completed:{label:"Payment Complete",variant:"default"},ready_to_ship:{label:"Ready to Ship",variant:"default"},shipped:{label:"Shipped",variant:"outline"},delivered:{label:"Delivered",variant:"default"},completed:{label:"Completed",variant:"default"},cancelled:{label:"Cancelled",variant:"destructive"},supplier_rejected:{label:"Rejected",variant:"destructive"}})[e]||{label:e,variant:"secondary"};function T1e(){var ne;const[e,r]=x.useState(""),[n,s]=x.useState("all"),[a,i]=x.useState(!1);x.useState(null);const[o,l]=x.useState([]),[c,d]=x.useState(""),[u,m]=x.useState(""),[h,p]=x.useState([{id:1,product:null,quantity:"",productInput:""}]);x.useState([]);const[g,f]=x.useState([]),[v,b]=x.useState(!1),[y,j]=x.useState(he()),[C,S]=x.useState(""),[N,P]=x.useState(!1),[_,w]=x.useState(null),[A,D]=x.useState(!1),[O,$]=x.useState(null),[U,V]=x.useState([]),[R,X]=x.useState(1),[z,F]=x.useState(1),[te,de]=x.useState(0),ie=10,{toast:fe}=Tt(),ge=async(Q=1)=>{try{b(!0);const ce=localStorage.getItem("access_token")||localStorage.getItem("token"),Ne=await fetch(`${Wi}/inventory/bulk-orders/?page=${Q}&page_size=${ie}`,{headers:{"Content-Type":"application/json",...ce&&{Authorization:`Bearer ${ce}`}}});if(Ne.ok){const G=await Ne.json();f(G.results||G||[]),de(G.count||0),F(Math.ceil((G.count||0)/ie)),X(Q)}else throw new Error("Failed to fetch orders")}catch(ce){console.error("Error fetching bulk orders:",ce),fe({title:"Error",description:"Failed to load purchase orders",variant:"destructive"})}finally{b(!1)}};x.useEffect(()=>{ge(1)},[]);function he(){const Q=new Date;return Q.setDate(Q.getDate()+3),Q.toISOString().split("T")[0]}const Te=async Q=>{if(!Q.trim()||!c)return[];try{const ce=localStorage.getItem("access_token")||localStorage.getItem("token"),Ne=await fetch(`${Wi}/inventory/products/purchase-order/?q=${Q}&supplier_id=${c}`,{headers:{"Content-Type":"application/json",...ce&&{Authorization:`Bearer ${ce}`}}});return Ne.ok?await Ne.json()||[]:[]}catch(ce){return console.error("Error fetching products:",ce),[]}},Se=async Q=>{try{const ce=localStorage.getItem("access_token")||localStorage.getItem("token"),Ne=await fetch(`${Wi}/inventory/purchase-orders/${Q}/import-preview/`,{headers:{"Content-Type":"application/json",...ce&&{Authorization:`Bearer ${ce}`}}});if(Ne.ok){const G=await Ne.json();$({id:Q,...G}),V(G.items.map(ue=>({...ue,selling_price:ue.suggested_selling_price}))),D(!0)}else throw new Error("Failed to get import preview")}catch(ce){console.error("Error getting import preview:",ce),fe({title:"Error",description:"Failed to get import preview",variant:"destructive"})}},Ue=async()=>{try{b(!0);const Q=localStorage.getItem("access_token")||localStorage.getItem("token"),ce=await fetch(`${Wi}/inventory/purchase-orders/${O.id}/import-stock/`,{method:"POST",headers:{"Content-Type":"application/json",...Q&&{Authorization:`Bearer ${Q}`}},body:JSON.stringify({items:U.map(Ne=>({order_item_id:Ne.order_item_id,selling_price:Ne.selling_price}))})});if(ce.ok){const Ne=await ce.json();fe({title:"Import Successful",description:Ne.message}),D(!1),ge(R)}else throw new Error("Failed to import stock")}catch(Q){console.error("Error importing stock:",Q),fe({title:"Error",description:"Failed to import stock to inventory",variant:"destructive"})}finally{b(!1)}},be=Q=>{h.length>1&&p(h.filter(ce=>ce.id!==Q))},Z=(Q,ce,Ne)=>{p(G=>G.map(ue=>ue.id===Q?{...ue,[ce]:Ne}:ue))},xe=()=>{const Q=Math.max(...h.map(ce=>ce.id))+1;p([...h,{id:Q,product:null,quantity:"",productInput:""}])};x.useEffect(()=>{oe()},[]);const oe=async()=>{try{const Q=localStorage.getItem("access_token")||localStorage.getItem("token"),ce=await fetch(`${Wi}/auth/users/?role=supplier_admin&external_only=true`,{headers:{"Content-Type":"application/json",...Q&&{Authorization:`Bearer ${Q}`}}});if(ce.ok){const Ne=await ce.json();if(Ne.results){const G=Ne.results.map(ue=>({id:ue.id,name:`${ue.first_name} ${ue.last_name}`.trim(),contact:ue.phone||ue.email||"N/A",organization:ue.organization_name||"N/A"}));l(G)}}}catch(Q){console.error("Error fetching suppliers:",Q),fe({title:"Error",description:"Failed to load suppliers",variant:"destructive"})}},ze=g.filter(Q=>{var G,ue;const ce=((G=Q.order_number)==null?void 0:G.toLowerCase().includes(e.toLowerCase()))||((ue=Q.supplier_organization_name)==null?void 0:ue.toLowerCase().includes(e.toLowerCase())),Ne=n==="all"||Q.status===n;return ce&&Ne}),Fe=Q=>{const ce=A1e(Q),G={submitted:Ut,supplier_reviewing:xt,supplier_confirmed:ut,buyer_confirmed:ut,payment_pending:Si,shipped:hn,delivered:vt,completed:ut,cancelled:va,supplier_rejected:va}[Q]||Ut;return t.jsxs(re,{variant:ce.variant,className:"flex items-center gap-1",children:[t.jsx(G,{size:12}),ce.label]})},tt=async()=>{var ce,Ne;if(!c){fe({title:"Error",description:"Please select a supplier",variant:"destructive"});return}const Q=h.filter(G=>G.product&&G.product.id&&G.quantity>0);if(Q.length===0){fe({title:"Error",description:"Please select products and set quantities",variant:"destructive"});return}try{b(!0);const G={supplier_user_id:c,expected_delivery_date:y,buyer_notes:C,items:Q.map(We=>({product_id:We.product.id,quantity_requested:We.quantity}))},ue=localStorage.getItem("access_token")||localStorage.getItem("token");if(!(await fetch(`${Wi}/inventory/bulk-orders/`,{method:"POST",headers:{"Content-Type":"application/json",...ue&&{Authorization:`Bearer ${ue}`}},body:JSON.stringify(G)})).ok)throw new Error("Failed to create order");fe({title:"Purchase Order Created",description:"New purchase order has been submitted to supplier."}),d(""),m(""),p([{id:1,product:null,quantity:"",productInput:""}]),j(he()),S(""),i(!1),ge(R)}catch(G){console.error("Error creating order:",G),fe({title:"Error",description:((Ne=(ce=G.response)==null?void 0:ce.data)==null?void 0:Ne.detail)||"Failed to create purchase order",variant:"destructive"})}finally{b(!1)}},ot=async(Q,ce)=>{try{b(!0);let Ne=`/api/inventory/bulk-orders/${Q}/status/`,G={action:ce};ce==="accept_quote"?G={action:"buyer_confirm",notes:"Quote accepted by buyer"}:ce==="make_payment"&&(G={action:"payment_pending",notes:"Payment process initiated"});const ue=localStorage.getItem("access_token")||localStorage.getItem("token");if(!(await fetch(`${Wi}${Ne.replace("/api","")}`,{method:"POST",headers:{"Content-Type":"application/json",...ue&&{Authorization:`Bearer ${ue}`}},body:JSON.stringify(G)})).ok)throw new Error("Failed to update order");fe({title:"Order Updated",description:"Order action completed successfully."}),ge(R)}catch(Ne){console.error("Error updating order:",Ne),fe({title:"Error",description:"Failed to update order",variant:"destructive"})}finally{b(!1)}},pe=Q=>{var Ne;console.log("Selected order for adjustment:",Q);const ce={...Q,items:((Ne=Q.items)==null?void 0:Ne.map(G=>{var ue,Le;return{id:G.id,product:{name:((ue=G.product)==null?void 0:ue.name)||G.product_name,strength:((Le=G.product)==null?void 0:Le.strength)||G.product_strength},quantity_requested:G.quantity_requested,quantity_confirmed:G.quantity_confirmed,unit_price:G.unit_price,total_price:G.total_price,is_available:G.is_available}}))||[]};console.log("Adjusted order structure:",ce),w(ce),P(!0)},qe=Q=>{switch(Q){case"supplier_confirmed":return[{value:"accept_quote",label:"Accept Quote & Proceed"},{value:"cancel",label:"Cancel Order"}];case"buyer_confirmed":case"payment_pending":case"payment_partial":return[{value:"make_payment",label:"Make Payment"},{value:"cancel",label:"Cancel Order"}];case"shipped":return[{value:"mark_delivered",label:"Mark as Delivered"}];case"delivered":return[{value:"complete",label:"Complete Order"}];default:return[]}},ae=g.length,je=g.filter(Q=>["submitted","supplier_reviewing","supplier_confirmed"].includes(Q.status)).length,H=g.filter(Q=>["buyer_confirmed","payment_pending","payment_partial","ready_to_ship"].includes(Q.status)).length,se=g.reduce((Q,ce)=>Q+(parseFloat(ce.total_amount)||0),0),le=ae>0?se/ae:0;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Purchase Orders"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage supplier orders and procurement"})]}),t.jsxs(rt,{open:a,onOpenChange:i,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Create Purchase Order"]})}),t.jsxs(nt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Create New Purchase Order"}),t.jsx(Pt,{children:"Create a new purchase order for supplier procurement"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"supplier",children:"Supplier"}),t.jsx(vE,{value:u,onChange:m,onSelect:Q=>{d(Q.id),m(Q.name)},onSearch:async Q=>{var ue;const ce=localStorage.getItem("access_token")||localStorage.getItem("token");return((ue=(await(await fetch(`${Wi}/auth/users/?role=supplier_admin&search=${Q}&external_only=true`,{headers:{"Content-Type":"application/json",...ce&&{Authorization:`Bearer ${ce}`}}})).json()).results)==null?void 0:ue.map(Le=>({id:Le.id,name:`${Le.first_name} ${Le.last_name}`.trim(),contact:Le.phone||Le.email,organization:Le.organization_name})))||[]},placeholder:"Search suppliers..."})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"expectedDate",children:"Expected Delivery"}),t.jsx(J,{type:"date",value:y,onChange:Q=>j(Q.target.value)})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Order Items"}),t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm font-medium mb-3",children:[t.jsx("span",{children:"Product"}),t.jsx("span",{children:"Quantity"}),t.jsx("span",{children:"Actions"}),t.jsx("span",{})]}),t.jsx("div",{className:`space-y-3 ${h.length>5?"max-h-80 overflow-y-auto":""}`,children:h.map(Q=>t.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center",children:[t.jsx(vE,{value:Q.productInput||"",onChange:ce=>Z(Q.id,"productInput",ce),onSelect:ce=>{Z(Q.id,"product",ce),Z(Q.id,"productInput",ce.name)},onSearch:Te,placeholder:c?"Search products...":"Select supplier first",disabled:!c,className:"w-full"}),t.jsx(J,{type:"number",min:"1",value:Q.quantity,onChange:ce=>Z(Q.id,"quantity",parseInt(ce.target.value)||""),placeholder:"Qty"}),t.jsx(k,{variant:"outline",size:"sm",onClick:()=>be(Q.id),disabled:h.length===1,children:t.jsx(as,{size:12})}),t.jsx("div",{})]},Q.id))}),t.jsxs(k,{variant:"outline",size:"sm",onClick:xe,className:"mt-3",children:[t.jsx(zt,{size:12,className:"mr-1"}),"Add Item"]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"notes",children:"Notes"}),t.jsx(Vt,{placeholder:"Additional notes for this order...",value:C,onChange:Q=>S(Q.target.value)})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),t.jsx(k,{onClick:tt,disabled:v,children:v?"Creating...":"Create Order"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zn,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:ae}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-5 w-5 text-yellow-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:je}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting Response"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ut,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:H}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"In Progress"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold",children:["NPR ",se.toFixed(2).replace(/\.00$/,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Value"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold",children:["NPR ",isNaN(le)?"0":le.toFixed(2).replace(/\.00$/,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Order Value"})]})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search orders by ID or supplier...",value:e,onChange:Q=>r(Q.target.value),className:"pl-10"})]})}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Statuses"}),t.jsx(I,{value:"submitted",children:"Submitted"}),t.jsx(I,{value:"supplier_confirmed",children:"Quote Received"}),t.jsx(I,{value:"buyer_confirmed",children:"Confirmed"}),t.jsx(I,{value:"payment_pending",children:"Payment Pending"}),t.jsx(I,{value:"shipped",children:"Shipped"}),t.jsx(I,{value:"delivered",children:"Delivered"}),t.jsx(I,{value:"completed",children:"Completed"}),t.jsx(I,{value:"cancelled",children:"Cancelled"})]})]})]})})}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs(q,{children:["Purchase Orders (",te,")"]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:["Page ",R," of ",z]})]})}),t.jsxs(E,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Order ID"}),t.jsx(K,{children:"Supplier"}),t.jsx(K,{children:"Order Date"}),t.jsx(K,{children:"Expected Date"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Total Amount"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:v?t.jsx(Ie,{children:t.jsx(W,{colSpan:7,className:"text-center py-8",children:"Loading orders..."})}):ze.length===0?t.jsx(Ie,{children:t.jsx(W,{colSpan:7,className:"text-center py-8",children:"No purchase orders found"})}):ze.map(Q=>{var ce,Ne;return t.jsxs(Ie,{children:[t.jsx(W,{className:"font-medium",children:Q.order_number}),t.jsx(W,{children:Q.supplier_organization_name}),t.jsx(W,{children:new Date(Q.order_date).toLocaleDateString()}),t.jsx(W,{children:new Date(Q.expected_delivery_date).toLocaleDateString()}),t.jsx(W,{children:Fe(Q.status)}),t.jsxs(W,{className:"font-medium",children:["NPR ",(Q.total_amount||0).toLocaleString()]}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(xt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsx(st,{children:t.jsxs(at,{children:["Purchase Order Details - ",Q.order_number]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Supplier"}),t.jsx("p",{className:"font-medium",children:Q.supplier_organization_name})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Status"}),t.jsx("div",{className:"mt-1",children:Fe(Q.status)})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Order Date"}),t.jsx("p",{children:new Date(Q.order_date).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Expected Date"}),t.jsx("p",{children:new Date(Q.expected_delivery_date).toLocaleDateString()})]})]}),t.jsxs("div",{children:[t.jsxs(M,{children:["Order Items (",Q.total_items||0,")"]}),t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Product"}),t.jsx(K,{children:"Requested"}),t.jsx(K,{children:"Confirmed"}),t.jsx(K,{children:"Unit Price"}),t.jsx(K,{children:"Total"})]})}),t.jsx(At,{children:((ce=Q.items)==null?void 0:ce.map(G=>{var ue;return t.jsxs(Ie,{children:[t.jsx(W,{children:(ue=G.product)==null?void 0:ue.name}),t.jsx(W,{children:G.quantity_requested}),t.jsx(W,{children:G.quantity_confirmed||"-"}),t.jsx(W,{children:G.unit_price?`NPR ${G.unit_price}`:"-"}),t.jsx(W,{children:G.total_price?`NPR ${G.total_price.toLocaleString()}`:"-"})]},G.id)}))||t.jsx(Ie,{children:t.jsx(W,{colSpan:5,className:"text-center",children:"No items found"})})})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Notes"}),t.jsx("p",{className:"text-sm",children:Q.buyer_notes||"No notes"})]}),t.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded-lg",children:[t.jsx("span",{className:"font-medium",children:"Total Amount:"}),t.jsxs("span",{className:"text-xl font-bold",children:["NPR ",(Q.total_amount||0).toLocaleString()]})]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[Q.status==="supplier_confirmed"&&t.jsxs(k,{size:"sm",variant:"default",onClick:()=>pe(Q),className:"h-7 px-2 text-xs",children:[t.jsx(ln,{size:10,className:"mr-1"}),"Adjust"]}),((Ne=Q.available_actions)==null?void 0:Ne.includes("import_stock"))&&t.jsxs(k,{size:"sm",variant:"default",onClick:()=>Se(Q.id),className:"h-7 px-2 text-xs",children:[t.jsx(vt,{size:10,className:"mr-1"}),"Import"]}),(()=>{const G=qe(Q.status);return G.length>0?t.jsxs(_e,{onValueChange:ue=>ot(Q.id,ue),children:[t.jsx(Pe,{className:"w-28 h-7 text-xs",children:t.jsx(Ae,{placeholder:"Actions"})}),t.jsx(Ce,{children:G.map(ue=>t.jsx(I,{value:ue.value,className:"text-xs",children:ue.label},ue.value))})]}):null})()]})]})})]},Q.id)})})]})}),z>1&&t.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(R-1)*ie+1," to ",Math.min(R*ie,te)," of ",te," orders"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(k,{variant:"outline",size:"sm",onClick:()=>ge(R-1),disabled:R===1||v,children:[t.jsx(U4,{size:16}),"Previous"]}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,z)},(Q,ce)=>{const Ne=ce+Math.max(1,R-2);return Ne>z?null:t.jsx(k,{variant:Ne===R?"default":"outline",size:"sm",onClick:()=>ge(Ne),disabled:v,className:"w-8 h-8 p-0",children:Ne},Ne)})}),t.jsxs(k,{variant:"outline",size:"sm",onClick:()=>ge(R+1),disabled:R===z||v,children:["Next",t.jsx(Lw,{size:16})]})]})]})]})]}),t.jsx(_1e,{open:N,onOpenChange:P,order:_,onOrderUpdated:()=>ge(R)}),t.jsx(rt,{open:A,onOpenChange:D,children:t.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Import Stock to Inventory"}),t.jsxs(Pt,{children:["Set selling prices for items from order ",O==null?void 0:O.order_number]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Supplier"}),t.jsx("p",{className:"font-medium",children:O==null?void 0:O.supplier_name})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Total Order Cost"}),t.jsxs("p",{className:"font-medium",children:["NPR ",(ne=O==null?void 0:O.total_order_cost)==null?void 0:ne.toLocaleString()]})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Items to Import"}),t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Product"}),t.jsx(K,{children:"Quantity"}),t.jsx(K,{children:"Cost Price"}),t.jsx(K,{children:"Selling Price"}),t.jsx(K,{children:"Total Cost"})]})}),t.jsx(At,{children:U.map((Q,ce)=>t.jsxs(Ie,{children:[t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:Q.product_name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[Q.product_strength," ",Q.product_dosage_form]})]})}),t.jsxs(W,{children:[Q.quantity," ",Q.unit]}),t.jsxs(W,{children:["NPR ",Q.cost_price]}),t.jsx(W,{children:t.jsx(J,{type:"number",step:"0.01",value:Q.selling_price,onChange:Ne=>{const G=[...U];G[ce].selling_price=parseFloat(Ne.target.value)||0,V(G)},className:"w-24"})}),t.jsxs(W,{children:["NPR ",Q.total_cost.toLocaleString()]})]},Q.order_item_id))})]})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),t.jsx(k,{onClick:Ue,disabled:v,children:v?"Importing...":"Import to Inventory"})]})]})})]})}const zu=[{id:"TR-001",product:"Paracetamol 500mg",fromLocation:"Main Pharmacy",toLocation:"Branch - Thamel",quantity:100,transferDate:"2024-01-15",requestedBy:"Ram Sharma",status:"pending",priority:"high",reason:"Stock shortage at branch",estimatedArrival:"2024-01-16",notes:"Urgent transfer required"},{id:"TR-002",product:"Insulin Pen",fromLocation:"Central Warehouse",toLocation:"Main Pharmacy",quantity:25,transferDate:"2024-01-14",requestedBy:"Sita Gurung",status:"in_transit",priority:"medium",reason:"Routine restocking",estimatedArrival:"2024-01-15",notes:"Handle with care - refrigerated item"},{id:"TR-003",product:"Cetirizine 10mg",fromLocation:"Branch - Thamel",toLocation:"Branch - Patan",quantity:50,transferDate:"2024-01-13",requestedBy:"Hari Thapa",status:"completed",priority:"low",reason:"Excess stock redistribution",estimatedArrival:"2024-01-14",notes:"Completed successfully"},{id:"TR-004",product:"Blood Pressure Monitor",fromLocation:"Main Pharmacy",toLocation:"Branch - Bhaktapur",quantity:5,transferDate:"2024-01-12",requestedBy:"Maya Shrestha",status:"cancelled",priority:"medium",reason:"Customer demand",estimatedArrival:"2024-01-13",notes:"Cancelled due to supplier direct delivery"}],yE=[{id:"main",name:"Main Pharmacy",type:"pharmacy"},{id:"warehouse",name:"Central Warehouse",type:"warehouse"},{id:"thamel",name:"Branch - Thamel",type:"branch"},{id:"patan",name:"Branch - Patan",type:"branch"},{id:"bhaktapur",name:"Branch - Bhaktapur",type:"branch"}];function jE(){const[e,r]=x.useState(""),[n,s]=x.useState("all"),[a,i]=x.useState(!1),{toast:o}=Tt(),l=zu.filter(v=>{const b=v.id.toLowerCase().includes(e.toLowerCase())||v.product.toLowerCase().includes(e.toLowerCase())||v.fromLocation.toLowerCase().includes(e.toLowerCase())||v.toLocation.toLowerCase().includes(e.toLowerCase()),y=n==="all"||v.status===n;return b&&y}),c=v=>{const b={pending:{variant:"secondary",icon:Ut,label:"Pending"},in_transit:{variant:"default",icon:hn,label:"In Transit"},completed:{variant:"default",icon:ut,label:"Completed"},cancelled:{variant:"destructive",icon:Si,label:"Cancelled"}},y=b[v]||b.pending,j=y.icon;return t.jsxs(re,{variant:y.variant,className:"flex items-center gap-1",children:[t.jsx(j,{size:12}),y.label]})},d=v=>{const b={high:{variant:"destructive",label:"High"},medium:{variant:"secondary",label:"Medium"},low:{variant:"outline",label:"Low"}},y=b[v]||b.medium;return t.jsx(re,{variant:y.variant,children:y.label})},u=()=>{o({title:"Transfer Request Created",description:"Stock transfer request has been created successfully."}),i(!1)},m=(v,b)=>{o({title:"Transfer Status Updated",description:`Transfer ${v} status changed to ${b}.`})},h=zu.length,p=zu.filter(v=>v.status==="pending").length,g=zu.filter(v=>v.status==="in_transit").length,f=zu.filter(v=>v.status==="completed").length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Stock Transfers"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage inventory transfers between locations"})]}),t.jsxs(rt,{open:a,onOpenChange:i,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Create Transfer Request"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Create Stock Transfer"}),t.jsx(Pt,{children:"Request transfer of inventory between locations"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"product",children:"Product"}),t.jsx(J,{placeholder:"Search product..."})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"quantity",children:"Quantity"}),t.jsx(J,{type:"number",placeholder:"Enter quantity"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"fromLocation",children:"From Location"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select source location"})}),t.jsx(Ce,{children:yE.map(v=>t.jsxs(I,{value:v.id,children:[v.name," (",v.type,")"]},v.id))})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"toLocation",children:"To Location"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select destination"})}),t.jsx(Ce,{children:yE.map(v=>t.jsxs(I,{value:v.id,children:[v.name," (",v.type,")"]},v.id))})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"priority",children:"Priority"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select priority"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"low",children:"Low"}),t.jsx(I,{value:"medium",children:"Medium"}),t.jsx(I,{value:"high",children:"High"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"estimatedDate",children:"Estimated Arrival"}),t.jsx(J,{type:"date"})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"reason",children:"Reason for Transfer"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select reason"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"stock_shortage",children:"Stock Shortage"}),t.jsx(I,{value:"excess_stock",children:"Excess Stock Redistribution"}),t.jsx(I,{value:"routine_restock",children:"Routine Restocking"}),t.jsx(I,{value:"customer_demand",children:"Customer Demand"}),t.jsx(I,{value:"expiry_management",children:"Expiry Management"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"notes",children:"Notes"}),t.jsx(Vt,{placeholder:"Additional notes for this transfer..."})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),t.jsx(k,{onClick:u,children:"Create Transfer"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:h}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transfers"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-8 w-8 text-yellow-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:p}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(hn,{className:"h-8 w-8 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:g}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"In Transit"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ut,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:f}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search transfers by ID, product, or location...",value:e,onChange:v=>r(v.target.value),className:"pl-10"})]})}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Statuses"}),t.jsx(I,{value:"pending",children:"Pending"}),t.jsx(I,{value:"in_transit",children:"In Transit"}),t.jsx(I,{value:"completed",children:"Completed"}),t.jsx(I,{value:"cancelled",children:"Cancelled"})]})]})]})})}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{children:["Stock Transfers (",l.length,")"]})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Transfer ID"}),t.jsx(K,{children:"Product"}),t.jsx(K,{children:"Route"}),t.jsx(K,{children:"Quantity"}),t.jsx(K,{children:"Priority"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Date"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:l.map(v=>t.jsxs(Ie,{children:[t.jsx(W,{className:"font-medium",children:v.id}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:v.product}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Requested by: ",v.requestedBy]})]})}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",children:v.fromLocation}),t.jsx(nB,{size:14,className:"text-muted-foreground"}),t.jsx("span",{className:"text-sm",children:v.toLocation})]})}),t.jsx(W,{className:"font-medium",children:v.quantity}),t.jsx(W,{children:d(v.priority)}),t.jsx(W,{children:c(v.status)}),t.jsx(W,{children:v.transferDate}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(xt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsx(st,{children:t.jsxs(at,{children:["Transfer Details - ",v.id]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Product"}),t.jsx("p",{className:"font-medium",children:v.product})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Quantity"}),t.jsx("p",{className:"font-medium",children:v.quantity})]}),t.jsxs("div",{children:[t.jsx(M,{children:"From Location"}),t.jsxs("p",{className:"flex items-center gap-1",children:[t.jsx(Ia,{size:14}),v.fromLocation]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"To Location"}),t.jsxs("p",{className:"flex items-center gap-1",children:[t.jsx(Ia,{size:14}),v.toLocation]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Requested By"}),t.jsxs("p",{className:"flex items-center gap-1",children:[t.jsx(_i,{size:14}),v.requestedBy]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Transfer Date"}),t.jsxs("p",{className:"flex items-center gap-1",children:[t.jsx(Rt,{size:14}),v.transferDate]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Priority"}),t.jsx("div",{className:"mt-1",children:d(v.priority)})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Status"}),t.jsx("div",{className:"mt-1",children:c(v.status)})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Reason for Transfer"}),t.jsx("p",{children:v.reason})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Estimated Arrival"}),t.jsx("p",{children:v.estimatedArrival})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Notes"}),t.jsx("p",{className:"text-sm",children:v.notes})]})]})]})]}),v.status==="pending"&&t.jsxs(_e,{onValueChange:b=>m(v.id,b),children:[t.jsx(Pe,{className:"w-32",children:t.jsx(Ae,{placeholder:"Update"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"in_transit",children:"Start Transfer"}),t.jsx(I,{value:"cancelled",children:"Cancel"})]})]}),v.status==="in_transit"&&t.jsx(k,{size:"sm",onClick:()=>m(v.id,"completed"),children:"Mark Complete"})]})})]},v.id))})]})})})]})]})}function E1e(){const[e,r]=x.useState([]),[n,s]=x.useState([]),[a,i]=x.useState([]),[o,l]=x.useState(null),[c,d]=x.useState(!0),[u,m]=x.useState({count:0,next:null,previous:null,currentPage:1,totalPages:1}),[h,p]=x.useState(""),[g,f]=x.useState("all"),[v,b]=x.useState("all"),[y,j]=x.useState("all"),[C,S]=x.useState(!1),[N,P]=x.useState(null),[_,w]=x.useState(!1),[A,D]=x.useState(!1),{toast:O}=Tt(),[$,U]=x.useState([{id:1,name:"",product_code:"",generic_name:"",brand_name:"",category:"",dosage_form:"tablet",strength:"",pack_size:"",unit:"strip",manufacturer_name:"",requires_prescription:!1,is_controlled:!1,is_insured:!1,description:"",alternatives:[]}]),[V,R]=x.useState(""),[X,z]=x.useState(!1),[F,te]=x.useState(null);x.useEffect(()=>{ie(1)},[h,g,v,y]);const de=ae=>{ie(ae)},ie=async(ae=1)=>{try{d(!0);const je={page:ae,search:h,category:g!=="all"?g:void 0,status:v!=="all"?v:void 0,prescription_required:y!=="all"?y==="prescription":void 0},[H,se,le,ne]=await Promise.all([fs.getMedications(je),fs.getCategories(),fs.getManufacturers(),fs.getMedicationStats()]);H.success&&H.data&&(r(H.data.results||[]),m({count:H.data.count,next:H.data.next,previous:H.data.previous,currentPage:ae,totalPages:Math.ceil(H.data.count/10)})),se.success&&s(se.data||[]),le.success&&i(le.data||[]),ne.success&&l(ne.data)}catch(je){console.error("Failed to load data:",je),O({title:"Error",description:"Failed to load medication data",variant:"destructive"})}finally{d(!1)}},fe=()=>{const ae=Math.max(...$.map(je=>je.id))+1;U([...$,{id:ae,name:"",product_code:"",generic_name:"",brand_name:"",category:"",dosage_form:"tablet",strength:"",pack_size:"",unit:"strip",manufacturer_name:"",requires_prescription:!1,is_controlled:!1,is_insured:!1,description:"",alternatives:[]}])},ge=(ae,je,H)=>{U(se=>se.map(le=>le.id===ae?{...le,[je]:H}:le))},he=ae=>{$.length>1&&U($.filter(je=>je.id!==ae))},Te=(ae,je)=>{U(H=>H.map(se=>se.id===ae&&!se.alternatives.includes(je)?{...se,alternatives:[...se.alternatives,je]}:se)),R(""),z(!1)},Se=(ae,je)=>{U(H=>H.map(se=>se.id===ae?{...se,alternatives:se.alternatives.filter(le=>le!==je)}:se))},Ue=ae=>{const je=$.find(se=>se.id===ae);return e.map(se=>se.name).filter(se=>se.toLowerCase().includes(V.toLowerCase())&&!(je!=null&&je.alternatives.includes(se))).slice(0,10)},be=()=>{const H="\uFEFF"+[["name","product_code","generic_name","brand_name","category_name","manufacturer_name","dosage_form","strength","pack_size","unit","requires_prescription","is_controlled","is_insured","description","alternatives","cost_price","selling_price"],...[["Paracetamol 500mg","MED001","Paracetamol","Crocin","Analgesics","GSK","tablet","500mg","10 tablets","strip","FALSE","FALSE","TRUE","Pain relief medication","Aspirin,Ibuprofen","50","75"],["Amoxicillin 250mg","MED002","Amoxicillin","Augmentin","Antibiotics","Pfizer","capsule","250mg","21 capsules","strip","TRUE","FALSE","TRUE","Antibiotic for bacterial infections","Azithromycin,Ciprofloxacin","120","180"]]].map(Q=>Q.map(ce=>`"${ce}"`).join(",")).join(`\r
`),se=new Blob([H],{type:"text/csv;charset=utf-8;"}),le=window.URL.createObjectURL(se),ne=document.createElement("a");ne.href=le,ne.download="medication_template.csv",document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),window.URL.revokeObjectURL(le)},Z=async ae=>{var H,se;const je=(H=ae.target.files)==null?void 0:H[0];if(je){const le=[".xlsx",".xls",".csv"],ne=je.name.toLowerCase().substring(je.name.lastIndexOf("."));if(!le.includes(ne)){O({title:"Error",description:"Please upload a valid Excel (.xlsx, .xls) or CSV file",variant:"destructive"});return}try{const Q=await fs.bulkUploadMedications(je);if(Q.success&&((se=Q.data)==null?void 0:se.created_count)!==void 0){const ce=Q.data.created_count||0,Ne=Q.data.errors||[];O({title:"Success",description:`${ce} medications uploaded successfully${Ne.length>0?` (${Ne.length} errors)`:""}`}),Ne.length>0&&console.warn("Upload errors:",Ne),ie()}else O({title:"Error",description:Q.error||Q.message||"Failed to upload file",variant:"destructive"})}catch(Q){O({title:"Error",description:(Q==null?void 0:Q.message)||"Failed to upload file. Please check the file format and try again.",variant:"destructive"})}ae.target.value=""}},xe=e,oe=ae=>{switch(ae){case"active":return t.jsx(re,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"});case"inactive":return t.jsx(re,{variant:"secondary",children:"Inactive"});case"discontinued":return t.jsx(re,{variant:"destructive",children:"Discontinued"});default:return t.jsx(re,{variant:"outline",children:ae})}},ze=ae=>{var H,se;let je=[];if(ae.description&&ae.description.includes("[ALTERNATIVES]"))try{const le=ae.description.indexOf("[ALTERNATIVES]")+14,ne=ae.description.indexOf("[/ALTERNATIVES]");ne>le&&(je=JSON.parse(ae.description.substring(le,ne)))}catch{je=[]}U([{id:1,name:ae.name,product_code:ae.product_code,generic_name:ae.generic_name||"",brand_name:ae.brand_name||"",category:((H=ae.category)==null?void 0:H.toString())||"",dosage_form:ae.dosage_form,strength:ae.strength||"",pack_size:ae.pack_size||"",unit:ae.unit,manufacturer_name:ae.manufacturer_name||"",requires_prescription:ae.requires_prescription,is_controlled:ae.is_controlled,is_insured:ae.is_insured||!1,description:((se=ae.description)==null?void 0:se.replace(/\n\[ALTERNATIVES\].*?\[\/ALTERNATIVES\]/g,""))||"",alternatives:je}]),P(ae),D(!0),S(!0)},Fe=async()=>{const ae=$.filter(je=>je.name&&je.product_code);if(ae.length===0){O({title:"Error",description:"Please fill in required fields (Name and Product Code) for at least one medication",variant:"destructive"});return}try{if(w(!0),A&&N){const je=ae[0],H={name:je.name,product_code:je.product_code,generic_name:je.generic_name,brand_name:je.brand_name,category:je.category?parseInt(je.category):void 0,manufacturer_name:je.manufacturer_name,dosage_form:je.dosage_form,strength:je.strength,pack_size:je.pack_size,unit:je.unit,requires_prescription:je.requires_prescription,is_controlled:je.is_controlled,description:je.description,alternatives:Array.isArray(je.alternatives)?je.alternatives:[],is_insured:je.is_insured,cost_price:N.cost_price||0,selling_price:N.selling_price||0};await fs.updateMedication(N.id,H),O({title:"Success",description:"Medication updated successfully"})}else{const je=ae.map(H=>({name:H.name,product_code:H.product_code,generic_name:H.generic_name,brand_name:H.brand_name,category:H.category?parseInt(H.category):void 0,manufacturer_name:H.manufacturer_name,dosage_form:H.dosage_form,strength:H.strength,pack_size:H.pack_size,unit:H.unit,requires_prescription:H.requires_prescription,is_controlled:H.is_controlled,description:H.description,alternatives:Array.isArray(H.alternatives)?H.alternatives:[],is_insured:H.is_insured,cost_price:0,selling_price:0,min_stock_level:10,max_stock_level:1e3,reorder_point:20,organization:1}));for(const H of je)await fs.createMedication(H);O({title:"Success",description:`${ae.length} medication(s) added successfully`})}U([{id:1,name:"",product_code:"",generic_name:"",brand_name:"",category:"",dosage_form:"tablet",strength:"",pack_size:"",unit:"strip",manufacturer_name:"",requires_prescription:!1,is_controlled:!1,is_insured:!1,description:"",alternatives:[]}]),P(null),D(!1),S(!1),ie()}catch(je){console.error("Failed to add medications:",je),O({title:"Error",description:"Failed to add medications",variant:"destructive"})}finally{w(!1)}},tt=(o==null?void 0:o.total_medications)||0,ot=(o==null?void 0:o.active_medications)||0,pe=(o==null?void 0:o.prescription_medications)||0,qe=(o==null?void 0:o.controlled_medications)||0;return c?t.jsxs("div",{className:"flex items-center justify-center h-64",children:[t.jsx(ir,{className:"h-8 w-8 animate-spin"}),t.jsx("span",{className:"ml-2",children:"Loading medications..."})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Medication List"}),t.jsx("p",{className:"text-muted-foreground",children:"Global medicine catalog with detailed information"})]}),t.jsxs(rt,{open:C,onOpenChange:ae=>{S(ae),ae||(D(!1),P(null))},children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{size:20,className:"mr-2"}),"Add Medication"]})}),t.jsxs(nt,{className:"max-w-[95vw] max-h-[95vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:A?"Edit Medication":"Add New Medications"}),t.jsx(Pt,{children:A?"Update medication information":"Add multiple medications to the global medicine list"})]}),t.jsxs("div",{className:"flex flex-col h-[75vh]",children:[!A&&t.jsx("div",{className:"bg-blue-50 p-3 rounded mb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{className:"text-sm font-medium",children:"Bulk Upload"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Download template first, then upload CSV/Excel file to add multiple medications"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(k,{variant:"outline",size:"sm",onClick:be,children:[t.jsx(bt,{size:14,className:"mr-2"}),"Download Template"]}),t.jsx(J,{type:"file",accept:".xlsx,.xls,.csv",onChange:Z,className:"hidden",id:"excel-upload"}),t.jsx(M,{htmlFor:"excel-upload",children:t.jsx(k,{variant:"outline",size:"sm",asChild:!0,children:t.jsxs("span",{children:[t.jsx(kh,{size:14,className:"mr-2"}),"Choose File"]})})})]})]})}),t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("div",{className:"text-sm font-medium",children:A?"Medication":"Medications"}),!A&&t.jsxs(k,{type:"button",variant:"outline",size:"sm",onClick:fe,className:"h-7 px-2",children:[t.jsx(zt,{size:14,className:"mr-1"}),"Add Row"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto border rounded p-2 mb-2",children:t.jsx("div",{className:"space-y-3",children:$.map((ae,je)=>t.jsxs("div",{className:"border rounded p-3 bg-card",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("span",{className:"text-sm font-medium",children:["Medication ",je+1]}),t.jsx(k,{type:"button",variant:"outline",size:"sm",onClick:()=>he(ae.id),disabled:$.length===1,className:"h-6 w-6 p-0",children:t.jsx(as,{size:12})})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Name *"}),t.jsx(J,{value:ae.name,onChange:H=>ge(ae.id,"name",H.target.value),placeholder:"Medication name",className:"text-xs h-8"})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Product Code *"}),t.jsx(J,{value:ae.product_code,onChange:H=>ge(ae.id,"product_code",H.target.value),placeholder:"MED001",className:"text-xs h-8"})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Generic Name"}),t.jsx(J,{value:ae.generic_name,onChange:H=>ge(ae.id,"generic_name",H.target.value),placeholder:"Generic name",className:"text-xs h-8"})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Brand Name"}),t.jsx(J,{value:ae.brand_name,onChange:H=>ge(ae.id,"brand_name",H.target.value),placeholder:"Brand name",className:"text-xs h-8"})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Category"}),t.jsxs(_e,{value:ae.category,onValueChange:H=>ge(ae.id,"category",H),children:[t.jsx(Pe,{className:"text-xs h-8",children:t.jsx(Ae,{placeholder:"Select category"})}),t.jsx(Ce,{children:n.map(H=>t.jsx(I,{value:H.id.toString(),children:H.name},H.id))})]})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Dosage Form"}),t.jsxs(_e,{value:ae.dosage_form,onValueChange:H=>ge(ae.id,"dosage_form",H),children:[t.jsx(Pe,{className:"text-xs h-8",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"tablet",children:"Tablet"}),t.jsx(I,{value:"capsule",children:"Capsule"}),t.jsx(I,{value:"syrup",children:"Syrup"}),t.jsx(I,{value:"injection",children:"Injection"}),t.jsx(I,{value:"cream",children:"Cream"}),t.jsx(I,{value:"drops",children:"Drops"}),t.jsx(I,{value:"powder",children:"Powder"})]})]})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Strength"}),t.jsx(J,{value:ae.strength,onChange:H=>ge(ae.id,"strength",H.target.value),placeholder:"500mg",className:"text-xs h-8"})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Pack Size"}),t.jsx(J,{value:ae.pack_size,onChange:H=>ge(ae.id,"pack_size",H.target.value),placeholder:"10 tablets",className:"text-xs h-8"})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Unit"}),t.jsxs(_e,{value:ae.unit,onValueChange:H=>ge(ae.id,"unit",H),children:[t.jsx(Pe,{className:"text-xs h-8",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"strip",children:"Strip"}),t.jsx(I,{value:"bottle",children:"Bottle"}),t.jsx(I,{value:"box",children:"Box"}),t.jsx(I,{value:"vial",children:"Vial"}),t.jsx(I,{value:"tube",children:"Tube"}),t.jsx(I,{value:"pen",children:"Pen"})]})]})]}),t.jsxs("div",{children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Manufacturer"}),t.jsx(J,{value:ae.manufacturer_name,onChange:H=>ge(ae.id,"manufacturer_name",H.target.value),placeholder:"Manufacturer name",className:"text-xs h-8"})]}),t.jsxs("div",{className:"col-span-2",children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Requirements"}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:ae.requires_prescription,onChange:H=>ge(ae.id,"requires_prescription",H.target.checked),className:"rounded"}),t.jsx("span",{className:"text-xs",children:"Rx Required"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:ae.is_controlled,onChange:H=>ge(ae.id,"is_controlled",H.target.checked),className:"rounded"}),t.jsx("span",{className:"text-xs",children:"Controlled"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:ae.is_insured,onChange:H=>ge(ae.id,"is_insured",H.target.checked),className:"rounded"}),t.jsx("span",{className:"text-xs",children:"Insured"})]})]})]})]}),t.jsxs("div",{className:"mt-3",children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Description"}),t.jsx(Vt,{value:ae.description,onChange:H=>ge(ae.id,"description",H.target.value),placeholder:"Medication description",rows:2,className:"text-xs"})]}),t.jsxs("div",{className:"mt-3",children:[je===0&&t.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Alternatives"}),t.jsxs("div",{className:"relative",children:[t.jsx(J,{value:V,onChange:H=>{R(H.target.value),z(!0),te(ae.id)},onFocus:()=>{z(!0),te(ae.id)},onBlur:()=>{setTimeout(()=>{z(!1),te(null)},300)},onKeyDown:H=>{H.key==="Enter"&&V.trim()&&(H.preventDefault(),Te(ae.id,V.trim()))},placeholder:"Type medicine name or search existing...",className:"text-xs h-8"}),X&&F===ae.id&&t.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-32 overflow-y-auto",children:[Ue(ae.id).map(H=>t.jsx("div",{className:"px-2 py-1 hover:bg-gray-100 cursor-pointer text-xs",onMouseDown:se=>{se.preventDefault(),Te(ae.id,H)},children:H},H)),V.trim()&&!Ue(ae.id).includes(V.trim())&&t.jsxs("div",{className:"px-2 py-1 hover:bg-gray-100 cursor-pointer text-xs border-t bg-blue-50",onMouseDown:H=>{H.preventDefault(),Te(ae.id,V.trim())},children:['+ Add "',V.trim(),'" as custom alternative']})]})]}),t.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded border min-h-[40px]",children:ae.alternatives.length>0?t.jsx("div",{className:"flex flex-wrap gap-2",children:ae.alternatives.map(H=>t.jsxs(re,{variant:"secondary",className:"text-xs px-2 py-1 flex items-center gap-1",children:[H,t.jsx(Hd,{size:12,className:"cursor-pointer hover:text-red-500",onClick:()=>Se(ae.id,H)})]},H))}):t.jsx("div",{className:"text-xs text-gray-400 italic flex items-center h-6",children:"No alternatives selected"})})]})]},ae.id))})}),t.jsx("div",{className:"bg-blue-50 p-3 rounded",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Valid Medications:"}),t.jsx("span",{className:"ml-2 font-medium",children:$.filter(ae=>ae.name&&ae.product_code).length})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Total Rows:"}),t.jsx("span",{className:"ml-2 font-medium",children:$.length})]})]})})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),t.jsx(k,{onClick:Fe,children:A?"Update Medication":"Add Medications"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Va,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:tt}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Medications"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ut,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:ot}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Medications"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(tr,{className:"h-8 w-8 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:pe}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Prescription Required"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(va,{className:"h-8 w-8 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:qe}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Controlled Substances"})]})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search medications...",value:h,onChange:ae=>p(ae.target.value),className:"pl-10"})]})}),t.jsxs(_e,{value:g,onValueChange:f,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by category"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Categories"}),n.map(ae=>t.jsx(I,{value:ae.name,children:ae.name},ae.id))]})]}),t.jsxs(_e,{value:v,onValueChange:b,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Status"}),t.jsx(I,{value:"active",children:"Active"}),t.jsx(I,{value:"inactive",children:"Inactive"}),t.jsx(I,{value:"discontinued",children:"Discontinued"})]})]}),t.jsxs(_e,{value:y,onValueChange:j,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Prescription required"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Medications"}),t.jsx(I,{value:"prescription",children:"Prescription Required"}),t.jsx(I,{value:"otc",children:"Over The Counter"})]})]})]})})}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{children:["Medication Catalog (",u.count," total, showing ",xe.length,")"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Name"}),t.jsx(K,{children:"Code"}),t.jsx(K,{children:"Generic/Brand"}),t.jsx(K,{children:"Category"}),t.jsx(K,{children:"Type"}),t.jsx(K,{children:"Strength"}),t.jsx(K,{children:"Pack Size"}),t.jsx(K,{children:"Unit"}),t.jsx(K,{children:"Manufacturer"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Requirements"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:xe.map(ae=>t.jsxs(Ie,{children:[t.jsx(W,{className:"font-medium",children:ae.name}),t.jsx(W,{children:t.jsx(re,{variant:"outline",children:ae.product_code})}),t.jsx(W,{children:t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-medium",children:ae.generic_name}),t.jsx("div",{className:"text-muted-foreground",children:ae.brand_name})]})}),t.jsx(W,{children:ae.category_name}),t.jsx(W,{children:t.jsx(re,{variant:"secondary",children:ae.dosage_form})}),t.jsx(W,{children:ae.strength}),t.jsx(W,{children:ae.pack_size}),t.jsx(W,{children:ae.unit}),t.jsx(W,{children:ae.manufacturer_name}),t.jsx(W,{children:oe(ae.status)}),t.jsx(W,{children:t.jsxs("div",{className:"flex flex-col gap-1",children:[ae.requires_prescription&&t.jsx(re,{variant:"outline",className:"text-xs",children:"Rx Required"}),ae.is_controlled&&t.jsx(re,{variant:"destructive",className:"text-xs",children:"Controlled"}),ae.is_insured&&t.jsx(re,{variant:"default",className:"text-xs bg-green-100 text-green-800",children:"Insured"})]})}),t.jsx(W,{children:t.jsxs(k,{size:"sm",variant:"outline",onClick:()=>ze(ae),children:[t.jsx(mn,{size:12,className:"mr-1"}),"Edit"]})})]},ae.id))})]})}),u.totalPages>1&&t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",u.currentPage," of ",u.totalPages," (",u.count," total items)"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(k,{variant:"outline",size:"sm",onClick:()=>de(u.currentPage-1),disabled:!u.previous,children:"Previous"}),t.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,u.totalPages)},(ae,je)=>{const H=Math.max(1,u.currentPage-2)+je;return H>u.totalPages?null:t.jsx(k,{variant:H===u.currentPage?"default":"outline",size:"sm",onClick:()=>de(H),className:"w-8 h-8 p-0",children:H},H)})}),t.jsx(k,{variant:"outline",size:"sm",onClick:()=>de(u.currentPage+1),disabled:!u.next,children:"Next"})]})]})]})]})]})}const Uf={totalSuppliers:45,customSuppliers:28,pharmacySuppliers:17,totalOrderValue:25e5},bE=[{name:"MediCorp Nepal",value:35,color:"#8884d8"},{name:"PharmaCo Ltd",value:25,color:"#82ca9d"},{name:"HealthPlus Supply",value:20,color:"#ffc658"},{name:"NutriMed Pharma",value:12,color:"#ff7300"},{name:"Others",value:8,color:"#8dd1e1"}],k1e=[{id:1,type:"order_placed",supplier:"MediCorp Nepal",amount:125e3,time:"2 hours ago",icon:F4,color:"text-green-600"},{id:2,type:"delivery",supplier:"PharmaCo Ltd",amount:85e3,time:"4 hours ago",icon:vt,color:"text-blue-600"},{id:3,type:"payment",supplier:"HealthPlus Supply",amount:65e3,time:"6 hours ago",icon:mt,color:"text-purple-600"},{id:4,type:"communication",supplier:"NutriMed Pharma",amount:0,time:"8 hours ago",icon:Di,color:"text-orange-600"}];function O1e(){return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Supplier Management"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive supplier relationship management and analytics"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsx(k,{size:"sm",asChild:!0,children:t.jsxs(wr,{to:"/suppliers/directory",children:[t.jsx(it,{size:14,className:"mr-2"}),"Manage Suppliers"]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Suppliers"}),t.jsx("p",{className:"text-lg font-bold",children:Uf.totalSuppliers})]}),t.jsx(it,{className:"h-5 w-5 text-blue-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Custom Suppliers"}),t.jsx("p",{className:"text-lg font-bold text-green-600",children:Uf.customSuppliers})]}),t.jsx(yt,{className:"h-5 w-5 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pharmacy Suppliers"}),t.jsx("p",{className:"text-lg font-bold text-purple-600",children:Uf.pharmacySuppliers})]}),t.jsx(vt,{className:"h-5 w-5 text-purple-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Order Value"}),t.jsxs("p",{className:"text-lg font-bold",children:["NPR ",Uf.totalOrderValue.toLocaleString()]})]}),t.jsx(mt,{className:"h-5 w-5 text-orange-600"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-3",children:t.jsx(wr,{to:"/suppliers/credit-management",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ss,{className:"h-5 w-5 mx-auto text-blue-600 mb-1"}),t.jsx("p",{className:"text-xs font-medium",children:"Credit Management"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage credits"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-3",children:t.jsx(wr,{to:"/suppliers/purchase-return",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Rm,{className:"h-5 w-5 mx-auto text-green-600 mb-1"}),t.jsx("p",{className:"text-xs font-medium",children:"Purchase Return"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Handle returns"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-3",children:t.jsx(wr,{to:"/suppliers/communications",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Di,{className:"h-5 w-5 mx-auto text-purple-600 mb-1"}),t.jsx("p",{className:"text-xs font-medium",children:"Communication"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Interaction history"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-3",children:t.jsx(wr,{to:"/suppliers/analytics",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ar,{className:"h-5 w-5 mx-auto text-orange-600 mb-1"}),t.jsx("p",{className:"text-xs font-medium",children:"Analytics"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Performance metrics"})]})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsxs(T,{children:[t.jsx(B,{className:"pb-3",children:t.jsx(q,{className:"text-lg",children:"Recent Supplier Activity"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-3",children:k1e.map(e=>{const r=e.icon;return t.jsxs("div",{className:"flex items-center justify-between p-2 bg-card rounded-lg border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(r,{className:`h-4 w-4 ${e.color}`}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:e.supplier}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.type.replace("_"," "),e.amount>0&&` • NPR ${e.amount.toLocaleString()}`,"• ",e.time]})]})]}),t.jsx(re,{variant:"outline",className:"text-xs",children:e.type.replace("_"," ")})]},e.id)})})})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-3",children:t.jsxs(q,{className:"flex items-center text-lg",children:[t.jsx(vt,{className:"mr-2 text-blue-600",size:18}),"Inventory by Supplier"]})}),t.jsx(E,{children:t.jsx("div",{className:"h-64",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(fu,{children:[t.jsx(cs,{data:bE,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:bE.map((e,r)=>t.jsx(Fi,{fill:e.color},`cell-${r}`))}),t.jsx(Br,{formatter:e=>[`${e}%`,"Share"]}),t.jsx(Wa,{wrapperStyle:{fontSize:"12px"},iconSize:8})]})})})})]})]})]})}const Xo=[{id:"SUP-001",name:"MediCorp Nepal Pvt. Ltd.",contactPerson:"Dr. Ram Sharma",email:"ram.sharma@medicorp.com.np",phone:"+977-1-4567890",mobile:"+977-9841234567",address:"Baneshwor, Kathmandu",city:"Kathmandu",country:"Nepal",postalCode:"44600",website:"www.medicorp.com.np",licenseNumber:"DDA-2023-001",taxNumber:"302345678",category:"Pharmaceutical",supplierType:"manufacturer",status:"active",rating:4.8,joinDate:"2020-01-15",paymentTerms:"30 days",creditLimit:5e5,totalOrders:145,totalValue:25e5,lastOrderDate:"2024-01-15",notes:"Primary supplier for antibiotics and pain relief medications"},{id:"SUP-002",name:"PharmaCo Distribution Ltd.",contactPerson:"Sita Gurung",email:"sita@pharmaco.com.np",phone:"+977-1-4567891",mobile:"+977-9851234567",address:"Teku, Kathmandu",city:"Kathmandu",country:"Nepal",postalCode:"44601",website:"www.pharmaco.com.np",licenseNumber:"DDA-2023-002",taxNumber:"302345679",category:"Pharmaceutical",supplierType:"distributor",status:"active",rating:4.6,joinDate:"2020-03-22",paymentTerms:"45 days",creditLimit:75e4,totalOrders:132,totalValue:22e5,lastOrderDate:"2024-01-12",notes:"Reliable distributor for insulin and diabetes care products"},{id:"SUP-003",name:"HealthPlus Medical Supply",contactPerson:"Hari Thapa",email:"hari@healthplus.com.np",phone:"+977-1-4567892",mobile:"+977-9861234567",address:"Patan Dhoka, Lalitpur",city:"Lalitpur",country:"Nepal",postalCode:"44700",website:"www.healthplus.com.np",licenseNumber:"DDA-2023-003",taxNumber:"302345680",category:"Medical Devices",supplierType:"wholesaler",status:"active",rating:4.4,joinDate:"2021-06-10",paymentTerms:"15 days",creditLimit:3e5,totalOrders:98,totalValue:18e5,lastOrderDate:"2024-01-10",notes:"Specializes in medical devices and diagnostic equipment"},{id:"SUP-004",name:"NutriMed Wellness Pvt. Ltd.",contactPerson:"Maya Shrestha",email:"maya@nutrimed.com.np",phone:"+977-1-4567893",mobile:"+977-9871234567",address:"Kupondole, Lalitpur",city:"Lalitpur",country:"Nepal",postalCode:"44701",website:"www.nutrimed.com.np",licenseNumber:"DDA-2023-004",taxNumber:"302345681",category:"Nutritional Supplements",supplierType:"manufacturer",status:"active",rating:4.2,joinDate:"2021-09-15",paymentTerms:"60 days",creditLimit:4e5,totalOrders:76,totalValue:12e5,lastOrderDate:"2024-01-08",notes:"Premium vitamins and nutritional supplements supplier"},{id:"SUP-005",name:"BioPharma Industries",contactPerson:"Kiran Adhikari",email:"kiran@biopharma.com.np",phone:"+977-1-4567894",mobile:"+977-9881234567",address:"Bhaktapur Industrial Area",city:"Bhaktapur",country:"Nepal",postalCode:"44800",website:"www.biopharma.com.np",licenseNumber:"DDA-2023-005",taxNumber:"302345682",category:"Pharmaceutical",supplierType:"manufacturer",status:"pending",rating:4,joinDate:"2023-11-20",paymentTerms:"30 days",creditLimit:2e5,totalOrders:12,totalValue:35e4,lastOrderDate:"2024-01-05",notes:"New supplier, currently under evaluation"}];function R1e(){const[e,r]=x.useState(""),[n,s]=x.useState("all"),[a,i]=x.useState("all"),[o,l]=x.useState(!1),[c,d]=x.useState(!1),[u,m]=x.useState(null),{toast:h}=Tt(),p=[...new Set(Xo.map(P=>P.category))],g=Xo.filter(P=>{const _=P.name.toLowerCase().includes(e.toLowerCase())||P.contactPerson.toLowerCase().includes(e.toLowerCase())||P.email.toLowerCase().includes(e.toLowerCase()),w=n==="all"||P.status===n,A=a==="all"||P.category===a;return _&&w&&A}),f=P=>{const _={active:"default",inactive:"secondary",pending:"outline",suspended:"destructive"};return t.jsx(re,{variant:_[P],children:P})},v=P=>{const _={manufacturer:"default",distributor:"secondary",wholesaler:"outline"};return t.jsx(re,{variant:_[P],children:P})},b=()=>{h({title:"Supplier Created",description:"New supplier has been added successfully."}),l(!1)},y=P=>{h({title:"Supplier Deleted",description:`Supplier ${P} has been removed.`})},j=Xo.length,C=Xo.filter(P=>P.status==="active").length,S=Xo.reduce((P,_)=>P+_.totalValue,0),N=Xo.reduce((P,_)=>P+_.rating,0)/Xo.length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Suppliers Directory"}),t.jsx("p",{className:"text-muted-foreground",children:"Comprehensive supplier database and management"})]}),t.jsxs(rt,{open:o,onOpenChange:l,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Add New Supplier"]})}),t.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Supplier"}),t.jsx(Pt,{children:"Enter comprehensive supplier information for registration"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium text-lg",children:"Basic Information"}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"name",children:"Company Name"}),t.jsx(J,{placeholder:"Enter company name"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"contactPerson",children:"Contact Person"}),t.jsx(J,{placeholder:"Full name"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"email",children:"Email Address"}),t.jsx(J,{type:"email",placeholder:"contact@company.com"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"phone",children:"Phone"}),t.jsx(J,{placeholder:"+977-1-xxxxxxx"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"mobile",children:"Mobile"}),t.jsx(J,{placeholder:"+977-98xxxxxxxx"})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"website",children:"Website"}),t.jsx(J,{placeholder:"www.company.com"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium text-lg",children:"Address & Legal Information"}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"address",children:"Address"}),t.jsx(Vt,{placeholder:"Street address"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"city",children:"City"}),t.jsx(J,{placeholder:"City"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"postalCode",children:"Postal Code"}),t.jsx(J,{placeholder:"Postal code"})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"licenseNumber",children:"License Number"}),t.jsx(J,{placeholder:"DDA-YYYY-XXX"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"taxNumber",children:"Tax Number"}),t.jsx(J,{placeholder:"VAT/PAN Number"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium text-lg",children:"Business Details"}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"category",children:"Category"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select category"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"pharmaceutical",children:"Pharmaceutical"}),t.jsx(I,{value:"medical_devices",children:"Medical Devices"}),t.jsx(I,{value:"nutritional_supplements",children:"Nutritional Supplements"}),t.jsx(I,{value:"laboratory_supplies",children:"Laboratory Supplies"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"supplierType",children:"Supplier Type"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"manufacturer",children:"Manufacturer"}),t.jsx(I,{value:"distributor",children:"Distributor"}),t.jsx(I,{value:"wholesaler",children:"Wholesaler"}),t.jsx(I,{value:"retailer",children:"Retailer"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"paymentTerms",children:"Payment Terms"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select terms"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"15_days",children:"15 Days"}),t.jsx(I,{value:"30_days",children:"30 Days"}),t.jsx(I,{value:"45_days",children:"45 Days"}),t.jsx(I,{value:"60_days",children:"60 Days"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"creditLimit",children:"Credit Limit (NPR)"}),t.jsx(J,{type:"number",placeholder:"Credit limit amount"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium text-lg",children:"Additional Information"}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"notes",children:"Notes"}),t.jsx(Vt,{placeholder:"Additional notes about the supplier..."})]})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),t.jsx(k,{onClick:b,children:"Create Supplier"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(it,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:j}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Suppliers"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(yt,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:C}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Suppliers"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-8 w-8 text-purple-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",S.toLocaleString()]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Order Value"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(On,{className:"h-8 w-8 text-yellow-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:N.toFixed(1)}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Rating"})]})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search suppliers...",value:e,onChange:P=>r(P.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Statuses"}),t.jsx(I,{value:"active",children:"Active"}),t.jsx(I,{value:"inactive",children:"Inactive"}),t.jsx(I,{value:"pending",children:"Pending"}),t.jsx(I,{value:"suspended",children:"Suspended"})]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by category"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Categories"}),p.map(P=>t.jsx(I,{value:P,children:P},P))]})]}),t.jsx(k,{variant:"outline",children:"Export Suppliers"})]})})}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{children:["Suppliers Directory (",g.length,")"]})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Supplier"}),t.jsx(K,{children:"Contact"}),t.jsx(K,{children:"Category"}),t.jsx(K,{children:"Performance"}),t.jsx(K,{children:"Orders"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:g.map(P=>t.jsxs(Ie,{children:[t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:P.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:P.contactPerson}),t.jsx("p",{className:"text-xs text-muted-foreground",children:P.id})]})}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs("p",{className:"text-sm flex items-center gap-1",children:[t.jsx(Wd,{size:12}),P.phone]}),t.jsxs("p",{className:"text-sm flex items-center gap-1",children:[t.jsx(Di,{size:12}),P.email]}),t.jsxs("p",{className:"text-sm flex items-center gap-1",children:[t.jsx(Ia,{size:12}),P.city]})]})}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"font-medium",children:P.category}),v(P.supplierType)]})}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(On,{size:12,className:"text-yellow-500"}),t.jsx("span",{className:"font-medium",children:P.rating})]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["NPR ",P.totalValue.toLocaleString()]})]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:P.totalOrders}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last: ",P.lastOrderDate]})]})}),t.jsx(W,{children:f(P.status)}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(xt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-4xl",children:[t.jsx(st,{children:t.jsxs(at,{children:["Supplier Profile - ",P.name]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-2",children:"Basic Information"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Contact Person:"})," ",P.contactPerson]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," ",P.email]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",P.phone]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Mobile:"})," ",P.mobile]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Website:"})," ",P.website]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-2",children:"Address"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsx("p",{children:P.address}),t.jsxs("p",{children:[P.city,", ",P.postalCode]}),t.jsx("p",{children:P.country})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-2",children:"Business Details"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"License:"})," ",P.licenseNumber]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Tax Number:"})," ",P.taxNumber]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Category:"})," ",P.category]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Type:"})," ",P.supplierType]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Payment Terms:"})," ",P.paymentTerms]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Credit Limit:"})," NPR ",P.creditLimit.toLocaleString()]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-2",children:"Performance"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Rating:"})," ",P.rating,"/5"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Total Orders:"})," ",P.totalOrders]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Total Value:"})," NPR ",P.totalValue.toLocaleString()]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Join Date:"})," ",P.joinDate]})]})]})]})]}),P.notes&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-2",children:"Notes"}),t.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:P.notes})]})]})]}),t.jsx(k,{size:"sm",variant:"outline",onClick:()=>{m(P),d(!0)},children:t.jsx(mn,{size:12})}),t.jsx(k,{size:"sm",variant:"outline",onClick:()=>y(P.id),children:t.jsx(as,{size:12})})]})})]},P.id))})]})})})]})]})}const Bu=[{id:"COMM-001",supplierId:"SUP-001",supplierName:"MediCorp Nepal",contactPerson:"Dr. Ram Sharma",type:"email",subject:"New Product Launch Discussion",content:"We would like to discuss the launch of our new antibiotic line and potential partnership opportunities for exclusive distribution.",date:"2024-01-15",time:"14:30",direction:"incoming",status:"replied",priority:"high",assignedTo:"Pharmacy Manager",followUpDate:"2024-01-20",attachments:["product_catalog.pdf","pricing_sheet.xlsx"],tags:["product_launch","partnership","antibiotics"]},{id:"COMM-002",supplierId:"SUP-002",supplierName:"PharmaCo Ltd",contactPerson:"Sita Gurung",type:"phone",subject:"Delivery Schedule Confirmation",content:"Called to confirm delivery schedule for insulin pen order PO-002. Confirmed delivery on January 22nd at 10:00 AM.",date:"2024-01-14",time:"11:15",direction:"outgoing",status:"completed",priority:"medium",assignedTo:"Purchase Manager",followUpDate:null,attachments:[],tags:["delivery","insulin","confirmation"]},{id:"COMM-003",supplierId:"SUP-003",supplierName:"HealthPlus Supply",contactPerson:"Hari Thapa",type:"meeting",subject:"Quarterly Business Review",content:"Quarterly business review meeting to discuss performance metrics, upcoming requirements, and contract renewal terms.",date:"2024-01-12",time:"15:00",direction:"meeting",status:"completed",priority:"high",assignedTo:"Business Development",followUpDate:"2024-04-12",attachments:["qbr_presentation.pptx","performance_report.pdf"],tags:["quarterly_review","performance","contract"]},{id:"COMM-004",supplierId:"SUP-001",supplierName:"MediCorp Nepal",contactPerson:"Dr. Ram Sharma",type:"email",subject:"Payment Terms Negotiation",content:"Following up on our discussion about extending payment terms from 30 to 45 days. Please confirm if this is acceptable.",date:"2024-01-10",time:"09:45",direction:"outgoing",status:"pending",priority:"medium",assignedTo:"Finance Manager",followUpDate:"2024-01-17",attachments:["payment_terms_proposal.pdf"],tags:["payment_terms","negotiation","finance"]},{id:"COMM-005",supplierId:"SUP-004",supplierName:"NutriMed Pharma",contactPerson:"Maya Shrestha",type:"email",subject:"Quality Concern Report",content:"We've noticed some inconsistencies in the latest batch of Vitamin D3 supplements. Please investigate and provide a response.",date:"2024-01-08",time:"16:20",direction:"outgoing",status:"pending",priority:"high",assignedTo:"Quality Manager",followUpDate:"2024-01-15",attachments:["quality_report.pdf","batch_analysis.xlsx"],tags:["quality_concern","vitamins","investigation"]}],NE=[{id:"SUP-001",name:"MediCorp Nepal"},{id:"SUP-002",name:"PharmaCo Ltd"},{id:"SUP-003",name:"HealthPlus Supply"},{id:"SUP-004",name:"NutriMed Pharma"},{id:"SUP-005",name:"BioPharma Industries"}];function D1e(){const[e,r]=x.useState(""),[n,s]=x.useState("all"),[a,i]=x.useState("all"),[o,l]=x.useState("all"),[c,d]=x.useState(!1),{toast:u}=Tt(),m=Bu.filter(N=>{const P=N.subject.toLowerCase().includes(e.toLowerCase())||N.supplierName.toLowerCase().includes(e.toLowerCase())||N.content.toLowerCase().includes(e.toLowerCase()),_=n==="all"||N.type===n,w=a==="all"||N.status===a,A=o==="all"||N.supplierId===o;return P&&_&&w&&A}),h=N=>{const P={email:{variant:"default",label:"Email",icon:Di},phone:{variant:"secondary",label:"Phone",icon:Wd},meeting:{variant:"outline",label:"Meeting",icon:Rt},chat:{variant:"default",label:"Chat",icon:lP}},_=P[N]||P.email,w=_.icon;return t.jsxs(re,{variant:_.variant,className:"flex items-center gap-1",children:[t.jsx(w,{size:12}),_.label]})},p=N=>{const P={pending:{variant:"secondary",label:"Pending",icon:Ut},replied:{variant:"default",label:"Replied",icon:ut},completed:{variant:"default",label:"Completed",icon:ut},overdue:{variant:"destructive",label:"Overdue",icon:Si}},_=P[N]||P.pending,w=_.icon;return t.jsxs(re,{variant:_.variant,className:"flex items-center gap-1",children:[t.jsx(w,{size:12}),_.label]})},g=N=>{const P={high:"destructive",medium:"secondary",low:"outline"};return t.jsx(re,{variant:P[N],children:N})},f=N=>{switch(N){case"incoming":return t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500",title:"Incoming"});case"outgoing":return t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500",title:"Outgoing"});case"meeting":return t.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500",title:"Meeting"});default:return t.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500"})}},v=()=>{u({title:"Communication Logged",description:"New communication record has been created successfully."}),d(!1)},b=(N,P)=>{u({title:"Status Updated",description:`Communication ${N} status changed to ${P}.`})},y=Bu.length,j=Bu.filter(N=>N.status==="pending").length,C=Bu.filter(N=>N.followUpDate&&new Date(N.followUpDate)<new Date).length,S=(Bu.filter(N=>N.status==="replied"||N.status==="completed").length/y*100).toFixed(1);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Supplier Communications"}),t.jsx("p",{className:"text-muted-foreground",children:"Track and manage all supplier interactions and correspondence"})]}),t.jsxs(rt,{open:c,onOpenChange:d,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Log Communication"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Log New Communication"}),t.jsx(Pt,{children:"Record a new communication with a supplier"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"supplier",children:"Supplier"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select supplier"})}),t.jsx(Ce,{children:NE.map(N=>t.jsx(I,{value:N.id,children:N.name},N.id))})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"type",children:"Communication Type"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"email",children:"Email"}),t.jsx(I,{value:"phone",children:"Phone Call"}),t.jsx(I,{value:"meeting",children:"Meeting"}),t.jsx(I,{value:"chat",children:"Chat/Message"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"direction",children:"Direction"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select direction"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"incoming",children:"Incoming"}),t.jsx(I,{value:"outgoing",children:"Outgoing"}),t.jsx(I,{value:"meeting",children:"Meeting"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"priority",children:"Priority"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select priority"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"low",children:"Low"}),t.jsx(I,{value:"medium",children:"Medium"}),t.jsx(I,{value:"high",children:"High"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"subject",children:"Subject"}),t.jsx(J,{placeholder:"Communication subject/title"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"content",children:"Content/Notes"}),t.jsx(Vt,{placeholder:"Detailed notes about the communication..."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"assignedTo",children:"Assigned To"}),t.jsx(J,{placeholder:"Responsible person"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"followUpDate",children:"Follow-up Date"}),t.jsx(J,{type:"date"})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"tags",children:"Tags (comma separated)"}),t.jsx(J,{placeholder:"quality, pricing, delivery, etc."})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),t.jsx(k,{onClick:v,children:"Log Communication"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(lP,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:y}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Communications"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-8 w-8 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:j}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Responses"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Si,{className:"h-8 w-8 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:C}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Overdue Items"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ut,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:[S,"%"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"})]})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search communications...",value:e,onChange:N=>r(N.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:"supplierFilter",onValueChange:l,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by supplier"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Suppliers"}),NE.map(N=>t.jsx(I,{value:N.id,children:N.name},N.id))]})]}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Types"}),t.jsx(I,{value:"email",children:"Email"}),t.jsx(I,{value:"phone",children:"Phone"}),t.jsx(I,{value:"meeting",children:"Meeting"}),t.jsx(I,{value:"chat",children:"Chat"})]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Statuses"}),t.jsx(I,{value:"pending",children:"Pending"}),t.jsx(I,{value:"replied",children:"Replied"}),t.jsx(I,{value:"completed",children:"Completed"}),t.jsx(I,{value:"overdue",children:"Overdue"})]})]}),t.jsx(k,{variant:"outline",children:"Export Communications"})]})})}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{children:["Communication History (",m.length,")"]})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Communication"}),t.jsx(K,{children:"Supplier"}),t.jsx(K,{children:"Type"}),t.jsx(K,{children:"Priority"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Date"}),t.jsx(K,{children:"Follow-up"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:m.map(N=>t.jsxs(Ie,{children:[t.jsx(W,{children:t.jsxs("div",{className:"flex items-start gap-2",children:[f(N.direction),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:N.subject}),t.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:N.content}),t.jsx("div",{className:"flex gap-1 mt-1",children:N.tags.map(P=>t.jsx("span",{className:"text-xs bg-muted px-1 rounded",children:P},P))})]})]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:N.supplierName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:N.contactPerson})]})}),t.jsx(W,{children:h(N.type)}),t.jsx(W,{children:g(N.priority)}),t.jsx(W,{children:p(N.status)}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:N.date}),t.jsx("p",{className:"text-xs text-muted-foreground",children:N.time})]})}),t.jsx(W,{children:N.followUpDate?t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:N.followUpDate}),t.jsx("p",{className:"text-xs text-muted-foreground",children:N.assignedTo})]}):t.jsx("span",{className:"text-muted-foreground",children:"-"})}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(xt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsx(st,{children:t.jsx(at,{children:"Communication Details"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Supplier"}),t.jsx("p",{className:"font-medium",children:N.supplierName})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Contact Person"}),t.jsx("p",{children:N.contactPerson})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Type"}),t.jsx("div",{className:"mt-1",children:h(N.type)})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Priority"}),t.jsx("div",{className:"mt-1",children:g(N.priority)})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Date & Time"}),t.jsxs("p",{children:[N.date," at ",N.time]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Status"}),t.jsx("div",{className:"mt-1",children:p(N.status)})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Subject"}),t.jsx("p",{className:"font-medium",children:N.subject})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Content"}),t.jsx("p",{className:"bg-muted p-3 rounded text-sm",children:N.content})]}),N.attachments.length>0&&t.jsxs("div",{children:[t.jsx(M,{children:"Attachments"}),t.jsx("div",{className:"flex gap-2 mt-1",children:N.attachments.map(P=>t.jsxs(re,{variant:"outline",className:"flex items-center gap-1",children:[t.jsx($t,{size:12}),P]},P))})]}),t.jsxs("div",{className:"flex gap-4",children:[N.assignedTo&&t.jsxs("div",{children:[t.jsx(M,{children:"Assigned To"}),t.jsx("p",{children:N.assignedTo})]}),N.followUpDate&&t.jsxs("div",{children:[t.jsx(M,{children:"Follow-up Date"}),t.jsx("p",{children:N.followUpDate})]})]})]})]})]}),N.status==="pending"&&t.jsxs(_e,{onValueChange:P=>b(N.id,P),children:[t.jsx(Pe,{className:"w-24",children:t.jsx(Ae,{placeholder:"Update"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"replied",children:"Mark Replied"}),t.jsx(I,{value:"completed",children:"Mark Completed"})]})]})]})})]},N.id))})]})})})]})]})}const Qs=[{id:"SUP-001",name:"MediCorp Nepal",totalOrders:145,totalValue:25e5,averageOrderValue:17241,onTimeDeliveryRate:92,qualityRating:4.8,responseTime:2.3,defectRate:.5,returnRate:1.2,paymentTermsCompliance:95,relationshipScore:88,lastEvaluation:"2024-01-10",trend:"up",category:"Pharmaceutical",risk:"low"},{id:"SUP-002",name:"PharmaCo Ltd",totalOrders:132,totalValue:22e5,averageOrderValue:16667,onTimeDeliveryRate:87,qualityRating:4.6,responseTime:3.1,defectRate:.8,returnRate:2.1,paymentTermsCompliance:90,relationshipScore:85,lastEvaluation:"2024-01-08",trend:"stable",category:"Pharmaceutical",risk:"low"},{id:"SUP-003",name:"HealthPlus Supply",totalOrders:98,totalValue:18e5,averageOrderValue:18367,onTimeDeliveryRate:78,qualityRating:4.4,responseTime:4.2,defectRate:1.5,returnRate:3.2,paymentTermsCompliance:88,relationshipScore:79,lastEvaluation:"2024-01-05",trend:"down",category:"Medical Devices",risk:"medium"},{id:"SUP-004",name:"NutriMed Pharma",totalOrders:76,totalValue:12e5,averageOrderValue:15789,onTimeDeliveryRate:85,qualityRating:4.2,responseTime:3.8,defectRate:1.1,returnRate:2.5,paymentTermsCompliance:92,relationshipScore:82,lastEvaluation:"2024-01-03",trend:"up",category:"Nutritional Supplements",risk:"low"},{id:"SUP-005",name:"BioPharma Industries",totalOrders:12,totalValue:35e4,averageOrderValue:29167,onTimeDeliveryRate:67,qualityRating:4,responseTime:5.5,defectRate:2.1,returnRate:4.2,paymentTermsCompliance:75,relationshipScore:65,lastEvaluation:"2023-12-28",trend:"down",category:"Pharmaceutical",risk:"high"}],M1e=[{label:"On-Time Delivery",weight:25,target:90},{label:"Quality Rating",weight:30,target:4.5},{label:"Response Time",weight:15,target:3},{label:"Defect Rate",weight:20,target:1},{label:"Payment Compliance",weight:10,target:95}];function I1e(){const[e,r]=x.useState("all"),[n,s]=x.useState("6_months"),[a,i]=x.useState("overall"),o=e==="all"?Qs:Qs.filter(f=>f.id===e),l=f=>{switch(f){case"up":return t.jsx(yt,{className:"h-4 w-4 text-green-600"});case"down":return t.jsx(Ci,{className:"h-4 w-4 text-red-600"});default:return t.jsx("div",{className:"h-4 w-4"})}},c=f=>{const v={low:"default",medium:"secondary",high:"destructive"};return t.jsxs(re,{variant:v[f],children:[f," risk"]})},d=(f,v,b=!1)=>(b?f<=v:f>=v)?"text-green-600":f>=v*.8?"text-orange-600":"text-red-600",u=f=>[f.onTimeDeliveryRate/100*25,f.qualityRating/5*30,Math.max(0,5-f.responseTime)/5*15,Math.max(0,3-f.defectRate)/3*20,f.paymentTermsCompliance/100*10].reduce((b,y)=>b+y,0),m=Qs.reduce((f,v)=>f+v.totalOrders,0),h=Qs.reduce((f,v)=>f+v.totalValue,0),p=Qs.reduce((f,v)=>f+v.onTimeDeliveryRate,0)/Qs.length,g=Qs.reduce((f,v)=>f+v.qualityRating,0)/Qs.length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Supplier Performance Analytics"}),t.jsx("p",{className:"text-muted-foreground",children:"Comprehensive supplier performance metrics and KPI tracking"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{className:"w-40",children:t.jsx(Ae,{placeholder:"Time range"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"1_month",children:"Last Month"}),t.jsx(I,{value:"3_months",children:"Last 3 Months"}),t.jsx(I,{value:"6_months",children:"Last 6 Months"}),t.jsx(I,{value:"1_year",children:"Last Year"})]})]}),t.jsx(k,{variant:"outline",children:"Export Report"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),t.jsx("p",{className:"text-2xl font-bold",children:m}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(yt,{size:12,className:"mr-1"}),"+12% vs last period"]})]}),t.jsx(vt,{className:"h-8 w-8 text-blue-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",h.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(yt,{size:12,className:"mr-1"}),"+8% vs last period"]})]}),t.jsx(mt,{className:"h-8 w-8 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg On-Time Delivery"}),t.jsxs("p",{className:"text-2xl font-bold",children:[p.toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[t.jsx(Ci,{size:12,className:"mr-1"}),"-2% vs last period"]})]}),t.jsx(hn,{className:"h-8 w-8 text-purple-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Quality Rating"}),t.jsx("p",{className:"text-2xl font-bold",children:g.toFixed(1)}),t.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[t.jsx(yt,{size:12,className:"mr-1"}),"+0.2 vs last period"]})]}),t.jsx(On,{className:"h-8 w-8 text-yellow-600"})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(_e,{value:e,onValueChange:r,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by supplier"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Suppliers"}),Qs.map(f=>t.jsx(I,{value:f.id,children:f.name},f.id))]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by metric"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"overall",children:"Overall Performance"}),t.jsx(I,{value:"delivery",children:"Delivery Performance"}),t.jsx(I,{value:"quality",children:"Quality Metrics"}),t.jsx(I,{value:"financial",children:"Financial Metrics"}),t.jsx(I,{value:"relationship",children:"Relationship Metrics"})]})]}),t.jsxs(k,{variant:"outline",className:"w-full",children:[t.jsx(ar,{size:16,className:"mr-2"}),"Generate Detailed Report"]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(hi,{className:"mr-2 text-blue-600",size:20}),"Key Performance Indicators"]})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:M1e.map(f=>{const v=Qs.reduce((y,j)=>{switch(f.label){case"On-Time Delivery":return y+j.onTimeDeliveryRate;case"Quality Rating":return y+j.qualityRating;case"Response Time":return y+j.responseTime;case"Defect Rate":return y+j.defectRate;case"Payment Compliance":return y+j.paymentTermsCompliance;default:return y}},0)/Qs.length,b=f.label==="Response Time"||f.label==="Defect Rate"?v<=f.target:v>=f.target;return t.jsx("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsx("span",{className:"font-medium",children:f.label}),t.jsx("span",{className:`font-bold ${b?"text-green-600":"text-red-600"}`,children:f.label==="Quality Rating"?v.toFixed(1):f.label==="Response Time"?`${v.toFixed(1)} hrs`:f.label==="Defect Rate"?`${v.toFixed(1)}%`:`${v.toFixed(1)}%`})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[t.jsxs("span",{children:["Weight: ",f.weight,"%"]}),t.jsxs("span",{children:["Target: ",f.label==="Quality Rating"?f.target:f.label==="Response Time"?`${f.target} hrs`:`${f.target}%`]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:t.jsx("div",{className:`h-2 rounded-full ${b?"bg-green-600":"bg-red-600"}`,style:{width:`${Math.min(100,v/f.target*100)}%`}})})]})},f.label)})})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(tr,{className:"mr-2 text-orange-600",size:20}),"Performance Alerts"]})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tr,{className:"h-4 w-4 text-red-600"}),t.jsx("span",{className:"font-medium text-red-800",children:"Critical Alert"})]}),t.jsx("p",{className:"text-sm text-red-700 mt-1",children:"BioPharma Industries has 67% on-time delivery rate (Target: 90%)"})]}),t.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ut,{className:"h-4 w-4 text-orange-600"}),t.jsx("span",{className:"font-medium text-orange-800",children:"Warning"})]}),t.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"HealthPlus Supply response time increased to 4.2 hours (Target: 3.0 hours)"})]}),t.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(On,{className:"h-4 w-4 text-yellow-600"}),t.jsx("span",{className:"font-medium text-yellow-800",children:"Quality Concern"})]}),t.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"NutriMed Pharma quality rating dropped to 4.2 (Target: 4.5)"})]}),t.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ut,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"font-medium text-green-800",children:"Excellent"})]}),t.jsx("p",{className:"text-sm text-green-700 mt-1",children:"MediCorp Nepal exceeds all performance targets consistently"})]})]})})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Detailed Supplier Performance Metrics"})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Supplier"}),t.jsx(K,{children:"Overall Score"}),t.jsx(K,{children:"Delivery Rate"}),t.jsx(K,{children:"Quality Rating"}),t.jsx(K,{children:"Response Time"}),t.jsx(K,{children:"Defect Rate"}),t.jsx(K,{children:"Order Value"}),t.jsx(K,{children:"Risk Level"}),t.jsx(K,{children:"Trend"})]})}),t.jsx(At,{children:o.map(f=>{const v=u(f);return t.jsxs(Ie,{children:[t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:f.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:f.category})]})}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`font-bold ${v>=80?"text-green-600":v>=60?"text-orange-600":"text-red-600"}`,children:v.toFixed(1)}),t.jsx("div",{className:"w-12 h-2 bg-gray-200 rounded-full",children:t.jsx("div",{className:`h-2 rounded-full ${v>=80?"bg-green-600":v>=60?"bg-orange-600":"bg-red-600"}`,style:{width:`${v}%`}})})]})}),t.jsx(W,{children:t.jsxs("span",{className:d(f.onTimeDeliveryRate,90),children:[f.onTimeDeliveryRate,"%"]})}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(On,{size:12,className:"text-yellow-500"}),t.jsx("span",{className:d(f.qualityRating,4.5),children:f.qualityRating})]})}),t.jsx(W,{children:t.jsxs("span",{className:d(f.responseTime,3,!0),children:[f.responseTime,"h"]})}),t.jsx(W,{children:t.jsxs("span",{className:d(f.defectRate,1,!0),children:[f.defectRate,"%"]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium",children:["NPR ",f.totalValue.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.totalOrders," orders"]})]})}),t.jsx(W,{children:c(f.risk)}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-1",children:[l(f.trend),t.jsx("span",{className:"text-sm",children:f.trend})]})})]},f.id)})})]})})})]})]})}const cc={activeLicenses:8,expiringLicenses:2,pendingReports:3,overdueTasks:1,inspectionsPassed:12,complianceScore:92},$1e=[{id:1,task:"Renew Pharmacy License",dueDate:"2024-02-15",priority:"high",type:"license"},{id:2,task:"Submit Monthly DDA Report",dueDate:"2024-02-10",priority:"high",type:"report"},{id:3,task:"Update Drug Register",dueDate:"2024-02-05",priority:"medium",type:"register"},{id:4,task:"Prepare for DDA Inspection",dueDate:"2024-02-20",priority:"medium",type:"inspection"}],L1e=[{id:1,activity:"Pharmacy License renewed",date:"2024-01-15",status:"completed",type:"license"},{id:2,activity:"DDA inspection completed",date:"2024-01-12",status:"passed",type:"inspection"},{id:3,activity:"Monthly report submitted",date:"2024-01-10",status:"submitted",type:"report"},{id:4,activity:"Drug register updated",date:"2024-01-08",status:"completed",type:"register"}],F1e=[{id:"LIC-001",name:"Pharmacy Operating License",issuer:"DDA Nepal",status:"active",expiryDate:"2024-12-31",daysLeft:340},{id:"LIC-002",name:"Drug Store License",issuer:"DDA Nepal",status:"active",expiryDate:"2024-06-30",daysLeft:155},{id:"LIC-003",name:"Narcotic License",issuer:"DDA Nepal",status:"expiring",expiryDate:"2024-02-28",daysLeft:15},{id:"LIC-004",name:"Ayurvedic License",issuer:"DAV Nepal",status:"active",expiryDate:"2024-09-15",daysLeft:233}];function z1e(){const e=s=>{const a={high:"destructive",medium:"secondary",low:"outline"};return t.jsx(re,{variant:a[s],children:s})},r=s=>{const a={active:{variant:"default",label:"Active"},expiring:{variant:"secondary",label:"Expiring Soon"},expired:{variant:"destructive",label:"Expired"},pending:{variant:"outline",label:"Pending"},completed:{variant:"default",label:"Completed"},passed:{variant:"default",label:"Passed"},submitted:{variant:"default",label:"Submitted"}},i=a[s]||a.pending;return t.jsx(re,{variant:i.variant,children:i.label})},n=s=>"text-green-600";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Nepal Compliance Dashboard"}),t.jsx("p",{className:"text-muted-foreground",children:"Monitor DDA compliance, licenses, and regulatory requirements"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(k,{asChild:!0,children:t.jsxs(wr,{to:"/compliance/licenses",children:[t.jsx(ol,{size:16,className:"mr-2"}),"Manage Licenses"]})}),t.jsx(k,{variant:"outline",asChild:!0,children:t.jsxs(wr,{to:"/compliance/dda-reporting",children:[t.jsx($t,{size:16,className:"mr-2"}),"DDA Reports"]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Licenses"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:cc.activeLicenses})]}),t.jsx(ol,{className:"h-8 w-8 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiring Soon"}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:cc.expiringLicenses})]}),t.jsx(tr,{className:"h-8 w-8 text-orange-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Reports"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:cc.pendingReports})]}),t.jsx($t,{className:"h-8 w-8 text-blue-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Overdue Tasks"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:cc.overdueTasks})]}),t.jsx(Ut,{className:"h-8 w-8 text-red-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Inspections Passed"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:cc.inspectionsPassed})]}),t.jsx(ut,{className:"h-8 w-8 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Compliance Score"}),t.jsxs("p",{className:`text-2xl font-bold ${n()}`,children:[cc.complianceScore,"%"]})]}),t.jsx(Cs,{className:"h-8 w-8 text-purple-600"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-6",children:t.jsx(wr,{to:"/compliance/licenses",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ol,{className:"h-8 w-8 mx-auto text-blue-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"License Management"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Track renewal dates"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-6",children:t.jsx(wr,{to:"/compliance/dda-reporting",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx($t,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"DDA Reporting"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Submit reports"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-6",children:t.jsx(wr,{to:"/compliance/inspections",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(xt,{className:"h-8 w-8 mx-auto text-purple-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"Inspection Records"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Track inspections"})]})})})}),t.jsx(T,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-6",children:t.jsx(wr,{to:"/compliance/drug-registers",className:"block",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ps,{className:"h-8 w-8 mx-auto text-orange-600 mb-2"}),t.jsx("p",{className:"font-medium",children:"Drug Registers"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Maintain registers"})]})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(tr,{className:"mr-2 text-orange-600",size:20}),"Urgent Compliance Tasks"]})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[$1e.map(s=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:s.task}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due: ",s.dueDate," • Type: ",s.type]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[e(s.priority),t.jsx(k,{size:"sm",children:"Action"})]})]},s.id)),t.jsx(k,{variant:"outline",className:"w-full",children:"View All Tasks"})]})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(ol,{className:"mr-2 text-blue-600",size:20}),"License Status Overview"]})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[F1e.map(s=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:s.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.issuer," • Expires: ",s.expiryDate]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.daysLeft," days remaining"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[r(s.status),s.daysLeft<30&&t.jsx(tr,{size:16,className:"text-orange-600"})]})]},s.id)),t.jsx(k,{variant:"outline",className:"w-full",asChild:!0,children:t.jsx(wr,{to:"/compliance/licenses",children:"Manage All Licenses"})})]})})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Recent Compliance Activity"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:L1e.map(s=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:s.activity}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.date," • ",s.type]})]})]}),r(s.status)]},s.id))})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(C0,{className:"mr-2 text-blue-600",size:20}),"DDA Resources & Links"]})}),t.jsx(E,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(k,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(C0,{size:16}),t.jsx("span",{className:"font-medium",children:"DDA Official Portal"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Access official DDA website"})]}),t.jsxs(k,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx($t,{size:16}),t.jsx("span",{className:"font-medium",children:"Online License Renewal"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Renew licenses online"})]}),t.jsxs(k,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Ps,{size:16}),t.jsx("span",{className:"font-medium",children:"Compliance Guidelines"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest regulations"})]})]})})]})]})}const dc=[{id:"LIC-001",licenseNumber:"DDA/P/2023/001",licenseName:"Pharmacy Operating License",licenseType:"Pharmacy Operation",issuer:"Department of Drug Administration",issueDate:"2023-01-15",expiryDate:"2024-12-31",status:"active",renewalRequired:!1,daysUntilExpiry:340,renewalFee:15e3,documentsRequired:["Pharmacy certificate","Pharmacist registration","Business registration"],contactPerson:"Dr. Ram Sharma",phoneNumber:"+977-1-4428763",address:"Babarmahal, Kathmandu",notes:"Primary pharmacy operating license for main location"},{id:"LIC-002",licenseNumber:"DDA/DS/2023/002",licenseName:"Drug Store License",licenseType:"Drug Store",issuer:"Department of Drug Administration",issueDate:"2023-06-01",expiryDate:"2024-06-30",status:"active",renewalRequired:!0,daysUntilExpiry:155,renewalFee:8e3,documentsRequired:["Drug store certificate","Business registration","Tax clearance"],contactPerson:"Dr. Sita Gurung",phoneNumber:"+977-1-4428764",address:"Babarmahal, Kathmandu",notes:"License for over-the-counter drug sales"},{id:"LIC-003",licenseNumber:"DDA/NAR/2023/003",licenseName:"Narcotic and Psychotropic License",licenseType:"Narcotic Control",issuer:"Department of Drug Administration",issueDate:"2023-12-01",expiryDate:"2024-02-28",status:"expiring",renewalRequired:!0,daysUntilExpiry:15,renewalFee:25e3,documentsRequired:["Security clearance","Narcotic storage certificate","Pharmacist license"],contactPerson:"Dr. Hari Thapa",phoneNumber:"+977-1-4428765",address:"Babarmahal, Kathmandu",notes:"Critical license for controlled substances - urgent renewal required"},{id:"LIC-004",licenseNumber:"DAV/AY/2023/004",licenseName:"Ayurvedic Medicine License",licenseType:"Ayurvedic Practice",issuer:"Department of Ayurveda and Alternative Medicine",issueDate:"2023-03-15",expiryDate:"2024-09-15",status:"active",renewalRequired:!1,daysUntilExpiry:233,renewalFee:1e4,documentsRequired:["Ayurvedic practitioner certificate","Business registration"],contactPerson:"Vaidya Maya Shrestha",phoneNumber:"+977-1-4428766",address:"Babarmahal, Kathmandu",notes:"License for traditional Ayurvedic medicine sales"},{id:"LIC-005",licenseNumber:"MUN/TRADE/2023/005",licenseName:"Municipal Trade License",licenseType:"Business Operation",issuer:"Kathmandu Metropolitan City",issueDate:"2023-04-01",expiryDate:"2024-04-01",status:"active",renewalRequired:!0,daysUntilExpiry:67,renewalFee:5e3,documentsRequired:["Business registration","Tax clearance","Property documents"],contactPerson:"Municipal Office",phoneNumber:"+977-1-4200000",address:"City Hall, Kathmandu",notes:"Required for business operation within municipal area"}];function B1e(){const[e,r]=x.useState(""),[n,s]=x.useState("all"),[a,i]=x.useState("all"),[o,l]=x.useState(!1),[c,d]=x.useState(!1),[u,m]=x.useState(null),{toast:h}=Tt(),p=[...new Set(dc.map(N=>N.licenseType))],g=dc.filter(N=>{const P=N.licenseName.toLowerCase().includes(e.toLowerCase())||N.licenseNumber.toLowerCase().includes(e.toLowerCase())||N.issuer.toLowerCase().includes(e.toLowerCase()),_=n==="all"||N.status===n,w=a==="all"||N.licenseType===a;return P&&_&&w}),f=(N,P)=>N==="expired"?t.jsx(re,{variant:"destructive",children:"Expired"}):P<=30?t.jsx(re,{variant:"secondary",children:"Expiring Soon"}):N==="active"?t.jsx(re,{variant:"default",children:"Active"}):t.jsx(re,{variant:"outline",children:"Pending"}),v=()=>{h({title:"Renewal Application Submitted",description:"License renewal application has been submitted successfully."}),d(!1)},b=N=>{h({title:"Document Uploaded",description:`Document uploaded for license ${N}`})},y=dc.length,j=dc.filter(N=>N.status==="active").length,C=dc.filter(N=>N.daysUntilExpiry<=30).length,S=dc.filter(N=>N.renewalRequired&&N.daysUntilExpiry<=7).length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"License Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage all pharmacy licenses and regulatory permissions"})]}),t.jsxs(rt,{open:o,onOpenChange:l,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Add New License"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New License"}),t.jsx(Pt,{children:"Register a new license or permit for tracking"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"licenseName",children:"License Name"}),t.jsx(J,{placeholder:"Enter license name"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"licenseNumber",children:"License Number"}),t.jsx(J,{placeholder:"DDA/P/YYYY/XXX"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"licenseType",children:"License Type"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"pharmacy",children:"Pharmacy Operation"}),t.jsx(I,{value:"drug_store",children:"Drug Store"}),t.jsx(I,{value:"narcotic",children:"Narcotic Control"}),t.jsx(I,{value:"ayurvedic",children:"Ayurvedic Practice"}),t.jsx(I,{value:"business",children:"Business Operation"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"issuer",children:"Issuing Authority"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select issuer"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"dda",children:"Department of Drug Administration"}),t.jsx(I,{value:"davam",children:"Dept. of Ayurveda & Alternative Medicine"}),t.jsx(I,{value:"municipal",children:"Municipal Office"}),t.jsx(I,{value:"ocr",children:"Office of Company Registrar"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"issueDate",children:"Issue Date"}),t.jsx(J,{type:"date"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"expiryDate",children:"Expiry Date"}),t.jsx(J,{type:"date"})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"notes",children:"Notes"}),t.jsx(Vt,{placeholder:"Additional notes about this license..."})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),t.jsx(k,{onClick:()=>l(!1),children:"Add License"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ol,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:y}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Licenses"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ut,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:j}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Licenses"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(tr,{className:"h-8 w-8 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:C}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiring Soon"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-8 w-8 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:S}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Overdue Renewals"})]})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search licenses...",value:e,onChange:N=>r(N.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Statuses"}),t.jsx(I,{value:"active",children:"Active"}),t.jsx(I,{value:"expiring",children:"Expiring Soon"}),t.jsx(I,{value:"expired",children:"Expired"})]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Types"}),p.map(N=>t.jsx(I,{value:N,children:N},N))]})]}),t.jsxs(k,{variant:"outline",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Report"]})]})})}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{children:["License Registry (",g.length,")"]})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"License Details"}),t.jsx(K,{children:"Type & Issuer"}),t.jsx(K,{children:"Validity Period"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Renewal Info"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:g.map(N=>t.jsxs(Ie,{className:N.daysUntilExpiry<=7?"bg-red-50":"",children:[t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:N.licenseName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:N.licenseNumber}),t.jsx("p",{className:"text-xs text-muted-foreground",children:N.id})]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:N.licenseType}),t.jsx("p",{className:"text-sm text-muted-foreground",children:N.issuer})]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm",children:["Issued: ",N.issueDate]}),t.jsxs("p",{className:"text-sm",children:["Expires: ",N.expiryDate]}),t.jsxs("p",{className:`text-xs font-medium ${N.daysUntilExpiry<=7?"text-red-600":N.daysUntilExpiry<=30?"text-orange-600":"text-green-600"}`,children:[N.daysUntilExpiry," days remaining"]})]})}),t.jsx(W,{children:f(N.status,N.daysUntilExpiry)}),t.jsx(W,{children:t.jsxs("div",{children:[N.renewalRequired&&t.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Renewal Required"}),t.jsxs("p",{className:"text-sm",children:["Fee: NPR ",N.renewalFee.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.documentsRequired.length," docs required"]})]})}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(xt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsx(st,{children:t.jsxs(at,{children:["License Details - ",N.licenseName]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"License Number"}),t.jsx("p",{className:"font-medium",children:N.licenseNumber})]}),t.jsxs("div",{children:[t.jsx(M,{children:"License Type"}),t.jsx("p",{children:N.licenseType})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Issuing Authority"}),t.jsx("p",{children:N.issuer})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Contact Person"}),t.jsx("p",{children:N.contactPerson})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Phone"}),t.jsx("p",{children:N.phoneNumber})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Address"}),t.jsx("p",{children:N.address})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Required Documents"}),t.jsx("ul",{className:"list-disc list-inside text-sm mt-1",children:N.documentsRequired.map((P,_)=>t.jsx("li",{children:P},_))})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Notes"}),t.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:N.notes})]})]})]})]}),N.renewalRequired&&t.jsxs(rt,{open:c,onOpenChange:d,children:[t.jsx(Ft,{asChild:!0,children:t.jsx(k,{size:"sm",onClick:()=>m(N),children:"Renew"})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"License Renewal Application"}),t.jsxs(Pt,{children:["Submit renewal application for ",u==null?void 0:u.licenseName]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Renewal Requirements"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Renewal Fee"}),t.jsxs("p",{className:"font-medium",children:["NPR ",u==null?void 0:u.renewalFee.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Processing Time"}),t.jsx("p",{children:"7-14 working days"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Required Documents"}),t.jsx("div",{className:"space-y-2 mt-2",children:u==null?void 0:u.documentsRequired.map((P,_)=>t.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[t.jsx("span",{className:"text-sm",children:P}),t.jsxs(k,{size:"sm",variant:"outline",onClick:()=>b(u.id),children:[t.jsx(kh,{size:12,className:"mr-1"}),"Upload"]})]},_))})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Additional Notes"}),t.jsx(Vt,{placeholder:"Any additional information for the renewal application..."})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),t.jsx(k,{onClick:v,children:"Submit Renewal"})]})]})]}),t.jsx(k,{size:"sm",variant:"outline",children:t.jsx(mn,{size:12})})]})})]},N.id))})]})})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(C0,{className:"mr-2 text-blue-600",size:20}),"Official License Portals"]})}),t.jsx(E,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(k,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Ps,{size:16}),t.jsx("span",{className:"font-medium",children:"DDA License Portal"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Apply and renew DDA licenses online"})]}),t.jsxs(k,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx($t,{size:16}),t.jsx("span",{className:"font-medium",children:"Municipal License"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Municipal trade license services"})]}),t.jsxs(k,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(ol,{size:16}),t.jsx("span",{className:"font-medium",children:"License Verification"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Verify license authenticity online"})]})]})})]})]})}const uc=[{id:"RPT-001",reportType:"Monthly Drug Sales Report",reportPeriod:"January 2024",submissionDeadline:"2024-02-10",submissionDate:"2024-02-08",status:"submitted",submittedBy:"Dr. Ram Sharma",fileSize:"2.4 MB",format:"PDF",sections:["Allopathic medicines","Ayurvedic medicines","OTC drugs","Controlled substances"],compliance:"compliant",feedback:"Report submitted on time with all required sections"},{id:"RPT-002",reportType:"Narcotic Drug Register",reportPeriod:"January 2024",submissionDeadline:"2024-02-05",submissionDate:null,status:"overdue",submittedBy:null,fileSize:null,format:"Excel",sections:["Narcotic purchases","Sales records","Stock balance","Disposal records"],compliance:"non_compliant",feedback:"Submission overdue - immediate action required"},{id:"RPT-003",reportType:"Adverse Drug Reaction Report",reportPeriod:"December 2023",submissionDeadline:"2024-01-15",submissionDate:"2024-01-12",status:"submitted",submittedBy:"Dr. Sita Gurung",fileSize:"1.1 MB",format:"PDF",sections:["Incident reports","Patient details","Drug information","Outcome"],compliance:"compliant",feedback:"Well documented report with proper follow-up"},{id:"RPT-004",reportType:"Quarterly Financial Report",reportPeriod:"Q4 2023",submissionDeadline:"2024-01-30",submissionDate:"2024-01-28",status:"under_review",submittedBy:"Finance Manager",fileSize:"5.2 MB",format:"Excel",sections:["Revenue summary","Tax details","Expense breakdown","Profit analysis"],compliance:"pending",feedback:"Under review by DDA finance department"},{id:"RPT-005",reportType:"Drug Import Declaration",reportPeriod:"January 2024",submissionDeadline:"2024-02-15",submissionDate:null,status:"draft",submittedBy:null,fileSize:null,format:"PDF",sections:["Import details","Supplier information","Quality certificates","Custom clearance"],compliance:"pending",feedback:"Draft in preparation"}],U1e=[{id:1,name:"Monthly Drug Sales Report",frequency:"Monthly",nextDue:"2024-03-10"},{id:2,name:"Narcotic Drug Register",frequency:"Monthly",nextDue:"2024-03-05"},{id:3,name:"Adverse Drug Reaction",frequency:"As needed",nextDue:"N/A"},{id:4,name:"Quarterly Financial Report",frequency:"Quarterly",nextDue:"2024-04-30"},{id:5,name:"Annual License Renewal",frequency:"Annually",nextDue:"2024-12-31"}];function V1e(){const[e,r]=x.useState(""),[n,s]=x.useState("all"),[a,i]=x.useState("all"),[o,l]=x.useState(!1);x.useState(null);const{toast:c}=Tt(),d=[...new Set(uc.map(j=>j.reportType))],u=uc.filter(j=>{const C=j.reportType.toLowerCase().includes(e.toLowerCase())||j.reportPeriod.toLowerCase().includes(e.toLowerCase()),S=n==="all"||j.status===n,N=a==="all"||j.reportType===a;return C&&S&&N}),m=j=>{const C={submitted:{variant:"default",label:"Submitted",icon:ut},draft:{variant:"outline",label:"Draft",icon:$t},overdue:{variant:"destructive",label:"Overdue",icon:tr},under_review:{variant:"secondary",label:"Under Review",icon:Ut}},S=C[j]||C.draft,N=S.icon;return t.jsxs(re,{variant:S.variant,className:"flex items-center gap-1",children:[t.jsx(N,{size:12}),S.label]})},h=j=>{const C={compliant:"default",non_compliant:"destructive",pending:"outline"};return t.jsx(re,{variant:C[j],children:j.replace("_"," ")})},p=()=>{c({title:"Report Submitted",description:"Report has been submitted to DDA successfully."}),l(!1)},g=j=>{c({title:"File Uploaded",description:`File uploaded for report ${j}`})},f=uc.length,v=uc.filter(j=>j.status==="submitted").length,b=uc.filter(j=>j.status==="overdue").length,y=uc.filter(j=>j.status==="draft").length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"DDA Reporting System"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage Department of Drug Administration reports and submissions"})]}),t.jsxs(rt,{open:o,onOpenChange:l,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Create New Report"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Create New Report"}),t.jsx(Pt,{children:"Generate a new report for DDA submission"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"reportType",children:"Report Type"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select report type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"monthly_sales",children:"Monthly Drug Sales Report"}),t.jsx(I,{value:"narcotic_register",children:"Narcotic Drug Register"}),t.jsx(I,{value:"adr_report",children:"Adverse Drug Reaction Report"}),t.jsx(I,{value:"financial_report",children:"Quarterly Financial Report"}),t.jsx(I,{value:"import_declaration",children:"Drug Import Declaration"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"reportPeriod",children:"Reporting Period"}),t.jsx(J,{placeholder:"e.g., January 2024"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"submissionDeadline",children:"Submission Deadline"}),t.jsx(J,{type:"date"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"format",children:"Report Format"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select format"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"pdf",children:"PDF Document"}),t.jsx(I,{value:"excel",children:"Excel Spreadsheet"}),t.jsx(I,{value:"word",children:"Word Document"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"sections",children:"Report Sections (comma-separated)"}),t.jsx(Vt,{placeholder:"e.g., Sales data, Inventory summary, Compliance status"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"notes",children:"Additional Notes"}),t.jsx(Vt,{placeholder:"Any special instructions or notes for this report..."})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>l(!1),children:"Save as Draft"}),t.jsx(k,{onClick:p,children:"Create Report"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx($t,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:f}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Reports"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ut,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:v}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Submitted"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(tr,{className:"h-8 w-8 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:b}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Overdue"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-8 w-8 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:y}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"In Draft"})]})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(Rt,{className:"mr-2 text-blue-600",size:20}),"Upcoming Report Deadlines"]})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-3",children:U1e.map(j=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:j.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.frequency," • Next due: ",j.nextDue]})]}),t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(zt,{size:12,className:"mr-1"}),"Create"]})]},j.id))})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(yt,{className:"mr-2 text-green-600",size:20}),"Compliance Summary"]})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:"85%"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"On-time Submissions"})]}),t.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"12"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Reports This Year"})]})]}),t.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[t.jsx("p",{className:"text-lg font-bold text-orange-600",children:"Next Deadline: 5 days"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Narcotic Drug Register"})]})]})})]})]}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search reports...",value:e,onChange:j=>r(j.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Statuses"}),t.jsx(I,{value:"submitted",children:"Submitted"}),t.jsx(I,{value:"draft",children:"Draft"}),t.jsx(I,{value:"overdue",children:"Overdue"}),t.jsx(I,{value:"under_review",children:"Under Review"})]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Types"}),d.map(j=>t.jsx(I,{value:j,children:j},j))]})]}),t.jsxs(k,{variant:"outline",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Summary"]})]})})}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{children:["DDA Reports (",u.length,")"]})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Report Details"}),t.jsx(K,{children:"Period & Deadline"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Compliance"}),t.jsx(K,{children:"Submission Info"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:u.map(j=>t.jsxs(Ie,{className:j.status==="overdue"?"bg-red-50":"",children:[t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:j.reportType}),t.jsx("p",{className:"text-sm text-muted-foreground",children:j.id}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.sections.length," sections"]})]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm",children:["Period: ",j.reportPeriod]}),t.jsxs("p",{className:"text-sm",children:["Due: ",j.submissionDeadline]}),j.submissionDate&&t.jsxs("p",{className:"text-xs text-green-600",children:["Submitted: ",j.submissionDate]})]})}),t.jsx(W,{children:m(j.status)}),t.jsx(W,{children:h(j.compliance)}),t.jsx(W,{children:t.jsxs("div",{children:[j.submittedBy&&t.jsxs("p",{className:"text-sm",children:["By: ",j.submittedBy]}),j.fileSize&&t.jsxs("p",{className:"text-sm",children:["Size: ",j.fileSize]}),j.format&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Format: ",j.format]})]})}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(xt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsx(st,{children:t.jsxs(at,{children:["Report Details - ",j.reportType]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Report ID"}),t.jsx("p",{className:"font-medium",children:j.id})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Report Period"}),t.jsx("p",{children:j.reportPeriod})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Submission Deadline"}),t.jsx("p",{children:j.submissionDeadline})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Status"}),t.jsx("div",{className:"mt-1",children:m(j.status)})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Report Sections"}),t.jsx("ul",{className:"list-disc list-inside text-sm mt-1",children:j.sections.map((C,S)=>t.jsx("li",{children:C},S))})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Feedback / Notes"}),t.jsx("p",{className:"text-sm bg-muted p-3 rounded",children:j.feedback})]})]})]})]}),j.status==="draft"&&t.jsxs(k,{size:"sm",onClick:()=>g(j.id),children:[t.jsx(kh,{size:12,className:"mr-1"}),"Upload"]}),j.status==="submitted"&&t.jsx(k,{size:"sm",variant:"outline",children:t.jsx(bt,{size:12})})]})})]},j.id))})]})})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(Ps,{className:"mr-2 text-blue-600",size:20}),"DDA Contact Information"]})}),t.jsx(E,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Drug Administration Department"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Babarmahal, Kathmandu",t.jsx("br",{}),"Phone: +977-1-4428763",t.jsx("br",{}),"Email: info@dda.gov.np"]})]}),t.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Online Submission Portal"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Submit reports electronically",t.jsx("br",{}),"24/7 online access",t.jsx("br",{}),"Real-time status tracking"]})]}),t.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Support Helpline"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Technical Support: +977-1-4428764",t.jsx("br",{}),"Working Hours: 10 AM - 5 PM",t.jsx("br",{}),"Sunday to Friday"]})]})]})})]})]})}const Yo=[{id:"INS-001",inspectionType:"Routine Inspection",inspectorName:"Dr. Krishna Bahadur",inspectorId:"DDA-INS-001",inspectionDate:"2024-01-15",scheduledDate:"2024-01-15",duration:"4 hours",status:"completed",result:"passed",score:92,maxScore:100,department:"Department of Drug Administration",license:"DDA/P/2023/001",location:"Main Pharmacy",checklist:[{item:"License Display",status:"compliant",notes:"License properly displayed"},{item:"Drug Storage",status:"compliant",notes:"Temperature controlled storage maintained"},{item:"Record Keeping",status:"minor_issue",notes:"Some records missing dates"},{item:"Staff Qualification",status:"compliant",notes:"All staff properly qualified"},{item:"Prescription Handling",status:"compliant",notes:"Proper procedures followed"}],violations:[{type:"Minor",description:"Some prescription records missing complete dates",penalty:1e3}],recommendations:["Ensure all prescription records include complete date and time","Consider digital record keeping system","Update staff training on documentation"],followUpRequired:!0,followUpDate:"2024-02-15",certificate:"INS-CERT-001.pdf",inspectorContact:"+977-1-4428763"},{id:"INS-002",inspectionType:"Narcotic License Inspection",inspectorName:"Dr. Sita Devi Sharma",inspectorId:"DDA-INS-002",inspectionDate:"2024-01-10",scheduledDate:"2024-01-10",duration:"6 hours",status:"completed",result:"conditional_pass",score:78,maxScore:100,department:"Department of Drug Administration",license:"DDA/NAR/2023/003",location:"Narcotic Storage Area",checklist:[{item:"Narcotic Storage Security",status:"compliant",notes:"Double lock system in place"},{item:"Stock Register",status:"major_issue",notes:"Discrepancies in stock balance"},{item:"Disposal Records",status:"compliant",notes:"Proper disposal documentation"},{item:"Staff Authorization",status:"minor_issue",notes:"One staff member certification expired"},{item:"Access Control",status:"compliant",notes:"Restricted access properly maintained"}],violations:[{type:"Major",description:"Stock register shows discrepancy of 50 tablets",penalty:15e3},{type:"Minor",description:"Staff certification not updated",penalty:2e3}],recommendations:["Conduct immediate stock audit","Implement daily stock verification","Update staff certifications within 30 days","Install CCTV in narcotic storage area"],followUpRequired:!0,followUpDate:"2024-02-10",certificate:null,inspectorContact:"+977-1-4428763"},{id:"INS-003",inspectionType:"Surprise Inspection",inspectorName:"Dr. Ram Krishna Poudel",inspectorId:"DDA-INS-003",inspectionDate:"2024-01-05",scheduledDate:null,duration:"3 hours",status:"completed",result:"passed",score:88,maxScore:100,department:"Department of Drug Administration",license:"DDA/P/2023/001",location:"Main Pharmacy",checklist:[{item:"Emergency Procedures",status:"compliant",notes:"Emergency contacts displayed"},{item:"Customer Service",status:"compliant",notes:"Good customer interaction observed"},{item:"Inventory Management",status:"minor_issue",notes:"Some expired items found on shelf"},{item:"Prescription Verification",status:"compliant",notes:"Proper verification process"},{item:"Hygiene Standards",status:"compliant",notes:"Clean and hygienic environment"}],violations:[{type:"Minor",description:"3 expired OTC medicines found on display",penalty:3e3}],recommendations:["Implement daily expiry check routine","Use inventory management software with expiry alerts","Train staff on regular shelf inspection"],followUpRequired:!1,followUpDate:null,certificate:"INS-CERT-003.pdf",inspectorContact:"+977-1-4428763"},{id:"INS-004",inspectionType:"License Renewal Inspection",inspectorName:"Dr. Maya Gurung",inspectorId:"DDA-INS-004",inspectionDate:"2024-02-01",scheduledDate:"2024-02-01",duration:"5 hours",status:"pending",result:"pending",score:null,maxScore:100,department:"Department of Drug Administration",license:"DDA/P/2023/001",location:"Main Pharmacy",checklist:[],violations:[],recommendations:[],followUpRequired:!1,followUpDate:null,certificate:null,inspectorContact:"+977-1-4428763"}];function q1e(){const[e,r]=x.useState(""),[n,s]=x.useState("all"),[a,i]=x.useState("all"),[o,l]=x.useState(!1),[c,d]=x.useState(null),{toast:u}=Tt(),m=[...new Set(Yo.map(N=>N.inspectionType))],h=Yo.filter(N=>{const P=N.inspectionType.toLowerCase().includes(e.toLowerCase())||N.inspectorName.toLowerCase().includes(e.toLowerCase())||N.license.toLowerCase().includes(e.toLowerCase()),_=n==="all"||N.status===n,w=a==="all"||N.inspectionType===a;return P&&_&&w}),p=N=>{const P={completed:{variant:"default",label:"Completed",icon:ut},pending:{variant:"outline",label:"Pending",icon:Ut},scheduled:{variant:"secondary",label:"Scheduled",icon:Rt},cancelled:{variant:"destructive",label:"Cancelled",icon:tr}},_=P[N]||P.pending,w=_.icon;return t.jsxs(re,{variant:_.variant,className:"flex items-center gap-1",children:[t.jsx(w,{size:12}),_.label]})},g=N=>{const P={passed:{variant:"default",label:"Passed",color:"text-green-600"},conditional_pass:{variant:"secondary",label:"Conditional Pass",color:"text-orange-600"},failed:{variant:"destructive",label:"Failed",color:"text-red-600"},pending:{variant:"outline",label:"Pending",color:"text-gray-600"}},_=P[N]||P.pending;return t.jsx(re,{variant:_.variant,children:_.label})},f=N=>({compliant:"text-green-600",minor_issue:"text-orange-600",major_issue:"text-red-600"})[N]||"text-gray-600",v=()=>{u({title:"Inspection Scheduled",description:"Inspection has been scheduled successfully."}),l(!1)},b=(N,P)=>{u({title:"Document Downloaded",description:`Downloaded ${P} for inspection ${N}`})},y=Yo.length,j=Yo.filter(N=>N.result==="passed").length,C=Yo.filter(N=>N.status==="pending").length,S=Yo.filter(N=>N.score).reduce((N,P)=>N+P.score,0)/Yo.filter(N=>N.score).length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Inspection Records"}),t.jsx("p",{className:"text-muted-foreground",children:"Track DDA inspections, compliance status, and follow-up actions"})]}),t.jsxs(rt,{open:o,onOpenChange:l,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Schedule Inspection"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Schedule New Inspection"}),t.jsx(Pt,{children:"Request or schedule an inspection with DDA"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"inspectionType",children:"Inspection Type"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"routine",children:"Routine Inspection"}),t.jsx(I,{value:"renewal",children:"License Renewal Inspection"}),t.jsx(I,{value:"narcotic",children:"Narcotic License Inspection"}),t.jsx(I,{value:"complaint",children:"Complaint Investigation"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"preferredDate",children:"Preferred Date"}),t.jsx(J,{type:"date"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"license",children:"Related License"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select license"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"DDA/P/2023/001",children:"Pharmacy Operating License"}),t.jsx(I,{value:"DDA/NAR/2023/003",children:"Narcotic License"}),t.jsx(I,{value:"DDA/DS/2023/002",children:"Drug Store License"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"location",children:"Inspection Location"}),t.jsx(J,{placeholder:"Main Pharmacy, Branch, etc."})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"reason",children:"Reason / Purpose"}),t.jsx(Vt,{placeholder:"Describe the reason for this inspection..."})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"preparation",children:"Preparation Notes"}),t.jsx(Vt,{placeholder:"Documents to prepare, areas to focus on, etc."})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),t.jsx(k,{onClick:v,children:"Schedule Inspection"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ps,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:y}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Inspections"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ut,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:j}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Passed Inspections"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-8 w-8 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:C}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Inspections"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(On,{className:"h-8 w-8 text-yellow-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:[S.toFixed(1),"%"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Score"})]})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search inspections...",value:e,onChange:N=>r(N.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Statuses"}),t.jsx(I,{value:"completed",children:"Completed"}),t.jsx(I,{value:"pending",children:"Pending"}),t.jsx(I,{value:"scheduled",children:"Scheduled"}),t.jsx(I,{value:"cancelled",children:"Cancelled"})]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Types"}),m.map(N=>t.jsx(I,{value:N,children:N},N))]})]}),t.jsxs(k,{variant:"outline",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Records"]})]})})}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{children:["Inspection Records (",h.length,")"]})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Inspection Details"}),t.jsx(K,{children:"Inspector"}),t.jsx(K,{children:"Date & Duration"}),t.jsx(K,{children:"Status & Result"}),t.jsx(K,{children:"Score"}),t.jsx(K,{children:"Follow-up"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:h.map(N=>t.jsxs(Ie,{children:[t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:N.inspectionType}),t.jsx("p",{className:"text-sm text-muted-foreground",children:N.license}),t.jsx("p",{className:"text-xs text-muted-foreground",children:N.location})]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:N.inspectorName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:N.inspectorId}),t.jsx("p",{className:"text-xs text-muted-foreground",children:N.department})]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm",children:["Date: ",N.inspectionDate]}),N.scheduledDate&&N.scheduledDate!==N.inspectionDate&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Scheduled: ",N.scheduledDate]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Duration: ",N.duration]})]})}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-1",children:[p(N.status),N.result!=="pending"&&g(N.result)]})}),t.jsx(W,{children:N.score?t.jsxs("div",{children:[t.jsxs("p",{className:`font-bold ${N.score>=90?"text-green-600":N.score>=75?"text-orange-600":"text-red-600"}`,children:[N.score,"%"]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",N.maxScore]})]}):t.jsx("span",{className:"text-muted-foreground",children:"-"})}),t.jsx(W,{children:N.followUpRequired?t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Required"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:N.followUpDate})]}):t.jsx("span",{className:"text-muted-foreground",children:"None"})}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{size:"sm",variant:"outline",onClick:()=>d(N),children:[t.jsx(xt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(st,{children:t.jsxs(at,{children:["Inspection Report - ",c==null?void 0:c.inspectionType]})}),c&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Inspection ID"}),t.jsx("p",{className:"font-medium",children:c.id})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Inspector"}),t.jsx("p",{children:c.inspectorName})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Date"}),t.jsx("p",{children:c.inspectionDate})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Duration"}),t.jsx("p",{children:c.duration})]})]}),c.checklist.length>0&&t.jsxs("div",{children:[t.jsx(M,{children:"Inspection Checklist"}),t.jsx("div",{className:"mt-2 space-y-2",children:c.checklist.map((P,_)=>t.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[t.jsx("span",{className:"font-medium",children:P.item}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:`text-sm ${f(P.status)}`,children:P.status.replace("_"," ")})})]},_))})]}),c.violations.length>0&&t.jsxs("div",{children:[t.jsx(M,{children:"Violations Found"}),t.jsx("div",{className:"mt-2 space-y-2",children:c.violations.map((P,_)=>t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx(re,{variant:"destructive",className:"mb-2",children:P.type}),t.jsx("p",{className:"text-sm",children:P.description})]}),t.jsxs("span",{className:"font-medium",children:["NPR ",P.penalty]})]})},_))})]}),c.recommendations.length>0&&t.jsxs("div",{children:[t.jsx(M,{children:"Recommendations"}),t.jsx("ul",{className:"list-disc list-inside text-sm mt-2 space-y-1",children:c.recommendations.map((P,_)=>t.jsx("li",{children:P},_))})]}),t.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Inspector Contact"}),t.jsx("p",{className:"text-sm",children:c.inspectorContact})]})]})]})]}),N.certificate&&t.jsx(k,{size:"sm",variant:"outline",onClick:()=>b(N.id,N.certificate),children:t.jsx(bt,{size:12})})]})})]},N.id))})]})})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(it,{className:"mr-2 text-blue-600",size:20}),"DDA Inspector Directory"]})}),t.jsx(E,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Dr. Krishna Bahadur"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Senior Inspector - General Pharmacy",t.jsx("br",{}),"ID: DDA-INS-001",t.jsx("br",{}),"Phone: +977-1-4428763"]})]}),t.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Dr. Sita Devi Sharma"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Specialist - Narcotic Control",t.jsx("br",{}),"ID: DDA-INS-002",t.jsx("br",{}),"Phone: +977-1-4428763"]})]}),t.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Dr. Ram Krishna Poudel"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Inspector - Quality Assurance",t.jsx("br",{}),"ID: DDA-INS-003",t.jsx("br",{}),"Phone: +977-1-4428763"]})]})]})})]})]})}const mc=[{id:"REG-001",registerName:"Narcotic and Psychotropic Drugs Register",registerType:"Narcotic Control",startDate:"2024-01-01",currentPage:45,totalPages:200,lastEntry:"2024-01-15",responsible:"Dr. Ram Sharma",location:"Main Pharmacy - Secure Storage",status:"active",regulatoryRef:"DDA Regulation 2023, Section 15",nextAudit:"2024-02-01",totalEntries:1247,pendingEntries:3,entries:[{date:"2024-01-15",time:"14:30",drug:"Morphine 10mg",batch:"MOR001",type:"Sale",quantity:10,balance:45,prescriptionNo:"RX-2024-001",customerName:"Patient ABC"},{date:"2024-01-14",time:"10:15",drug:"Codeine 30mg",batch:"COD002",type:"Purchase",quantity:100,balance:200,prescriptionNo:"PO-2024-001",customerName:"Supplier XYZ"},{date:"2024-01-13",time:"16:45",drug:"Tramadol 50mg",batch:"TRA003",type:"Sale",quantity:20,balance:180,prescriptionNo:"RX-2024-002",customerName:"Patient DEF"}]},{id:"REG-002",registerName:"Prescription Drug Register",registerType:"Prescription Tracking",startDate:"2024-01-01",currentPage:120,totalPages:500,lastEntry:"2024-01-15",responsible:"Dr. Sita Gurung",location:"Main Pharmacy - Reception",status:"active",regulatoryRef:"DDA Regulation 2023, Section 12",nextAudit:"2024-03-01",totalEntries:3456,pendingEntries:0,entries:[{date:"2024-01-15",time:"15:20",drug:"Amoxicillin 500mg",batch:"AMX001",type:"Sale",quantity:21,balance:150,prescriptionNo:"RX-2024-003",customerName:"Patient GHI"},{date:"2024-01-15",time:"11:30",drug:"Insulin Pen",batch:"INS002",type:"Sale",quantity:2,balance:25,prescriptionNo:"RX-2024-004",customerName:"Patient JKL"},{date:"2024-01-14",time:"09:45",drug:"Lisinopril 10mg",batch:"LIS003",type:"Sale",quantity:30,balance:120,prescriptionNo:"RX-2024-005",customerName:"Patient MNO"}]},{id:"REG-003",registerName:"Purchase and Procurement Register",registerType:"Inventory Control",startDate:"2024-01-01",currentPage:25,totalPages:100,lastEntry:"2024-01-12",responsible:"Purchase Manager",location:"Administrative Office",status:"active",regulatoryRef:"DDA Regulation 2023, Section 8",nextAudit:"2024-04-01",totalEntries:245,pendingEntries:1,entries:[{date:"2024-01-12",time:"10:00",drug:"Paracetamol 500mg",batch:"PAR001",type:"Purchase",quantity:1e3,balance:1500,prescriptionNo:"PO-2024-002",customerName:"MediCorp Nepal"},{date:"2024-01-10",time:"14:30",drug:"Cetirizine 10mg",batch:"CET002",type:"Purchase",quantity:500,balance:750,prescriptionNo:"PO-2024-003",customerName:"PharmaCo Ltd"},{date:"2024-01-08",time:"11:15",drug:"Vitamin D3 1000IU",batch:"VIT003",type:"Purchase",quantity:200,balance:300,prescriptionNo:"PO-2024-004",customerName:"HealthPlus Supply"}]},{id:"REG-004",registerName:"Disposal and Destruction Register",registerType:"Waste Management",startDate:"2024-01-01",currentPage:8,totalPages:50,lastEntry:"2024-01-10",responsible:"Quality Manager",location:"Quality Control Department",status:"active",regulatoryRef:"DDA Regulation 2023, Section 20",nextAudit:"2024-06-01",totalEntries:67,pendingEntries:2,entries:[{date:"2024-01-10",time:"13:00",drug:"Expired Aspirin 325mg",batch:"ASP001",type:"Disposal",quantity:50,balance:0,prescriptionNo:"DISP-2024-001",customerName:"Authorized Disposal Co."},{date:"2024-01-05",time:"15:30",drug:"Damaged Cough Syrup",batch:"COU002",type:"Disposal",quantity:12,balance:0,prescriptionNo:"DISP-2024-002",customerName:"Authorized Disposal Co."}]},{id:"REG-005",registerName:"Adverse Drug Reaction Register",registerType:"Safety Monitoring",startDate:"2024-01-01",currentPage:5,totalPages:25,lastEntry:"2024-01-08",responsible:"Pharmacovigilance Officer",location:"Clinical Department",status:"active",regulatoryRef:"DDA Regulation 2023, Section 25",nextAudit:"2024-05-01",totalEntries:23,pendingEntries:1,entries:[{date:"2024-01-08",time:"16:20",drug:"Ibuprofen 400mg",batch:"IBU001",type:"ADR Report",quantity:1,balance:0,prescriptionNo:"ADR-2024-001",customerName:"Patient ABC - Skin Rash"},{date:"2024-01-03",time:"11:45",drug:"Amoxicillin 250mg",batch:"AMX002",type:"ADR Report",quantity:1,balance:0,prescriptionNo:"ADR-2024-002",customerName:"Patient DEF - Nausea"}]}];function W1e(){const[e,r]=x.useState(""),[n,s]=x.useState("all"),[a,i]=x.useState("all"),[o,l]=x.useState(!1),[c,d]=x.useState(!1),[u,m]=x.useState(null),{toast:h}=Tt(),p=[...new Set(mc.map(w=>w.registerType))],g=mc.filter(w=>{const A=w.registerName.toLowerCase().includes(e.toLowerCase())||w.registerType.toLowerCase().includes(e.toLowerCase())||w.responsible.toLowerCase().includes(e.toLowerCase()),D=n==="all"||w.registerType===n,O=a==="all"||w.status===a;return A&&D&&O}),f=w=>{const A={active:{variant:"default",label:"Active",icon:ut},closed:{variant:"secondary",label:"Closed",icon:$t},archived:{variant:"outline",label:"Archived",icon:iP},pending:{variant:"destructive",label:"Pending Review",icon:tr}},D=A[w]||A.active,O=D.icon;return t.jsxs(re,{variant:D.variant,className:"flex items-center gap-1",children:[t.jsx(O,{size:12}),D.label]})},v=(w,A)=>Math.round(w/A*100),b=w=>w<50?"text-green-600":w<80?"text-orange-600":"text-red-600",y=()=>{h({title:"Register Created",description:"New drug register has been created successfully."}),l(!1)},j=()=>{h({title:"Entry Added",description:"New entry has been added to the register."}),d(!1)},C=w=>{h({title:"Export Started",description:`Exporting register ${w} to PDF format.`})},S=mc.length,N=mc.filter(w=>w.status==="active").length,P=mc.reduce((w,A)=>w+A.totalEntries,0),_=mc.reduce((w,A)=>w+A.pendingEntries,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Drug Registers"}),t.jsx("p",{className:"text-muted-foreground",children:"Maintain mandatory drug registers as per DDA regulations"})]}),t.jsxs(rt,{open:o,onOpenChange:l,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Create New Register"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Create New Drug Register"}),t.jsx(Pt,{children:"Set up a new drug register for regulatory compliance"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"registerName",children:"Register Name"}),t.jsx(J,{placeholder:"Enter register name"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"registerType",children:"Register Type"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"narcotic",children:"Narcotic Control"}),t.jsx(I,{value:"prescription",children:"Prescription Tracking"}),t.jsx(I,{value:"inventory",children:"Inventory Control"}),t.jsx(I,{value:"disposal",children:"Waste Management"}),t.jsx(I,{value:"safety",children:"Safety Monitoring"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"responsible",children:"Responsible Person"}),t.jsx(J,{placeholder:"Name of responsible pharmacist"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"location",children:"Physical Location"}),t.jsx(J,{placeholder:"Storage location of register"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"startDate",children:"Start Date"}),t.jsx(J,{type:"date"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"totalPages",children:"Total Pages"}),t.jsx(J,{type:"number",placeholder:"Number of pages in register"})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"regulatoryRef",children:"Regulatory Reference"}),t.jsx(J,{placeholder:"DDA Regulation reference"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"notes",children:"Additional Notes"}),t.jsx(Vt,{placeholder:"Any additional notes or requirements..."})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),t.jsx(k,{onClick:y,children:"Create Register"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(iP,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:S}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Registers"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ut,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:N}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Registers"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx($t,{className:"h-8 w-8 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:P.toLocaleString()}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Entries"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-8 w-8 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:_}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Entries"})]})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search registers...",value:e,onChange:w=>r(w.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Types"}),p.map(w=>t.jsx(I,{value:w,children:w},w))]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Statuses"}),t.jsx(I,{value:"active",children:"Active"}),t.jsx(I,{value:"closed",children:"Closed"}),t.jsx(I,{value:"archived",children:"Archived"})]})]}),t.jsxs(k,{variant:"outline",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export All"]})]})})}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{children:["Drug Registers (",g.length,")"]})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Register Details"}),t.jsx(K,{children:"Responsible Person"}),t.jsx(K,{children:"Usage Status"}),t.jsx(K,{children:"Last Activity"}),t.jsx(K,{children:"Compliance"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:g.map(w=>{const A=v(w.currentPage,w.totalPages);return t.jsxs(Ie,{children:[t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:w.registerName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:w.registerType}),t.jsx("p",{className:"text-xs text-muted-foreground",children:w.id})]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:w.responsible}),t.jsx("p",{className:"text-sm text-muted-foreground",children:w.location})]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm",children:["Page ",w.currentPage," of ",w.totalPages]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:t.jsx("div",{className:`h-2 rounded-full ${A>=80?"bg-red-600":A>=50?"bg-orange-600":"bg-green-600"}`,style:{width:`${A}%`}})}),t.jsxs("p",{className:`text-xs font-medium ${b(A)}`,children:[A,"% used"]})]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm",children:["Last Entry: ",w.lastEntry]}),t.jsxs("p",{className:"text-sm",children:["Entries: ",w.totalEntries]}),w.pendingEntries>0&&t.jsxs("p",{className:"text-xs text-orange-600",children:[w.pendingEntries," pending"]})]})}),t.jsx(W,{children:t.jsxs("div",{children:[f(w.status),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Next audit: ",w.nextAudit]})]})}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{size:"sm",variant:"outline",onClick:()=>m(w),children:[t.jsx(xt,{size:12,className:"mr-1"}),"View"]})}),t.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(st,{children:t.jsx(at,{children:u==null?void 0:u.registerName})}),u&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Register ID"}),t.jsx("p",{className:"font-medium",children:u.id})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Type"}),t.jsx("p",{children:u.registerType})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Responsible Person"}),t.jsx("p",{children:u.responsible})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Location"}),t.jsx("p",{children:u.location})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Start Date"}),t.jsx("p",{children:u.startDate})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Status"}),t.jsx("div",{className:"mt-1",children:f(u.status)})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Recent Entries"}),t.jsx("div",{className:"mt-2",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Date/Time"}),t.jsx(K,{children:"Drug"}),t.jsx(K,{children:"Type"}),t.jsx(K,{children:"Quantity"}),t.jsx(K,{children:"Balance"}),t.jsx(K,{children:"Reference"})]})}),t.jsx(At,{children:u.entries.map((D,O)=>t.jsxs(Ie,{children:[t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:D.date}),t.jsx("p",{className:"text-xs text-muted-foreground",children:D.time})]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:D.drug}),t.jsx("p",{className:"text-xs text-muted-foreground",children:D.batch})]})}),t.jsx(W,{children:t.jsx(re,{variant:D.type==="Sale"?"default":"secondary",children:D.type})}),t.jsx(W,{children:D.quantity}),t.jsx(W,{children:D.balance}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("p",{className:"text-xs",children:D.prescriptionNo}),t.jsx("p",{className:"text-xs text-muted-foreground",children:D.customerName})]})})]},O))})]})})]}),t.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-2",children:"Regulatory Compliance"}),t.jsx("p",{className:"text-sm",children:u.regulatoryRef}),t.jsxs("p",{className:"text-sm mt-1",children:["Next audit scheduled: ",u.nextAudit]})]})]})]})]}),t.jsxs(rt,{open:c,onOpenChange:d,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{size:"sm",onClick:()=>m(w),children:[t.jsx(zt,{size:12,className:"mr-1"}),"Add Entry"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Entry"}),t.jsxs(Pt,{children:["Add a new entry to ",u==null?void 0:u.registerName]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"entryDate",children:"Date"}),t.jsx(J,{type:"date",defaultValue:new Date().toISOString().split("T")[0]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"entryTime",children:"Time"}),t.jsx(J,{type:"time",defaultValue:new Date().toTimeString().split(" ")[0].substring(0,5)})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"drugName",children:"Drug Name"}),t.jsx(J,{placeholder:"Enter drug name"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"batchNumber",children:"Batch Number"}),t.jsx(J,{placeholder:"Enter batch number"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"transactionType",children:"Type"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"purchase",children:"Purchase"}),t.jsx(I,{value:"sale",children:"Sale"}),t.jsx(I,{value:"disposal",children:"Disposal"}),t.jsx(I,{value:"transfer",children:"Transfer"}),t.jsx(I,{value:"return",children:"Return"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"quantity",children:"Quantity"}),t.jsx(J,{type:"number",placeholder:"Enter quantity"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"balance",children:"Current Balance"}),t.jsx(J,{type:"number",placeholder:"Current stock balance"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"referenceNo",children:"Reference Number"}),t.jsx(J,{placeholder:"Prescription/Invoice/PO number"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"customerName",children:"Customer/Supplier"}),t.jsx(J,{placeholder:"Name of customer or supplier"})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"remarks",children:"Remarks"}),t.jsx(Vt,{placeholder:"Additional notes or remarks..."})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),t.jsx(k,{onClick:j,children:"Add Entry"})]})]})]}),t.jsx(k,{size:"sm",variant:"outline",onClick:()=>C(w.id),children:t.jsx(bt,{size:12})})]})})]},w.id)})})]})})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center",children:[t.jsx(Ps,{className:"mr-2 text-blue-600",size:20}),"DDA Register Requirements"]})}),t.jsx(E,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-3",children:"Mandatory Registers"}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(ut,{size:16,className:"text-green-600"}),"Narcotic and Psychotropic Drugs Register"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(ut,{size:16,className:"text-green-600"}),"Prescription Drug Register"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(ut,{size:16,className:"text-green-600"}),"Purchase and Procurement Register"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(ut,{size:16,className:"text-green-600"}),"Disposal and Destruction Register"]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(ut,{size:16,className:"text-green-600"}),"Adverse Drug Reaction Register"]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium mb-3",children:"Compliance Guidelines"}),t.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[t.jsx("li",{children:"• All entries must be made in chronological order"}),t.jsx("li",{children:"• No blank pages or lines should be left"}),t.jsx("li",{children:"• Corrections should be made with single line strike-through"}),t.jsx("li",{children:"• Pages must be numbered and bound"}),t.jsx("li",{children:"• Registers must be available for inspection at all times"}),t.jsx("li",{children:"• Digital backups should be maintained where applicable"}),t.jsx("li",{children:"• Responsible pharmacist must sign each page"})]})]})]})})]})]})}const Uu=[{id:1,type:"Transport",amount:2500,date:"2024-01-15",description:"Medicine delivery to branch",status:"approved",pharmacy:"Main Store",receipt:"RCP001.jpg",approvedBy:"Manager"},{id:2,type:"Utilities",amount:15e3,date:"2024-01-14",description:"Monthly electricity bill",status:"pending",pharmacy:"Main Store",receipt:"RCP002.pdf",approvedBy:null},{id:3,type:"Maintenance",amount:8500,date:"2024-01-13",description:"AC repair and servicing",status:"approved",pharmacy:"Branch 2",receipt:"RCP003.jpg",approvedBy:"Owner"},{id:4,type:"Equipment",amount:45e3,date:"2024-01-12",description:"New pharmacy scales",status:"rejected",pharmacy:"Branch 1",receipt:"RCP004.pdf",approvedBy:"Manager"},{id:5,type:"Staff",amount:3e3,date:"2024-01-11",description:"Staff training program",status:"pending",pharmacy:"Main Store",receipt:null,approvedBy:null}],wE=["Transport","Utilities","Maintenance","Storage","Equipment","Staff","Marketing","Insurance","Legal","Other"];function H1e(){const[e,r]=x.useState(""),[n,s]=x.useState("all"),[a,i]=x.useState("all"),[o,l]=x.useState(!1),[c,d]=x.useState({type:"",amount:"",description:"",pharmacy:"Main Store"}),{toast:u}=Tt(),m=Uu.filter(y=>{const j=y.description.toLowerCase().includes(e.toLowerCase())||y.type.toLowerCase().includes(e.toLowerCase()),C=n==="all"||y.status===n,S=a==="all"||y.type===a;return j&&C&&S}),h=y=>{switch(y){case"approved":return t.jsxs(re,{variant:"default",className:"bg-green-100 text-green-800",children:[t.jsx(ut,{size:12,className:"mr-1"}),"Approved"]});case"pending":return t.jsxs(re,{variant:"secondary",children:[t.jsx(Ut,{size:12,className:"mr-1"}),"Pending"]});case"rejected":return t.jsxs(re,{variant:"destructive",children:[t.jsx(va,{size:12,className:"mr-1"}),"Rejected"]});default:return t.jsx(re,{variant:"outline",children:y})}},p=()=>{if(!c.type||!c.amount||!c.description){u({title:"Error",description:"Please fill all required fields",variant:"destructive"});return}u({title:"Expense Added",description:"New expense has been submitted for approval"}),d({type:"",amount:"",description:"",pharmacy:"Main Store"}),l(!1)},g=Uu.reduce((y,j)=>y+j.amount,0),f=Uu.filter(y=>y.status==="approved").reduce((y,j)=>y+j.amount,0),v=Uu.filter(y=>y.status==="pending").length,b=Uu.filter(y=>y.date.startsWith("2024-01")).reduce((y,j)=>y+j.amount,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Expense Tracking"}),t.jsxs(rt,{open:o,onOpenChange:l,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{size:20,className:"mr-2"}),"Add Expense"]})}),t.jsxs(nt,{children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Expense"}),t.jsx(Pt,{children:"Submit a new expense for approval"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"expenseType",children:"Expense Category"}),t.jsxs(_e,{value:c.type,onValueChange:y=>d({...c,type:y}),children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select category"})}),t.jsx(Ce,{children:wE.map(y=>t.jsx(I,{value:y,children:y},y))})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"amount",children:"Amount (NPR)"}),t.jsx(J,{id:"amount",type:"number",placeholder:"Enter amount",value:c.amount,onChange:y=>d({...c,amount:y.target.value})})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"pharmacy",children:"Pharmacy"}),t.jsxs(_e,{value:c.pharmacy,onValueChange:y=>d({...c,pharmacy:y}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"Main Store",children:"Main Store"}),t.jsx(I,{value:"Branch 1",children:"Branch 1"}),t.jsx(I,{value:"Branch 2",children:"Branch 2"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"description",children:"Description"}),t.jsx(Vt,{id:"description",placeholder:"Enter expense description",value:c.description,onChange:y=>d({...c,description:y.target.value})})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),t.jsx(k,{onClick:p,children:"Submit Expense"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",g.toLocaleString()]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Expenses"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ut,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",f.toLocaleString()]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ut,{className:"h-8 w-8 text-yellow-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:v}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Approval"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Rt,{className:"h-8 w-8 text-purple-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",b.toLocaleString()]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"})]})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search expenses...",value:e,onChange:y=>r(y.target.value),className:"pl-10"})]})}),t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Status"}),t.jsx(I,{value:"pending",children:"Pending"}),t.jsx(I,{value:"approved",children:"Approved"}),t.jsx(I,{value:"rejected",children:"Rejected"})]})]}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by category"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Categories"}),wE.map(y=>t.jsx(I,{value:y,children:y},y))]})]})]})})}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{children:["Expense Records (",m.length,")"]})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Date"}),t.jsx(K,{children:"Category"}),t.jsx(K,{children:"Description"}),t.jsx(K,{children:"Amount"}),t.jsx(K,{children:"Pharmacy"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Receipt"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:m.map(y=>t.jsxs(Ie,{children:[t.jsx(W,{children:new Date(y.date).toLocaleDateString()}),t.jsx(W,{children:t.jsx(re,{variant:"outline",children:y.type})}),t.jsx(W,{className:"max-w-xs truncate",children:y.description}),t.jsxs(W,{className:"font-medium",children:["NPR ",y.amount.toLocaleString()]}),t.jsx(W,{children:y.pharmacy}),t.jsx(W,{children:h(y.status)}),t.jsx(W,{children:y.receipt?t.jsxs(k,{variant:"outline",size:"sm",children:[t.jsx($t,{size:12,className:"mr-1"}),"View"]}):t.jsx("span",{className:"text-muted-foreground text-xs",children:"No receipt"})}),t.jsx(W,{children:t.jsx("div",{className:"flex items-center gap-2",children:y.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(ut,{size:12,className:"mr-1"}),"Approve"]}),t.jsxs(k,{size:"sm",variant:"destructive",children:[t.jsx(va,{size:12,className:"mr-1"}),"Reject"]})]})})})]},y.id))})]})})})]})]})}const SE=["branch_manager","senior_pharmacist","pharmacist","pharmacy_technician","cashier","supplier_admin","sales_representative"];function K1e(){const[e,r]=x.useState([]),[n,s]=x.useState([]),[a,i]=x.useState("all"),[o,l]=x.useState(!0),[c,d]=x.useState(!1),[u,m]=x.useState(""),[h,p]=x.useState("all"),[g,f]=x.useState("all"),[v,b]=x.useState(!1),[y,j]=x.useState(null);x.useState(!1);const[C,S]=x.useState(!1),[N,P]=x.useState(!1),[_,w]=x.useState(!1),[A,D]=x.useState({first_name:"",last_name:"",email:"",username:"",password:"",password_confirm:"",role:"",phone:"",branch_id:""}),[O,$]=x.useState(!1),[U,V]=x.useState(!1),[R,X]=x.useState({new_password:"",confirm_password:""}),[z,F]=x.useState({}),[te,de]=x.useState(!1),[ie,fe]=x.useState([]),[ge,he]=x.useState([]),{toast:Te}=Tt(),Se=JSON.parse(localStorage.getItem("currentUser")||"{}"),Ue=Se==null?void 0:Se.organization_id;x.useEffect(()=>{be(),Z()},[]),x.useEffect(()=>{be()},[a]);const be=async()=>{try{l(!0),console.log("DEBUG: Loading users for organization:",Ue);const G={};a!=="all"&&(G.branch_id=a);const ue=await Mr.getUsers(G);console.log("DEBUG: Users API Response:",ue);let Le=[];ue.success&&ue.data?Le=ue.data:Array.isArray(ue)?Le=ue:(console.warn("Unexpected users API response format:",ue),Le=[]),console.log("DEBUG: All users from API:",Le);const We=Le.filter(St=>St.organization_id===Ue);console.log("DEBUG: Filtered users for organization",Ue,":",We),r(We)}catch(G){console.error("Failed to load users:",G),Te({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{l(!1)}},Z=async()=>{try{d(!0),console.log("DEBUG: Loading branches for organization:",Ue);const G=await vn.getBranches();console.log("DEBUG: Branches API Response:",G);let ue=[];G.success&&G.data?ue=G.data:Array.isArray(G)?ue=G:(console.warn("Unexpected branches API response format:",G),ue=[]);const Le=ue.filter(We=>We.organization===Ue);console.log("DEBUG: Filtered branches for organization",Ue,":",Le),s(Le)}catch(G){console.error("Failed to load branches:",G),Te({title:"Error",description:"Failed to load branches",variant:"destructive"})}finally{d(!1)}},xe=async()=>{try{const ue=await vn.createDefaultBranch();if(ue&&(ue.branch||ue.data))return console.log("DEBUG: Default branch created successfully"),await Z(),ue.branch||ue.data;throw new Error((ue==null?void 0:ue.error)||"Failed to create default branch")}catch(G){throw console.error("Failed to create default branch:",G),G}},oe=e.filter(G=>{const ue=`${G.first_name} ${G.last_name}`.toLowerCase().includes(u.toLowerCase())||G.email.toLowerCase().includes(u.toLowerCase()),Le=h==="all"||G.role===h,We=g==="all"||G.status===g;return ue&&Le&&We}),ze=G=>({branch_manager:"bg-blue-100 text-blue-800",senior_pharmacist:"bg-green-100 text-green-800",pharmacist:"bg-purple-100 text-purple-800",pharmacy_technician:"bg-yellow-100 text-yellow-800",cashier:"bg-orange-100 text-orange-800",supplier_admin:"bg-indigo-100 text-indigo-800",sales_representative:"bg-pink-100 text-pink-800"})[G]||"bg-gray-100 text-gray-800",Fe=async()=>{var ue,Le;if(!A.first_name||!A.last_name||!A.email||!A.username||!A.password||!A.role){Te({title:"Error",description:"Please fill all required fields",variant:"destructive"});return}if(A.password!==A.password_confirm){Te({title:"Error",description:"Passwords do not match",variant:"destructive"});return}const G=(Se==null?void 0:Se.role)==="super_admin";if(!G){if(n.length===0)try{Te({title:"Info",description:"Creating default main branch..."});const We=await xe();s([We]),D(St=>({...St,branch_id:We.id.toString()}))}catch{Te({title:"Error",description:"Failed to create default branch. Please create a branch first.",variant:"destructive"});return}if(!A.branch_id){const We=n.find(St=>St.type==="main")||n[0];if(We)D(St=>({...St,branch_id:We.id.toString()}));else{Te({title:"Error",description:"Please select a branch for the user",variant:"destructive"});return}}}try{S(!0);const We={...A,organization_id:Ue,status:"active",...G?{}:A.branch_id?{branch_id:parseInt(A.branch_id)}:{}},St=await Mr.createUser(We);St.success?(Te({title:"Success",description:`${A.first_name} ${A.last_name} has been added successfully`}),b(!1),tt(),be()):Te({title:"Error",description:St.error||"Failed to create user",variant:"destructive"})}catch(We){Te({title:"Error",description:((Le=(ue=We.response)==null?void 0:ue.data)==null?void 0:Le.error)||"Failed to create user",variant:"destructive"})}finally{S(!1)}},tt=()=>{D({first_name:"",last_name:"",email:"",username:"",password:"",password_confirm:"",role:"",phone:"",branch_id:""}),P(!1),w(!1)},ot=async(G,ue)=>{var Le,We;try{const St=ue==="active"?"inactive":"active",sn=e.find(Ca=>Ca.id===G);if(!sn){Te({title:"Error",description:"User not found",variant:"destructive"});return}const br=await Mr.updateUser(G,{status:St,phone:sn.phone||""});br.success?(Te({title:"Status Updated",description:`User status changed to ${St}`}),be()):Te({title:"Error",description:br.error||"Failed to update user status",variant:"destructive"})}catch(St){Te({title:"Error",description:((We=(Le=St.response)==null?void 0:Le.data)==null?void 0:We.error)||"Failed to update user status",variant:"destructive"})}},pe=G=>{j(G),qe(G),V(!0)},qe=async G=>{de(!0);try{let ue=[];if(G.role==="supplier_admin"||G.role==="sales_representative"){console.log("Loading permissions for supplier admin user:",G.id,G.first_name,G.last_name);const Dt=await Mr.getUserModulePermissions(G.id);console.log("Supplier admin permissions API response:",Dt);let Ht=[];Dt.success&&Dt.data?(Ht=Dt.data.modules||[],console.log("Supplier admin has existing permissions (success+data):",Ht)):Dt.data&&Array.isArray(Dt.data)?(Ht=Dt.data,console.log("Supplier admin has direct array permissions:",Ht)):Dt.modules&&Array.isArray(Dt.modules)?(Ht=Dt.modules,console.log("Supplier admin has direct modules permissions:",Ht)):(console.log("Supplier admin has no existing permissions or API error"),Ht=[]),he(Ht);const Bt={};Ht.forEach(nr=>{Bt[nr.id]=nr.has_access,nr.sub_modules.forEach(Es=>{Bt[Es.id]=Es.has_access})}),F(Bt),fe(Ht);return}const Le=await Mr.getUsers();if(!Le.success||!Le.data)throw new Error("Failed to load users");const sn=Le.data.filter(Dt=>Dt.organization_id===Ue).filter(Dt=>Dt.role==="pharmacy_owner").sort((Dt,Ht)=>new Date(Ht.created_at).getTime()-new Date(Dt.created_at).getTime())[0];if(!sn){Te({title:"Error",description:"No pharmacy owner found for this organization",variant:"destructive"});return}const br=await Mr.getUserModulePermissions(sn.id);if(!br.success||!br.data)throw new Error("Failed to load pharmacy owner permissions");ue=(br.data.modules||[]).filter(Dt=>Dt.has_access),console.log("Pharmacy owner allowed modules:",ue),console.log("Loading permissions for user:",G.id,G.first_name,G.last_name);const Nr=await Mr.getUserModulePermissions(G.id);console.log("User permissions API response:",Nr);let zr=[];Nr.success&&Nr.data?(zr=Nr.data.modules||[],console.log("User has existing permissions (success+data):",zr)):Nr.data&&Array.isArray(Nr.data)?(zr=Nr.data,console.log("User has direct array permissions:",zr)):Nr.modules&&Array.isArray(Nr.modules)?(zr=Nr.modules,console.log("User has direct modules permissions:",zr)):(console.log("User has no existing permissions or API error"),zr=[]),console.log("Final extracted userModules:",zr);const Ts=ue.map(Dt=>{const Ht=zr.find(Bt=>Bt.id===Dt.id);if(Ht){let Bt=Ht.sub_modules.filter(nr=>Dt.sub_modules.some(Es=>Es.id===nr.id&&Es.has_access));return{...Ht,sub_modules:Bt}}else{let Bt=Dt.sub_modules.filter(nr=>nr.has_access);return{...Dt,has_access:!1,sub_modules:Bt.map(nr=>({...nr,has_access:!1}))}}});console.log("Final user modules with permissions:",Ts),he(Ts);const Dn={};Ts.forEach(Dt=>{Dn[Dt.id]=Dt.has_access,Dt.sub_modules.forEach(Ht=>{Dn[Ht.id]=Ht.has_access})}),F(Dn),fe(ue)}catch(ue){console.error("Failed to load user permissions:",ue),Te({title:"Error",description:"Failed to load user permissions",variant:"destructive"})}finally{de(!1)}},ae=(G,ue)=>{const Le={...z};Le[G]=ue;const We=ge.find(St=>St.id===G);if(We)ue?We.sub_modules.forEach(St=>{Le[St.id]=!0}):We.sub_modules.forEach(St=>{Le[St.id]=!1});else{const St=ge.find(sn=>sn.sub_modules.some(br=>br.id===G));if(St){const sn=St.sub_modules.some(br=>Le[br.id]||br.id===G&&ue);Le[St.id]=sn}}F(Le)},je=async()=>{if(y)try{de(!0);const G=await Mr.updateUserModulePermissions(y.id,z);if(console.log("Save permissions response:",G),G.success){const ue=(y==null?void 0:y.role)==="pharmacy_owner";Te({title:"Success",description:ue?"Permissions updated successfully. Changes may affect other users in the organization.":"Permissions updated successfully"});const Le=ge.map(We=>({...We,has_access:z[We.id]||!1,sub_modules:We.sub_modules.map(St=>({...St,has_access:z[St.id]||!1}))}));he(Le)}else Te({title:"Error",description:G.error||"Failed to update permissions",variant:"destructive"})}catch(G){console.error("Failed to save permissions:",G),Te({title:"Error",description:"Failed to update permissions",variant:"destructive"})}finally{de(!1)}},H=()=>ge,se=G=>{j(G),$(!0)},le=async()=>{var G,ue;if(y){if(R.new_password!==R.confirm_password){Te({title:"Validation Error",description:"Passwords do not match",variant:"destructive"});return}try{S(!0);const Le=await Mr.changeUserPassword(y.id,{new_password:R.new_password,confirm_password:R.confirm_password});console.log("Password change response:",Le),Le.success||Le.user?(Te({title:"Success",description:"Password updated successfully"}),$(!1),X({new_password:"",confirm_password:""}),j(null),be()):Te({title:"Error",description:Le.error||"Failed to update password",variant:"destructive"})}catch(Le){Te({title:"Error",description:((ue=(G=Le.response)==null?void 0:G.data)==null?void 0:ue.error)||"Failed to update password",variant:"destructive"})}finally{S(!1)}}},ne=e.length,Q=e.filter(G=>G.status==="active").length,ce=e.filter(G=>G.status==="inactive").length,Ne=[...new Set(e.map(G=>G.role))].length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage users for your organization"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{onClick:be,variant:"outline",className:"gap-2",disabled:o,children:[t.jsx(Pi,{className:`w-4 h-4 ${o?"animate-spin":""}`}),"Refresh"]}),t.jsxs(rt,{open:v,onOpenChange:b,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{className:"gap-2",children:[t.jsx(zt,{className:"w-4 h-4"}),"Add User"]})}),t.jsxs(nt,{children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New User"}),t.jsx(Pt,{children:"Create a new user account with role-based permissions"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"firstName",children:"First Name *"}),t.jsx(J,{id:"firstName",placeholder:"Enter first name",value:A.first_name,onChange:G=>D({...A,first_name:G.target.value})})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"lastName",children:"Last Name *"}),t.jsx(J,{id:"lastName",placeholder:"Enter last name",value:A.last_name,onChange:G=>D({...A,last_name:G.target.value})})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"userEmail",children:"Email Address *"}),t.jsx(J,{id:"userEmail",type:"email",placeholder:"Enter email address",value:A.email,onChange:G=>D({...A,email:G.target.value})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"username",children:"Username *"}),t.jsx(J,{id:"username",placeholder:"Enter username",value:A.username,onChange:G=>D({...A,username:G.target.value})})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"phone",children:"Phone"}),t.jsx(J,{id:"phone",placeholder:"Enter phone number",value:A.phone,onChange:G=>D({...A,phone:G.target.value})})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"password",children:"Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx(J,{id:"password",type:N?"text":"password",placeholder:"Enter password",value:A.password,onChange:G=>D({...A,password:G.target.value})}),t.jsx(k,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>P(!N),children:N?t.jsx(km,{className:"h-4 w-4"}):t.jsx(xt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"passwordConfirm",children:"Confirm Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx(J,{id:"passwordConfirm",type:_?"text":"password",placeholder:"Confirm password",value:A.password_confirm,onChange:G=>D({...A,password_confirm:G.target.value})}),t.jsx(k,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>w(!_),children:_?t.jsx(km,{className:"h-4 w-4"}):t.jsx(xt,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"userRole",children:"Role *"}),t.jsxs(_e,{value:A.role,onValueChange:G=>D({...A,role:G}),children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select user role"})}),t.jsx(Ce,{children:SE.map(G=>t.jsx(I,{value:G,children:G.replace(/_/g," ")},G))})]})]}),(Se==null?void 0:Se.role)!=="super_admin"&&t.jsxs("div",{children:[t.jsx(M,{htmlFor:"userBranch",children:"Branch *"}),t.jsxs(_e,{value:A.branch_id,onValueChange:G=>D({...A,branch_id:G}),disabled:c,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:c?"Loading branches...":"Select branch"})}),t.jsx(Ce,{children:n.length===0?t.jsx(I,{value:"",disabled:!0,children:c?"Loading...":"No branches available"}):n.map(G=>t.jsxs(I,{value:G.id.toString(),children:[G.name," (",G.type,")"]},G.id))})]}),n.length===0&&!c&&t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'No branches found. A default "Main Branch" will be created automatically.'})]})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>{b(!1),tt()},children:"Cancel"}),t.jsxs(k,{onClick:Fe,disabled:C||c,children:[C&&t.jsx(ir,{className:"w-4 h-4 mr-2 animate-spin"}),"Add User"]})]})]})]}),t.jsx(rt,{open:O,onOpenChange:G=>{$(G),G||(j(null),X({new_password:"",confirm_password:""}))},children:t.jsxs(nt,{className:"max-w-md",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Change Password"}),t.jsxs(Pt,{children:["Change password for ",y==null?void 0:y.first_name," ",y==null?void 0:y.last_name]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"font-medium",children:"Username:"}),t.jsx("span",{className:"text-gray-600",children:y==null?void 0:y.email})]}),(y==null?void 0:y.plain_text_password)&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"font-medium",children:"Current Password:"}),t.jsx("span",{className:"text-gray-600 font-mono",children:y.plain_text_password})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"new_password",children:"New Password *"}),t.jsx(J,{id:"new_password",type:"password",value:R.new_password,onChange:G=>X({...R,new_password:G.target.value}),placeholder:"Enter new password"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"confirm_new_password",children:"Confirm New Password *"}),t.jsx(J,{id:"confirm_new_password",type:"password",value:R.confirm_password,onChange:G=>X({...R,confirm_password:G.target.value}),placeholder:"Confirm new password"})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[t.jsx(k,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),t.jsxs(k,{onClick:le,disabled:C,children:[C&&t.jsx(ir,{className:"w-4 h-4 mr-2 animate-spin"}),"Update Password"]})]})]})}),t.jsx(rt,{open:U,onOpenChange:V,children:t.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Module Permissions"}),t.jsxs(Pt,{children:["Manage module permissions for ",y==null?void 0:y.first_name," ",y==null?void 0:y.last_name,(y==null?void 0:y.role)==="supplier_admin"||(y==null?void 0:y.role)==="sales_representative"?t.jsx("span",{className:"block text-sm text-green-600 mt-1",children:"Supplier users have independent permissions not limited by pharmacy owner"}):t.jsx("span",{className:"block text-sm text-amber-600 mt-1",children:"Only modules permitted to the latest pharmacy owner are shown"}),(y==null?void 0:y.role)==="pharmacy_owner"&&t.jsx("span",{className:"block text-sm text-blue-600 mt-1",children:"Pharmacy owner permissions are managed by the system administrator"})]})]}),t.jsx("div",{className:"space-y-6",children:te?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(ir,{className:"w-8 h-8 animate-spin"})}):t.jsx(t.Fragment,{children:H().length===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-gray-600",children:"No modules available for this user."})}):H().map(G=>t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("input",{type:"checkbox",id:G.id,checked:z[G.id]||!1,onChange:ue=>ae(G.id,ue.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:G.id,className:"text-lg font-medium text-gray-900",children:G.name})]}),t.jsx("div",{className:"ml-7",children:t.jsx("div",{className:"flex flex-wrap gap-4",children:G.sub_modules.map(ue=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:ue.id,checked:z[ue.id]||!1,onChange:Le=>ae(ue.id,Le.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:ue.id,className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:ue.name})]},ue.id))})})]},G.id))})}),t.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[t.jsx(k,{variant:"outline",onClick:()=>{V(!1),j(null),F({}),he([])},children:"Close"}),t.jsxs(k,{onClick:je,disabled:te,children:[te&&t.jsx(ir,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Permissions"]})]})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(it,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:ne}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Bw,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:Q}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(AB,{className:"h-8 w-8 text-red-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:ce}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Inactive Users"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Cs,{className:"h-8 w-8 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:Ne}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"User Roles"})]})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search users...",value:u,onChange:G=>m(G.target.value),className:"pl-10"})]})}),t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by branch"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Branches"}),n.map(G=>t.jsxs(I,{value:G.id.toString(),children:[G.name," (",G.type,")"]},G.id))]})]}),t.jsxs(_e,{value:h,onValueChange:p,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by role"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Roles"}),SE.map(G=>t.jsx(I,{value:G,children:G.replace(/_/g," ")},G))]})]}),t.jsxs(_e,{value:g,onValueChange:f,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by status"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Status"}),t.jsx(I,{value:"active",children:"Active"}),t.jsx(I,{value:"inactive",children:"Inactive"})]})]})]})})}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Users"})}),t.jsx(E,{children:o?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(ir,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading users..."})]}):oe.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(it,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium",children:"No users found"}),t.jsx("p",{className:"text-muted-foreground",children:u||h!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first user."})]}):t.jsx("div",{className:"space-y-4",children:oe.map(G=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:t.jsx(it,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium",children:[G.first_name," ",G.last_name]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[G.email,G.branch_name&&t.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:G.branch_name})]}),G.phone&&t.jsx("div",{className:"text-sm text-muted-foreground",children:G.phone})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(re,{className:ze(G.role),children:G.role.replace("_"," ")}),t.jsx(re,{variant:G.status==="active"?"default":"secondary",children:G.status}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(k,{variant:"ghost",size:"sm",onClick:()=>pe(G),title:"Module Permissions",children:t.jsx(ln,{className:"w-4 h-4"})}),t.jsx(k,{variant:"ghost",size:"sm",onClick:()=>se(G),title:"Change Password",children:t.jsx(V4,{className:"w-4 h-4"})}),t.jsx(k,{variant:"ghost",size:"sm",onClick:()=>ot(G.id,G.status),title:G.status==="active"?"Deactivate User":"Activate User",disabled:C,children:t.jsx(W4,{className:`w-4 h-4 ${G.status==="active"?"text-green-600":"text-red-600"}`})})]})]})]},G.id))})})]})]})}const Nj=["main","branch","warehouse","distribution"],G1e=["active","inactive","maintenance","closed"];function X1e(){const[e,r]=x.useState([]),[n,s]=x.useState([]),[a,i]=x.useState(!0),[o,l]=x.useState(""),[c,d]=x.useState("all"),[u,m]=x.useState("all"),[h,p]=x.useState(!1),[g,f]=x.useState(!1),[v,b]=x.useState(!1),[y,j]=x.useState(null),[C,S]=x.useState(null),[N,P]=x.useState(!1),[_,w]=x.useState(!1),[A,D]=x.useState(!1),[O,$]=x.useState({name:"",code:"",type:"branch",address:"",city:"Kathmandu",state:"Bagmati",postal_code:"44600",country:"Nepal",phone:"",email:"",license_number:"",license_expiry:""}),{toast:U}=Tt(),V=JSON.parse(localStorage.getItem("currentUser")||"{}"),R=V==null?void 0:V.organization_id;x.useEffect(()=>{X(),z()},[]);const X=async()=>{try{i(!0),console.log("DEBUG: Loading branches for user:",V==null?void 0:V.email,"Organization ID:",R);const Z=await vn.getBranches();console.log("DEBUG: API Response:",Z);let xe=[];Z.success&&Z.data?xe=Z.data:Array.isArray(Z)?xe=Z:(console.warn("Unexpected branch API response format:",Z),xe=[]),console.log("DEBUG: All branches from API:",xe);const oe=xe.filter(ze=>ze.organization===R);console.log("DEBUG: Filtered branches for organization",R,":",oe),r(oe)}catch(Z){console.error("Failed to load branches:",Z),U({title:"Error",description:"Failed to load branches",variant:"destructive"})}finally{i(!1)}},z=async()=>{try{console.log("DEBUG: Loading organization users for organization:",R);const Z=await Mr.getUsers();console.log("DEBUG: Users API Response:",Z);let xe=[];Z.success&&Z.data?xe=Z.data:Array.isArray(Z)?xe=Z:(console.warn("Unexpected users API response format:",Z),xe=[]),console.log("DEBUG: All users from API:",xe);const oe=xe.filter(ze=>ze.organization_id===R&&(ze.role==="branch_manager"||ze.role==="senior_pharmacist"||ze.role==="pharmacist"));console.log("DEBUG: Filtered manager users for organization",R,":",oe),s(oe)}catch(Z){console.error("Failed to load organization users:",Z)}},F=async Z=>{var xe,oe;if(y)try{D(!0);const ze={name:y.name,code:y.code,type:y.type,address:y.address,city:y.city,state:y.state,postal_code:y.postal_code,country:y.country,phone:y.phone||"",email:y.email||"",organization:y.organization,status:y.status,manager:Z,license_number:y.license_number||"",license_expiry:y.license_expiry||null},tt=await vn.updateBranch(y.id,ze);tt&&(tt.branch||tt.data||tt.success)?(U({title:"Success",description:"Manager assigned successfully"}),b(!1),j(null),X()):U({title:"Error",description:(tt==null?void 0:tt.error)||"Failed to assign manager",variant:"destructive"})}catch(ze){U({title:"Error",description:((oe=(xe=ze.response)==null?void 0:xe.data)==null?void 0:oe.error)||"Failed to assign manager",variant:"destructive"})}finally{D(!1)}},te=Z=>{j(Z),b(!0)},de=Z=>{S(Z),$({name:Z.name,code:Z.code,type:Z.type,address:Z.address,city:Z.city,state:Z.state,postal_code:Z.postal_code,country:Z.country,phone:Z.phone||"",email:Z.email||"",license_number:Z.license_number||"",license_expiry:Z.license_expiry||""}),f(!0)},ie=async()=>{var Z,xe;if(!C||!O.name||!O.code||!O.address){U({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}try{w(!0);const oe={name:O.name,code:O.code,type:O.type,address:O.address,city:O.city,state:O.state,postal_code:O.postal_code,country:O.country,phone:O.phone,email:O.email,organization:C.organization,status:C.status,manager:C.manager};O.license_number.trim()&&(oe.license_number=O.license_number.trim()),O.license_expiry.trim()&&(oe.license_expiry=O.license_expiry.trim());const Fe=await vn.updateBranch(C.id,oe);Fe&&(Fe.branch||Fe.data||Fe.success!==!1)?(U({title:"Success",description:"Branch updated successfully"}),f(!1),S(null),ge(),X()):U({title:"Error",description:(Fe==null?void 0:Fe.error)||"Failed to update branch",variant:"destructive"})}catch(oe){U({title:"Error",description:((xe=(Z=oe.response)==null?void 0:Z.data)==null?void 0:xe.error)||"Failed to update branch",variant:"destructive"})}finally{w(!1)}},fe=async()=>{var Z,xe;if(!O.name||!O.code||!O.address){U({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(O.type==="main"&&e.find(ze=>ze.type==="main")){U({title:"Error",description:"Only one main branch is allowed per organization",variant:"destructive"});return}try{P(!0);const oe={name:O.name,code:O.code,type:O.type,address:O.address,city:O.city,state:O.state,postal_code:O.postal_code,country:O.country,phone:O.phone,email:O.email,organization:R,status:"active"};O.license_number.trim()&&(oe.license_number=O.license_number.trim()),O.license_expiry.trim()&&(oe.license_expiry=O.license_expiry.trim());const Fe=await vn.createBranch(oe);Fe&&(Fe.branch||Fe.data)?(U({title:"Success",description:Fe.message||"Branch created successfully"}),p(!1),ge(),X()):U({title:"Error",description:(Fe==null?void 0:Fe.error)||"Failed to create branch",variant:"destructive"})}catch(oe){U({title:"Error",description:((xe=(Z=oe.response)==null?void 0:Z.data)==null?void 0:xe.error)||"Failed to create branch",variant:"destructive"})}finally{P(!1)}},ge=()=>{$({name:"",code:"",type:"branch",address:"",city:"Kathmandu",state:"Bagmati",postal_code:"44600",country:"Nepal",phone:"",email:"",license_number:"",license_expiry:""})},he=e.filter(Z=>{const xe=Z.name.toLowerCase().includes(o.toLowerCase())||Z.code.toLowerCase().includes(o.toLowerCase())||Z.address.toLowerCase().includes(o.toLowerCase()),oe=c==="all"||Z.status===c,ze=u==="all"||Z.type===u;return xe&&oe&&ze}),Te=Z=>{const xe={active:"bg-green-100 text-green-800 border-green-200",inactive:"bg-gray-100 text-gray-800 border-gray-200",maintenance:"bg-yellow-100 text-yellow-800 border-yellow-200",closed:"bg-red-100 text-red-800 border-red-200"};return t.jsx(re,{className:xe[Z]||xe.inactive,children:Z})},Se=Z=>{const xe={main:"bg-blue-100 text-blue-800 border-blue-200",branch:"bg-purple-100 text-purple-800 border-purple-200",warehouse:"bg-orange-100 text-orange-800 border-orange-200",distribution:"bg-cyan-100 text-cyan-800 border-cyan-200"};return t.jsx(re,{className:xe[Z]||xe.branch,children:Z})},Ue=e.length,be=e.filter(Z=>Z.status==="active").length;return t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Branch Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage pharmacy branches for your organization"})]}),t.jsxs(rt,{open:h,onOpenChange:p,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Branch"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Branch"}),t.jsx(Pt,{children:"Create a new branch for your organization"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"name",children:"Branch Name *"}),t.jsx(J,{id:"name",value:O.name,onChange:Z=>$({...O,name:Z.target.value}),placeholder:"Enter branch name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"code",children:"Branch Code *"}),t.jsx(J,{id:"code",value:O.code,onChange:Z=>$({...O,code:Z.target.value}),placeholder:"Enter unique branch code"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"address",children:"Address *"}),t.jsx(Vt,{id:"address",value:O.address,onChange:Z=>$({...O,address:Z.target.value}),placeholder:"Enter complete address"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"city",children:"City"}),t.jsx(J,{id:"city",value:O.city,onChange:Z=>$({...O,city:Z.target.value}),placeholder:"Kathmandu"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"state",children:"State"}),t.jsx(J,{id:"state",value:O.state,onChange:Z=>$({...O,state:Z.target.value}),placeholder:"Bagmati"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"phone",children:"Phone Number"}),t.jsx(J,{id:"phone",value:O.phone,onChange:Z=>$({...O,phone:Z.target.value}),placeholder:"+977-XX-XXXXXX"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"email",children:"Email"}),t.jsx(J,{id:"email",type:"email",value:O.email,onChange:Z=>$({...O,email:Z.target.value}),placeholder:"branch@pharmacy.com"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"type",children:"Branch Type *"}),t.jsxs(_e,{value:O.type,onValueChange:Z=>$({...O,type:Z}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsx(Ce,{children:Nj.map(Z=>t.jsx(I,{value:Z,children:Z},Z))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"license_number",children:"License Number"}),t.jsx(J,{id:"license_number",value:O.license_number,onChange:Z=>$({...O,license_number:Z.target.value}),placeholder:"DDA License Number"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(k,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),t.jsxs(k,{onClick:fe,disabled:N,children:[N&&t.jsx(ir,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Branch"]})]})]})]}),t.jsx(rt,{open:g,onOpenChange:f,children:t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Edit Branch"}),t.jsx(Pt,{children:"Update branch information"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"edit-name",children:"Branch Name *"}),t.jsx(J,{id:"edit-name",value:O.name,onChange:Z=>$({...O,name:Z.target.value}),placeholder:"Enter branch name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"edit-code",children:"Branch Code *"}),t.jsx(J,{id:"edit-code",value:O.code,onChange:Z=>$({...O,code:Z.target.value}),placeholder:"Enter unique branch code"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"edit-address",children:"Address *"}),t.jsx(Vt,{id:"edit-address",value:O.address,onChange:Z=>$({...O,address:Z.target.value}),placeholder:"Enter complete address"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"edit-city",children:"City"}),t.jsx(J,{id:"edit-city",value:O.city,onChange:Z=>$({...O,city:Z.target.value}),placeholder:"Kathmandu"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"edit-state",children:"State"}),t.jsx(J,{id:"edit-state",value:O.state,onChange:Z=>$({...O,state:Z.target.value}),placeholder:"Bagmati"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"edit-phone",children:"Phone Number"}),t.jsx(J,{id:"edit-phone",value:O.phone,onChange:Z=>$({...O,phone:Z.target.value}),placeholder:"+977-XX-XXXXXX"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"edit-email",children:"Email"}),t.jsx(J,{id:"edit-email",type:"email",value:O.email,onChange:Z=>$({...O,email:Z.target.value}),placeholder:"branch@pharmacy.com"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"edit-type",children:"Branch Type *"}),t.jsxs(_e,{value:O.type,onValueChange:Z=>$({...O,type:Z}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsx(Ce,{children:Nj.map(Z=>t.jsx(I,{value:Z,children:Z},Z))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"edit-license_number",children:"License Number"}),t.jsx(J,{id:"edit-license_number",value:O.license_number,onChange:Z=>$({...O,license_number:Z.target.value}),placeholder:"DDA License Number"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(k,{variant:"outline",onClick:()=>{f(!1),S(null),ge()},children:"Cancel"}),t.jsxs(k,{onClick:ie,disabled:_,children:[_&&t.jsx(ir,{className:"w-4 h-4 mr-2 animate-spin"}),"Update Branch"]})]})]})}),t.jsx(rt,{open:v,onOpenChange:b,children:t.jsxs(nt,{className:"max-w-md",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Assign Manager"}),t.jsxs(Pt,{children:["Assign a manager to ",y==null?void 0:y.name]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{children:"Select Manager"}),t.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:n.length===0?t.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No eligible managers found"}):n.map(Z=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>F(Z.id),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:t.jsxs("span",{className:"text-blue-600 font-medium text-sm",children:[Z.first_name.charAt(0),Z.last_name.charAt(0)]})}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium text-sm",children:[Z.first_name," ",Z.last_name]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[Z.role.replace("_"," ")," • ",Z.email]})]})]}),t.jsxs(k,{size:"sm",disabled:A,onClick:xe=>{xe.stopPropagation(),F(Z.id)},children:[A&&t.jsx(ir,{className:"w-3 h-3 mr-1 animate-spin"}),"Assign"]})]},Z.id))})]})}),t.jsx("div",{className:"flex justify-end",children:t.jsx(k,{variant:"outline",onClick:()=>b(!1),children:"Cancel"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Total Branches"}),t.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:Ue}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"In your organization"})]})]}),t.jsxs(T,{children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Active Branches"}),t.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:be}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently operational"})]})]})]}),t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Branch Directory"}),t.jsx(kt,{children:"View and manage branches for your organization"})]}),t.jsxs(E,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search branches...",value:o,onChange:Z=>l(Z.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:c,onValueChange:d,children:[t.jsx(Pe,{className:"w-full md:w-40",children:t.jsx(Ae,{placeholder:"Status"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Status"}),G1e.map(Z=>t.jsx(I,{value:Z,children:Z},Z))]})]}),t.jsxs(_e,{value:u,onValueChange:m,children:[t.jsx(Pe,{className:"w-full md:w-40",children:t.jsx(Ae,{placeholder:"Type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Types"}),Nj.map(Z=>t.jsx(I,{value:Z,children:Z},Z))]})]})]}),a?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(ir,{className:"w-8 h-8 animate-spin"})}):t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Branch Details"}),t.jsx(K,{children:"Type"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Manager"}),t.jsx(K,{children:"Contact"}),t.jsx(K,{children:"Actions"})]})}),t.jsxs(At,{children:[he.map(Z=>t.jsxs(Ie,{children:[t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:Z.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:Z.code}),t.jsxs("div",{className:"text-sm text-muted-foreground flex items-center mt-1",children:[t.jsx(Ia,{className:"h-3 w-3 mr-1"}),Z.address]})]})}),t.jsx(W,{children:Se(Z.type)}),t.jsx(W,{children:Te(Z.status)}),t.jsx(W,{children:t.jsx("div",{className:"text-sm",children:Z.manager_name?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_i,{className:"h-4 w-4"}),Z.manager_name]}):t.jsx("span",{className:"text-muted-foreground",children:"Not assigned"})})}),t.jsx(W,{children:t.jsxs("div",{className:"text-sm",children:[Z.phone&&t.jsx("div",{children:Z.phone}),Z.email&&t.jsx("div",{className:"text-muted-foreground",children:Z.email})]})}),t.jsx(W,{children:t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{variant:"ghost",size:"sm",onClick:()=>de(Z),className:"text-green-600 hover:text-green-800",children:[t.jsx(mn,{className:"h-4 w-4 mr-1"}),"Edit"]}),t.jsxs(k,{variant:"ghost",size:"sm",onClick:()=>te(Z),className:"text-blue-600 hover:text-blue-800",children:[t.jsx(Uw,{className:"h-4 w-4 mr-1"}),"Manager"]})]})})]},Z.id)),he.length===0&&t.jsx(Ie,{children:t.jsx(W,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No branches found"})})]})]})})]})]})]})}const PE=[{month:"Jan",central:45e4,branchA:28e4,branchB:19e4,express:15e4},{month:"Feb",central:52e4,branchA:31e4,branchB:22e4,express:18e4},{month:"Mar",central:48e4,branchA:295e3,branchB:205e3,express:165e3},{month:"Apr",central:63e4,branchA:34e4,branchB:25e4,express:2e5},{month:"May",central:59e4,branchA:325e3,branchB:235e3,express:195e3},{month:"Jun",central:68e4,branchA:38e4,branchB:28e4,express:22e4}],Y1e=[{name:"Sales Performance",value:85,target:90,status:"good"},{name:"Inventory Turnover",value:78,target:80,status:"warning"},{name:"Staff Efficiency",value:92,target:85,status:"excellent"},{name:"Customer Satisfaction",value:88,target:90,status:"good"},{name:"Compliance Score",value:95,target:95,status:"excellent"},{name:"Sync Reliability",value:82,target:98,status:"critical"}],Qo=[{name:"Central Pharmacy",revenue:68e4,efficiency:92,customers:1250,growth:15.2},{name:"Branch Pharmacy A",revenue:38e4,efficiency:88,customers:850,growth:12.8},{name:"Branch Pharmacy B",revenue:28e4,efficiency:85,customers:620,growth:18.5},{name:"Express Pharmacy",revenue:22e4,efficiency:78,customers:480,growth:22.1}],CE=[{name:"Central Pharmacy",value:42,color:"#8884d8"},{name:"Branch A",value:23,color:"#82ca9d"},{name:"Branch B",value:18,color:"#ffc658"},{name:"Express",value:17,color:"#ff7300"}],Q1e=[{product:"Paracetamol 500mg",central:450,branchA:320,branchB:280,express:190,total:1240},{product:"Amoxicillin 250mg",central:380,branchA:250,branchB:220,express:150,total:1e3},{product:"Omeprazole 20mg",central:320,branchA:200,branchB:180,express:120,total:820},{product:"Metformin 500mg",central:280,branchA:180,branchB:160,express:100,total:720},{product:"Cetirizine 10mg",central:250,branchA:150,branchB:140,express:90,total:630}],Z1e=["Last 7 days","Last 30 days","Last 3 months","Last 6 months","Last year"];function J1e(){const[e,r]=x.useState("overview"),[n,s]=x.useState("Last 6 months");x.useState("Performance");const{toast:a}=Tt(),i=h=>{switch(h){case"excellent":return"text-green-600";case"good":return"text-blue-600";case"warning":return"text-yellow-600";case"critical":return"text-red-600";default:return"text-gray-600"}},o=h=>{const p={excellent:"bg-green-100 text-green-800 border-green-200",good:"bg-blue-100 text-blue-800 border-blue-200",warning:"bg-yellow-100 text-yellow-800 border-yellow-200",critical:"bg-red-100 text-red-800 border-red-200"};return t.jsx(re,{className:p[h]||p.good,children:h})},l=()=>{a({title:"Export Started",description:"Report is being generated and will be downloaded shortly"})},c=Qo.reduce((h,p)=>h+p.revenue,0),d=(Qo.reduce((h,p)=>h+Number(p.efficiency),0)/Qo.length).toFixed(1),u=Qo.reduce((h,p)=>h+p.customers,0),m=(Qo.reduce((h,p)=>h+Number(p.growth),0)/Qo.length).toFixed(1);return t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Network Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Comprehensive analytics across all pharmacy branches"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsxs(Pe,{className:"w-48",children:[t.jsx(Rt,{className:"mr-2 h-4 w-4"}),t.jsx(Ae,{})]}),t.jsx(Ce,{children:Z1e.map(h=>t.jsx(I,{value:h,children:h},h))})]}),t.jsxs(k,{variant:"outline",onClick:l,children:[t.jsx(bt,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Total Revenue"}),t.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["Rs. ",(c/1e5).toFixed(1),"L"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Network-wide monthly revenue"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Avg Efficiency"}),t.jsx(ar,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[d,"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all branches"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Total Customers"}),t.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:u}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active customer base"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Avg Growth"}),t.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["+",m,"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Month-over-month growth"})]})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(Or,{value:e,onValueChange:r,className:"w-full",children:t.jsxs(Ar,{className:"grid w-full grid-cols-5",children:[t.jsx(Oe,{value:"overview",children:"Overview"}),t.jsx(Oe,{value:"performance",children:"Performance"}),t.jsx(Oe,{value:"comparison",children:"Branch Comparison"}),t.jsx(Oe,{value:"products",children:"Product Analysis"}),t.jsx(Oe,{value:"metrics",children:"Key Metrics"})]})})}),t.jsxs(E,{children:[t.jsx($e,{value:"overview",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Revenue Trends"}),t.jsx(kt,{children:"Monthly revenue across all branches"})]}),t.jsx(E,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(ql,{data:PE,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Br,{formatter:h=>[`Rs. ${(Number(h)/1e3).toFixed(0)}K`,""]}),t.jsx(Wa,{}),t.jsx(qn,{type:"monotone",dataKey:"central",stroke:"#8884d8",strokeWidth:2}),t.jsx(qn,{type:"monotone",dataKey:"branchA",stroke:"#82ca9d",strokeWidth:2}),t.jsx(qn,{type:"monotone",dataKey:"branchB",stroke:"#ffc658",strokeWidth:2}),t.jsx(qn,{type:"monotone",dataKey:"express",stroke:"#ff7300",strokeWidth:2})]})})})]}),t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Market Share Distribution"}),t.jsx(kt,{children:"Revenue contribution by branch"})]}),t.jsx(E,{children:t.jsx(ur,{width:"100%",height:300,children:t.jsxs(fu,{children:[t.jsx(cs,{data:CE,cx:"50%",cy:"50%",labelLine:!1,label:({name:h,value:p})=>`${h}: ${p}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:CE.map((h,p)=>t.jsx(Fi,{fill:h.color},`cell-${p}`))}),t.jsx(Br,{})]})})})]})]})}),t.jsx($e,{value:"performance",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Branch Performance Comparison"}),t.jsx(kt,{children:"Revenue performance across branches over time"})]}),t.jsx(E,{children:t.jsx(ur,{width:"100%",height:400,children:t.jsxs(pa,{data:PE,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Br,{formatter:h=>[`Rs. ${(Number(h)/1e3).toFixed(0)}K`,""]}),t.jsx(Wa,{}),t.jsx(vr,{dataKey:"central",stackId:"a",fill:"#8884d8",name:"Central Pharmacy"}),t.jsx(vr,{dataKey:"branchA",stackId:"a",fill:"#82ca9d",name:"Branch A"}),t.jsx(vr,{dataKey:"branchB",stackId:"a",fill:"#ffc658",name:"Branch B"}),t.jsx(vr,{dataKey:"express",stackId:"a",fill:"#ff7300",name:"Express"})]})})})]})}),t.jsx($e,{value:"comparison",className:"space-y-4",children:t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Branch Name"}),t.jsx(K,{children:"Monthly Revenue"}),t.jsx(K,{children:"Efficiency Score"}),t.jsx(K,{children:"Active Customers"}),t.jsx(K,{children:"Growth Rate"}),t.jsx(K,{children:"Performance"})]})}),t.jsx(At,{children:Qo.map((h,p)=>t.jsxs(Ie,{className:"animate-fade-in",children:[t.jsx(W,{children:t.jsx("div",{className:"font-medium",children:h.name})}),t.jsx(W,{children:t.jsxs("div",{className:"font-medium",children:["Rs. ",(h.revenue/1e5).toFixed(1),"L"]})}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("div",{className:"font-medium",children:[h.efficiency,"%"]}),t.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${h.efficiency}%`}})})]})}),t.jsx(W,{children:h.customers}),t.jsx(W,{children:t.jsxs("div",{className:"text-green-600 font-medium",children:["+",h.growth,"%"]})}),t.jsx(W,{children:h.efficiency>=90?o("excellent"):h.efficiency>=85?o("good"):h.efficiency>=80?o("warning"):o("critical")})]},p))})]})})}),t.jsx($e,{value:"products",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Top Selling Products"}),t.jsx(kt,{children:"Product sales across all branches"})]}),t.jsx(E,{children:t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Product Name"}),t.jsx(K,{children:"Central"}),t.jsx(K,{children:"Branch A"}),t.jsx(K,{children:"Branch B"}),t.jsx(K,{children:"Express"}),t.jsx(K,{children:"Total Sales"})]})}),t.jsx(At,{children:Q1e.map((h,p)=>t.jsxs(Ie,{className:"animate-fade-in",children:[t.jsx(W,{className:"font-medium",children:h.product}),t.jsx(W,{children:h.central}),t.jsx(W,{children:h.branchA}),t.jsx(W,{children:h.branchB}),t.jsx(W,{children:h.express}),t.jsx(W,{className:"font-bold",children:h.total})]},p))})]})})})]})}),t.jsx($e,{value:"metrics",className:"space-y-4",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Y1e.map((h,p)=>t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:h.name}),h.status==="critical"&&t.jsx(Si,{className:"h-4 w-4 text-red-500"})]}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:`text-2xl font-bold ${i(h.status)}`,children:[h.value,"%"]}),o(h.status)]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:"Current"}),t.jsxs("span",{children:["Target: ",h.target,"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full ${h.status==="excellent"?"bg-green-500":h.status==="good"?"bg-blue-500":h.status==="warning"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(h.value,100)}%`}})})]})]})})]},p))})})]})]})]})}const e2e=`
  @media print {
    body * { visibility: hidden; }
    .print\\:block, .print\\:block * { visibility: visible; }
    .print\\:hidden { display: none !important; }
    .print\\:block { position: absolute; left: 0; top: 0; width: 100%; }
    @page { margin: 0.5in; size: A4; }
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.textContent=e2e,document.head.appendChild(e)}function t2e(){var Te,Se,Ue,be,Z,xe,oe,ze,Fe,tt,ot;const[e,r]=x.useState([]),[n,s]=x.useState(""),[a,i]=x.useState([]),[o,l]=x.useState(!1),[c,d]=x.useState(""),[u,m]=x.useState(!1),[h,p]=x.useState(!1),[g,f]=x.useState(null),[v,b]=x.useState(!1),[y,j]=x.useState(1),[C,S]=x.useState(1),[N,P]=x.useState(0),[_]=x.useState(10),{toast:w}=Tt(),A=JSON.parse(localStorage.getItem("currentUser")||"{}"),D=A==null?void 0:A.organization_id,O=A==null?void 0:A.branch_id,$=(A==null?void 0:A.branch_name)||"BR",[U,V]=x.useState({org:"ORG001",branch:`${$.substring(0,2).toUpperCase()}-001`}),[R,X]=x.useState({id:"",first_name:"",last_name:"",date_of_birth:"",gender:"",phone:"",email:"",address:"",city:"",patient_type:"outpatient",emergency_contact_name:"",emergency_contact_phone:"",blood_group:"",allergies:"",chronic_conditions:""});x.useEffect(()=>{z(1),F()},[]),x.useEffect(()=>{const pe=setTimeout(()=>{c?z(1,c):z(1)},500);return()=>clearTimeout(pe)},[c]);const z=async(pe=1,qe="")=>{try{p(!0);const ae=new URLSearchParams({page:pe.toString(),page_size:_.toString(),...qe&&{search:qe}}),je=await fetch(`https://drpharmas.com/backend/patients/?${ae}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")||localStorage.getItem("token")}`}});if(je.ok){const H=await je.json();r(H.results||[]),P(H.count||0),S(Math.ceil((H.count||0)/_)),j(pe)}else throw new Error("Failed to fetch patients")}catch(ae){console.error("Error loading patients:",ae),w({title:"Error",description:"Failed to load patients",variant:"destructive"})}finally{p(!1)}},F=async()=>{try{const pe=`ORG${String(e.length+1).padStart(3,"0")}`,qe=`${$.substring(0,2).toUpperCase()}-${String(e.length+1).padStart(3,"0")}`;V({org:pe,branch:qe})}catch(pe){console.error("Error generating patient numbers:",pe)}},te=async pe=>{if(s(pe),pe.trim())try{const qe=e.filter(ae=>{var ce,Ne,G,ue,Le;const je=pe.toLowerCase(),H=((ce=ae.patient_id)==null?void 0:ce.toLowerCase())||"",se=((Ne=ae.full_name)==null?void 0:Ne.toLowerCase())||"",le=((G=ae.first_name)==null?void 0:G.toLowerCase())||"",ne=((ue=ae.last_name)==null?void 0:ue.toLowerCase())||"",Q=((Le=ae.phone)==null?void 0:Le.toLowerCase())||"";return H.includes(je)||se.includes(je)||le.includes(je)||ne.includes(je)||Q.includes(je)||H.split("-").some(We=>We.includes(je))});if(qe.length>0)i(qe),l(!0);else{const ae=await Wy.searchPatients(pe);ae.success&&(i(ae.data||[]),l(!0))}}catch(qe){console.error("Error searching patients:",qe)}else l(!1),i([])},de=pe=>{new Date(pe.date_of_birth),X({id:pe.id,first_name:pe.first_name||"",last_name:pe.last_name||"",date_of_birth:pe.date_of_birth||"",gender:pe.gender||"",phone:pe.phone||"",email:pe.email||"",address:pe.address||"",city:pe.city||"",patient_type:pe.patient_type||"outpatient",emergency_contact_name:pe.emergency_contact_name||"",emergency_contact_phone:pe.emergency_contact_phone||"",blood_group:pe.blood_group||"",allergies:pe.allergies||"",chronic_conditions:pe.chronic_conditions||""}),m(!0),l(!1),s("")},ie=(pe,qe)=>{X(ae=>({...ae,[pe]:qe}))},fe=async()=>{var pe;if(!R.first_name||!R.last_name){w({title:"Validation Error",description:"Please fill in required fields: First Name and Last Name",variant:"destructive"});return}p(!0);try{const qe={...R,full_name:`${R.first_name} ${R.last_name}`.trim(),organization_id:D,branch_id:O,phone:R.phone||"9800000000",city:R.city||"N/A",address:R.address||"N/A",email:R.email||"",allergies:R.allergies||"",chronic_conditions:R.chronic_conditions||""};if(!u)qe.patient_id=U.branch;else{const je=e.find(H=>H.id===R.id);je!=null&&je.patient_id&&(qe.patient_id=je.patient_id)}let ae;if(u&&R.id?ae=await Wy.updatePatient(R.id,qe):ae=await Wy.createPatient(qe),ae.success)w({title:"Success",description:`Patient ${u?"updated":"created"} successfully`}),z(y),F(),ge();else{let je="Failed to save patient";throw ae.error&&(typeof ae.error=="object"?je=Object.entries(ae.error).map(([se,le])=>`${se}: ${Array.isArray(le)?le.join(", "):le}`).join("; "):je=ae.error),new Error(je)}}catch(qe){console.error("Error saving patient:",qe);let ae="Failed to save patient";if(qe.message)ae=qe.message;else if((pe=qe.response)!=null&&pe.data){const je=qe.response.data;typeof je=="object"?ae=Object.entries(je).map(([se,le])=>`${se}: ${Array.isArray(le)?le.join(", "):le}`).join("; "):ae=je}w({title:"Error",description:ae,variant:"destructive"})}finally{p(!1)}},ge=()=>{X({id:"",first_name:"",last_name:"",date_of_birth:"",gender:"",phone:"",email:"",address:"",city:"",patient_type:"outpatient",emergency_contact_name:"",emergency_contact_phone:"",blood_group:"",allergies:"",chronic_conditions:""}),m(!1)},he=e;return t.jsxs("div",{className:"min-h-screen flex flex-col p-4 space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold",children:"Patient Directory"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage patient information"})]}),t.jsx(k,{onClick:ge,size:"sm",children:"New Patient"})]}),t.jsxs(T,{className:"flex-shrink-0",children:[t.jsx(B,{className:"pb-3",children:t.jsxs(q,{className:"text-base flex items-center gap-2",children:[t.jsx(_i,{className:"w-4 h-4"}),"Patient Information"]})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"relative col-span-2",children:[t.jsx(Xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 z-10",size:14}),t.jsx(J,{placeholder:"Search by Patient ID or Name...",value:n,onChange:pe=>te(pe.target.value),className:"pl-8 h-8 text-sm"}),o&&a.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border rounded-md shadow-lg z-10 max-h-32 overflow-y-auto",children:a.map(pe=>t.jsxs("div",{className:"p-2 hover:bg-gray-50 cursor-pointer border-b last:border-b-0",onClick:()=>de(pe),children:[t.jsx("div",{className:"font-medium text-xs",children:pe.full_name||`${pe.first_name||""} ${pe.last_name||""}`.trim()}),t.jsxs("div",{className:"text-xs text-gray-500",children:[pe.patient_id," • ",pe.phone||"No phone"]})]},pe.id))})]}),t.jsx("div",{className:"space-y-1",children:t.jsxs("div",{className:"text-xs bg-gray-50 p-2 rounded border flex gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Org:"})," ",t.jsx("span",{className:"font-mono font-medium",children:U.org})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Branch:"})," ",t.jsx("span",{className:"font-mono font-medium",children:U.branch})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(M,{htmlFor:"first_name",className:"text-xs",children:"First Name *"}),t.jsx(J,{id:"first_name",placeholder:"First name",value:R.first_name,onChange:pe=>ie("first_name",pe.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(M,{htmlFor:"last_name",className:"text-xs",children:"Last Name *"}),t.jsx(J,{id:"last_name",placeholder:"Last name",value:R.last_name,onChange:pe=>ie("last_name",pe.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(M,{htmlFor:"date_of_birth",className:"text-xs",children:"Date of Birth"}),t.jsx(J,{id:"date_of_birth",type:"date",value:R.date_of_birth,onChange:pe=>ie("date_of_birth",pe.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(M,{htmlFor:"gender",className:"text-xs",children:"Gender *"}),t.jsxs(_e,{value:R.gender,onValueChange:pe=>ie("gender",pe),children:[t.jsx(Pe,{className:"h-8 text-sm",children:t.jsx(Ae,{placeholder:"Select"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"male",children:"Male"}),t.jsx(I,{value:"female",children:"Female"}),t.jsx(I,{value:"other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(M,{htmlFor:"phone",className:"text-xs",children:"Phone"}),t.jsx(J,{id:"phone",placeholder:"Phone number",value:R.phone,onChange:pe=>ie("phone",pe.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(M,{htmlFor:"email",className:"text-xs",children:"Email"}),t.jsx(J,{id:"email",type:"email",placeholder:"Email address",value:R.email,onChange:pe=>ie("email",pe.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(M,{htmlFor:"patient_type",className:"text-xs",children:"Patient Type"}),t.jsxs(_e,{value:R.patient_type,onValueChange:pe=>ie("patient_type",pe),children:[t.jsx(Pe,{className:"h-8 text-sm",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"outpatient",children:"Outpatient"}),t.jsx(I,{value:"inpatient",children:"Inpatient"}),t.jsx(I,{value:"emergency",children:"Emergency"}),t.jsx(I,{value:"regular",children:"Regular"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(M,{htmlFor:"blood_group",className:"text-xs",children:"Blood Group"}),t.jsxs(_e,{value:R.blood_group,onValueChange:pe=>ie("blood_group",pe),children:[t.jsx(Pe,{className:"h-8 text-sm",children:t.jsx(Ae,{placeholder:"Select"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"A+",children:"A+"}),t.jsx(I,{value:"A-",children:"A-"}),t.jsx(I,{value:"B+",children:"B+"}),t.jsx(I,{value:"B-",children:"B-"}),t.jsx(I,{value:"AB+",children:"AB+"}),t.jsx(I,{value:"AB-",children:"AB-"}),t.jsx(I,{value:"O+",children:"O+"}),t.jsx(I,{value:"O-",children:"O-"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(M,{htmlFor:"address",className:"text-xs",children:"Address"}),t.jsx(J,{id:"address",placeholder:"Full address",value:R.address,onChange:pe=>ie("address",pe.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(M,{htmlFor:"city",className:"text-xs",children:"City"}),t.jsx(J,{id:"city",placeholder:"City",value:R.city,onChange:pe=>ie("city",pe.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(M,{htmlFor:"emergency_contact_name",className:"text-xs",children:"Emergency Contact"}),t.jsx(J,{id:"emergency_contact_name",placeholder:"Contact name",value:R.emergency_contact_name,onChange:pe=>ie("emergency_contact_name",pe.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(M,{htmlFor:"emergency_contact_phone",className:"text-xs",children:"Emergency Phone"}),t.jsx(J,{id:"emergency_contact_phone",placeholder:"Emergency phone",value:R.emergency_contact_phone,onChange:pe=>ie("emergency_contact_phone",pe.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1 col-span-2",children:[t.jsx(M,{htmlFor:"allergies",className:"text-xs",children:"Allergies"}),t.jsx(J,{id:"allergies",placeholder:"Known allergies",value:R.allergies,onChange:pe=>ie("allergies",pe.target.value),className:"h-8 text-sm"})]}),t.jsxs("div",{className:"space-y-1 col-span-2",children:[t.jsx(M,{htmlFor:"chronic_conditions",className:"text-xs",children:"Medical History"}),t.jsx(J,{id:"chronic_conditions",placeholder:"Chronic conditions",value:R.chronic_conditions,onChange:pe=>ie("chronic_conditions",pe.target.value),className:"h-8 text-sm"})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(k,{onClick:fe,size:"sm",className:"h-8",disabled:h,children:[t.jsx(Co,{className:"w-3 h-3 mr-1"}),h?"Saving...":u?"Update Patient":"Save Patient"]})})]})]}),t.jsxs(T,{className:"flex-1",children:[t.jsx(B,{className:"pb-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(q,{className:"text-base",children:"All Patients"}),t.jsxs("div",{className:"relative w-64",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:14}),t.jsx(J,{placeholder:"Search patients...",value:c,onChange:pe=>d(pe.target.value),className:"pl-7 h-8 text-sm"})]})]})}),t.jsx(E,{children:h?t.jsx("div",{className:"flex justify-center items-center py-8",children:t.jsx("div",{className:"text-sm text-gray-500",children:"Loading patients..."})}):t.jsxs(t.Fragment,{children:[t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left p-2 font-medium",children:"ID"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Name"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Age/Gender"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Contact"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Type"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Last Visit"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Visits"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Status"}),t.jsx("th",{className:"text-left p-2 font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:he.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"text-center py-8 text-gray-500",children:"No patients found"})}):he.map(pe=>t.jsxs("tr",{className:"border-b hover:bg-gray-50 cursor-pointer",onClick:()=>{f(pe),b(!0)},children:[t.jsx("td",{className:"p-2 font-medium text-blue-600",children:pe.patient_id}),t.jsx("td",{className:"p-2",children:pe.full_name?pe.full_name:`${pe.first_name||""} ${pe.last_name||""}`}),t.jsxs("td",{className:"p-2",children:[pe.age,"Y / ",pe.gender]}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[t.jsx(Wd,{size:10}),pe.phone]}),pe.email&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[t.jsx(Di,{size:10}),pe.email]})]})}),t.jsx("td",{className:"p-2",children:t.jsx(re,{variant:pe.patient_type==="inpatient"?"default":"secondary",className:"text-xs",children:pe.patient_type})}),t.jsx("td",{className:"p-2 text-xs",children:pe.created_at?new Date(pe.created_at).toLocaleDateString():"-"}),t.jsx("td",{className:"p-2 text-center",children:"-"}),t.jsx("td",{className:"p-2",children:t.jsx(re,{variant:pe.status==="active"?"default":"secondary",className:"text-xs",children:pe.status})}),t.jsx("td",{className:"p-2",children:t.jsx(k,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",onClick:qe=>{qe.stopPropagation(),f(pe),b(!0)},children:t.jsx(xt,{size:12})})})]},pe.id))})]}),t.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[t.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(y-1)*_+1," to ",Math.min(y*_,N)," of ",N," patients"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(k,{size:"sm",variant:"outline",onClick:()=>z(y-1,c),disabled:y<=1||h,children:"Previous"}),t.jsxs("span",{className:"flex items-center px-3 text-sm",children:["Page ",y," of ",C]}),t.jsx(k,{size:"sm",variant:"outline",onClick:()=>z(y+1,c),disabled:y>=C||h,children:"Next"})]})]})]})})]}),v&&g&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto m-4",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold",children:"Patient Details"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(k,{size:"sm",onClick:()=>{de(g),b(!1)},className:"print:hidden",children:"Edit Patient"}),t.jsx(k,{size:"sm",onClick:()=>{const pe={patientId:g.patient_id,name:g.full_name||`${g.first_name||""} ${g.last_name||""}`,registrationDate:new Date().toLocaleDateString(),branchNumber:U.branch,orgNumber:U.org};console.log("Registration Receipt:",pe),window.print()},className:"print:hidden",children:"Print Prescription"}),t.jsx(k,{size:"sm",variant:"outline",onClick:()=>b(!1),className:"print:hidden",children:"Close"})]})]}),t.jsxs("div",{className:"print:block",children:[t.jsxs("div",{className:"text-center border-b-2 border-gray-300 pb-4 mb-6",children:[t.jsxs("h1",{className:"text-2xl font-bold",children:[((Te=A==null?void 0:A.organization)==null?void 0:Te.name)||(A==null?void 0:A.organization_name)||"Medical Center",((Se=A==null?void 0:A.branch)==null?void 0:Se.name)&&((Ue=A==null?void 0:A.branch)==null?void 0:Ue.name)!==(((be=A==null?void 0:A.organization)==null?void 0:be.name)||(A==null?void 0:A.organization_name))&&t.jsxs("span",{children:[" (",(Z=A==null?void 0:A.branch)==null?void 0:Z.name,")"]})]}),(((xe=A==null?void 0:A.organization)==null?void 0:xe.address)||(A==null?void 0:A.address))&&t.jsx("p",{className:"text-sm",children:((oe=A==null?void 0:A.organization)==null?void 0:oe.address)||(A==null?void 0:A.address)}),(((ze=A==null?void 0:A.organization)==null?void 0:ze.phone)||(A==null?void 0:A.phone))&&t.jsxs("p",{className:"text-sm",children:["Phone: ",((Fe=A==null?void 0:A.organization)==null?void 0:Fe.phone)||(A==null?void 0:A.phone)]}),(((tt=A==null?void 0:A.organization)==null?void 0:tt.email)||(A==null?void 0:A.email))&&t.jsxs("p",{className:"text-sm",children:["Email: ",((ot=A==null?void 0:A.organization)==null?void 0:ot.email)||(A==null?void 0:A.email)]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3 border-b border-gray-200 pb-1",children:"Patient Information"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Patient ID:"})," ",g.patient_id]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Name:"})," ",g.full_name||`${g.first_name||""} ${g.last_name||""}`]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Age/Gender:"})," ",g.age,"Y / ",g.gender]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Phone:"})," ",g.phone||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Email:"})," ",g.email||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Blood Group:"})," ",g.blood_group||"N/A"]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3 border-b border-gray-200 pb-1",children:"Contact & Address"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Address:"})," ",g.address||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"City:"})," ",g.city||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Emergency Contact:"})," ",g.emergency_contact_name||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Emergency Phone:"})," ",g.emergency_contact_phone||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Patient Type:"})," ",g.patient_type]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Registration Date:"})," ",g.created_at?new Date(g.created_at).toLocaleDateString():"N/A"]})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-3 border-b border-gray-200 pb-1",children:"Medical Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Allergies:"})," ",g.allergies||"None reported"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Medical History:"})," ",g.chronic_conditions||"None reported"]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-3 border-b border-gray-200 pb-1",children:"Prescription"}),t.jsxs("div",{className:"min-h-[200px] border border-gray-300 p-4",children:[t.jsx("p",{className:"text-sm text-gray-500 italic",children:"Prescription details to be filled by doctor..."}),t.jsxs("div",{className:"mt-4 space-y-2",children:[t.jsx("div",{className:"border-b border-dotted border-gray-300 h-6"}),t.jsx("div",{className:"border-b border-dotted border-gray-300 h-6"}),t.jsx("div",{className:"border-b border-dotted border-gray-300 h-6"}),t.jsx("div",{className:"border-b border-dotted border-gray-300 h-6"}),t.jsx("div",{className:"border-b border-dotted border-gray-300 h-6"})]})]})]}),t.jsx("div",{className:"border-t-2 border-gray-300 pt-4 mt-6",children:t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Date:"})," ",new Date().toLocaleDateString()]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Time:"})," ",new Date().toLocaleTimeString()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"mb-8",children:"Doctor's Signature"}),t.jsx("div",{className:"border-t border-gray-400 w-32"})]})]})})]})]})})})]})}const r2e=[{id:"MR001",patientId:"PAT001",patientName:"Ram Bahadur Thapa",date:"2024-01-15",type:"prescription",title:"Hypertension Management",description:"Regular medication for blood pressure control",doctor:"Dr. Rajesh Sharma",medications:["Amlodipine 5mg","Losartan 50mg"],status:"active"},{id:"MR002",patientId:"PAT002",patientName:"Sita Devi Sharma",date:"2024-01-10",type:"consultation",title:"Diabetes Follow-up",description:"Regular check-up for diabetes management",doctor:"Dr. Priya Patel",medications:["Metformin 500mg","Glimepiride 2mg"],status:"completed"}];function n2e(){const[e]=x.useState(r2e),[r,n]=x.useState(""),[s,a]=x.useState("all"),i=e.filter(c=>{const d=c.patientName.toLowerCase().includes(r.toLowerCase())||c.title.toLowerCase().includes(r.toLowerCase())||c.patientId.toLowerCase().includes(r.toLowerCase());return s==="all"?d:d&&c.type===s}),o=c=>{switch(c){case"prescription":return t.jsx(Va,{className:"w-4 h-4"});case"consultation":return t.jsx(_i,{className:"w-4 h-4"});case"test":return t.jsx($t,{className:"w-4 h-4"});case"diagnosis":return t.jsx($t,{className:"w-4 h-4"});default:return t.jsx($t,{className:"w-4 h-4"})}},l=c=>{switch(c){case"prescription":return"bg-blue-100 text-blue-800";case"consultation":return"bg-green-100 text-green-800";case"test":return"bg-yellow-100 text-yellow-800";case"diagnosis":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Medical Records"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage patient medical records and history"})]}),t.jsxs(k,{children:[t.jsx(zt,{className:"w-4 h-4 mr-2"}),"Add Record"]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(q,{children:"Patient Records"}),t.jsxs("div",{className:"relative w-64",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),t.jsx(J,{placeholder:"Search records...",value:r,onChange:c=>n(c.target.value),className:"pl-8"})]})]})}),t.jsx(E,{children:t.jsxs(Or,{value:s,onValueChange:a,children:[t.jsxs(Ar,{className:"grid w-full grid-cols-5",children:[t.jsx(Oe,{value:"all",children:"All Records"}),t.jsx(Oe,{value:"prescription",children:"Prescriptions"}),t.jsx(Oe,{value:"consultation",children:"Consultations"}),t.jsx(Oe,{value:"test",children:"Tests"}),t.jsx(Oe,{value:"diagnosis",children:"Diagnosis"})]}),t.jsx($e,{value:s,className:"mt-4",children:t.jsxs("div",{className:"space-y-4",children:[i.map(c=>t.jsx(T,{className:"hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:`p-2 rounded-full ${l(c.type)}`,children:o(c.type)}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:c.title}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.patientName," (",c.patientId,")"]})]})]}),t.jsx("p",{className:"text-sm mb-3",children:c.description}),c.medications&&c.medications.length>0&&t.jsxs("div",{className:"mb-3",children:[t.jsx("p",{className:"text-sm font-medium mb-1",children:"Medications:"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:c.medications.map((d,u)=>t.jsx(re,{variant:"outline",className:"text-xs",children:d},u))})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Rt,{className:"w-3 h-3"}),c.date]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(_i,{className:"w-3 h-3"}),c.doctor]})]})]}),t.jsxs("div",{className:"flex flex-col items-end gap-2",children:[t.jsx(re,{variant:c.status==="active"?"default":c.status==="completed"?"secondary":"destructive",children:c.status}),t.jsx(k,{size:"sm",variant:"outline",children:"View Details"})]})]})})},c.id)),i.length===0&&t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No medical records found matching your search."})]})})]})})]})]})}const s2e=[{id:"RX001",patientId:"PAT001",patientName:"Ram Bahadur Thapa",doctorName:"Dr. Rajesh Sharma",prescriptionDate:"2024-01-15",validUntil:"2024-02-15",status:"pending",medications:[{name:"Amlodipine",dosage:"5mg",frequency:"Once daily",duration:"30 days",quantity:30},{name:"Losartan",dosage:"50mg",frequency:"Once daily",duration:"30 days",quantity:30}],notes:"Take with food. Monitor blood pressure regularly."},{id:"RX002",patientId:"PAT002",patientName:"Sita Devi Sharma",doctorName:"Dr. Priya Patel",prescriptionDate:"2024-01-10",validUntil:"2024-02-10",status:"completed",medications:[{name:"Metformin",dosage:"500mg",frequency:"Twice daily",duration:"30 days",quantity:60}],notes:"Take after meals. Check blood sugar levels."}];function a2e(){const[e]=x.useState(s2e),[r,n]=x.useState(""),[s,a]=x.useState("all"),i=e.filter(c=>{const d=c.patientName.toLowerCase().includes(r.toLowerCase())||c.id.toLowerCase().includes(r.toLowerCase())||c.doctorName.toLowerCase().includes(r.toLowerCase());return s==="all"?d:d&&c.status===s}),o=c=>{switch(c){case"pending":return"bg-yellow-100 text-yellow-800";case"partial":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},l=c=>{const d=new Date,m=new Date(c).getTime()-d.getTime(),h=Math.ceil(m/(1e3*60*60*24));return h<=7&&h>0};return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Patient Prescriptions"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage patient prescriptions and medication orders"})]}),t.jsxs(k,{children:[t.jsx(zt,{className:"w-4 h-4 mr-2"}),"Add Prescription"]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(q,{children:"All Prescriptions"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs(_e,{value:s,onValueChange:a,children:[t.jsx(Pe,{className:"w-40",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Status"}),t.jsx(I,{value:"pending",children:"Pending"}),t.jsx(I,{value:"partial",children:"Partial"}),t.jsx(I,{value:"completed",children:"Completed"}),t.jsx(I,{value:"expired",children:"Expired"})]})]}),t.jsxs("div",{className:"relative w-64",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),t.jsx(J,{placeholder:"Search prescriptions...",value:r,onChange:c=>n(c.target.value),className:"pl-8"})]})]})]})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[i.map(c=>t.jsx(T,{className:"hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 rounded-full bg-blue-100 text-blue-800",children:t.jsx(Va,{className:"w-4 h-4"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold",children:["Prescription ",c.id]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.patientName," (",c.patientId,")"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(_i,{className:"w-3 h-3"}),"Dr. ",c.doctorName]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(Rt,{className:"w-3 h-3"}),c.prescriptionDate]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(Ut,{className:"w-3 h-3"}),"Valid until: ",c.validUntil,l(c.validUntil)&&t.jsx(re,{variant:"destructive",className:"ml-2 text-xs",children:"Expiring Soon"})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Medications:"}),t.jsx("div",{className:"space-y-2",children:c.medications.map((d,u)=>t.jsx("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("span",{className:"font-medium",children:[d.name," ",d.dosage]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.frequency," for ",d.duration," (Qty: ",d.quantity,")"]})]})},u))})]}),c.notes&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"font-medium mb-1",children:"Notes:"}),t.jsx("p",{className:"text-sm text-muted-foreground bg-yellow-50 p-2 rounded",children:c.notes})]})]}),t.jsxs("div",{className:"flex flex-col items-end gap-2",children:[t.jsx(re,{className:o(c.status),children:c.status}),t.jsxs("div",{className:"flex gap-1",children:[t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx($t,{className:"w-3 h-3 mr-1"}),"View"]}),c.status==="pending"&&t.jsx(k,{size:"sm",children:"Process"})]})]})]})})},c.id)),i.length===0&&t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No prescriptions found matching your criteria."})]})})]})]})}const i2e=[{id:"BILL001",patientId:"PAT001",patientName:"Ram Bahadur Thapa",date:"2024-01-15",items:[{name:"Amlodipine 5mg",quantity:30,price:2.5,total:75},{name:"Losartan 50mg",quantity:30,price:3,total:90}],subtotal:165,discount:8.25,tax:20.38,total:177.13,paymentMethod:"cash",status:"completed"},{id:"BILL002",patientId:"PAT002",patientName:"Sita Devi Sharma",date:"2024-01-10",items:[{name:"Metformin 500mg",quantity:60,price:1.5,total:90},{name:"Glimepiride 2mg",quantity:30,price:4,total:120}],subtotal:210,discount:10.5,tax:25.94,total:225.44,paymentMethod:"card",status:"completed"}];function o2e(){const[e]=x.useState(i2e),[r,n]=x.useState(""),[s,a]=x.useState("all"),[i,o]=x.useState("all"),l=e.filter(h=>{const p=h.patientName.toLowerCase().includes(r.toLowerCase())||h.id.toLowerCase().includes(r.toLowerCase())||h.patientId.toLowerCase().includes(r.toLowerCase()),g=s==="all"||h.status===s,f=i==="all"||h.paymentMethod===i;return p&&g&&f}),c=h=>{switch(h){case"completed":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"refunded":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=h=>{switch(h){case"cash":return"bg-blue-100 text-blue-800";case"card":return"bg-purple-100 text-purple-800";case"credit":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},u=l.reduce((h,p)=>h+p.total,0),m=l.length;return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Purchase History"}),t.jsx("p",{className:"text-muted-foreground",children:"Track patient purchase history and transactions"})]}),t.jsxs(k,{children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export Report"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transactions"}),t.jsx("p",{className:"text-2xl font-bold",children:m})]}),t.jsx(vt,{className:"w-8 h-8 text-blue-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",u.toFixed(2)]})]}),t.jsx(mt,{className:"w-8 h-8 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Transaction"}),t.jsxs("p",{className:"text-2xl font-bold",children:["NPR ",m>0?(u/m).toFixed(2):"0.00"]})]}),t.jsx(Rt,{className:"w-8 h-8 text-purple-600"})]})})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(q,{children:"Purchase Transactions"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs(_e,{value:s,onValueChange:a,children:[t.jsx(Pe,{className:"w-32",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Status"}),t.jsx(I,{value:"completed",children:"Completed"}),t.jsx(I,{value:"partial",children:"Partial"}),t.jsx(I,{value:"refunded",children:"Refunded"})]})]}),t.jsxs(_e,{value:i,onValueChange:o,children:[t.jsx(Pe,{className:"w-32",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Payment"}),t.jsx(I,{value:"cash",children:"Cash"}),t.jsx(I,{value:"card",children:"Card"}),t.jsx(I,{value:"credit",children:"Credit"})]})]}),t.jsxs("div",{className:"relative w-64",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),t.jsx(J,{placeholder:"Search purchases...",value:r,onChange:h=>n(h.target.value),className:"pl-8"})]})]})]})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[l.map(h=>t.jsx(T,{className:"hover:shadow-md transition-shadow",children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 rounded-full bg-green-100 text-green-800",children:t.jsx(vt,{className:"w-4 h-4"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold",children:["Bill ",h.id]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.patientName," (",h.patientId,")"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(Rt,{className:"w-3 h-3"}),h.date]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx(mt,{className:"w-3 h-3"}),"NPR ",h.total.toFixed(2)]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Items Purchased:"}),t.jsx("div",{className:"space-y-1",children:h.items.map((p,g)=>t.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-gray-50 rounded",children:[t.jsx("span",{children:p.name}),t.jsxs("span",{children:[p.quantity," × NPR ",p.price.toFixed(2)," = NPR ",p.total.toFixed(2)]})]},g))})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),t.jsxs("p",{className:"font-medium",children:["NPR ",h.subtotal.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Discount:"}),t.jsxs("p",{className:"font-medium text-green-600",children:["-NPR ",h.discount.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Tax:"}),t.jsxs("p",{className:"font-medium",children:["NPR ",h.tax.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Total:"}),t.jsxs("p",{className:"font-bold",children:["NPR ",h.total.toFixed(2)]})]})]})]}),t.jsxs("div",{className:"flex flex-col items-end gap-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(re,{className:c(h.status),children:h.status}),t.jsx(re,{className:d(h.paymentMethod),children:h.paymentMethod})]}),t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(xt,{className:"w-3 h-3 mr-1"}),"View Receipt"]})]})]})})},h.id)),l.length===0&&t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No purchase history found matching your criteria."})]})})]})]})}const l2e={totalPatients:1247,activePatients:892,newPatientsThisMonth:45,averageAge:42.5,genderDistribution:{male:567,female:634,other:46},topMedications:[{name:"Metformin",prescriptions:234,patients:189},{name:"Amlodipine",prescriptions:198,patients:156},{name:"Losartan",prescriptions:167,patients:134},{name:"Atorvastatin",prescriptions:145,patients:112},{name:"Omeprazole",prescriptions:123,patients:98}],monthlyVisits:[{month:"Jan",visits:456,newPatients:23},{month:"Feb",visits:523,newPatients:31},{month:"Mar",visits:489,newPatients:28},{month:"Apr",visits:567,newPatients:35},{month:"May",visits:612,newPatients:42},{month:"Jun",visits:578,newPatients:38}]};function c2e(){const[e]=x.useState(l2e),[r,n]=x.useState("overview"),[s,a]=x.useState("month");return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Patient Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Analytics and insights about patient data"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{variant:"outline",children:[t.jsx(Na,{className:"w-4 h-4 mr-2"}),"Filters"]}),t.jsxs(k,{children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsxs(_e,{value:r,onValueChange:n,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"overview",children:"Overview Report"}),t.jsx(I,{value:"demographics",children:"Demographics"}),t.jsx(I,{value:"medications",children:"Medication Analysis"}),t.jsx(I,{value:"visits",children:"Visit Patterns"}),t.jsx(I,{value:"revenue",children:"Revenue by Patient"})]})]}),t.jsxs(_e,{value:s,onValueChange:a,children:[t.jsx(Pe,{className:"w-32",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"week",children:"This Week"}),t.jsx(I,{value:"month",children:"This Month"}),t.jsx(I,{value:"quarter",children:"This Quarter"}),t.jsx(I,{value:"year",children:"This Year"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rt,{className:"w-4 h-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"Custom Range:"}),t.jsx(k,{variant:"outline",size:"sm",children:"Select Dates"})]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Patients"}),t.jsx("p",{className:"text-2xl font-bold",children:e.totalPatients.toLocaleString()}),t.jsx("p",{className:"text-xs text-green-600",children:"+12.5% from last month"})]}),t.jsx(it,{className:"w-8 h-8 text-blue-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Patients"}),t.jsx("p",{className:"text-2xl font-bold",children:e.activePatients.toLocaleString()}),t.jsx("p",{className:"text-xs text-green-600",children:"+8.3% from last month"})]}),t.jsx(yt,{className:"w-8 h-8 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"New This Month"}),t.jsx("p",{className:"text-2xl font-bold",children:e.newPatientsThisMonth}),t.jsx("p",{className:"text-xs text-blue-600",children:"+15.2% from last month"})]}),t.jsx(it,{className:"w-8 h-8 text-purple-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Age"}),t.jsxs("p",{className:"text-2xl font-bold",children:[e.averageAge," years"]}),t.jsx("p",{className:"text-xs text-gray-600",children:"Stable"})]}),t.jsx(ar,{className:"w-8 h-8 text-orange-600"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(mi,{className:"w-5 h-5"}),"Gender Distribution"]})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),t.jsx("span",{children:"Male"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:e.genderDistribution.male}),t.jsxs(re,{variant:"outline",children:[(e.genderDistribution.male/e.totalPatients*100).toFixed(1),"%"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full"}),t.jsx("span",{children:"Female"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:e.genderDistribution.female}),t.jsxs(re,{variant:"outline",children:[(e.genderDistribution.female/e.totalPatients*100).toFixed(1),"%"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),t.jsx("span",{children:"Other"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:e.genderDistribution.other}),t.jsxs(re,{variant:"outline",children:[(e.genderDistribution.other/e.totalPatients*100).toFixed(1),"%"]})]})]})]})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(ar,{className:"w-5 h-5"}),"Top Prescribed Medications"]})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-3",children:e.topMedications.map((i,o)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:i.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.patients," patients"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-bold",children:i.prescriptions}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"prescriptions"})]})]},o))})})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(yt,{className:"w-5 h-5"}),"Monthly Visit Trends"]})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:t.jsx("div",{className:"grid grid-cols-6 gap-4",children:e.monthlyVisits.map((i,o)=>t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg mb-2",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.visits}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"visits"})]}),t.jsx("div",{className:"text-sm font-medium",children:i.month}),t.jsxs("div",{className:"text-xs text-green-600",children:["+",i.newPatients," new"]})]},o))})})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Export Options"})}),t.jsx(E,{children:t.jsxs("div",{className:"flex gap-4",children:[t.jsxs(k,{variant:"outline",children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export as PDF"]}),t.jsxs(k,{variant:"outline",children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export as Excel"]}),t.jsxs(k,{variant:"outline",children:[t.jsx(bt,{className:"w-4 h-4 mr-2"}),"Export as CSV"]})]})})]})]})}const _E={general:{autoAssignPatientId:!0,patientIdPrefix:"PAT",requirePhoneNumber:!0,requireEmail:!1,requireAddress:!0,allowDuplicateNames:!1},privacy:{dataRetentionPeriod:7,anonymizeAfterPeriod:!0,requireConsentForMarketing:!0,allowDataExport:!0,encryptSensitiveData:!0},notifications:{birthdayReminders:!0,appointmentReminders:!0,prescriptionRefillReminders:!0,emailNotifications:!0,smsNotifications:!1},records:{defaultRecordType:"consultation",autoArchiveOldRecords:!0,archiveAfterMonths:24,requireDoctorSignature:!0,allowPatientAccess:!1}};function d2e(){const[e,r]=x.useState(_E),[n,s]=x.useState(!1),a=(l,c,d)=>{r(u=>({...u,[l]:{...u[l],[c]:d}})),s(!0)},i=()=>{console.log("Saving settings:",e),s(!1)},o=()=>{r(_E),s(!0)};return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Patient Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure patient management preferences and policies"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(k,{variant:"outline",onClick:o,children:"Reset to Default"}),t.jsxs(k,{onClick:i,disabled:!n,children:[t.jsx(Co,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]}),t.jsxs(Or,{defaultValue:"general",className:"space-y-4",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-4",children:[t.jsxs(Oe,{value:"general",className:"flex items-center gap-2",children:[t.jsx(ln,{className:"w-4 h-4"}),"General"]}),t.jsxs(Oe,{value:"privacy",className:"flex items-center gap-2",children:[t.jsx(Cs,{className:"w-4 h-4"}),"Privacy"]}),t.jsxs(Oe,{value:"notifications",className:"flex items-center gap-2",children:[t.jsx(id,{className:"w-4 h-4"}),"Notifications"]}),t.jsxs(Oe,{value:"records",className:"flex items-center gap-2",children:[t.jsx($t,{className:"w-4 h-4"}),"Records"]})]}),t.jsx($e,{value:"general",children:t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(it,{className:"w-5 h-5"}),"General Patient Settings"]})}),t.jsx(E,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Auto-assign Patient ID"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically generate unique patient IDs"})]}),t.jsx(wt,{checked:e.general.autoAssignPatientId,onCheckedChange:l=>a("general","autoAssignPatientId",l)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"patientIdPrefix",children:"Patient ID Prefix"}),t.jsx(J,{id:"patientIdPrefix",value:e.general.patientIdPrefix,onChange:l=>a("general","patientIdPrefix",l.target.value),placeholder:"PAT"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Require Phone Number"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Make phone number mandatory"})]}),t.jsx(wt,{checked:e.general.requirePhoneNumber,onCheckedChange:l=>a("general","requirePhoneNumber",l)})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Require Email Address"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Make email address mandatory"})]}),t.jsx(wt,{checked:e.general.requireEmail,onCheckedChange:l=>a("general","requireEmail",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Require Address"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Make address mandatory"})]}),t.jsx(wt,{checked:e.general.requireAddress,onCheckedChange:l=>a("general","requireAddress",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Allow Duplicate Names"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow patients with same name"})]}),t.jsx(wt,{checked:e.general.allowDuplicateNames,onCheckedChange:l=>a("general","allowDuplicateNames",l)})]})]})]})})]})}),t.jsx($e,{value:"privacy",children:t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(Cs,{className:"w-5 h-5"}),"Privacy & Data Protection"]})}),t.jsx(E,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"dataRetention",children:"Data Retention Period (Years)"}),t.jsx(J,{id:"dataRetention",type:"number",value:e.privacy.dataRetentionPeriod,onChange:l=>a("privacy","dataRetentionPeriod",parseInt(l.target.value))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Anonymize After Retention Period"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Remove personal identifiers after retention period"})]}),t.jsx(wt,{checked:e.privacy.anonymizeAfterPeriod,onCheckedChange:l=>a("privacy","anonymizeAfterPeriod",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Require Marketing Consent"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Require explicit consent for marketing communications"})]}),t.jsx(wt,{checked:e.privacy.requireConsentForMarketing,onCheckedChange:l=>a("privacy","requireConsentForMarketing",l)})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Allow Data Export"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow patients to export their data"})]}),t.jsx(wt,{checked:e.privacy.allowDataExport,onCheckedChange:l=>a("privacy","allowDataExport",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Encrypt Sensitive Data"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Encrypt sensitive patient information"})]}),t.jsx(wt,{checked:e.privacy.encryptSensitiveData,onCheckedChange:l=>a("privacy","encryptSensitiveData",l)})]})]})]})})]})}),t.jsx($e,{value:"notifications",children:t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(id,{className:"w-5 h-5"}),"Notification Settings"]})}),t.jsx(E,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Birthday Reminders"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Send birthday wishes to patients"})]}),t.jsx(wt,{checked:e.notifications.birthdayReminders,onCheckedChange:l=>a("notifications","birthdayReminders",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Appointment Reminders"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Send appointment reminders"})]}),t.jsx(wt,{checked:e.notifications.appointmentReminders,onCheckedChange:l=>a("notifications","appointmentReminders",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Prescription Refill Reminders"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Remind patients about prescription refills"})]}),t.jsx(wt,{checked:e.notifications.prescriptionRefillReminders,onCheckedChange:l=>a("notifications","prescriptionRefillReminders",l)})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Email Notifications"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications via email"})]}),t.jsx(wt,{checked:e.notifications.emailNotifications,onCheckedChange:l=>a("notifications","emailNotifications",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"SMS Notifications"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications via SMS"})]}),t.jsx(wt,{checked:e.notifications.smsNotifications,onCheckedChange:l=>a("notifications","smsNotifications",l)})]})]})]})})]})}),t.jsx($e,{value:"records",children:t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx($t,{className:"w-5 h-5"}),"Medical Records Settings"]})}),t.jsx(E,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"defaultRecordType",children:"Default Record Type"}),t.jsxs(_e,{value:e.records.defaultRecordType,onValueChange:l=>a("records","defaultRecordType",l),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"consultation",children:"Consultation"}),t.jsx(I,{value:"prescription",children:"Prescription"}),t.jsx(I,{value:"test",children:"Test Result"}),t.jsx(I,{value:"diagnosis",children:"Diagnosis"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Auto-archive Old Records"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically archive old medical records"})]}),t.jsx(wt,{checked:e.records.autoArchiveOldRecords,onCheckedChange:l=>a("records","autoArchiveOldRecords",l)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"archiveAfter",children:"Archive After (Months)"}),t.jsx(J,{id:"archiveAfter",type:"number",value:e.records.archiveAfterMonths,onChange:l=>a("records","archiveAfterMonths",parseInt(l.target.value))})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Require Doctor Signature"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Require digital signature for medical records"})]}),t.jsx(wt,{checked:e.records.requireDoctorSignature,onCheckedChange:l=>a("records","requireDoctorSignature",l)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Allow Patient Access"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow patients to view their medical records"})]}),t.jsx(wt,{checked:e.records.allowPatientAccess,onCheckedChange:l=>a("records","allowPatientAccess",l)})]})]})]})})]})})]}),n&&t.jsx(T,{className:"border-orange-200 bg-orange-50",children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-orange-800",children:[t.jsx(ln,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:"You have unsaved changes"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(k,{variant:"outline",size:"sm",onClick:()=>s(!1),children:"Discard"}),t.jsx(k,{size:"sm",onClick:i,children:"Save Changes"})]})]})})})]})}var QL={exports:{}},ZL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=x;function u2e(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var m2e=typeof Object.is=="function"?Object.is:u2e,h2e=Fd.useState,f2e=Fd.useEffect,p2e=Fd.useLayoutEffect,x2e=Fd.useDebugValue;function g2e(e,r){var n=r(),s=h2e({inst:{value:n,getSnapshot:r}}),a=s[0].inst,i=s[1];return p2e(function(){a.value=n,a.getSnapshot=r,wj(a)&&i({inst:a})},[e,n,r]),f2e(function(){return wj(a)&&i({inst:a}),e(function(){wj(a)&&i({inst:a})})},[e]),x2e(n),n}function wj(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!m2e(e,n)}catch{return!0}}function v2e(e,r){return r()}var y2e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v2e:g2e;ZL.useSyncExternalStore=Fd.useSyncExternalStore!==void 0?Fd.useSyncExternalStore:y2e;QL.exports=ZL;var j2e=QL.exports;function b2e(){return j2e.useSyncExternalStore(N2e,()=>!0,()=>!1)}function N2e(){return()=>{}}var M2="Avatar",[w2e,SPe]=Gn(M2),[S2e,JL]=w2e(M2),e6=x.forwardRef((e,r)=>{const{__scopeAvatar:n,...s}=e,[a,i]=x.useState("idle");return t.jsx(S2e,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:t.jsx(Je.span,{...s,ref:r})})});e6.displayName=M2;var t6="AvatarImage",r6=x.forwardRef((e,r)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=JL(t6,n),l=P2e(s,i),c=Gr(d=>{a(d),o.onImageLoadingStatusChange(d)});return Lr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?t.jsx(Je.img,{...i,ref:r,src:s}):null});r6.displayName=t6;var n6="AvatarFallback",s6=x.forwardRef((e,r)=>{const{__scopeAvatar:n,delayMs:s,...a}=e,i=JL(n6,n),[o,l]=x.useState(s===void 0);return x.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?t.jsx(Je.span,{...a,ref:r}):null});s6.displayName=n6;function AE(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function P2e(e,{referrerPolicy:r,crossOrigin:n}){const s=b2e(),a=x.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=x.useState(()=>AE(i,e));return Lr(()=>{l(AE(i,e))},[i,e]),Lr(()=>{const c=m=>()=>{l(m)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),r&&(i.referrerPolicy=r),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,n,r]),o}var a6=e6,i6=r6,o6=s6;const To=x.forwardRef(({className:e,...r},n)=>t.jsx(a6,{ref:n,className:Ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));To.displayName=a6.displayName;const ON=x.forwardRef(({className:e,...r},n)=>t.jsx(i6,{ref:n,className:Ee("aspect-square h-full w-full",e),...r}));ON.displayName=i6.displayName;const Eo=x.forwardRef(({className:e,...r},n)=>t.jsx(o6,{ref:n,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));Eo.displayName=o6.displayName;const TE="https://drpharmas.com/backend",C2e=["Male","Female","Other"],_2e=["A+","A-","B+","B-","AB+","AB-","O+","O-"];function EE(){const[e,r]=x.useState([]),[n,s]=x.useState(!0),[a,i]=x.useState("");x.useState("all");const[o,l]=x.useState("all"),[c,d]=x.useState(null),[u,m]=x.useState(null),[h,p]=x.useState(!1),[g,f]=x.useState(!1),[v,b]=x.useState(!1),[y,j]=x.useState({name:"",email:"",phone:"",address:"",dateOfBirth:"",gender:"Male",bloodGroup:"O+",emergencyContact:"",allergies:"",chronicConditions:"",preferredBranch:"Central Pharmacy"}),{toast:C}=Tt(),S=async()=>{try{s(!0);const R=localStorage.getItem("access_token")||localStorage.getItem("token"),X=await fetch(`${TE}/inventory/customers/`,{headers:{"Content-Type":"application/json",...R&&{Authorization:`Bearer ${R}`}}});if(X.ok){const F=(await X.json()).map(te=>({id:te.id,name:te.organization_name,organization_name:te.organization_name,branch_name:te.branch_name,totalOrders:te.order_count,totalSpent:te.total_orders,totalPaid:te.total_paid,totalCredit:te.total_credit,lastOrderDate:te.last_order_date,firstOrderDate:te.first_order_date,status:"active"}));r(F)}else C({title:"Error",description:"Failed to load customer data",variant:"destructive"})}catch(R){console.error("Error fetching customers:",R),C({title:"Error",description:"Failed to load customer data",variant:"destructive"})}finally{s(!1)}};x.useEffect(()=>{S()},[]);const N=e.filter(R=>{const X=R.name.toLowerCase().includes(a.toLowerCase())||R.organization_name.toLowerCase().includes(a.toLowerCase())||R.branch_name.toLowerCase().includes(a.toLowerCase()),z=o==="all"||R.branch_name===o;return X&&z}),P=[...new Set(e.map(R=>R.branch_name))].filter(Boolean),_=R=>{const X={Platinum:"bg-purple-100 text-purple-800 border-purple-200",Gold:"bg-yellow-100 text-yellow-800 border-yellow-200",Silver:"bg-gray-100 text-gray-800 border-gray-200",Bronze:"bg-orange-100 text-orange-800 border-orange-200"};return t.jsx(re,{className:X[R]||X.Bronze,children:R})},w=R=>{const X={active:"bg-green-100 text-green-800 border-green-200",inactive:"bg-gray-100 text-gray-800 border-gray-200"};return t.jsx(re,{className:X[R]||X.inactive,children:R})},A=()=>{if(!y.name||!y.email||!y.phone){C({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}C({title:"Success",description:"Customer added successfully"}),f(!1),j({name:"",email:"",phone:"",address:"",dateOfBirth:"",gender:"Male",bloodGroup:"O+",emergencyContact:"",allergies:"",chronicConditions:"",preferredBranch:"Central Pharmacy"})},D=async R=>{try{p(!0),d(R),b(!0);const X=localStorage.getItem("access_token")||localStorage.getItem("token"),z=await fetch(`${TE}/inventory/customers/${R.id}/details/`,{headers:{"Content-Type":"application/json",...X&&{Authorization:`Bearer ${X}`}}});if(z.ok){const F=await z.json();m(F)}else C({title:"Error",description:"Failed to load customer details",variant:"destructive"})}catch(X){console.error("Error fetching customer details:",X),C({title:"Error",description:"Failed to load customer details",variant:"destructive"})}finally{p(!1)}},O=e.length,$=e.reduce((R,X)=>R+(parseFloat(X.totalSpent)||0),0),U=e.reduce((R,X)=>R+(parseFloat(X.totalPaid)||0),0),V=e.reduce((R,X)=>R+(parseFloat(X.totalCredit)||0),0);return t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Customer Directory"}),t.jsx("p",{className:"text-muted-foreground",children:"Pharmacy organizations that have placed orders with you"})]}),t.jsxs(rt,{open:g,onOpenChange:f,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{className:"animate-fade-in",children:[t.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Customer"]})}),t.jsxs(nt,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Customer"}),t.jsx(Pt,{children:"Enter customer details to create a new profile"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"name",children:"Full Name *"}),t.jsx(J,{id:"name",value:y.name,onChange:R=>j({...y,name:R.target.value}),placeholder:"Enter full name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"email",children:"Email *"}),t.jsx(J,{id:"email",type:"email",value:y.email,onChange:R=>j({...y,email:R.target.value}),placeholder:"customer@email.com"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"phone",children:"Phone Number *"}),t.jsx(J,{id:"phone",value:y.phone,onChange:R=>j({...y,phone:R.target.value}),placeholder:"+977-9XXXXXXXXX"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"emergency",children:"Emergency Contact"}),t.jsx(J,{id:"emergency",value:y.emergencyContact,onChange:R=>j({...y,emergencyContact:R.target.value}),placeholder:"+977-9XXXXXXXXX"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"address",children:"Address"}),t.jsx(Vt,{id:"address",value:y.address,onChange:R=>j({...y,address:R.target.value}),placeholder:"Enter complete address"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"dob",children:"Date of Birth"}),t.jsx(J,{id:"dob",type:"date",value:y.dateOfBirth,onChange:R=>j({...y,dateOfBirth:R.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"gender",children:"Gender"}),t.jsxs(_e,{value:y.gender,onValueChange:R=>j({...y,gender:R}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsx(Ce,{className:"bg-background border z-50",children:C2e.map(R=>t.jsx(I,{value:R,children:R},R))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"blood",children:"Blood Group"}),t.jsxs(_e,{value:y.bloodGroup,onValueChange:R=>j({...y,bloodGroup:R}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsx(Ce,{className:"bg-background border z-50",children:_2e.map(R=>t.jsx(I,{value:R,children:R},R))})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"branch",children:"Preferred Branch"}),t.jsxs(_e,{value:y.preferredBranch,onValueChange:R=>j({...y,preferredBranch:R}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsx(Ce,{className:"bg-background border z-50",children:P.map(R=>t.jsx(I,{value:R,children:R},R))})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"allergies",children:"Known Allergies"}),t.jsx(Vt,{id:"allergies",value:y.allergies,onChange:R=>j({...y,allergies:R.target.value}),placeholder:"List any known allergies (comma separated)"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"conditions",children:"Chronic Conditions"}),t.jsx(Vt,{id:"conditions",value:y.chronicConditions,onChange:R=>j({...y,chronicConditions:R.target.value}),placeholder:"List chronic conditions (comma separated)"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(k,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),t.jsx(k,{onClick:A,children:"Add Customer"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Total Customers"}),t.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:O}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered customers"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Total Sales Amount"}),t.jsx(mt,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["Rs. ",$.toFixed(2).replace(/\.00$/,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total sales revenue"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Total Paid"}),t.jsx(yt,{className:"h-4 w-4 text-green-600"})]}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["Rs. ",U.toFixed(2).replace(/\.00$/,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Amount received"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Total Credit to Receive"}),t.jsx(zw,{className:"h-4 w-4 text-orange-600"})]}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["Rs. ",V.toFixed(2).replace(/\.00$/,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Outstanding amount"})]})]})]}),t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Customer Directory"}),t.jsx(kt,{children:"Pharmacy organizations that have placed orders with you"})]}),t.jsxs(E,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search customers...",value:a,onChange:R=>i(R.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:o,onValueChange:l,children:[t.jsx(Pe,{className:"w-full md:w-40",children:t.jsx(Ae,{placeholder:"Branch"})}),t.jsxs(Ce,{className:"bg-background border z-50",children:[t.jsx(I,{value:"all",children:"All Branches"}),P.map(R=>t.jsx(I,{value:R,children:R},R))]})]})]}),t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Organization"}),t.jsx(K,{children:"Branch"}),t.jsx(K,{children:"Total Orders"}),t.jsx(K,{children:"Total Amount"}),t.jsx(K,{children:"Paid Amount"}),t.jsx(K,{children:"Credit Amount"}),t.jsx(K,{children:"Last Order"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:n?t.jsx(Ie,{children:t.jsx(W,{colSpan:8,className:"text-center py-8",children:"Loading customers..."})}):N.length===0?t.jsx(Ie,{children:t.jsx(W,{colSpan:8,className:"text-center py-8",children:"No customers found"})}):N.map(R=>t.jsxs(Ie,{className:"animate-fade-in",children:[t.jsx(W,{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(To,{children:t.jsx(Eo,{children:R.organization_name.split(" ").map(X=>X[0]).join("").substring(0,2)})}),t.jsxs("div",{children:[t.jsx(wr,{to:`/customers/detail/${R.id}`,className:"font-medium text-blue-600 hover:underline",children:R.organization_name}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Customer since: ",new Date(R.firstOrderDate).toLocaleDateString()]})]})]})}),t.jsx(W,{children:t.jsx("div",{className:"font-medium",children:R.branch_name})}),t.jsxs(W,{children:[t.jsx("div",{className:"font-medium",children:R.totalOrders}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"orders placed"})]}),t.jsx(W,{children:t.jsxs("div",{className:"font-medium",children:["Rs. ",R.totalSpent.toLocaleString()]})}),t.jsx(W,{children:t.jsxs("div",{className:"font-medium text-green-600",children:["Rs. ",R.totalPaid.toLocaleString()]})}),t.jsx(W,{children:t.jsxs("div",{className:"font-medium text-orange-600",children:["Rs. ",R.totalCredit.toLocaleString()]})}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center text-sm",children:[t.jsx(Rt,{className:"h-3 w-3 mr-1"}),new Date(R.lastOrderDate).toLocaleDateString()]})}),t.jsx(W,{children:t.jsx("div",{className:"flex space-x-2",children:t.jsx(k,{variant:"ghost",size:"sm",onClick:()=>D(R),children:t.jsx(xt,{className:"h-4 w-4"})})})})]},R.id))})]})})]})]}),t.jsx(rt,{open:v,onOpenChange:R=>{b(R),R||(m(null),d(null))},children:t.jsxs(nt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Customer Details"}),t.jsx(Pt,{children:"Complete customer information and order history"})]}),h?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),t.jsx("div",{children:"Loading customer details..."})]})}):u&&c?t.jsxs(Or,{defaultValue:"summary",className:"w-full",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-4",children:[t.jsx(Oe,{value:"summary",children:"Summary"}),t.jsx(Oe,{value:"orders",children:"Order History"}),t.jsx(Oe,{value:"items",children:"Recent Items"}),t.jsx(Oe,{value:"loyalty",children:"Loyalty"})]}),t.jsxs($e,{value:"summary",className:"space-y-6",children:[t.jsxs("div",{className:"flex items-start space-x-6",children:[t.jsx(To,{className:"w-20 h-20",children:t.jsx(Eo,{className:"text-xl",children:u.customer.organization_name.split(" ").map(R=>R[0]).join("").substring(0,2)})}),t.jsx("div",{className:"flex-1 space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{className:"text-sm font-medium text-muted-foreground",children:"Organization Name"}),t.jsx("div",{className:"text-lg font-semibold",children:u.customer.organization_name})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-sm font-medium text-muted-foreground",children:"Branch"}),t.jsx("div",{className:"text-lg font-semibold",children:u.customer.branch_name})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-sm font-medium text-muted-foreground",children:"Customer Since"}),t.jsx("div",{className:"text-lg font-semibold",children:new Date(u.customer.customer_since).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[w(u.customer.status),u.summary.status==="released"?t.jsx(re,{className:"bg-green-100 text-green-800 border-green-200",children:"Released"}):u.summary.status==="pending"?t.jsx(re,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:"Pending"}):null]})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(B,{className:"pb-3",children:t.jsx(q,{className:"text-sm",children:"Total Orders"})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:u.summary.total_orders}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Orders placed"})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-3",children:t.jsx(q,{className:"text-sm",children:"Total Amount"})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["Rs. ",u.summary.total_amount.toLocaleString()]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total value"})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-3",children:t.jsx(q,{className:"text-sm",children:"Paid Amount"})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["Rs. ",u.summary.paid_amount.toLocaleString()]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Amount received"})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-3",children:t.jsx(q,{className:"text-sm",children:"Credit Amount"})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["Rs. ",u.summary.credit_amount.toLocaleString()]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Outstanding"})]})]})]})]}),t.jsx($e,{value:"orders",className:"space-y-4",children:t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Order Number"}),t.jsx(K,{children:"Date"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Items"}),t.jsx(K,{children:"Amount"}),t.jsx(K,{children:"Paid"}),t.jsx(K,{children:"Remaining"}),t.jsx(K,{children:"Released"})]})}),t.jsx(At,{children:u.order_history.map(R=>t.jsxs(Ie,{children:[t.jsx(W,{className:"font-medium",children:R.order_number}),t.jsx(W,{children:new Date(R.order_date).toLocaleDateString()}),t.jsx(W,{children:t.jsx(re,{className:R.status==="completed"?"bg-green-100 text-green-800":R.status==="delivered"?"bg-blue-100 text-blue-800":R.status==="shipped"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800",children:R.status.replace("_"," ")})}),t.jsx(W,{children:R.items_count}),t.jsxs(W,{children:["Rs. ",R.total_amount.toLocaleString()]}),t.jsxs(W,{className:"text-green-600",children:["Rs. ",R.paid_amount.toLocaleString()]}),t.jsxs(W,{className:"text-orange-600",children:["Rs. ",R.remaining_amount.toLocaleString()]}),t.jsx(W,{children:R.is_released?t.jsx(re,{className:"bg-green-100 text-green-800 border-green-200",children:"Yes"}):t.jsx(re,{className:"bg-gray-100 text-gray-800 border-gray-200",children:"No"})})]},R.id))})]})})}),t.jsx($e,{value:"items",className:"space-y-4",children:t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Product Name"}),t.jsx(K,{children:"Quantity"}),t.jsx(K,{children:"Unit Price"}),t.jsx(K,{children:"Order Date"}),t.jsx(K,{children:"Order Number"})]})}),t.jsx(At,{children:u.recent_items.map((R,X)=>t.jsxs(Ie,{children:[t.jsx(W,{className:"font-medium",children:R.product_name}),t.jsx(W,{children:R.quantity}),t.jsxs(W,{children:["Rs. ",R.unit_price.toLocaleString()]}),t.jsx(W,{children:new Date(R.order_date).toLocaleDateString()}),t.jsx(W,{children:R.order_number})]},X))})]})})}),t.jsx($e,{value:"loyalty",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(B,{className:"pb-3",children:t.jsx(q,{className:"text-sm",children:"Loyalty Tier"})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:u.loyalty_metrics.tier}),_(u.loyalty_metrics.tier)]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-3",children:t.jsx(q,{className:"text-sm",children:"Loyalty Points"})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:u.loyalty_metrics.points.toLocaleString()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Available points"})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-3",children:t.jsx(q,{className:"text-sm",children:"Avg Order Value"})}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["Rs. ",Math.round(u.loyalty_metrics.avg_order_value).toLocaleString()]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Per order"})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-3",children:t.jsx(q,{className:"text-sm",children:"Order Frequency"})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:u.loyalty_metrics.order_frequency}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Customer type"})]})]})]})})]}):t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No customer details available"})]})})]})}function A2e(){var S,N,P,_,w,A,D,O,$,U,V,R,X,z;const{id:e}=i1(),[r,n]=x.useState(null),[s,a]=x.useState({transactions:[],summary:{}}),[i,o]=x.useState(!0),[l,c]=x.useState(1),[d,u]=x.useState(!1),[m,h]=x.useState({amount:"",method:"cash",reference:""}),[p,g]=x.useState(!1),f=10,{toast:v}=Tt();x.useEffect(()=>{e&&(async()=>{try{o(!0);const te=localStorage.getItem("access_token")||localStorage.getItem("token"),[de,ie]=e.split("-");n({id:e,organization_name:de,branch_name:ie,customer_type:"buyer"});const fe=await fetch(`http://localhost:8000/api/inventory/customers/${encodeURIComponent(e)}/transactions/`,{headers:{"Content-Type":"application/json",...te&&{Authorization:`Bearer ${te}`}}});if(fe.ok){const ge=await fe.json();a({summary:ge.summary||{},transactions:ge.transactions||[]})}else v({title:"Error",description:"Failed to load customer transaction data",variant:"destructive"})}catch(te){console.error("Error fetching customer data:",te),v({title:"Error",description:"Failed to load customer data",variant:"destructive"})}finally{o(!1)}})()},[e]);const b=async()=>{if(!m.amount||parseFloat(m.amount)<=0){v({title:"Error",description:"Please enter a valid payment amount",variant:"destructive"});return}g(!0);try{const F=localStorage.getItem("access_token")||localStorage.getItem("token"),te=await fetch(`http://localhost:8000/api/inventory/customers/${encodeURIComponent(e)}/collect-payment/`,{method:"POST",headers:{"Content-Type":"application/json",...F&&{Authorization:`Bearer ${F}`}},body:JSON.stringify({payment_amount:parseFloat(m.amount),payment_method:m.method,payment_reference:m.reference})});if(te.ok){const de=await te.json();v({title:"Success",description:`Payment of NPR ${parseFloat(m.amount).toLocaleString()} collected successfully`}),u(!1),h({amount:"",method:"cash",reference:""});const ie=await fetch(`http://localhost:8000/api/inventory/customers/${encodeURIComponent(e)}/transactions/`,{headers:{"Content-Type":"application/json",...F&&{Authorization:`Bearer ${F}`}}});if(ie.ok){const fe=await ie.json();a({summary:fe.summary||{},transactions:fe.transactions||[]})}}else{const de=await te.json();v({title:"Error",description:de.error||"Failed to collect payment",variant:"destructive"})}}catch{v({title:"Error",description:"Failed to collect payment",variant:"destructive"})}finally{g(!1)}},y=s.transactions||[],j=y.slice((l-1)*f,l*f),C=Math.ceil(y.length/f);return i?t.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):r?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(k,{variant:"outline",size:"sm",asChild:!0,children:t.jsxs(wr,{to:"/customers",children:[t.jsx(Do,{size:16,className:"mr-2"}),"Back"]})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:r.organization_name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Customer ID: ",e]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["NPR ",((N=(S=s.summary)==null?void 0:S.total_orders)==null?void 0:N.toLocaleString())||"0"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Order Amount"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ss,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold text-green-600",children:["NPR ",((_=(P=s.summary)==null?void 0:P.total_paid)==null?void 0:_.toLocaleString())||"0"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Payment Received"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(yt,{className:"h-5 w-5 text-orange-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["NPR ",((A=(w=s.summary)==null?void 0:w.total_credit)==null?void 0:A.toLocaleString())||"0"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Outstanding Balance"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:((O=(D=s.transactions)==null?void 0:D.filter(F=>F.transaction_type==="order"))==null?void 0:O.length)||0}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"})]})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",children:"Customer Information"}),t.jsxs("div",{className:"space-y-2 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ps,{size:12}),t.jsxs("span",{children:["Organization: ",(r==null?void 0:r.organization_name)||"N/A"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ps,{size:12}),t.jsxs("span",{children:["Branch: ",(r==null?void 0:r.branch_name)||"N/A"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rt,{size:12}),t.jsx("span",{children:"Customer Type: Buyer Organization"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",children:"Transaction Summary"}),t.jsxs("div",{className:"space-y-2 text-xs",children:[t.jsxs("div",{children:["Total Transactions: ",y.length]}),t.jsxs("div",{children:["Orders: ",((U=($=s.transactions)==null?void 0:$.filter(F=>F.transaction_type==="order"))==null?void 0:U.length)||0]}),t.jsxs("div",{children:["Payments: ",((R=(V=s.transactions)==null?void 0:V.filter(F=>F.transaction_type==="payment"))==null?void 0:R.length)||0]})]})]})]})})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx("h3",{className:"text-sm font-medium",children:"Transaction History & Payment Records"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(rt,{open:d,onOpenChange:u,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{size:"sm",className:"text-xs",children:[t.jsx(zt,{size:12,className:"mr-1"}),"Collect Payment"]})}),t.jsxs(nt,{className:"max-w-md",children:[t.jsx(st,{children:t.jsxs(at,{children:["Collect Payment from ",r==null?void 0:r.organization_name]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-sm",children:[t.jsx("div",{className:"font-medium",children:"Outstanding Balance"}),t.jsxs("div",{className:"text-lg font-bold text-orange-600",children:["NPR ",((z=(X=s.summary)==null?void 0:X.total_credit)==null?void 0:z.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"amount",children:"Payment Amount (NPR)"}),t.jsx(J,{id:"amount",type:"number",placeholder:"Enter amount",value:m.amount,onChange:F=>h(te=>({...te,amount:F.target.value}))})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"method",children:"Payment Method"}),t.jsxs(_e,{value:m.method,onValueChange:F=>h(te=>({...te,method:F})),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"cash",children:"Cash"}),t.jsx(I,{value:"bank_transfer",children:"Bank Transfer"}),t.jsx(I,{value:"cheque",children:"Cheque"}),t.jsx(I,{value:"digital_wallet",children:"Digital Wallet"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"reference",children:"Reference/Notes (Optional)"}),t.jsx(J,{id:"reference",placeholder:"Transaction reference or notes",value:m.reference,onChange:F=>h(te=>({...te,reference:F.target.value}))})]})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx(k,{variant:"outline",onClick:()=>u(!1),className:"flex-1",children:"Cancel"}),t.jsx(k,{onClick:b,disabled:p,className:"flex-1",children:p?"Processing...":"Collect Payment"})]})]})]})]}),t.jsxs(k,{variant:"outline",size:"sm",className:"text-xs",children:[t.jsx(Om,{size:12,className:"mr-1"}),"Print"]}),t.jsxs(k,{variant:"outline",size:"sm",className:"text-xs",children:[t.jsx(bt,{size:12,className:"mr-1"}),"Export"]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{className:"text-xs py-2",children:"Date"}),t.jsx(K,{className:"text-xs py-2",children:"Description"}),t.jsx(K,{className:"text-xs py-2",children:"Order Amount"}),t.jsx(K,{className:"text-xs py-2",children:"Payment Received"}),t.jsx(K,{className:"text-xs py-2",children:"Payment Method"}),t.jsx(K,{className:"text-xs py-2",children:"Outstanding Balance"}),t.jsx(K,{className:"text-xs py-2",children:"Status"}),t.jsx(K,{className:"text-xs py-2",children:"Action"})]})}),t.jsx(At,{children:j.map(F=>t.jsxs(Ie,{className:"border-b hover:bg-muted/50",children:[t.jsx(W,{className:"py-2 text-xs",children:new Date(F.date).toLocaleDateString()}),t.jsx(W,{className:"py-2 text-xs",children:F.description}),t.jsx(W,{className:"py-2 text-xs font-medium text-blue-600",children:(F.order_amount||0)>0?`NPR ${(F.order_amount||0).toLocaleString()}`:"-"}),t.jsx(W,{className:"py-2 text-xs font-medium text-green-600",children:(F.payment||0)>0?`NPR ${(F.payment||0).toLocaleString()}`:"-"}),t.jsx(W,{className:"py-2 text-xs",children:F.transaction_type==="payment"?t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:F.payment_method||"Cash"}),F.payment_reference&&t.jsx("div",{className:"text-muted-foreground text-xs",children:F.payment_reference})]}):"-"}),t.jsx(W,{className:`py-2 text-xs font-medium ${(F.balance||0)>0?"text-orange-600":"text-green-600"}`,children:F.transaction_type==="payment"&&(F.balance||0)===0?"-":`NPR ${(F.balance||0).toLocaleString()}`}),t.jsx(W,{className:"py-2",children:t.jsx(re,{variant:F.status==="Cleared"?"default":"secondary",className:"text-xs",children:F.status})}),t.jsx(W,{className:"py-2",children:F.transaction_type==="order"&&t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsx(k,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:t.jsx(xt,{size:12})})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsx(st,{children:t.jsxs(at,{className:"text-lg",children:["Order Details - ",F.reference_id]})}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 bg-muted/50 rounded-lg text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Order ID:"}),t.jsx("div",{children:F.reference_id})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Date:"}),t.jsx("div",{children:new Date(F.date).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total Amount:"}),t.jsxs("div",{className:"font-bold text-blue-600",children:["NPR ",(F.order_amount||0).toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Status:"}),t.jsx("div",{children:F.status})]})]})})]})]})})]},F.id))})]})}),C>1&&t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing ",(l-1)*f+1," to ",Math.min(l*f,y.length)," of ",y.length," entries"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(k,{variant:"outline",size:"sm",onClick:()=>c(F=>Math.max(F-1,1)),disabled:l===1,className:"h-7 px-2 text-xs",children:"Previous"}),Array.from({length:C},(F,te)=>te+1).map(F=>t.jsx(k,{variant:F===l?"default":"outline",size:"sm",onClick:()=>c(F),className:"h-7 w-7 text-xs",children:F},F)),t.jsx(k,{variant:"outline",size:"sm",onClick:()=>c(F=>Math.min(F+1,C)),disabled:l===C,className:"h-7 px-2 text-xs",children:"Next"})]})]})]})]})]}):t.jsx("div",{className:"text-center text-muted-foreground",children:"Customer not found"})}const T2e=[{id:"P001",prescriptionNumber:"RX-2024-001",customerId:"C001",customerName:"Ram Sharma",customerAge:38,customerGender:"Male",doctorName:"Dr. Sita Rai",doctorLicense:"DL-12345",clinic:"Kathmandu Medical Center",issueDate:"2024-01-15",expiryDate:"2024-02-15",status:"active",urgency:"normal",medications:[{name:"Metformin HCl",strength:"500mg",form:"Tablet",quantity:60,dosage:"1 tablet twice daily",duration:"30 days",instructions:"Take with meals"},{name:"Lisinopril",strength:"10mg",form:"Tablet",quantity:30,dosage:"1 tablet once daily",duration:"30 days",instructions:"Take in the morning"}],diagnosis:"Type 2 Diabetes, Hypertension",notes:"Patient education provided on diabetes management",dispensedBy:"Pharmacist A",dispensedDate:"2024-01-15",branch:"Central Pharmacy",totalAmount:1250,insuranceCovered:750,patientPaid:500},{id:"P002",prescriptionNumber:"RX-2024-002",customerId:"C002",customerName:"Sita Gurung",customerAge:33,customerGender:"Female",doctorName:"Dr. Ram Poudel",doctorLicense:"DL-54321",clinic:"Pokhara General Hospital",issueDate:"2024-01-12",expiryDate:"2024-02-12",status:"completed",urgency:"urgent",medications:[{name:"Salbutamol",strength:"100mcg",form:"Inhaler",quantity:2,dosage:"2 puffs as needed",duration:"As required",instructions:"Use during asthma attacks"},{name:"Prednisolone",strength:"5mg",form:"Tablet",quantity:20,dosage:"1 tablet daily",duration:"10 days",instructions:"Take with food, taper dose"}],diagnosis:"Acute Asthma Exacerbation",notes:"Emergency prescription for asthma management",dispensedBy:"Pharmacist B",dispensedDate:"2024-01-12",branch:"Branch Pharmacy A",totalAmount:980,insuranceCovered:0,patientPaid:980},{id:"P003",prescriptionNumber:"RX-2024-003",customerId:"C003",customerName:"Hari Thapa",customerAge:45,customerGender:"Male",doctorName:"Dr. Maya Singh",doctorLicense:"DL-67890",clinic:"Chitwan Medical College",issueDate:"2024-01-10",expiryDate:"2024-02-10",status:"partially_filled",urgency:"normal",medications:[{name:"Atorvastatin",strength:"20mg",form:"Tablet",quantity:30,dosage:"1 tablet at bedtime",duration:"30 days",instructions:"Take with water"},{name:"Ibuprofen",strength:"400mg",form:"Tablet",quantity:20,dosage:"1 tablet twice daily",duration:"10 days",instructions:"Take with food"}],diagnosis:"Hypercholesterolemia, Arthritis",notes:"Monitor liver function tests",dispensedBy:"Pharmacist C",dispensedDate:"2024-01-10",branch:"Express Pharmacy",totalAmount:1850,insuranceCovered:1110,patientPaid:740}],E2e=["all","active","completed","partially_filled","expired","cancelled"],k2e=["all","normal","urgent","emergency"];function O2e(){const[e]=x.useState(T2e),[r,n]=x.useState(""),[s,a]=x.useState("all"),[i,o]=x.useState("all"),[l,c]=x.useState(null),[d,u]=x.useState(!1),[m,h]=x.useState(!1),[p,g]=x.useState({customerId:"",customerName:"",doctorName:"",doctorLicense:"",clinic:"",diagnosis:"",notes:"",urgency:"normal",medications:[]}),{toast:f}=Tt(),v=e.filter(w=>{const A=w.customerName.toLowerCase().includes(r.toLowerCase())||w.prescriptionNumber.toLowerCase().includes(r.toLowerCase())||w.doctorName.toLowerCase().includes(r.toLowerCase()),D=s==="all"||w.status===s,O=i==="all"||w.urgency===i;return A&&D&&O}),b=w=>{const A={active:"bg-green-100 text-green-800 border-green-200",completed:"bg-blue-100 text-blue-800 border-blue-200",partially_filled:"bg-yellow-100 text-yellow-800 border-yellow-200",expired:"bg-red-100 text-red-800 border-red-200",cancelled:"bg-gray-100 text-gray-800 border-gray-200"};return t.jsx(re,{className:A[w]||A.active,children:w.replace("_"," ")})},y=w=>{const A={normal:"bg-gray-100 text-gray-800 border-gray-200",urgent:"bg-orange-100 text-orange-800 border-orange-200",emergency:"bg-red-100 text-red-800 border-red-200"};return t.jsx(re,{className:A[w]||A.normal,children:w})},j=()=>{if(!p.customerName||!p.doctorName){f({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}f({title:"Success",description:"Prescription added successfully"}),u(!1),g({customerId:"",customerName:"",doctorName:"",doctorLicense:"",clinic:"",diagnosis:"",notes:"",urgency:"normal",medications:[]})},C=w=>{const A=new Date,O=new Date(w).getTime()-A.getTime();return Math.ceil(O/(1e3*3600*24))},S=e.length,N=e.filter(w=>w.status==="active").length,P=e.filter(w=>w.urgency==="urgent"||w.urgency==="emergency").length,_=e.filter(w=>C(w.expiryDate)<=7&&w.status==="active").length;return t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Customer Prescriptions"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage customer prescriptions and medication history"})]}),t.jsxs(rt,{open:d,onOpenChange:u,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{className:"animate-fade-in",children:[t.jsx(zt,{className:"mr-2 h-4 w-4"}),"New Prescription"]})}),t.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Prescription"}),t.jsx(Pt,{children:"Enter prescription details and medications"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"customer",children:"Customer Name *"}),t.jsx(J,{id:"customer",value:p.customerName,onChange:w=>g({...p,customerName:w.target.value}),placeholder:"Enter customer name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"customerId",children:"Customer ID"}),t.jsx(J,{id:"customerId",value:p.customerId,onChange:w=>g({...p,customerId:w.target.value}),placeholder:"Customer ID"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"doctor",children:"Doctor Name *"}),t.jsx(J,{id:"doctor",value:p.doctorName,onChange:w=>g({...p,doctorName:w.target.value}),placeholder:"Dr. Name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"license",children:"Doctor License"}),t.jsx(J,{id:"license",value:p.doctorLicense,onChange:w=>g({...p,doctorLicense:w.target.value}),placeholder:"DL-XXXXX"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"clinic",children:"Clinic/Hospital"}),t.jsx(J,{id:"clinic",value:p.clinic,onChange:w=>g({...p,clinic:w.target.value}),placeholder:"Clinic name"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"diagnosis",children:"Diagnosis"}),t.jsx(Vt,{id:"diagnosis",value:p.diagnosis,onChange:w=>g({...p,diagnosis:w.target.value}),placeholder:"Patient diagnosis"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"urgency",children:"Urgency Level"}),t.jsxs(_e,{value:p.urgency,onValueChange:w=>g({...p,urgency:w}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsxs(Ce,{className:"bg-background border z-50",children:[t.jsx(I,{value:"normal",children:"Normal"}),t.jsx(I,{value:"urgent",children:"Urgent"}),t.jsx(I,{value:"emergency",children:"Emergency"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"notes",children:"Additional Notes"}),t.jsx(Vt,{id:"notes",value:p.notes,onChange:w=>g({...p,notes:w.target.value}),placeholder:"Any special instructions or notes"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(k,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),t.jsx(k,{onClick:j,children:"Add Prescription"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Total Prescriptions"}),t.jsx($t,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:S}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"All time prescriptions"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Active Prescriptions"}),t.jsx(ut,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:N}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Urgent Prescriptions"}),t.jsx(tr,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:P}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Need immediate attention"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Expiring Soon"}),t.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:_}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Expiring within 7 days"})]})]})]}),t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Prescription Management"}),t.jsx(kt,{children:"Search and manage customer prescriptions"})]}),t.jsxs(E,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search prescriptions...",value:r,onChange:w=>n(w.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:s,onValueChange:a,children:[t.jsx(Pe,{className:"w-full md:w-40",children:t.jsx(Ae,{placeholder:"Status"})}),t.jsxs(Ce,{className:"bg-background border z-50",children:[t.jsx(I,{value:"all",children:"All Status"}),E2e.filter(w=>w!=="all").map(w=>t.jsx(I,{value:w,children:w.replace("_"," ")},w))]})]}),t.jsxs(_e,{value:i,onValueChange:o,children:[t.jsx(Pe,{className:"w-full md:w-40",children:t.jsx(Ae,{placeholder:"Urgency"})}),t.jsxs(Ce,{className:"bg-background border z-50",children:[t.jsx(I,{value:"all",children:"All Urgency"}),k2e.filter(w=>w!=="all").map(w=>t.jsx(I,{value:w,children:w},w))]})]})]}),t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Prescription Details"}),t.jsx(K,{children:"Customer"}),t.jsx(K,{children:"Doctor"}),t.jsx(K,{children:"Medications"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Urgency"}),t.jsx(K,{children:"Expiry"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:v.map(w=>t.jsxs(Ie,{className:"animate-fade-in",children:[t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:w.prescriptionNumber}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsx(Rt,{className:"inline h-3 w-3 mr-1"}),w.issueDate]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:w.branch})]})}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(To,{className:"w-8 h-8",children:t.jsx(Eo,{children:w.customerName.split(" ").map(A=>A[0]).join("")})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:w.customerName}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[w.customerAge,"y, ",w.customerGender]})]})]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:w.doctorName}),t.jsx("div",{className:"text-sm text-muted-foreground",children:w.doctorLicense}),t.jsx("div",{className:"text-sm text-muted-foreground",children:w.clinic})]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium",children:[w.medications.length," medications"]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[w.medications.slice(0,2).map((A,D)=>t.jsxs("div",{children:[A.name," ",A.strength]},D)),w.medications.length>2&&t.jsxs("div",{className:"text-xs",children:["+",w.medications.length-2," more"]})]})]})}),t.jsx(W,{children:b(w.status)}),t.jsx(W,{children:y(w.urgency)}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm",children:w.expiryDate}),t.jsxs("div",{className:`text-xs ${C(w.expiryDate)<=7?"text-red-600":C(w.expiryDate)<=14?"text-yellow-600":"text-muted-foreground"}`,children:[C(w.expiryDate)," days left"]})]})}),t.jsx(W,{children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(k,{variant:"ghost",size:"sm",onClick:()=>{c(w),h(!0)},children:t.jsx(xt,{className:"h-4 w-4"})}),t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(mn,{className:"h-4 w-4"})}),t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(as,{className:"h-4 w-4"})})]})})]},w.id))})]})})]})]}),t.jsx(rt,{open:m,onOpenChange:h,children:t.jsxs(nt,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Prescription Details"}),t.jsx(Pt,{children:"Complete prescription information and medication list"})]}),l&&t.jsxs(Or,{defaultValue:"details",className:"w-full",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-3",children:[t.jsx(Oe,{value:"details",children:"Prescription Details"}),t.jsx(Oe,{value:"medications",children:"Medications"}),t.jsx(Oe,{value:"billing",children:"Billing & Insurance"})]}),t.jsxs($e,{value:"details",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{className:"text-lg",children:"Patient Information"})}),t.jsxs(E,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(To,{className:"w-12 h-12",children:t.jsx(Eo,{children:l.customerName.split(" ").map(w=>w[0]).join("")})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:l.customerName}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.customerAge," years, ",l.customerGender]})]})]}),t.jsx(La,{}),t.jsxs("div",{children:[t.jsx(M,{children:"Patient ID"}),t.jsx("div",{className:"font-medium",children:l.customerId})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Diagnosis"}),t.jsx("div",{className:"font-medium",children:l.diagnosis})]})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{className:"text-lg",children:"Prescription Information"})}),t.jsxs(E,{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Prescription Number"}),t.jsx("div",{className:"font-medium",children:l.prescriptionNumber})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Issue Date"}),t.jsx("div",{className:"font-medium",children:l.issueDate})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Expiry Date"}),t.jsx("div",{className:"font-medium",children:l.expiryDate})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Status"}),t.jsx("div",{children:b(l.status)})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Urgency"}),t.jsx("div",{children:y(l.urgency)})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Branch"}),t.jsx("div",{className:"font-medium",children:l.branch})]})]})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{className:"text-lg",children:"Prescriber Information"})}),t.jsx(E,{children:t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Doctor Name"}),t.jsx("div",{className:"font-medium",children:l.doctorName})]}),t.jsxs("div",{children:[t.jsx(M,{children:"License Number"}),t.jsx("div",{className:"font-medium",children:l.doctorLicense})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Clinic/Hospital"}),t.jsx("div",{className:"font-medium",children:l.clinic})]})]})})]}),l.notes&&t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{className:"text-lg",children:"Additional Notes"})}),t.jsx(E,{children:t.jsx("div",{className:"font-medium",children:l.notes})})]})]}),t.jsx($e,{value:"medications",className:"space-y-4",children:t.jsx("div",{className:"space-y-4",children:l.medications.map((w,A)=>t.jsxs(T,{children:[t.jsx(B,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(q,{className:"text-lg flex items-center",children:[t.jsx(Va,{className:"mr-2 h-5 w-5"}),w.name," ",w.strength]}),t.jsx(re,{variant:"outline",children:w.form})]})}),t.jsxs(E,{children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Quantity"}),t.jsx("div",{className:"font-medium",children:w.quantity})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Dosage"}),t.jsx("div",{className:"font-medium",children:w.dosage})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Duration"}),t.jsx("div",{className:"font-medium",children:w.duration})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Form"}),t.jsx("div",{className:"font-medium",children:w.form})]})]}),w.instructions&&t.jsxs("div",{className:"mt-3",children:[t.jsx(M,{children:"Special Instructions"}),t.jsx("div",{className:"font-medium text-blue-600",children:w.instructions})]})]})]},A))})}),t.jsx($e,{value:"billing",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{className:"text-lg",children:"Billing Summary"})}),t.jsxs(E,{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Total Amount:"}),t.jsxs("span",{className:"font-medium",children:["Rs. ",l.totalAmount]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Insurance Covered:"}),t.jsxs("span",{className:"font-medium text-green-600",children:["Rs. ",l.insuranceCovered]})]}),t.jsx(La,{}),t.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[t.jsx("span",{children:"Patient Paid:"}),t.jsxs("span",{children:["Rs. ",l.patientPaid]})]})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{className:"text-lg",children:"Dispensing Information"})}),t.jsxs(E,{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Dispensed By"}),t.jsx("div",{className:"font-medium",children:l.dispensedBy})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Dispensed Date"}),t.jsx("div",{className:"font-medium",children:l.dispensedDate})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Dispensing Branch"}),t.jsx("div",{className:"font-medium",children:l.branch})]})]})]})]})})]})]})})]})}var I2="Progress",$2=100,[R2e,PPe]=Gn(I2),[D2e,M2e]=R2e(I2),l6=x.forwardRef((e,r)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:i=I2e,...o}=e;(a||a===0)&&!kE(a)&&console.error($2e(`${a}`,"Progress"));const l=kE(a)?a:$2;s!==null&&!OE(s,l)&&console.error(L2e(`${s}`,"Progress"));const c=OE(s,l)?s:null,d=ng(c)?i(c,l):void 0;return t.jsx(D2e,{scope:n,value:c,max:l,children:t.jsx(Je.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ng(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":u6(c,l),"data-value":c??void 0,"data-max":l,...o,ref:r})})});l6.displayName=I2;var c6="ProgressIndicator",d6=x.forwardRef((e,r)=>{const{__scopeProgress:n,...s}=e,a=M2e(c6,n);return t.jsx(Je.div,{"data-state":u6(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:r})});d6.displayName=c6;function I2e(e,r){return`${Math.round(e/r*100)}%`}function u6(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function ng(e){return typeof e=="number"}function kE(e){return ng(e)&&!isNaN(e)&&e>0}function OE(e,r){return ng(e)&&!isNaN(e)&&e<=r&&e>=0}function $2e(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$2}\`.`}function L2e(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var m6=l6,F2e=d6;const Ma=x.forwardRef(({className:e,value:r,...n},s)=>t.jsx(m6,{ref:s,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:t.jsx(F2e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));Ma.displayName=m6.displayName;const z2e=[{id:"C001",customerId:"C001",customerName:"Ram Sharma",email:"ram.sharma@email.com",phone:"+977-9841234567",currentTier:"Gold",totalPoints:2450,usedPoints:200,availablePoints:2250,totalSpent:25e3,joinDate:"2023-01-15",lastActivity:"2024-01-10",tierProgress:75,nextTierRequired:3e3,rewardsEarned:12,rewardsRedeemed:3,avatar:""},{id:"C002",customerId:"C002",customerName:"Sita Gurung",email:"sita.gurung@email.com",phone:"+977-9856789012",currentTier:"Silver",totalPoints:1850,usedPoints:150,availablePoints:1700,totalSpent:18500,joinDate:"2023-03-20",lastActivity:"2024-01-12",tierProgress:62,nextTierRequired:2500,rewardsEarned:8,rewardsRedeemed:2,avatar:""},{id:"C003",customerId:"C003",customerName:"Hari Thapa",email:"hari.thapa@email.com",phone:"+977-9812345678",currentTier:"Platinum",totalPoints:4500,usedPoints:500,availablePoints:4e3,totalSpent:45e3,joinDate:"2022-11-10",lastActivity:"2024-01-08",tierProgress:100,nextTierRequired:5e3,rewardsEarned:25,rewardsRedeemed:8,avatar:""},{id:"C004",customerId:"C004",customerName:"Maya Shrestha",email:"maya.shrestha@email.com",phone:"+977-9823456789",currentTier:"Bronze",totalPoints:1200,usedPoints:50,availablePoints:1150,totalSpent:12e3,joinDate:"2023-06-05",lastActivity:"2024-01-05",tierProgress:48,nextTierRequired:1500,rewardsEarned:5,rewardsRedeemed:1,avatar:""}],B2e=[{id:"R001",name:"10% Discount Voucher",description:"Get 10% off on your next purchase",pointsCost:500,category:"discount",validityDays:30,usageLimit:1,isActive:!0,totalRedeemed:125},{id:"R002",name:"Free Health Checkup",description:"Complimentary basic health checkup",pointsCost:1e3,category:"service",validityDays:60,usageLimit:1,isActive:!0,totalRedeemed:45},{id:"R003",name:"Vitamin Supplement Pack",description:"Free vitamin supplement pack worth Rs. 1500",pointsCost:1500,category:"product",validityDays:90,usageLimit:1,isActive:!0,totalRedeemed:28},{id:"R004",name:"Free Prescription Delivery",description:"Complimentary home delivery for 3 orders",pointsCost:300,category:"service",validityDays:180,usageLimit:3,isActive:!0,totalRedeemed:89}],U2e=[{id:"T001",customerId:"C001",customerName:"Ram Sharma",type:"earned",points:250,description:"Purchase - Invoice #INV-001",date:"2024-01-10",orderAmount:2500},{id:"T002",customerId:"C001",customerName:"Ram Sharma",type:"redeemed",points:-500,description:"10% Discount Voucher",date:"2024-01-08",orderAmount:0},{id:"T003",customerId:"C002",customerName:"Sita Gurung",type:"earned",points:185,description:"Purchase - Invoice #INV-002",date:"2024-01-12",orderAmount:1850}],RE=["Bronze","Silver","Gold","Platinum"];function V2e(){const[e,r]=x.useState("members"),[n]=x.useState(z2e),[s]=x.useState(B2e),[a]=x.useState(U2e),[i,o]=x.useState(""),[l,c]=x.useState("all"),[d,u]=x.useState(null),[m,h]=x.useState(!1),[p,g]=x.useState(!1),{toast:f}=Tt(),v=n.filter(w=>{const A=w.customerName.toLowerCase().includes(i.toLowerCase())||w.email.toLowerCase().includes(i.toLowerCase()),D=l==="all"||w.currentTier===l;return A&&D}),b=w=>{const A={Platinum:"bg-purple-100 text-purple-800 border-purple-200",Gold:"bg-yellow-100 text-yellow-800 border-yellow-200",Silver:"bg-gray-100 text-gray-800 border-gray-200",Bronze:"bg-orange-100 text-orange-800 border-orange-200"};return t.jsx(re,{className:A[w]||A.Bronze,children:w})},y=w=>{switch(w){case"Platinum":return t.jsx(lB,{className:"h-4 w-4 text-purple-600"});case"Gold":return t.jsx(ol,{className:"h-4 w-4 text-yellow-600"});case"Silver":return t.jsx(On,{className:"h-4 w-4 text-gray-600"});default:return t.jsx(Ay,{className:"h-4 w-4 text-orange-600"})}},j=w=>{const A={discount:"bg-green-100 text-green-800 border-green-200",service:"bg-blue-100 text-blue-800 border-blue-200",product:"bg-purple-100 text-purple-800 border-purple-200"};return t.jsx(re,{className:A[w]||A.discount,children:w})},C=(w,A)=>{f({title:"Reward Redeemed",description:"Points have been deducted and reward has been issued"})},S=n.length,N=n.reduce((w,A)=>w+A.totalPoints,0),P=n.reduce((w,A)=>w+A.usedPoints,0),_=s.reduce((w,A)=>w+A.totalRedeemed,0);return t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Loyalty Program"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage customer loyalty points and rewards"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(rt,{open:p,onOpenChange:g,children:t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{variant:"outline",children:[t.jsx(zt,{className:"mr-2 h-4 w-4"}),"Add Reward"]})})}),t.jsxs(k,{children:[t.jsx(Ay,{className:"mr-2 h-4 w-4"}),"Program Settings"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Total Members"}),t.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:S}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active loyalty members"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Points Issued"}),t.jsx(On,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:N.toLocaleString()}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total points earned"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Points Redeemed"}),t.jsx(Ay,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:P.toLocaleString()}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Points used for rewards"})]})]}),t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Rewards Redeemed"}),t.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:_}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total reward redemptions"})]})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(Or,{value:e,onValueChange:r,className:"w-full",children:t.jsxs(Ar,{className:"grid w-full grid-cols-4",children:[t.jsx(Oe,{value:"members",children:"Members"}),t.jsx(Oe,{value:"rewards",children:"Rewards Catalog"}),t.jsx(Oe,{value:"transactions",children:"Transactions"}),t.jsx(Oe,{value:"analytics",children:"Analytics"})]})})}),t.jsxs(E,{children:[t.jsxs($e,{value:"members",className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search members...",value:i,onChange:w=>o(w.target.value),className:"pl-10"})]}),t.jsxs(_e,{value:l,onValueChange:c,children:[t.jsx(Pe,{className:"w-full md:w-40",children:t.jsx(Ae,{placeholder:"Tier"})}),t.jsxs(Ce,{className:"bg-background border z-50",children:[t.jsx(I,{value:"all",children:"All Tiers"}),RE.map(w=>t.jsx(I,{value:w,children:w},w))]})]})]}),t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Member"}),t.jsx(K,{children:"Current Tier"}),t.jsx(K,{children:"Points"}),t.jsx(K,{children:"Total Spent"}),t.jsx(K,{children:"Tier Progress"}),t.jsx(K,{children:"Last Activity"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:v.map(w=>t.jsxs(Ie,{className:"animate-fade-in",children:[t.jsx(W,{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(To,{children:[t.jsx(ON,{src:w.avatar}),t.jsx(Eo,{children:w.customerName.split(" ").map(A=>A[0]).join("")})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:w.customerName}),t.jsx("div",{className:"text-sm text-muted-foreground",children:w.email})]})]})}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[y(w.currentTier),b(w.currentTier)]})}),t.jsx(W,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:w.availablePoints.toLocaleString()}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[w.usedPoints," used | ",w.totalPoints," total"]})]})}),t.jsx(W,{children:t.jsxs("div",{className:"font-medium",children:["Rs. ",w.totalSpent.toLocaleString()]})}),t.jsx(W,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{children:[w.tierProgress,"%"]}),t.jsxs("span",{children:["Next: ",w.nextTierRequired]})]}),t.jsx(Ma,{value:w.tierProgress,className:"w-full"})]})}),t.jsx(W,{children:w.lastActivity}),t.jsx(W,{children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(k,{variant:"ghost",size:"sm",onClick:()=>{u(w),h(!0)},children:t.jsx(xt,{className:"h-4 w-4"})}),t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(mn,{className:"h-4 w-4"})})]})})]},w.id))})]})})]}),t.jsx($e,{value:"rewards",className:"space-y-4",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(w=>t.jsxs(T,{className:"hover-scale",children:[t.jsxs(B,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(q,{className:"text-lg",children:w.name}),j(w.category)]}),t.jsx(kt,{children:w.description})]}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(On,{className:"h-4 w-4 text-yellow-500"}),t.jsxs("span",{className:"font-bold text-lg",children:[w.pointsCost," points"]})]}),t.jsx(re,{variant:w.isActive?"default":"secondary",children:w.isActive?"Active":"Inactive"})]}),t.jsx(La,{}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Validity:"}),t.jsxs("div",{className:"font-medium",children:[w.validityDays," days"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Usage:"}),t.jsxs("div",{className:"font-medium",children:[w.usageLimit,"x"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Redeemed:"}),t.jsx("div",{className:"font-medium",children:w.totalRedeemed})]})]}),t.jsxs(k,{className:"w-full",variant:"outline",children:[t.jsx(mn,{className:"mr-2 h-4 w-4"}),"Edit Reward"]})]})})]},w.id))})}),t.jsx($e,{value:"transactions",className:"space-y-4",children:t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Customer"}),t.jsx(K,{children:"Type"}),t.jsx(K,{children:"Points"}),t.jsx(K,{children:"Description"}),t.jsx(K,{children:"Date"}),t.jsx(K,{children:"Order Amount"})]})}),t.jsx(At,{children:a.map(w=>t.jsxs(Ie,{className:"animate-fade-in",children:[t.jsxs(W,{children:[t.jsx("div",{className:"font-medium",children:w.customerName}),t.jsx("div",{className:"text-sm text-muted-foreground",children:w.customerId})]}),t.jsx(W,{children:t.jsx(re,{className:w.type==="earned"?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",children:w.type})}),t.jsx(W,{children:t.jsxs("span",{className:`font-bold ${w.type==="earned"?"text-green-600":"text-red-600"}`,children:[w.type==="earned"?"+":"",w.points]})}),t.jsx(W,{children:w.description}),t.jsx(W,{children:w.date}),t.jsx(W,{children:w.orderAmount>0?`Rs. ${w.orderAmount.toLocaleString()}`:"-"})]},w.id))})]})})}),t.jsx($e,{value:"analytics",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Tier Distribution"}),t.jsx(kt,{children:"Member distribution across loyalty tiers"})]}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:RE.map(w=>{const A=n.filter(O=>O.currentTier===w).length,D=A/S*100;return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[y(w),t.jsx("span",{className:"font-medium",children:w})]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[A," members (",D.toFixed(1),"%)"]})]}),t.jsx(Ma,{value:D,className:"w-full"})]},w)})})})]}),t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Points Analytics"}),t.jsx(kt,{children:"Point earning and redemption overview"})]}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.toLocaleString()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Points Issued"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:P.toLocaleString()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Points Redeemed"})]})]}),t.jsx(La,{}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[t.jsx("span",{children:"Redemption Rate"}),t.jsxs("span",{children:[(P/N*100).toFixed(1),"%"]})]}),t.jsx(Ma,{value:P/N*100,className:"w-full"})]})]})})]})]})})]})]}),t.jsx(rt,{open:m,onOpenChange:h,children:t.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Loyalty Member Details"}),t.jsx(Pt,{children:"Complete loyalty program information"})]}),d&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-start space-x-6",children:[t.jsxs(To,{className:"w-20 h-20",children:[t.jsx(ON,{src:d.avatar}),t.jsx(Eo,{className:"text-xl",children:d.customerName.split(" ").map(w=>w[0]).join("")})]}),t.jsx("div",{className:"flex-1 space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Member Name"}),t.jsx("div",{className:"text-lg font-medium",children:d.customerName})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Current Tier"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[y(d.currentTier),b(d.currentTier)]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Available Points"}),t.jsx("div",{className:"text-lg font-medium text-green-600",children:d.availablePoints.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Total Earned"}),t.jsx("div",{className:"text-lg font-medium",children:d.totalPoints.toLocaleString()})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{className:"text-lg",children:"Tier Progress"})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{children:["Progress to ",d.currentTier==="Platinum"?"Platinum Max":"Next Tier"]}),t.jsxs("span",{children:[d.tierProgress,"%"]})]}),t.jsx(Ma,{value:d.tierProgress,className:"w-full"}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.nextTierRequired-d.totalPoints," more points needed"]})]})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{className:"text-lg",children:"Rewards Summary"})}),t.jsx(E,{children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:d.rewardsEarned}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Rewards Earned"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:d.rewardsRedeemed}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Rewards Used"})]})]})})]})]}),t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{className:"text-lg",children:"Available Rewards"}),t.jsx(kt,{children:"Rewards this member can redeem"})]}),t.jsx(E,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.filter(w=>w.pointsCost<=d.availablePoints&&w.isActive).map(w=>t.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium",children:w.name}),j(w.category)]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:w.description}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(On,{className:"h-4 w-4 text-yellow-500"}),t.jsxs("span",{className:"font-medium",children:[w.pointsCost," points"]})]}),t.jsx(k,{size:"sm",onClick:()=>C(d.id,w.id),children:"Redeem"})]})]},w.id))})})]})]})]})})]})}const q2e={light:"",dark:".dark"},h6=x.createContext(null);function f6(){const e=x.useContext(h6);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const gs=x.forwardRef(({id:e,className:r,children:n,config:s,...a},i)=>{const o=x.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return t.jsx(h6.Provider,{value:{config:s},children:t.jsxs("div",{"data-chart":l,ref:i,className:Ee("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",r),...a,children:[t.jsx(W2e,{id:l,config:s}),t.jsx(ur,{children:n})]})})});gs.displayName="Chart";const W2e=({id:e,config:r})=>{const n=Object.entries(r).filter(([s,a])=>a.theme||a.color);return n.length?t.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(q2e).map(([s,a])=>`
${a} [data-chart=${e}] {
${n.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[s])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Zn=Br,vs=x.forwardRef(({active:e,payload:r,className:n,indicator:s="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:d,color:u,nameKey:m,labelKey:h},p)=>{const{config:g}=f6(),f=x.useMemo(()=>{var S;if(a||!(r!=null&&r.length))return null;const[b]=r,y=`${h||b.dataKey||b.name||"value"}`,j=DN(g,b,y),C=!h&&typeof o=="string"?((S=g[o])==null?void 0:S.label)||o:j==null?void 0:j.label;return l?t.jsx("div",{className:Ee("font-medium",c),children:l(C,r)}):C?t.jsx("div",{className:Ee("font-medium",c),children:C}):null},[o,l,r,a,c,g,h]);if(!e||!(r!=null&&r.length))return null;const v=r.length===1&&s!=="dot";return t.jsxs("div",{ref:p,className:Ee("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[v?null:f,t.jsx("div",{className:"grid gap-1.5",children:r.map((b,y)=>{const j=`${m||b.name||b.dataKey||"value"}`,C=DN(g,b,j),S=u||b.payload.fill||b.color;return t.jsx("div",{className:Ee("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",s==="dot"&&"items-center"),children:d&&(b==null?void 0:b.value)!==void 0&&b.name?d(b.value,b.name,b,y,b.payload):t.jsxs(t.Fragment,{children:[C!=null&&C.icon?t.jsx(C.icon,{}):!i&&t.jsx("div",{className:Ee("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":s==="dot","w-1":s==="line","w-0 border-[1.5px] border-dashed bg-transparent":s==="dashed","my-0.5":v&&s==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),t.jsxs("div",{className:Ee("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[t.jsxs("div",{className:"grid gap-1.5",children:[v?f:null,t.jsx("span",{className:"text-muted-foreground",children:(C==null?void 0:C.label)||b.name})]}),b.value&&t.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:b.value.toLocaleString()})]})]})},b.dataKey)})})]})});vs.displayName="ChartTooltip";const RN=Wa,sg=x.forwardRef(({className:e,hideIcon:r=!1,payload:n,verticalAlign:s="bottom",nameKey:a},i)=>{const{config:o}=f6();return n!=null&&n.length?t.jsx("div",{ref:i,className:Ee("flex items-center justify-center gap-4",s==="top"?"pb-3":"pt-3",e),children:n.map(l=>{const c=`${a||l.dataKey||"value"}`,d=DN(o,l,c);return t.jsxs("div",{className:Ee("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!r?t.jsx(d.icon,{}):t.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),d==null?void 0:d.label]},l.value)})}):null});sg.displayName="ChartLegend";function DN(e,r,n){if(typeof r!="object"||r===null)return;const s="payload"in r&&typeof r.payload=="object"&&r.payload!==null?r.payload:void 0;let a=n;return n in r&&typeof r[n]=="string"?a=r[n]:s&&n in s&&typeof s[n]=="string"&&(a=s[n]),a in e?e[a]:e[n]}const DE=[{month:"Jan",revenue:124500,orders:456,profit:36800,customers:234},{month:"Feb",revenue:132e3,orders:523,profit:42100,customers:267},{month:"Mar",revenue:118e3,orders:478,profit:35400,customers:245},{month:"Apr",revenue:145e3,orders:567,profit:47300,customers:298},{month:"May",revenue:152e3,orders:634,profit:51200,customers:321},{month:"Jun",revenue:139e3,orders:589,profit:44700,customers:289}],H2e=[{day:"Mon",sales:18500,orders:45},{day:"Tue",sales:22300,orders:52},{day:"Wed",sales:25100,orders:61},{day:"Thu",sales:21800,orders:48},{day:"Fri",sales:28900,orders:73},{day:"Sat",sales:31200,orders:78},{day:"Sun",sales:15600,orders:38}],ME=[{name:"Prescription Drugs",value:45,color:"#1f77b4"},{name:"OTC Medicines",value:25,color:"#ff7f0e"},{name:"Health Products",value:15,color:"#2ca02c"},{name:"Personal Care",value:10,color:"#d62728"},{name:"Equipment",value:5,color:"#9467bd"}],K2e=[{name:"Ibuprofen 400mg",revenue:12450,units:340,growth:"+12%"},{name:"Vitamin D3",revenue:8900,units:210,growth:"+8%"},{name:"Amoxicillin 500mg",revenue:7650,units:132,growth:"+15%"},{name:"Blood Pressure Monitor",revenue:6420,units:89,growth:"+5%"},{name:"Insulin Pen",revenue:5280,units:67,growth:"+18%"}],G2e=[{label:"Total Revenue",value:"$152,000",change:"+15.2%",trend:"up",icon:mt},{label:"Total Orders",value:"634",change:"+8.7%",trend:"up",icon:zn},{label:"Avg Order Value",value:"$239.75",change:"+6.1%",trend:"up",icon:hi},{label:"New Customers",value:"89",change:"+22%",trend:"up",icon:it}],Sj={revenue:{label:"Revenue",color:"hsl(var(--primary))"},orders:{label:"Orders",color:"hsl(var(--warning))"},profit:{label:"Profit",color:"hsl(var(--success))"}};function X2e(){const e=qs();return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(k,{variant:"ghost",onClick:()=>e("/reports"),children:[t.jsx(Do,{size:16,className:"mr-2"}),"Back to Reports"]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Sales Analytics"}),t.jsx("p",{className:"text-muted-foreground",children:"Revenue tracking and sales performance insights"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{variant:"outline",children:[t.jsx(Na,{size:16,className:"mr-2"}),"Filter"]}),t.jsxs(k,{variant:"outline",children:[t.jsx(Rt,{size:16,className:"mr-2"}),"Date Range"]}),t.jsxs(k,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Report"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:G2e.map(r=>t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:r.label}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.value}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(yt,{size:10,className:"mr-1"}),r.change," from last month"]})]}),t.jsx(r.icon,{className:"text-primary",size:24})]})})},r.label))}),t.jsxs(Or,{defaultValue:"overview",className:"space-y-6",children:[t.jsxs(Ar,{className:"bg-panel",children:[t.jsx(Oe,{value:"overview",children:"Overview"}),t.jsx(Oe,{value:"trends",children:"Trends"}),t.jsx(Oe,{value:"products",children:"Products"}),t.jsx(Oe,{value:"performance",children:"Performance"})]}),t.jsx($e,{value:"overview",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Monthly Revenue Trend"})}),t.jsx(E,{children:t.jsx(gs,{config:Sj,className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(pa,{data:DE,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(vs,{})}),t.jsx(vr,{dataKey:"revenue",fill:"var(--color-revenue)"})]})})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Sales by Category"})}),t.jsx(E,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(fu,{children:[t.jsx(cs,{data:ME,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:r,percent:n})=>`${r}: ${(n*100).toFixed(0)}%`,children:ME.map((r,n)=>t.jsx(Fi,{fill:r.color},`cell-${n}`))}),t.jsx(Zn,{})]})})})})]})]})}),t.jsx($e,{value:"trends",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Weekly Sales Trend"})}),t.jsx(E,{children:t.jsx(gs,{config:Sj,className:"h-[400px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(ql,{data:H2e,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"day"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(vs,{})}),t.jsx(qn,{type:"monotone",dataKey:"sales",stroke:"var(--color-revenue)",strokeWidth:2})]})})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Revenue vs Profit Analysis"})}),t.jsx(E,{children:t.jsx(gs,{config:Sj,className:"h-[400px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(pa,{data:DE,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(vs,{})}),t.jsx(RN,{content:t.jsx(sg,{})}),t.jsx(vr,{dataKey:"revenue",fill:"var(--color-revenue)"}),t.jsx(vr,{dataKey:"profit",fill:"var(--color-profit)"})]})})})})]})]})}),t.jsx($e,{value:"products",className:"space-y-6",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Top Selling Products"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:K2e.map((r,n)=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-panel rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold text-sm",children:n+1}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-panel-foreground",children:r.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.units," units sold"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-bold text-lg text-panel-foreground",children:["$",r.revenue.toLocaleString()]}),t.jsx(re,{variant:"secondary",className:"text-success",children:r.growth})]})]},r.name))})})]})}),t.jsx($e,{value:"performance",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Performance Indicators"})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Sales Target Achievement"}),t.jsx("span",{className:"font-medium text-success",children:"112%"})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"100%"}})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Customer Retention Rate"}),t.jsx("span",{className:"font-medium text-primary",children:"87%"})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:"87%"}})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Deal Size Growth"}),t.jsx("span",{className:"font-medium text-warning",children:"65%"})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-warning h-2 rounded-full",style:{width:"65%"}})})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Sales Team Performance"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:[{name:"Sarah Johnson",sales:45600,target:4e4,percentage:114},{name:"Mike Chen",sales:38900,target:35e3,percentage:111},{name:"Emily Davis",sales:42300,target:45e3,percentage:94},{name:"James Wilson",sales:33800,target:3e4,percentage:113}].map(r=>t.jsxs("div",{className:"p-3 bg-panel rounded-lg",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"font-medium text-panel-foreground",children:r.name}),t.jsxs(re,{variant:r.percentage>=100?"default":"secondary",children:[r.percentage,"%"]})]}),t.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mb-1",children:[t.jsxs("span",{children:["$",r.sales.toLocaleString()]}),t.jsxs("span",{children:["Target: $",r.target.toLocaleString()]})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full ${r.percentage>=100?"bg-success":"bg-warning"}`,style:{width:`${Math.min(r.percentage,100)}%`}})})]},r.name))})})]})]})})]})]})}const Pj=[{month:"Jan",stockValue:145e3,turnover:4.2,incoming:25e3,outgoing:32e3},{month:"Feb",stockValue:152e3,turnover:3.8,incoming:28e3,outgoing:35e3},{month:"Mar",stockValue:138e3,turnover:4.5,incoming:22e3,outgoing:38e3},{month:"Apr",stockValue:165e3,turnover:3.9,incoming:31e3,outgoing:29e3},{month:"May",stockValue:158e3,turnover:4.1,incoming:27e3,outgoing:33e3},{month:"Jun",stockValue:172e3,turnover:4.3,incoming:35e3,outgoing:36e3}],Y2e=[{month:"Jul",expiring:12,expired:3,value:8500},{month:"Aug",expiring:18,expired:5,value:12300},{month:"Sep",expiring:25,expired:8,value:15600},{month:"Oct",expiring:22,expired:6,value:13900},{month:"Nov",expiring:15,expired:4,value:9800},{month:"Dec",expiring:28,expired:9,value:18200}],Q2e=[{name:"Ibuprofen 400mg",current:45,minimum:100,status:"critical",category:"Pain Relief"},{name:"Vitamin B12",current:78,minimum:150,status:"low",category:"Vitamins"},{name:"Insulin Pens",current:12,minimum:50,status:"critical",category:"Diabetes"},{name:"Blood Test Strips",current:89,minimum:200,status:"low",category:"Testing"},{name:"Thermometer Digital",current:8,minimum:25,status:"critical",category:"Equipment"}],Z2e=[{name:"Paracetamol 500mg",movement:450,trend:"+12%",value:15600},{name:"Vitamin D3",movement:380,trend:"+8%",value:12400},{name:"Amoxicillin",movement:220,trend:"+15%",value:18900},{name:"Face Masks",movement:680,trend:"+25%",value:8900},{name:"Hand Sanitizer",movement:520,trend:"+18%",value:11200}],J2e=[{label:"Total Stock Value",value:"$172,000",change:"+8.9%",trend:"up",icon:mt},{label:"Inventory Turnover",value:"4.3x",change:"+0.2",trend:"up",icon:Pi},{label:"Low Stock Items",value:"23",change:"-3",trend:"down",icon:tr},{label:"Expiring Soon",value:"28",change:"+5",trend:"up",icon:Ut}],Vf={stockValue:{label:"Stock Value",color:"hsl(var(--primary))"},turnover:{label:"Turnover",color:"hsl(var(--success))"},incoming:{label:"Incoming",color:"hsl(var(--warning))"},outgoing:{label:"Outgoing",color:"hsl(var(--destructive))"}};function IE(){const e=qs(),r=s=>{switch(s){case"critical":return"text-destructive";case"low":return"text-warning";default:return"text-success"}},n=s=>{switch(s){case"critical":return"destructive";case"low":return"secondary";default:return"default"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(k,{variant:"ghost",onClick:()=>e("/reports"),children:[t.jsx(Do,{size:16,className:"mr-2"}),"Back to Reports"]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Inventory Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Stock management and movement analysis"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{variant:"outline",children:[t.jsx(Na,{size:16,className:"mr-2"}),"Filter"]}),t.jsxs(k,{variant:"outline",children:[t.jsx(Rt,{size:16,className:"mr-2"}),"Date Range"]}),t.jsxs(k,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Report"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:J2e.map(s=>t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:s.label}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.value}),t.jsxs("p",{className:`text-xs flex items-center mt-1 ${s.trend==="up"?"text-success":"text-destructive"}`,children:[s.trend==="up"?t.jsx(yt,{size:10,className:"mr-1"}):t.jsx(Ci,{size:10,className:"mr-1"}),s.change," from last month"]})]}),t.jsx(s.icon,{className:"text-primary",size:24})]})})},s.label))}),t.jsxs(Or,{defaultValue:"overview",className:"space-y-6",children:[t.jsxs(Ar,{className:"bg-panel",children:[t.jsx(Oe,{value:"overview",children:"Overview"}),t.jsx(Oe,{value:"movement",children:"Movement"}),t.jsx(Oe,{value:"expiry",children:"Expiry Tracking"}),t.jsx(Oe,{value:"alerts",children:"Stock Alerts"})]}),t.jsx($e,{value:"overview",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Stock Value Trend"})}),t.jsx(E,{children:t.jsx(gs,{config:Vf,className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(ql,{data:Pj,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(vs,{})}),t.jsx(qn,{type:"monotone",dataKey:"stockValue",stroke:"var(--color-stockValue)",strokeWidth:2})]})})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Inventory Turnover Rate"})}),t.jsx(E,{children:t.jsx(gs,{config:Vf,className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(pa,{data:Pj,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(vs,{})}),t.jsx(vr,{dataKey:"turnover",fill:"var(--color-turnover)"})]})})})})]})]})}),t.jsx($e,{value:"movement",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Stock Movement Analysis"})}),t.jsx(E,{children:t.jsx(gs,{config:Vf,className:"h-[400px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(pa,{data:Pj,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(vs,{})}),t.jsx(vr,{dataKey:"incoming",fill:"var(--color-incoming)"}),t.jsx(vr,{dataKey:"outgoing",fill:"var(--color-outgoing)"})]})})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Fast Moving Items"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:Z2e.map((s,a)=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-panel rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold text-sm",children:a+1}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-panel-foreground",children:s.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.movement," units moved"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-bold text-lg text-panel-foreground",children:["$",s.value.toLocaleString()]}),t.jsx(re,{variant:"secondary",className:"text-success",children:s.trend})]})]},s.name))})})]})]})}),t.jsx($e,{value:"expiry",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Expiry Tracking Analysis"})}),t.jsx(E,{children:t.jsx(gs,{config:Vf,className:"h-[400px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(pa,{data:Y2e,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(vs,{})}),t.jsx(vr,{dataKey:"expiring",fill:"hsl(var(--warning))"}),t.jsx(vr,{dataKey:"expired",fill:"hsl(var(--destructive))"})]})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ut,{className:"mx-auto text-warning mb-2",size:32}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"28"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiring This Month"}),t.jsx("p",{className:"text-xs text-warning mt-1",children:"Value: $18,200"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Si,{className:"mx-auto text-destructive mb-2",size:32}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"9"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Already Expired"}),t.jsx("p",{className:"text-xs text-destructive mt-1",children:"Loss: $3,400"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ci,{className:"mx-auto text-success mb-2",size:32}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:"2.1%"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Waste Reduction"}),t.jsx("p",{className:"text-xs text-success mt-1",children:"vs Last Month"})]})})})]})]})}),t.jsxs($e,{value:"alerts",className:"space-y-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(tr,{className:"mr-2 text-warning",size:20}),"Low Stock Alerts"]})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:Q2e.map(s=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-panel rounded-lg border-l-4 border-destructive",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(tr,{className:r(s.status),size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-panel-foreground",children:s.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:s.category})]})]}),t.jsxs("div",{className:"text-right space-x-4 flex items-center",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current: ",s.current]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Minimum: ",s.minimum]})]}),t.jsx(re,{variant:n(s.status),children:s.status}),t.jsx(k,{variant:"outline",size:"sm",children:"Reorder"})]})]},s.name))})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Reorder Recommendations"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:[{name:"Ibuprofen 400mg",supplier:"MedSupply Co",leadTime:"3-5 days",suggestedQty:500,cost:1250},{name:"Insulin Pens",supplier:"DiabetesCare",leadTime:"7-10 days",suggestedQty:100,cost:2800},{name:"Thermometer Digital",supplier:"HealthTech",leadTime:"2-3 days",suggestedQty:50,cost:890}].map(s=>t.jsx("div",{className:"p-4 bg-success/10 rounded-lg border border-success/20",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-foreground",children:s.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Supplier: ",s.supplier]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Lead Time: ",s.leadTime]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium text-foreground",children:["Qty: ",s.suggestedQty]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Cost: $",s.cost]}),t.jsx(k,{variant:"outline",size:"sm",className:"mt-2",children:"Create PO"})]})]})},s.name))})})]})]})]})]})}const qf=[{month:"Jan",revenue:124500,expenses:87200,profit:37300,cashFlow:25600},{month:"Feb",revenue:132e3,expenses:89800,profit:42200,cashFlow:31400},{month:"Mar",revenue:118e3,expenses:92100,profit:25900,cashFlow:18200},{month:"Apr",revenue:145e3,expenses:94500,profit:50500,cashFlow:42800},{month:"May",revenue:152e3,expenses:97200,profit:54800,cashFlow:48600},{month:"Jun",revenue:139e3,expenses:89300,profit:49700,cashFlow:38900}],Cj=[{category:"Inventory Purchase",value:45,amount:43740,color:"#1f77b4"},{category:"Staff Salaries",value:25,amount:24325,color:"#ff7f0e"},{category:"Rent & Utilities",value:15,amount:14595,color:"#2ca02c"},{category:"Equipment & Maintenance",value:8,amount:7786,color:"#d62728"},{category:"Marketing & Admin",value:7,amount:6811,color:"#9467bd"}],eSe=[{week:"Week 1",inflow:35600,outflow:28900,net:6700},{week:"Week 2",inflow:42300,outflow:31200,net:11100},{week:"Week 3",inflow:38900,outflow:29800,net:9100},{week:"Week 4",inflow:44200,outflow:33100,net:11100}],tSe=[{category:"Prescription Drugs",margin:32.5,revenue:68400},{category:"OTC Medicines",margin:28.8,revenue:34200},{category:"Health Products",margin:42.1,revenue:18900},{category:"Personal Care",margin:35.6,revenue:12800},{category:"Equipment",margin:18.2,revenue:8700}],rSe=[{label:"Total Revenue",value:"$152,000",change:"+9.2%",trend:"up",icon:mt},{label:"Net Profit",value:"$54,800",change:"+8.4%",trend:"up",icon:yt},{label:"Profit Margin",value:"36.1%",change:"+1.2%",trend:"up",icon:hi},{label:"Cash Flow",value:"$48,600",change:"+25%",trend:"up",icon:K4}],Vu={revenue:{label:"Revenue",color:"hsl(var(--primary))"},expenses:{label:"Expenses",color:"hsl(var(--destructive))"},profit:{label:"Profit",color:"hsl(var(--success))"},cashFlow:{label:"Cash Flow",color:"hsl(var(--warning))"}};function nSe(){const e=qs();return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(k,{variant:"ghost",onClick:()=>e("/reports"),children:[t.jsx(Do,{size:16,className:"mr-2"}),"Back to Reports"]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Financial Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Revenue, expenses, and financial health analysis"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{variant:"outline",children:[t.jsx(Na,{size:16,className:"mr-2"}),"Filter"]}),t.jsxs(k,{variant:"outline",children:[t.jsx(Rt,{size:16,className:"mr-2"}),"Date Range"]}),t.jsxs(k,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Report"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:rSe.map(r=>t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:r.label}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.value}),t.jsxs("p",{className:"text-xs text-success flex items-center mt-1",children:[t.jsx(yt,{size:10,className:"mr-1"}),r.change," from last month"]})]}),t.jsx(r.icon,{className:"text-primary",size:24})]})})},r.label))}),t.jsxs(Or,{defaultValue:"overview",className:"space-y-6",children:[t.jsxs(Ar,{className:"bg-panel",children:[t.jsx(Oe,{value:"overview",children:"Overview"}),t.jsx(Oe,{value:"profitability",children:"Profitability"}),t.jsx(Oe,{value:"expenses",children:"Expenses"}),t.jsx(Oe,{value:"cashflow",children:"Cash Flow"})]}),t.jsxs($e,{value:"overview",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Revenue vs Expenses"})}),t.jsx(E,{children:t.jsx(gs,{config:Vu,className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(pa,{data:qf,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(vs,{})}),t.jsx(RN,{content:t.jsx(sg,{})}),t.jsx(vr,{dataKey:"revenue",fill:"var(--color-revenue)"}),t.jsx(vr,{dataKey:"expenses",fill:"var(--color-expenses)"})]})})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Profit Trend"})}),t.jsx(E,{children:t.jsx(gs,{config:Vu,className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(ql,{data:qf,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(vs,{})}),t.jsx(qn,{type:"monotone",dataKey:"profit",stroke:"var(--color-profit)",strokeWidth:3})]})})})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(T,{className:"bg-success/10 border border-success/20",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(yt,{className:"mx-auto text-success mb-2",size:32}),t.jsx("p",{className:"text-2xl font-bold text-success",children:"36.1%"}),t.jsx("p",{className:"text-sm text-success",children:"Profit Margin"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Above industry average"})]})})}),t.jsx(T,{className:"bg-primary/10 border border-primary/20",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"mx-auto text-primary mb-2",size:32}),t.jsx("p",{className:"text-2xl font-bold text-primary",children:"$312,000"}),t.jsx("p",{className:"text-sm text-primary",children:"YTD Revenue"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"+12% vs last year"})]})})}),t.jsx(T,{className:"bg-warning/10 border border-warning/20",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Fp,{className:"mx-auto text-warning mb-2",size:32}),t.jsx("p",{className:"text-2xl font-bold text-warning",children:"2.8x"}),t.jsx("p",{className:"text-sm text-warning",children:"ROI"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Return on Investment"})]})})})]})]}),t.jsxs($e,{value:"profitability",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Profit Margins by Category"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:tSe.map(r=>t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-medium text-foreground",children:r.category}),t.jsxs("div",{className:"text-right",children:[t.jsxs("span",{className:"font-bold text-foreground",children:[r.margin,"%"]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",r.revenue.toLocaleString()]})]})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${r.margin}%`}})})]},r.category))})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Monthly Profitability"})}),t.jsx(E,{children:t.jsx(gs,{config:Vu,className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(ql,{data:qf,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(vs,{})}),t.jsx(qn,{type:"monotone",dataKey:"profit",stroke:"var(--color-profit)",strokeWidth:3,dot:{fill:"var(--color-profit)",strokeWidth:2,r:4}})]})})})})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Profitability Analysis"})}),t.jsx(E,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Key Insights"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-success/10 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-success",children:"Strong Performance"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Health Products showing highest margins at 42.1%"})]}),t.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-primary",children:"Growth Opportunity"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Equipment category has room for margin improvement"})]}),t.jsxs("div",{className:"p-3 bg-warning/10 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-warning",children:"Monitor Closely"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep expenses under control to maintain margins"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Recommendations"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-panel rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-panel-foreground",children:"Focus on Health Products"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Expand high-margin health product lines"})]}),t.jsxs("div",{className:"p-3 bg-panel rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-panel-foreground",children:"Optimize Equipment Sales"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Review pricing strategy for equipment category"})]}),t.jsxs("div",{className:"p-3 bg-panel rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-panel-foreground",children:"Cost Management"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Regular review of operational expenses"})]})]})]})]})})]})]}),t.jsxs($e,{value:"expenses",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Expense Breakdown"})}),t.jsx(E,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(fu,{children:[t.jsx(cs,{data:Cj,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:r,percent:n})=>`${r}: ${(n*100).toFixed(0)}%`,children:Cj.map((r,n)=>t.jsx(Fi,{fill:r.color},`cell-${n}`))}),t.jsx(Zn,{})]})})})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Expense Details"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:Cj.map(r=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:r.color}}),t.jsx("span",{className:"font-medium text-panel-foreground",children:r.category})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-bold text-panel-foreground",children:["$",r.amount.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.value,"%"]})]})]},r.category))})})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Monthly Expense Trends"})}),t.jsx(E,{children:t.jsx(gs,{config:Vu,className:"h-[400px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(pa,{data:qf,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"month"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(vs,{})}),t.jsx(vr,{dataKey:"expenses",fill:"var(--color-expenses)"})]})})})})]})]}),t.jsx($e,{value:"cashflow",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Weekly Cash Flow"})}),t.jsx(E,{children:t.jsx(gs,{config:Vu,className:"h-[400px]",children:t.jsx(ur,{width:"100%",height:"100%",children:t.jsxs(pa,{data:eSe,children:[t.jsx(Xr,{strokeDasharray:"3 3"}),t.jsx(Pr,{dataKey:"week"}),t.jsx(Cr,{}),t.jsx(Zn,{content:t.jsx(vs,{})}),t.jsx(RN,{content:t.jsx(sg,{})}),t.jsx(vr,{dataKey:"inflow",fill:"var(--color-profit)"}),t.jsx(vr,{dataKey:"outflow",fill:"var(--color-expenses)"})]})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(yt,{className:"mx-auto text-success mb-2",size:24}),t.jsx("p",{className:"text-xl font-bold text-foreground",children:"$161,000"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Inflow"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ci,{className:"mx-auto text-destructive mb-2",size:24}),t.jsx("p",{className:"text-xl font-bold text-foreground",children:"$123,000"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Outflow"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(K4,{className:"mx-auto text-primary mb-2",size:24}),t.jsx("p",{className:"text-xl font-bold text-foreground",children:"$38,000"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Cash Flow"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ss,{className:"mx-auto text-warning mb-2",size:24}),t.jsx("p",{className:"text-xl font-bold text-foreground",children:"$85,000"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Cash Balance"})]})})})]})]})})]})]})}const sSe=[{label:"Overall Compliance",value:"94.2%",status:"good",icon:Cs},{label:"Active Violations",value:"3",status:"warning",icon:tr},{label:"Upcoming Audits",value:"2",status:"info",icon:Rt},{label:"License Renewals",value:"1",status:"warning",icon:$t}],aSe=[{date:"2024-05-15",type:"DEA Inspection",status:"Passed",score:96,inspector:"John Smith",findings:2},{date:"2024-03-22",type:"State Board Review",status:"Passed",score:94,inspector:"Sarah Johnson",findings:3},{date:"2024-01-18",type:"Internal Audit",status:"Passed",score:98,inspector:"Internal Team",findings:1},{date:"2023-11-10",type:"FDA Inspection",status:"Passed",score:92,inspector:"Michael Brown",findings:4},{date:"2023-09-05",type:"Insurance Audit",status:"Passed",score:97,inspector:"Lisa Wilson",findings:2}],iSe=[{id:"V001",type:"Documentation",description:"Missing prescription logs for controlled substances",severity:"Medium",date:"2024-06-10",status:"In Progress"},{id:"V002",type:"Storage",description:"Temperature logging gap in refrigerated section",severity:"Low",date:"2024-06-08",status:"Resolved"},{id:"V003",type:"Staff Training",description:"Annual HIPAA training overdue for 2 staff members",severity:"Medium",date:"2024-06-05",status:"Open"}],oSe=[{name:"Pharmacy License",number:"PH-2024-001",expiry:"2024-12-31",status:"Active",authority:"State Board"},{name:"DEA Registration",number:"DEA-123456",expiry:"2024-09-15",status:"Expiring Soon",authority:"DEA"},{name:"Controlled Substance License",number:"CS-789",expiry:"2025-03-20",status:"Active",authority:"State"},{name:"Medicare Provider",number:"MP-456789",expiry:"2025-01-10",status:"Active",authority:"CMS"}],lSe=[{employee:"Dr. Sarah Chen",course:"HIPAA Compliance",completion:"2024-05-20",expiry:"2025-05-20",status:"Current"},{employee:"Mike Johnson",course:"Controlled Substances",completion:"2024-04-15",expiry:"2025-04-15",status:"Current"},{employee:"Lisa Williams",course:"FDA Regulations",completion:"2024-02-10",expiry:"2025-02-10",status:"Current"},{employee:"John Davis",course:"HIPAA Compliance",completion:"2023-06-01",expiry:"2024-06-01",status:"Overdue"},{employee:"Emily Brown",course:"Safety Protocols",completion:"2024-03-25",expiry:"2025-03-25",status:"Current"}];function cSe(){const e=qs(),r=s=>{switch(s.toLowerCase()){case"passed":case"active":case"current":return"text-success";case"warning":case"expiring soon":case"overdue":return"text-warning";case"failed":case"expired":return"text-destructive";default:return"text-muted-foreground"}},n=s=>{switch(s.toLowerCase()){case"passed":case"active":case"current":case"resolved":return"default";case"warning":case"expiring soon":case"overdue":case"in progress":return"secondary";case"failed":case"expired":case"open":return"destructive";default:return"outline"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(k,{variant:"ghost",onClick:()=>e("/reports"),children:[t.jsx(Do,{size:16,className:"mr-2"}),"Back to Reports"]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Compliance Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Regulatory compliance and audit documentation"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{variant:"outline",children:[t.jsx(Na,{size:16,className:"mr-2"}),"Filter"]}),t.jsxs(k,{variant:"outline",children:[t.jsx(Rt,{size:16,className:"mr-2"}),"Schedule Audit"]}),t.jsxs(k,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Report"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:sSe.map(s=>t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:s.label}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.value}),t.jsx("p",{className:`text-xs mt-1 ${r(s.status)}`,children:s.status==="good"?"Excellent compliance":s.status==="warning"?"Needs attention":"Monitor closely"})]}),t.jsx(s.icon,{className:"text-primary",size:24})]})})},s.label))}),t.jsxs(Or,{defaultValue:"overview",className:"space-y-6",children:[t.jsxs(Ar,{className:"bg-panel",children:[t.jsx(Oe,{value:"overview",children:"Overview"}),t.jsx(Oe,{value:"audits",children:"Audit History"}),t.jsx(Oe,{value:"violations",children:"Violations"}),t.jsx(Oe,{value:"licenses",children:"Licenses"}),t.jsx(Oe,{value:"training",children:"Training"})]}),t.jsxs($e,{value:"overview",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Compliance Status Overview"})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"DEA Compliance"}),t.jsx("span",{className:"font-medium text-success",children:"97%"})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"97%"}})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"FDA Regulations"}),t.jsx("span",{className:"font-medium text-success",children:"94%"})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"94%"}})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"HIPAA Compliance"}),t.jsx("span",{className:"font-medium text-warning",children:"89%"})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-warning h-2 rounded-full",style:{width:"89%"}})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"State Regulations"}),t.jsx("span",{className:"font-medium text-success",children:"96%"})]}),t.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"96%"}})})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Recent Compliance Activity"})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-success/10 rounded-lg",children:[t.jsx(ut,{className:"text-success mt-1",size:16}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"DEA Inspection Completed"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Passed with 96% compliance score"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"2 days ago"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-warning/10 rounded-lg",children:[t.jsx(Ut,{className:"text-warning mt-1",size:16}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"License Renewal Due"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"DEA Registration expires in 3 months"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"1 week ago"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-primary/10 rounded-lg",children:[t.jsx(it,{className:"text-primary mt-1",size:16}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Staff Training Updated"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"3 employees completed HIPAA training"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"3 days ago"})]})]})]})})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Upcoming Compliance Requirements"})}),t.jsx(E,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 bg-warning/10 rounded-lg border border-warning/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(Rt,{className:"text-warning",size:20}),t.jsx(re,{variant:"secondary",children:"30 days"})]}),t.jsx("h4",{className:"font-medium text-foreground",children:"Annual DEA Inventory"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete controlled substance inventory count"})]}),t.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg border border-primary/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(it,{className:"text-primary",size:20}),t.jsx(re,{variant:"secondary",children:"45 days"})]}),t.jsx("h4",{className:"font-medium text-foreground",children:"Staff Training Review"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Annual compliance training assessment"})]}),t.jsxs("div",{className:"p-4 bg-destructive/10 rounded-lg border border-destructive/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx($t,{className:"text-destructive",size:20}),t.jsx(re,{variant:"destructive",children:"15 days"})]}),t.jsx("h4",{className:"font-medium text-foreground",children:"License Renewal"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"DEA registration renewal application"})]})]})})]})]}),t.jsx($e,{value:"audits",className:"space-y-6",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Audit History"})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Date"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Type"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Inspector"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Score"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Findings"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Action"})]})}),t.jsx("tbody",{children:aSe.map((s,a)=>t.jsxs("tr",{className:"border-b border-border hover:bg-panel transition-colors",children:[t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.date}),t.jsx("td",{className:"py-3 px-4 font-medium text-foreground",children:s.type}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.inspector}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsxs("span",{className:"font-medium text-foreground",children:[s.score,"%"]}),t.jsx("div",{className:"ml-2 w-16 bg-secondary rounded-full h-2",children:t.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:`${s.score}%`}})})]})}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.findings}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(re,{variant:n(s.status),children:s.status})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs(k,{variant:"ghost",size:"sm",children:[t.jsx(xt,{size:14,className:"mr-1"}),"View"]})})]},a))})]})})})]})}),t.jsx($e,{value:"violations",className:"space-y-6",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(tr,{className:"mr-2 text-warning",size:20}),"Compliance Violations"]})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:iSe.map(s=>t.jsx("div",{className:"p-4 bg-panel rounded-lg border-l-4 border-warning",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsxs("span",{className:"font-medium text-panel-foreground",children:["#",s.id]}),t.jsx(re,{variant:"outline",children:s.type}),t.jsx(re,{variant:s.severity==="High"?"destructive":s.severity==="Medium"?"secondary":"default",children:s.severity})]}),t.jsx("p",{className:"text-sm text-panel-foreground mb-2",children:s.description}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Reported: ",s.date]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(re,{variant:n(s.status),children:s.status}),t.jsxs(k,{variant:"outline",size:"sm",children:[t.jsx(xt,{size:14,className:"mr-1"}),"Details"]})]})]})},s.id))})})]})}),t.jsx($e,{value:"licenses",className:"space-y-6",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"License Management"})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"License Name"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Number"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Authority"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Expiry Date"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Action"})]})}),t.jsx("tbody",{children:oSe.map((s,a)=>t.jsxs("tr",{className:"border-b border-border hover:bg-panel transition-colors",children:[t.jsx("td",{className:"py-3 px-4 font-medium text-foreground",children:s.name}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.number}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.authority}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.expiry}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(re,{variant:n(s.status),children:s.status})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(k,{variant:"outline",size:"sm",children:s.status==="Expiring Soon"?"Renew":"View"})})]},a))})]})})})]})}),t.jsx($e,{value:"training",className:"space-y-6",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Staff Training Records"})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Employee"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Course"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Completion Date"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Expiry Date"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Action"})]})}),t.jsx("tbody",{children:lSe.map((s,a)=>t.jsxs("tr",{className:"border-b border-border hover:bg-panel transition-colors",children:[t.jsx("td",{className:"py-3 px-4 font-medium text-foreground",children:s.employee}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.course}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.completion}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:s.expiry}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(re,{variant:n(s.status),children:s.status})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(k,{variant:"outline",size:"sm",children:s.status==="Overdue"?"Schedule":"View Certificate"})})]},a))})]})})})]})})]})]})}var Yv="Checkbox",[dSe,CPe]=Gn(Yv),[uSe,L2]=dSe(Yv);function mSe(e){const{__scopeCheckbox:r,checked:n,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:m}=e,[h,p]=ga({prop:n,defaultProp:a??!1,onChange:c,caller:Yv}),[g,f]=x.useState(null),[v,b]=x.useState(null),y=x.useRef(!1),j=g?!!o||!!g.closest("form"):!0,C={checked:h,disabled:i,setChecked:p,control:g,setControl:f,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:y,required:d,defaultChecked:wo(a)?!1:a,isFormControl:j,bubbleInput:v,setBubbleInput:b};return t.jsx(uSe,{scope:r,...C,children:hSe(m)?m(C):s})}var p6="CheckboxTrigger",x6=x.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:n,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:m,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=L2(p6,e),f=Ot(a,u),v=x.useRef(c);return x.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const y=()=>m(v.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[i,m]),t.jsx(Je.button,{type:"button",role:"checkbox","aria-checked":wo(c)?"mixed":c,"aria-required":d,"data-state":b6(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:f,onKeyDown:Ye(r,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Ye(n,b=>{m(y=>wo(y)?!0:!y),g&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});x6.displayName=p6;var F2=x.forwardRef((e,r)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...m}=e;return t.jsx(mSe,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:h})=>t.jsxs(t.Fragment,{children:[t.jsx(x6,{...m,ref:r,__scopeCheckbox:n}),h&&t.jsx(j6,{__scopeCheckbox:n})]})})});F2.displayName=Yv;var g6="CheckboxIndicator",v6=x.forwardRef((e,r)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,i=L2(g6,n);return t.jsx(Xn,{present:s||wo(i.checked)||i.checked===!0,children:t.jsx(Je.span,{"data-state":b6(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:r,style:{pointerEvents:"none",...e.style}})})});v6.displayName=g6;var y6="CheckboxBubbleInput",j6=x.forwardRef(({__scopeCheckbox:e,...r},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:m,bubbleInput:h,setBubbleInput:p}=L2(y6,e),g=Ot(n,p),f=j1(i),v=Qw(s);x.useEffect(()=>{const y=h;if(!y)return;const j=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(j,"checked").set,N=!a.current;if(f!==i&&S){const P=new Event("click",{bubbles:N});y.indeterminate=wo(i),S.call(y,wo(i)?!1:i),y.dispatchEvent(P)}},[h,f,i,a]);const b=x.useRef(wo(i)?!1:i);return t.jsx(Je.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:d,value:u,form:m,...r,tabIndex:-1,ref:g,style:{...r.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});j6.displayName=y6;function hSe(e){return typeof e=="function"}function wo(e){return e==="indeterminate"}function b6(e){return wo(e)?"indeterminate":e?"checked":"unchecked"}const N6=x.forwardRef(({className:e,...r},n)=>t.jsx(F2,{ref:n,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:t.jsx(v6,{className:Ee("flex items-center justify-center text-current"),children:t.jsx(z4,{className:"h-4 w-4"})})}));N6.displayName=F2.displayName;const fSe=[{id:1,name:"Monthly Sales Summary",description:"Comprehensive sales performance analysis",category:"Sales",fields:["Revenue","Orders","Products","Customers"],chartType:"Bar Chart",lastUsed:"2024-06-10"},{id:2,name:"Inventory Turnover Analysis",description:"Stock movement and turnover rates",category:"Inventory",fields:["Stock Value","Turnover Rate","Fast Movers","Slow Movers"],chartType:"Line Chart",lastUsed:"2024-06-08"},{id:3,name:"Expense Breakdown Report",description:"Detailed expense categorization and trends",category:"Financial",fields:["Total Expenses","Categories","Trends","Budgets"],chartType:"Pie Chart",lastUsed:"2024-06-05"}],$E={Sales:["Revenue","Orders","Order Value","Customers","Products Sold","Profit Margin","Sales Rep"],Inventory:["Stock Value","Quantity","Turnover Rate","Reorder Point","Supplier","Category","Location"],Financial:["Revenue","Expenses","Profit","Cash Flow","Budget","Variance","ROI"],Compliance:["Audit Score","Violations","License Status","Training Records","Inspection Date"],Customer:["Customer Name","Purchase History","Loyalty Points","Contact Info","Preferences"]},LE=[{value:"bar",label:"Bar Chart",icon:ar},{value:"line",label:"Line Chart",icon:aB},{value:"pie",label:"Pie Chart",icon:mi},{value:"table",label:"Table",icon:CB}];function pSe(){var h,p;const e=qs(),[r,n]=x.useState("Sales"),[s,a]=x.useState([]),[i,o]=x.useState(""),[l,c]=x.useState(""),[d,u]=x.useState("bar"),m=g=>{a(f=>f.includes(g)?f.filter(v=>v!==g):[...f,g])};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(k,{variant:"ghost",onClick:()=>e("/reports"),children:[t.jsx(Do,{size:16,className:"mr-2"}),"Back to Reports"]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Custom Report Builder"}),t.jsx("p",{className:"text-muted-foreground",children:"Create and manage custom reports with advanced analytics"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{variant:"outline",children:[t.jsx(Co,{size:16,className:"mr-2"}),"Save Template"]}),t.jsxs(k,{variant:"outline",children:[t.jsx(_0,{size:16,className:"mr-2"}),"Share"]}),t.jsxs(k,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(wB,{size:16,className:"mr-2"}),"Generate Report"]})]})]}),t.jsxs(Or,{defaultValue:"builder",className:"space-y-6",children:[t.jsxs(Ar,{className:"bg-panel",children:[t.jsx(Oe,{value:"builder",children:"Report Builder"}),t.jsx(Oe,{value:"templates",children:"Saved Templates"}),t.jsx(Oe,{value:"scheduled",children:"Scheduled Reports"})]}),t.jsx($e,{value:"builder",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Report Information"})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"reportName",children:"Report Name"}),t.jsx(J,{id:"reportName",placeholder:"Enter report name",value:i,onChange:g=>o(g.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"reportDescription",children:"Description"}),t.jsx(Vt,{id:"reportDescription",placeholder:"Describe your report",value:l,onChange:g=>c(g.target.value)})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"category",children:"Data Category"}),t.jsxs(_e,{value:r,onValueChange:n,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select category"})}),t.jsx(Ce,{children:Object.keys($E).map(g=>t.jsx(I,{value:g,children:g},g))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"chartType",children:"Chart Type"}),t.jsxs(_e,{value:d,onValueChange:u,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select chart type"})}),t.jsx(Ce,{children:LE.map(g=>t.jsx(I,{value:g.value,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(g.icon,{size:16,className:"mr-2"}),g.label]})},g.value))})]})]})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(B,{children:[t.jsx(q,{className:"text-card-foreground",children:"Data Fields"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Select the fields to include in your report"})]}),t.jsx(E,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(h=$E[r])==null?void 0:h.map(g=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(N6,{id:g,checked:s.includes(g),onCheckedChange:()=>m(g)}),t.jsx(M,{htmlFor:g,className:"text-sm font-medium",children:g})]},g))})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Filters & Parameters"})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"dateFrom",children:"Date From"}),t.jsx(J,{type:"date",id:"dateFrom"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"dateTo",children:"Date To"}),t.jsx(J,{type:"date",id:"dateTo"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"additionalFilters",children:"Additional Filters"}),t.jsxs(_e,{children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Add filter"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"category",children:"Product Category"}),t.jsx(I,{value:"supplier",children:"Supplier"}),t.jsx(I,{value:"location",children:"Location"}),t.jsx(I,{value:"employee",children:"Employee"})]})]})]})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Report Preview"})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-panel rounded-lg",children:[t.jsx("h4",{className:"font-medium text-panel-foreground mb-2",children:i||"Untitled Report"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:l||"No description"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Category:"}),t.jsx("span",{className:"text-panel-foreground",children:r})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Chart Type:"}),t.jsx("span",{className:"text-panel-foreground",children:(p=LE.find(g=>g.value===d))==null?void 0:p.label})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Fields:"}),t.jsx("span",{className:"text-panel-foreground",children:s.length})]})]})]}),s.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("h5",{className:"text-sm font-medium text-foreground",children:"Selected Fields:"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:s.map(g=>t.jsx(re,{variant:"secondary",className:"text-xs",children:g},g))})]})]})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Quick Actions"})}),t.jsxs(E,{className:"space-y-3",children:[t.jsxs(k,{variant:"outline",className:"w-full",children:[t.jsx(Rt,{size:16,className:"mr-2"}),"Schedule Report"]}),t.jsxs(k,{variant:"outline",className:"w-full",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export Template"]}),t.jsxs(k,{variant:"outline",className:"w-full",children:[t.jsx(Na,{size:16,className:"mr-2"}),"Advanced Filters"]})]})]})]})]})}),t.jsxs($e,{value:"templates",className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Saved Report Templates"}),t.jsxs(k,{variant:"outline",children:[t.jsx(zt,{size:16,className:"mr-2"}),"New Template"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:fSe.map(g=>t.jsxs(T,{className:"bg-card border border-border hover:shadow-lg transition-all duration-200",children:[t.jsx(B,{children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx(q,{className:"text-card-foreground text-lg",children:g.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]}),t.jsx(re,{variant:"secondary",children:g.category})]})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Fields:"}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.fields.slice(0,3).map(f=>t.jsx(re,{variant:"outline",className:"text-xs",children:f},f)),g.fields.length>3&&t.jsxs(re,{variant:"outline",className:"text-xs",children:["+",g.fields.length-3," more"]})]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Chart:"}),t.jsx("span",{className:"text-foreground",children:g.chartType})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Last used:"}),t.jsx("span",{className:"text-foreground",children:g.lastUsed})]}),t.jsxs("div",{className:"flex space-x-2 pt-2",children:[t.jsx(k,{variant:"outline",size:"sm",className:"flex-1",children:"Edit"}),t.jsx(k,{size:"sm",className:"flex-1",children:"Use Template"})]})]})})]},g.id))})]}),t.jsxs($e,{value:"scheduled",className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Scheduled Reports"}),t.jsxs(k,{variant:"outline",children:[t.jsx(zt,{size:16,className:"mr-2"}),"Schedule New Report"]})]}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Report Name"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Frequency"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Next Run"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Recipients"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Actions"})]})}),t.jsx("tbody",{children:[{name:"Weekly Sales Summary",frequency:"Weekly",nextRun:"2024-06-17",recipients:3,status:"Active"},{name:"Monthly Inventory Report",frequency:"Monthly",nextRun:"2024-07-01",recipients:2,status:"Active"},{name:"Quarterly Financial Analysis",frequency:"Quarterly",nextRun:"2024-09-01",recipients:5,status:"Paused"}].map((g,f)=>t.jsxs("tr",{className:"border-b border-border hover:bg-panel transition-colors",children:[t.jsx("td",{className:"py-3 px-4 font-medium text-foreground",children:g.name}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:g.frequency}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:g.nextRun}),t.jsxs("td",{className:"py-3 px-4 text-foreground",children:[g.recipients," people"]}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(re,{variant:g.status==="Active"?"default":"secondary",children:g.status})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(k,{variant:"ghost",size:"sm",children:"Edit"}),t.jsx(k,{variant:"ghost",size:"sm",children:g.status==="Active"?"Pause":"Resume"})]})})]},f))})]})})})})]})]})]})}function xSe(){var m,h,p,g,f,v,b;const{toast:e}=Tt(),[r,n]=x.useState([]),[s,a]=x.useState(null),[i,o]=x.useState(!0),[l,c]=x.useState(!0);x.useEffect(()=>{u(),d()},[]);const d=async()=>{try{c(!0);const y=await vn.getDashboardStats();y.success&&y.data&&a(y.data)}catch(y){console.error("Failed to fetch dashboard stats:",y),a({total_organizations:r.length,active_organizations:r.filter(j=>j.status==="active").length,total_users:0,active_users:0,monthly_revenue:0,active_subscriptions:r.filter(j=>j.subscription_plan!=="trial").length,subscription_distribution:{trial:0,basic:0,professional:0,enterprise:0}})}finally{c(!1)}},u=async()=>{try{o(!0);const y=await vn.getOrganizations();y.success&&y.data?n(y.data):(n([]),console.warn("API returned success but no data:",y))}catch(y){console.error("Failed to fetch organizations:",y),e({title:"Connection Error",description:"Failed to load organizations from server. Please check your connection.",variant:"destructive"}),n([])}finally{o(!1)}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Cs,{className:"w-8 h-8 text-warning"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Super Admin Dashboard"}),t.jsx("p",{className:"text-muted-foreground",children:"System-wide control and organization management"})]})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(k,{onClick:()=>{u(),d()},variant:"outline",className:"gap-2",disabled:i||l,children:[t.jsx(Pi,{className:`w-4 h-4 ${i||l?"animate-spin":""}`}),"Refresh"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs(T,{className:"border-warning/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(dn,{className:"w-4 h-4"}),"Total Organizations"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:l?"...":(s==null?void 0:s.total_organizations)||r.length}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",l?"...":(s==null?void 0:s.monthly_growth)||0," this month",s!=null&&s.growth_percentage?` (${s.growth_percentage>0?"+":""}${s.growth_percentage}%)`:""]})]})]}),t.jsxs(T,{className:"border-primary/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),"Total Users"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:l?"...":(s==null?void 0:s.total_users)||0}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[l?"...":`${(s==null?void 0:s.active_users)||0} active`," across all organizations"]})]})]}),t.jsxs(T,{className:"border-success/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"Monthly Revenue"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:l?"...":`₹${((s==null?void 0:s.monthly_revenue)||0).toLocaleString("en-IN")}`}),t.jsx("p",{className:"text-xs text-muted-foreground",children:l?"...":`${s!=null&&s.growth_percentage?"+":""}${(s==null?void 0:s.growth_percentage)||0}% growth`})]})]}),t.jsxs(T,{className:"border-accent/20",children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(vt,{className:"w-4 h-4"}),"Active Subscriptions"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:l?"...":(s==null?void 0:s.active_subscriptions)||0}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Paying customers"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Subscription Distribution"})}),t.jsx(E,{className:"space-y-4",children:l?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(ir,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading subscription data..."})]}):[{tier:"Enterprise",count:((m=s==null?void 0:s.subscription_distribution)==null?void 0:m.enterprise)||0,revenue:(((h=s==null?void 0:s.subscription_distribution)==null?void 0:h.enterprise)||0)*5e4,color:"destructive"},{tier:"Professional",count:((p=s==null?void 0:s.subscription_distribution)==null?void 0:p.professional)||0,revenue:(((g=s==null?void 0:s.subscription_distribution)==null?void 0:g.professional)||0)*15e3,color:"default"},{tier:"Basic",count:((f=s==null?void 0:s.subscription_distribution)==null?void 0:f.basic)||0,revenue:(((v=s==null?void 0:s.subscription_distribution)==null?void 0:v.basic)||0)*5e3,color:"outline"},{tier:"Trial",count:((b=s==null?void 0:s.subscription_distribution)==null?void 0:b.trial)||0,revenue:0,color:"secondary"}].map(y=>t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(re,{variant:y.color,children:y.tier}),t.jsxs("span",{className:"font-medium",children:[y.count," organizations"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-medium",children:["₹",(y.revenue/1e5).toFixed(1),"L"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"per month"})]})]},y.tier))})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"System Health Monitoring"})}),t.jsx(E,{className:"space-y-4",children:[{metric:"Database Performance",value:"98.5%",status:"excellent"},{metric:"API Response Time",value:"145ms",status:"good"},{metric:"Active Connections",value:"1,247",status:"normal"},{metric:"Error Rate",value:"0.02%",status:"excellent"},{metric:"Storage Usage",value:"67%",status:"normal"}].map((y,j)=>t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsx("span",{className:"font-medium",children:y.metric}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:y.value}),t.jsx(re,{variant:y.status==="excellent"?"default":y.status==="good"?"secondary":"outline",children:y.status})]})]},j))})]})]})]})}const gSe="modulepreload",vSe=function(e){return"/"+e},FE={},ySe=function(r,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=vSe(c),c in FE)return;FE[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":gSe,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((h,p)=>{m.addEventListener("load",h),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})},jSe=Gl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),w6=x.forwardRef(({className:e,variant:r,...n},s)=>t.jsx("div",{ref:s,role:"alert",className:Ee(jSe({variant:r}),e),...n}));w6.displayName="Alert";const bSe=x.forwardRef(({className:e,...r},n)=>t.jsx("h5",{ref:n,className:Ee("mb-1 font-medium leading-none tracking-tight",e),...r}));bSe.displayName="AlertTitle";const S6=x.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Ee("text-sm [&_p]:leading-relaxed",e),...r}));S6.displayName="AlertDescription";function NSe(){const{toast:e}=Tt(),[r,n]=x.useState([]),[s,a]=x.useState([]),[i,o]=x.useState([]),[l,c]=x.useState(!1),[d,u]=x.useState("organizations"),[m,h]=x.useState(!1);x.useState(null);const[p,g]=x.useState({}),[f,v]=x.useState({name:"",type:"retail_pharmacy",address:"",city:"Kathmandu",state:"Bagmati",postal_code:"44600",country:"Nepal",phone:"+977-1-234567",email:"",website:"",license_number:"",license_expiry:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],tax_id:"",registration_number:"",currency:"NPR",tax_rate:"13.00",timezone:"Asia/Kathmandu",language:"en",subscription_plan:"basic",subscription_status:"active",subscription_expiry:"",logo:void 0});x.useEffect(()=>{b(),y(),j()},[]);const b=async()=>{try{c(!0);const P=await vn.getOrganizations();P.success&&P.data&&n(P.data)}catch{e({title:"Error",description:"Failed to load organizations",variant:"destructive"})}finally{c(!1)}},y=async()=>{try{const P=await vn.getBranches();console.log("DEBUG: Branch API Response:",P),P.success&&P.data?a(P.data):Array.isArray(P)?a(P):(console.warn("Unexpected branch API response format:",P),a([]))}catch(P){console.error("Failed to load branches:",P),a([])}},j=async()=>{try{const P=await Mr.getUsers();console.log("DEBUG: Users API Response:",P),P.success&&P.data?o(P.data):Array.isArray(P)?o(P):(console.warn("Unexpected users API response format:",P),o([]))}catch(P){console.error("Failed to load users:",P),o([])}},C=async()=>{var P;try{if(c(!0),g({}),!f.name||!f.email||!f.address||!f.license_number||!f.license_expiry||!f.city||!f.state||!f.postal_code||!f.phone||!f.subscription_plan){e({title:"Validation Error",description:"Please fill in all required organization fields marked with *",variant:"destructive"});return}const _={name:f.name.trim(),type:f.type,address:f.address.trim(),city:f.city.trim(),state:f.state.trim(),postal_code:f.postal_code.trim(),country:f.country.trim(),phone:f.phone.trim(),email:f.email.replace(/,+$/,"").trim(),license_number:f.license_number.trim(),license_expiry:f.license_expiry,currency:f.currency,tax_rate:parseFloat(f.tax_rate)||13,timezone:f.timezone,language:f.language,subscription_plan:f.subscription_plan,subscription_status:f.subscription_status,subscription_expiry:f.subscription_expiry||null};f.website.trim()&&(_.website=f.website.trim()),f.tax_id.trim()&&(_.tax_id=f.tax_id.trim()),f.registration_number.trim()&&(_.registration_number=f.registration_number.trim());let w;if(f.logo){const A=new FormData;Object.entries(_).forEach(([U,V])=>{V!=null&&A.append(U,V.toString())}),A.append("logo",f.logo);const D=(await ySe(async()=>{const{default:U}=await Promise.resolve().then(()=>kK);return{default:U}},void 0)).default,O=localStorage.getItem("access_token"),$=await D.post("https://drpharmas.com/backend/organizations/",A,{headers:{"Content-Type":"multipart/form-data",...O&&{Authorization:`Bearer ${O}`}}});$.data&&$.data.organization?w={success:!0,data:$.data.organization,message:$.data.message||"Organization created successfully"}:w={success:!0,data:$.data,message:"Organization created successfully"}}else w=await vn.createOrganization(_);w.success?(e({title:"Success",description:"Organization created successfully"}),h(!1),S(),b(),j()):e({title:"Error",description:w.error||"Failed to create organization",variant:"destructive"})}catch(_){const w=(P=_.response)==null?void 0:P.data;g(w||{}),e({title:"Error",description:(w==null?void 0:w.error)||JSON.stringify(w)||"Failed to create organization",variant:"destructive"})}finally{c(!1)}},S=()=>{v({name:"",type:"retail_pharmacy",address:"",city:"Kathmandu",state:"Bagmati",postal_code:"44600",country:"Nepal",phone:"+977-1-234567",email:"",website:"",license_number:"",license_expiry:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],tax_id:"",registration_number:"",currency:"NPR",tax_rate:"13.00",timezone:"Asia/Kathmandu",language:"en",subscription_plan:"basic",subscription_status:"active",subscription_expiry:"",logo:void 0}),g({})},N=P=>{const _={active:{variant:"default",icon:ut,color:"text-green-600"},inactive:{variant:"secondary",icon:va,color:"text-gray-600"},suspended:{variant:"destructive",icon:va,color:"text-red-600"},pending:{variant:"outline",icon:ir,color:"text-yellow-600"}},w=_[P]||_.pending,A=w.icon;return t.jsxs(re,{variant:w.variant,className:"flex items-center gap-1",children:[t.jsx(A,{className:"w-3 h-3"}),P.charAt(0).toUpperCase()+P.slice(1)]})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Organization Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage pharmacy organizations and their branches"})]}),t.jsxs(rt,{open:m,onOpenChange:h,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{className:"w-4 h-4 mr-2"}),"Create Organization"]})}),t.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Create New Organization"}),t.jsx(Pt,{children:"Create a new pharmacy organization."})]}),Object.keys(p).length>0&&t.jsx(w6,{variant:"destructive",children:t.jsxs(S6,{children:["Please correct the following errors:",t.jsx("ul",{className:"list-disc pl-5",children:Object.entries(p).map(([P,_])=>t.jsxs("li",{children:[P,": ",Array.isArray(_)?_.join(", "):_]},P))})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"org-name",children:"Organization Name *"}),t.jsx(J,{id:"org-name",value:f.name,onChange:P=>v({...f,name:P.target.value}),placeholder:"Enter organization name",className:"border",required:!0}),p.name&&t.jsx("span",{className:"text-red-500 text-sm",children:p.name[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"org-email",children:"Email *"}),t.jsx(J,{id:"org-email",type:"email",value:f.email,onChange:P=>v({...f,email:P.target.value}),placeholder:"organization@example.com",className:"border",required:!0}),p.email&&t.jsx("span",{className:"text-red-500 text-sm",children:p.email[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"org-license",children:"License Number *"}),t.jsx(J,{id:"org-license",value:f.license_number,onChange:P=>v({...f,license_number:P.target.value}),placeholder:"PH-2024-001234",className:"border",required:!0}),p.license_number&&t.jsx("span",{className:"text-red-500 text-sm",children:p.license_number[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"org-license-expiry",children:"License Expiry *"}),t.jsx(J,{id:"org-license-expiry",type:"date",value:f.license_expiry,onChange:P=>v({...f,license_expiry:P.target.value}),className:"border",required:!0}),p.license_expiry&&t.jsx("span",{className:"text-red-500 text-sm",children:p.license_expiry[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"org-city",children:"City *"}),t.jsx(J,{id:"org-city",value:f.city,onChange:P=>v({...f,city:P.target.value}),placeholder:"Kathmandu",className:"border",required:!0}),p.city&&t.jsx("span",{className:"text-red-500 text-sm",children:p.city[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"org-state",children:"State *"}),t.jsx(J,{id:"org-state",value:f.state,onChange:P=>v({...f,state:P.target.value}),placeholder:"Bagmati",className:"border",required:!0}),p.state&&t.jsx("span",{className:"text-red-500 text-sm",children:p.state[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"org-postal-code",children:"Postal Code *"}),t.jsx(J,{id:"org-postal-code",value:f.postal_code,onChange:P=>v({...f,postal_code:P.target.value}),placeholder:"44600",className:"border",required:!0}),p.postal_code&&t.jsx("span",{className:"text-red-500 text-sm",children:p.postal_code[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"org-phone",children:"Phone *"}),t.jsx(J,{id:"org-phone",value:f.phone,onChange:P=>v({...f,phone:P.target.value}),placeholder:"+977-1-234567",className:"border",required:!0}),p.phone&&t.jsx("span",{className:"text-red-500 text-sm",children:p.phone[0]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"org-subscription-plan",children:"Subscription Plan *"}),t.jsxs(_e,{value:f.subscription_plan,onValueChange:P=>v({...f,subscription_plan:P}),children:[t.jsx(Pe,{className:"border",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"trial",children:"Trial (Free)"}),t.jsx(I,{value:"basic",children:"Basic"}),t.jsx(I,{value:"professional",children:"Professional"}),t.jsx(I,{value:"enterprise",children:"Enterprise"})]})]}),p.subscription_plan&&t.jsx("span",{className:"text-red-500 text-sm",children:p.subscription_plan[0]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"org-address",children:"Address *"}),t.jsx(Vt,{id:"org-address",value:f.address,onChange:P=>v({...f,address:P.target.value}),placeholder:"Enter full address",rows:2,className:"border",required:!0}),p.address&&t.jsx("span",{className:"text-red-500 text-sm",children:p.address[0]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(k,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),t.jsxs(k,{onClick:C,disabled:l,children:[l&&t.jsx(ir,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Organization"]})]})]})]})]}),t.jsxs(Or,{value:d,onValueChange:u,children:[t.jsxs(Ar,{children:[t.jsx(Oe,{value:"organizations",children:"Organizations"}),t.jsx(Oe,{value:"branches",children:"Branches"}),t.jsx(Oe,{value:"users",children:"Users"})]}),t.jsx($e,{value:"organizations",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(dn,{className:"w-5 h-5"}),"Organizations (",r.length,")"]}),t.jsx(kt,{children:"Manage pharmacy organizations and their details"})]}),t.jsx(E,{children:l?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(ir,{className:"w-8 h-8 animate-spin"})}):t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{className:"w-16",children:"S.No"}),t.jsx(K,{children:"ID"}),t.jsx(K,{children:"Logo"}),t.jsx(K,{children:"Name"}),t.jsx(K,{children:"Type"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Owner"}),t.jsx(K,{children:"Branches"}),t.jsx(K,{children:"Users"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:r.map((P,_)=>t.jsxs(Ie,{children:[t.jsx(W,{className:"font-medium",children:_+1}),t.jsx(W,{className:"font-mono text-sm",children:P.id}),t.jsx(W,{children:t.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:P.logo?t.jsx("img",{src:P.logo,alt:`${P.name} logo`,className:"w-full h-full object-cover",onError:w=>{const A=w.target;A.style.display="none";const D=A.parentElement;D&&(D.innerHTML='<div class="w-full h-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-lg">'+P.name.charAt(0).toUpperCase()+"</div>")}}):t.jsx("div",{className:"w-full h-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-lg",children:P.name.charAt(0).toUpperCase()})})}),t.jsx(W,{className:"font-medium",children:t.jsx("button",{onClick:()=>{window.location.href=`/admin/organizations/${P.id}`},className:"text-blue-600 hover:text-blue-800 hover:underline text-left",children:P.name})}),t.jsx(W,{children:P.type.replace("_"," ")}),t.jsx(W,{children:N(P.status)}),t.jsx(W,{children:P.owner_name||"Not assigned"}),t.jsx(W,{children:P.total_branches||0}),t.jsx(W,{children:P.total_users||0}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(k,{variant:"ghost",size:"sm",onClick:()=>{window.location.href=`/admin/organizations/${P.id}`},children:t.jsx(xt,{className:"w-4 h-4"})}),t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(mn,{className:"w-4 h-4"})}),t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(as,{className:"w-4 h-4"})})]})})]},P.id))})]})})]})}),t.jsx($e,{value:"branches",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(Ia,{className:"w-5 h-5"}),"Branches (",s.length,")"]}),t.jsx(kt,{children:"Manage organization branches and locations"})]}),t.jsx(E,{children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Name"}),t.jsx(K,{children:"Code"}),t.jsx(K,{children:"Organization"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Manager"}),t.jsx(K,{children:"Users"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:s.map(P=>t.jsxs(Ie,{children:[t.jsx(W,{className:"font-medium",children:P.name}),t.jsx(W,{children:P.code}),t.jsx(W,{children:P.organization_name}),t.jsx(W,{children:N(P.status)}),t.jsx(W,{children:P.manager_name||"Not assigned"}),t.jsx(W,{children:P.total_users||0}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(xt,{className:"w-4 h-4"})}),t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(mn,{className:"w-4 h-4"})}),t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(as,{className:"w-4 h-4"})})]})})]},P.id))})]})})]})}),t.jsx($e,{value:"users",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(it,{className:"w-5 h-5"}),"Users (",i.length,")"]}),t.jsx(kt,{children:"Manage user accounts and permissions"})]}),t.jsx(E,{children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Name"}),t.jsx(K,{children:"Email"}),t.jsx(K,{children:"Role"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Organization"}),t.jsx(K,{children:"Branch"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:i.map(P=>t.jsxs(Ie,{children:[t.jsxs(W,{className:"font-medium",children:[P.first_name," ",P.last_name]}),t.jsx(W,{children:P.email}),t.jsx(W,{children:P.role.replace("_"," ")}),t.jsx(W,{children:N(P.status)}),t.jsx(W,{children:P.organization_name||"N/A"}),t.jsx(W,{children:P.branch_name||"N/A"}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(xt,{className:"w-4 h-4"})}),t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(mn,{className:"w-4 h-4"})}),t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(as,{className:"w-4 h-4"})})]})})]},P.id))})]})})]})})]})]})}function wSe(){return t.jsx("div",{className:"container mx-auto py-6",children:t.jsx(NSe,{})})}function SSe(){var se,le;const{id:e}=i1(),r=qs(),{toast:n}=Tt(),[s,a]=x.useState(null),[i,o]=x.useState(!0),[l,c]=x.useState("users"),[d,u]=x.useState([]),[m,h]=x.useState([]),[p,g]=x.useState("all"),[f,v]=x.useState(!1),[b,y]=x.useState(!1),[j,C]=x.useState(!1),[S,N]=x.useState(!1),[P,_]=x.useState(!1),[w,A]=x.useState(!1),[D,O]=x.useState(!1),[$,U]=x.useState(null),[V,R]=x.useState({new_password:"",confirm_password:""}),[X,z]=x.useState({}),[F,te]=x.useState(!1),[de,ie]=x.useState([]),[fe,ge]=x.useState([]),[he,Te]=x.useState({first_name:"",last_name:"",email:"",username:"",password:"",password_confirm:"",role:"staff",phone:"",organization_id:e||"",branch_id:""});x.useEffect(()=>{e&&(Se(),Ue(),be())},[e]),x.useEffect(()=>{e&&Ue()},[p]);const Se=async()=>{try{o(!0);const ne=await vn.getOrganization(e);ne.success&&ne.data&&a(ne.data)}catch(ne){console.error("Failed to load organization:",ne)}finally{o(!1)}},Ue=async()=>{try{const ne={organization_id:e};p!=="all"&&(ne.branch_id=p);const Q=await Mr.getUsers(ne);if(console.log("Users API response:",Q),Q.success&&Q.data){const ce=Q.data.filter(Ne=>(console.log("User organization_id:",Ne.organization_id,"Current org ID:",parseInt(e)),Ne.organization_id===parseInt(e)));console.log("Filtered users:",ce),u(ce)}else console.log("No success or data in response:",Q)}catch(ne){console.error("Failed to load users:",ne)}},be=async()=>{try{C(!0);const ne=await vn.getBranches();let Q=[];ne.success&&ne.data?Q=ne.data:Array.isArray(ne)&&(Q=ne);const ce=Q.filter(Ne=>Ne.organization===parseInt(e));h(ce)}catch(ne){console.error("Failed to load branches:",ne)}finally{C(!1)}},Z=async()=>{try{const Q=await vn.createDefaultBranch();if(Q&&(Q.branch||Q.data))return await be(),Q.branch||Q.data;throw new Error((Q==null?void 0:Q.error)||"Failed to create default branch")}catch(ne){throw console.error("Failed to create default branch:",ne),ne}},xe=async()=>{var ne,Q;try{if(y(!0),!he.first_name||!he.last_name||!he.email||!he.username||!he.password||!he.password_confirm){n({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(he.password!==he.password_confirm){n({title:"Validation Error",description:"Passwords do not match",variant:"destructive"});return}const ce=JSON.parse(localStorage.getItem("currentUser")||"{}"),Ne=(ce==null?void 0:ce.role)==="super_admin";let G=he.branch_id;if(!Ne&&he.role!=="super_admin"){if(m.length===0)try{n({title:"Info",description:"Creating default main branch..."});const We=await Z();h([We]),G=We.id.toString()}catch{n({title:"Error",description:"Failed to create default branch. Please create a branch first.",variant:"destructive"});return}else if(!G||G===""){const We=m.find(St=>St.type==="main")||m[0];We&&(G=We.id.toString())}}const ue={first_name:he.first_name,last_name:he.last_name,email:he.email,username:he.username,password:he.password,password_confirm:he.password_confirm,role:he.role,phone:he.phone,organization_id:parseInt(e),status:"active"};he.role!=="super_admin"&&G&&G!==""&&(ue.branch_id=parseInt(G));const Le=await Mr.createUser(ue);console.log("Create user API response:",Le),Le.success?(n({title:"Success",description:"User created successfully"}),v(!1),oe(),Ue()):(console.log("Create user failed:",Le),n({title:"Error",description:Le.error||"Failed to create user",variant:"destructive"}))}catch(ce){n({title:"Error",description:((Q=(ne=ce.response)==null?void 0:ne.data)==null?void 0:Q.error)||"Failed to create user",variant:"destructive"})}finally{y(!1)}},oe=()=>{Te({first_name:"",last_name:"",email:"",username:"",password:"",password_confirm:"",role:"staff",phone:"",organization_id:e||"",branch_id:""})},ze=async()=>{var ne,Q;if($){if(V.new_password!==V.confirm_password){n({title:"Validation Error",description:"Passwords do not match",variant:"destructive"});return}try{y(!0);const ce=await Mr.changeUserPassword($.id,{new_password:V.new_password,confirm_password:V.confirm_password});console.log("Password change response:",ce),ce.success||ce.user?(n({title:"Success",description:"Password updated successfully"}),A(!1),R({new_password:"",confirm_password:""}),U(null),Ue()):n({title:"Error",description:ce.error||"Failed to update password",variant:"destructive"})}catch(ce){n({title:"Error",description:((Q=(ne=ce.response)==null?void 0:ne.data)==null?void 0:Q.error)||"Failed to update password",variant:"destructive"})}finally{y(!1)}}},Fe=async ne=>{var Q,ce;try{y(!0);const Ne=ne.status==="active"?"inactive":"active",G={status:Ne,phone:ne.phone,first_name:ne.first_name,last_name:ne.last_name,email:ne.email},ue=await Mr.updateUser(ne.id,G);ue.success||ue.user?(n({title:"Success",description:`User ${Ne==="active"?"activated":"deactivated"} successfully`}),Ue()):n({title:"Error",description:ue.error||"Failed to update user status",variant:"destructive"})}catch(Ne){n({title:"Error",description:((ce=(Q=Ne.response)==null?void 0:Q.data)==null?void 0:ce.error)||"Failed to update user status",variant:"destructive"})}finally{y(!1)}},tt=ne=>{U(ne),A(!0)},ot=ne=>{U(ne),pe(ne),O(!0)},pe=async ne=>{var Q;te(!0);try{const ce=await Mr.getAvailableModules();ce.success&&ce.data&&ce.data.modules&&ie(ce.data.modules);const Ne=await Mr.getUserModulePermissions(ne.id);if(console.log("Permissions response:",Ne),console.log("Permissions response.data:",Ne.data),Ne.success&&Ne.data){const G=((Q=Ne.data.data)==null?void 0:Q.modules)||Ne.data.modules||[];console.log("Setting userModules to:",G),ge(G);const ue={};G&&G.forEach(Le=>{ue[Le.id]=Le.has_access,Le.sub_modules&&Le.sub_modules.forEach(We=>{ue[We.id]=We.has_access})}),z(ue)}}catch(ce){console.error("Failed to load user permissions:",ce),n({title:"Error",description:"Failed to load user permissions",variant:"destructive"})}finally{te(!1)}},qe=(ne,Q)=>{z(Ne=>({...Ne,[ne]:Q}));const ce=fe.find(Ne=>Ne.id===ne);if(ce)if(Q){const Ne={...X};ce.sub_modules.forEach(G=>{Ne[G.id]=!0}),z(Ne)}else{const Ne={...X};ce.sub_modules.forEach(G=>{Ne[G.id]=!1}),z(Ne)}else{const Ne={...X};Ne[ne]=Q;const G=fe.find(ue=>ue.sub_modules.some(Le=>Le.id===ne));if(G){const ue=G.sub_modules.some(Le=>Ne[Le.id]||Le.id===ne&&Q);Ne[G.id]=ue}z(Ne)}},ae=async()=>{if($)try{te(!0);const ne=await Mr.updateUserModulePermissions($.id,X);if(ne.success){const Q=($==null?void 0:$.role)==="pharmacy_owner";n({title:"Success",description:Q?"Permissions updated successfully. Changes may affect other users in the organization.":"Permissions updated successfully"}),O(!1),U(null),z({}),ge([])}else n({title:"Error",description:ne.error||"Failed to update permissions",variant:"destructive"})}catch(ne){console.error("Failed to save permissions:",ne),n({title:"Error",description:"Failed to update permissions",variant:"destructive"})}finally{te(!1)}},je=()=>(console.log("getFilteredModules called, userModules:",fe),fe||[]),H=ne=>{const Q={active:{variant:"default",color:"bg-green-100 text-green-800"},inactive:{variant:"secondary",color:"bg-gray-100 text-gray-800"},suspended:{variant:"destructive",color:"bg-red-100 text-red-800"},pending:{variant:"outline",color:"bg-yellow-100 text-yellow-800"}},ce=Q[ne]||Q.pending;return t.jsx(re,{variant:ce.variant,className:ce.color,children:ne.charAt(0).toUpperCase()+ne.slice(1)})};return i?t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(k,{variant:"outline",onClick:()=>r("/admin/organizations"),className:"flex items-center gap-2",children:[t.jsx(Do,{className:"w-4 h-4"}),"Back to Organizations"]}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:s.name}),t.jsx("p",{className:"text-muted-foreground",children:"Organization Details & Management"})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(dn,{className:"w-5 h-5"}),"Organization Overview"]})}),t.jsx(E,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(dn,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"font-medium",children:"Type:"}),t.jsx("span",{className:"capitalize",children:s.type.replace("_"," ")})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:"Status:"}),H(s.status)]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rt,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"font-medium",children:"Created:"}),t.jsx("span",{children:new Date(s.created_at).toLocaleDateString()})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Di,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"font-medium",children:"Email:"}),t.jsx("span",{className:"text-sm",children:s.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Wd,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"font-medium",children:"Phone:"}),t.jsx("span",{children:s.phone})]}),s.website&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(pB,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{className:"font-medium",children:"Website:"}),t.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:s.website})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ia,{className:"w-4 h-4 text-red-600"}),t.jsx("span",{className:"font-medium",children:"Address:"})]}),t.jsxs("div",{className:"text-sm text-gray-600 ml-6",children:[t.jsx("div",{children:s.address}),t.jsxs("div",{children:[s.city,", ",s.state," ",s.postal_code]}),t.jsx("div",{children:s.country})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4 text-indigo-600"}),t.jsx("span",{className:"font-medium",children:"Users:"}),t.jsx("span",{children:s.total_users||0})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ia,{className:"w-4 h-4 text-orange-600"}),t.jsx("span",{className:"font-medium",children:"Branches:"}),t.jsx("span",{children:s.total_branches||0})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ss,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"font-medium",children:"Plan:"}),t.jsx("span",{className:"capitalize",children:s.subscription_plan})]})]})]})})]}),t.jsxs(Or,{value:l,onValueChange:c,children:[t.jsxs(Ar,{className:"grid w-full grid-cols-3",children:[t.jsx(Oe,{value:"users",children:"Users"}),t.jsx(Oe,{value:"branches",children:"Branches"}),t.jsx(Oe,{value:"subscription",children:"Subscription"})]}),t.jsx($e,{value:"users",className:"space-y-4",children:t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(it,{className:"w-5 h-5"}),"Organization Users (",(d==null?void 0:d.length)||0,")"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(_e,{value:p,onValueChange:g,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by branch"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Branches"}),m.map(ne=>t.jsxs(I,{value:ne.id.toString(),children:[ne.name," (",ne.type,")"]},ne.id))]})]}),t.jsxs(rt,{open:f,onOpenChange:v,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{className:"w-4 h-4 mr-2"}),"Add User"]})}),t.jsxs(nt,{className:"max-w-2xl",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New User"}),t.jsxs(Pt,{children:["Create a new user for ",s.name]})]}),t.jsxs("div",{className:"space-y-6 p-6",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"first_name",children:"First Name *"}),t.jsx(J,{id:"first_name",value:he.first_name,onChange:ne=>Te({...he,first_name:ne.target.value}),placeholder:"John"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"last_name",children:"Last Name *"}),t.jsx(J,{id:"last_name",value:he.last_name,onChange:ne=>Te({...he,last_name:ne.target.value}),placeholder:"Doe"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"username",children:"Username *"}),t.jsx(J,{id:"username",value:he.username,onChange:ne=>Te({...he,username:ne.target.value}),placeholder:"johndoe"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"email",children:"Email *"}),t.jsx(J,{id:"email",type:"email",value:he.email,onChange:ne=>Te({...he,email:ne.target.value}),placeholder:"john.doe@example.com"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"phone",children:"Phone"}),t.jsx(J,{id:"phone",value:he.phone,onChange:ne=>Te({...he,phone:ne.target.value}),placeholder:"+977-1-234567"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"role",children:"Role *"}),t.jsxs(_e,{value:he.role,onValueChange:ne=>Te({...he,role:ne}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"super_admin",children:"Super Administrator"}),t.jsx(I,{value:"pharmacy_owner",children:"Pharmacy Owner"}),t.jsx(I,{value:"branch_manager",children:"Branch Manager"}),t.jsx(I,{value:"senior_pharmacist",children:"Senior Pharmacist"}),t.jsx(I,{value:"pharmacist",children:"Pharmacist"}),t.jsx(I,{value:"pharmacy_technician",children:"Pharmacy Technician"}),t.jsx(I,{value:"cashier",children:"Cashier"}),t.jsx(I,{value:"supplier_admin",children:"Supplier Administrator"}),t.jsx(I,{value:"sales_representative",children:"Sales Representative"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"password",children:"Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx(J,{id:"password",type:S?"text":"password",value:he.password,onChange:ne=>Te({...he,password:ne.target.value}),placeholder:"Enter password"}),t.jsx(k,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>N(!S),children:S?t.jsx(km,{className:"h-4 w-4"}):t.jsx(xt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"password_confirm",children:"Confirm Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx(J,{id:"password_confirm",type:P?"text":"password",value:he.password_confirm,onChange:ne=>Te({...he,password_confirm:ne.target.value}),placeholder:"Confirm password"}),t.jsx(k,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>_(!P),children:P?t.jsx(km,{className:"h-4 w-4"}):t.jsx(xt,{className:"h-4 w-4"})})]})]}),he.role!=="super_admin"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"branch",children:"Branch *"}),t.jsxs(_e,{value:he.branch_id,onValueChange:ne=>Te({...he,branch_id:ne}),disabled:j,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:j?"Loading branches...":"Select branch"})}),t.jsx(Ce,{children:m.length===0?t.jsx(I,{value:"no-branches",disabled:!0,children:j?"Loading...":"No branches available"}):m.map(ne=>t.jsxs(I,{value:ne.id.toString(),children:[ne.name," (",ne.type,")"]},ne.id))})]}),m.length===0&&!j&&t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'No branches found. A default "Main Branch" will be created automatically.'})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 mt-6 px-6 pb-6",children:[t.jsx(k,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),t.jsxs(k,{onClick:xe,disabled:b||j,children:[b&&t.jsx(ir,{className:"w-4 h-4 mr-2 animate-spin"}),"Create User"]})]})]})]}),t.jsx(rt,{open:w,onOpenChange:ne=>{A(ne),ne||(U(null),R({new_password:"",confirm_password:""}))},children:t.jsxs(nt,{className:"max-w-md",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Change Password"}),t.jsxs(Pt,{children:["Change password for ",$==null?void 0:$.first_name," ",$==null?void 0:$.last_name]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"font-medium",children:"Username:"}),t.jsx("span",{className:"text-gray-600",children:$==null?void 0:$.email})]}),($==null?void 0:$.plain_text_password)&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"font-medium",children:"Current Password:"}),t.jsx("span",{className:"text-gray-600 font-mono",children:$.plain_text_password})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"new_password",children:"New Password *"}),t.jsx(J,{id:"new_password",type:"password",value:V.new_password,onChange:ne=>R({...V,new_password:ne.target.value}),placeholder:"Enter new password"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{htmlFor:"confirm_new_password",children:"Confirm New Password *"}),t.jsx(J,{id:"confirm_new_password",type:"password",value:V.confirm_password,onChange:ne=>R({...V,confirm_password:ne.target.value}),placeholder:"Confirm new password"})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[t.jsx(k,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),t.jsxs(k,{onClick:ze,disabled:b,children:[b&&t.jsx(ir,{className:"w-4 h-4 mr-2 animate-spin"}),"Update Password"]})]})]})}),t.jsx(rt,{open:D,onOpenChange:O,children:t.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Module Permissions"}),t.jsxs(Pt,{children:["Manage module permissions for ",$==null?void 0:$.first_name," ",$==null?void 0:$.last_name,($==null?void 0:$.role)==="pharmacy_owner"?t.jsx("span",{className:"block text-sm text-blue-600 mt-1",children:"Owner role has access to all modules by default"}):t.jsx("span",{className:"block text-sm text-amber-600 mt-1",children:"Only modules permitted by the organization's pharmacy owner are shown"})]})]}),t.jsx("div",{className:"space-y-6",children:F?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(ir,{className:"w-8 h-8 animate-spin"})}):t.jsx(t.Fragment,{children:((se=je())==null?void 0:se.length)===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-gray-600",children:"No modules available for this user."})}):(le=je())==null?void 0:le.map(ne=>t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("input",{type:"checkbox",id:ne.id,checked:X[ne.id]||!1,onChange:Q=>qe(ne.id,Q.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:ne.id,className:"text-lg font-medium text-gray-900",children:ne.name})]}),t.jsx("div",{className:"ml-7",children:t.jsx("div",{className:"flex flex-wrap gap-4",children:ne.sub_modules.map(Q=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:Q.id,checked:X[Q.id]||!1,onChange:ce=>qe(Q.id,ce.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:Q.id,className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:Q.name})]},Q.id))})})]},ne.id))})}),t.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[t.jsx(k,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),t.jsxs(k,{onClick:ae,disabled:F,children:[F&&t.jsx(ir,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Permissions"]})]})]})})]})]})}),t.jsx(E,{children:d.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(it,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Users Yet"}),t.jsxs("p",{className:"text-gray-600 mb-4",children:["Start by adding the first user for ",s.name]})]}):t.jsx("div",{className:"space-y-4",children:d.map(ne=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:t.jsxs("span",{className:"text-blue-600 font-medium",children:[ne.first_name.charAt(0),ne.last_name.charAt(0)]})}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium",children:[ne.first_name," ",ne.last_name]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[ne.email," • ",ne.role,ne.branch_name&&t.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:ne.branch_name})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(re,{variant:ne.status==="active"?"default":"secondary",children:ne.status}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(k,{variant:"ghost",size:"sm",onClick:()=>ot(ne),title:"Module Permissions",children:t.jsx(ln,{className:"w-4 h-4"})}),t.jsx(k,{variant:"ghost",size:"sm",onClick:()=>tt(ne),title:"Change Password",children:t.jsx(V4,{className:"w-4 h-4"})}),t.jsx(k,{variant:"ghost",size:"sm",onClick:()=>Fe(ne),title:ne.status==="active"?"Deactivate User":"Activate User",disabled:b,children:t.jsx(W4,{className:`w-4 h-4 ${ne.status==="active"?"text-green-600":"text-red-600"}`})})]})]})]},ne.id))})})]})}),t.jsx($e,{value:"branches",className:"space-y-4",children:t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(Ia,{className:"w-5 h-5"}),"Organization Branches"]})}),t.jsx(E,{children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Ia,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Branches Management"}),t.jsxs("p",{className:"text-gray-600 mb-4",children:["Manage branches for ",s.name]}),t.jsx(k,{children:"Add New Branch"})]})})]})}),t.jsx($e,{value:"subscription",className:"space-y-4",children:t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(ss,{className:"w-5 h-5"}),"Subscription Details"]})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(ss,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"font-medium",children:"Current Plan"})]}),t.jsx("div",{className:"text-2xl font-bold capitalize",children:s.subscription_plan}),t.jsx("div",{className:"text-sm text-gray-600",children:"Active subscription"})]}),t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Rt,{className:"w-5 h-5 text-green-600"}),t.jsx("span",{className:"font-medium",children:"Status"})]}),t.jsx("div",{className:"text-2xl font-bold capitalize",children:s.subscription_status}),t.jsx("div",{className:"text-sm text-gray-600",children:"Subscription status"})]}),t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(it,{className:"w-5 h-5 text-purple-600"}),t.jsx("span",{className:"font-medium",children:"Users"})]}),t.jsx("div",{className:"text-2xl font-bold",children:s.total_users||0}),t.jsx("div",{className:"text-sm text-gray-600",children:"Active users"})]})]}),t.jsx("div",{className:"flex justify-center",children:t.jsx(k,{children:"Manage Subscription"})})]})})]})})]})]}):t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Organization not found"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"The organization you're looking for doesn't exist."}),t.jsx(k,{onClick:()=>r("/admin/organizations"),className:"mt-4",children:"Back to Organizations"})]})})}function PSe(){const{toast:e}=Tt(),[r,n]=x.useState([]),[s,a]=x.useState(!0),[i,o]=x.useState(""),[l,c]=x.useState("all"),[d,u]=x.useState(!1),[m,h]=x.useState(!1),[p,g]=x.useState({first_name:"",last_name:"",email:"",phone:"",role:"cashier",plain_text_password:""});x.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const j=await Mr.getUsers();j.success&&j.data?n(j.data):n([])}catch(j){console.error("Failed to fetch users:",j),e({title:"Error",description:"Failed to load users from server.",variant:"destructive"}),n([])}finally{a(!1)}},v=async()=>{if(!p.first_name||!p.last_name||!p.email||!p.plain_text_password){e({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{h(!0);const j=await Mr.createUser(p);j.success?(e({title:"Success",description:"User created successfully"}),g({first_name:"",last_name:"",email:"",phone:"",role:"cashier",plain_text_password:""}),u(!1),f()):e({title:"Error",description:j.message||"Failed to create user",variant:"destructive"})}catch(j){console.error("Failed to create user:",j),e({title:"Error",description:"Failed to create user",variant:"destructive"})}finally{h(!1)}},b=r.filter(j=>{const C=j.email.toLowerCase().includes(i.toLowerCase())||`${j.first_name} ${j.last_name}`.toLowerCase().includes(i.toLowerCase()),S=l==="all"||j.role===l;return C&&S}),y=j=>({super_admin:"bg-red-100 text-red-800",owner:"bg-blue-100 text-blue-800",manager:"bg-green-100 text-green-800",pharmacist:"bg-purple-100 text-purple-800",technician:"bg-yellow-100 text-yellow-800",cashier:"bg-orange-100 text-orange-800"})[j]||"bg-gray-100 text-gray-800";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Cs,{className:"w-8 h-8 text-warning"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage system users and their permissions"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{onClick:f,variant:"outline",className:"gap-2",children:[t.jsx(Pi,{className:`w-4 h-4 ${s?"animate-spin":""}`}),"Refresh"]}),t.jsxs(rt,{open:d,onOpenChange:u,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{className:"gap-2",children:[t.jsx(Uw,{className:"w-4 h-4"}),"Add User"]})}),t.jsxs(nt,{className:"max-w-md",children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New User"}),t.jsx(Pt,{children:"Create a new user account with role and permissions"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{htmlFor:"first_name",children:"First Name"}),t.jsx(J,{id:"first_name",value:p.first_name,onChange:j=>g({...p,first_name:j.target.value}),placeholder:"John"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"last_name",children:"Last Name"}),t.jsx(J,{id:"last_name",value:p.last_name,onChange:j=>g({...p,last_name:j.target.value}),placeholder:"Doe"})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"email",children:"Email"}),t.jsx(J,{id:"email",type:"email",value:p.email,onChange:j=>g({...p,email:j.target.value}),placeholder:"john.doe@example.com"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"phone",children:"Phone"}),t.jsx(J,{id:"phone",value:p.phone,onChange:j=>g({...p,phone:j.target.value}),placeholder:"+1234567890"})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"role",children:"Role"}),t.jsxs(_e,{value:p.role,onValueChange:j=>g({...p,role:j}),children:[t.jsx(Pe,{children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"owner",children:"Pharmacy Owner"}),t.jsx(I,{value:"manager",children:"Branch Manager"}),t.jsx(I,{value:"pharmacist",children:"Pharmacist"}),t.jsx(I,{value:"technician",children:"Technician"}),t.jsx(I,{value:"cashier",children:"Cashier"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{htmlFor:"password",children:"Password"}),t.jsx(J,{id:"password",type:"password",value:p.plain_text_password,onChange:j=>g({...p,plain_text_password:j.target.value}),placeholder:"Enter password"})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),t.jsxs(k,{onClick:v,disabled:m,children:[m?t.jsx(ir,{className:"w-4 h-4 animate-spin mr-2"}):null,"Add User"]})]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsx(q,{className:"text-sm font-medium",children:"Total Users"})}),t.jsx(E,{children:t.jsx("div",{className:"text-2xl font-bold",children:r.length})})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsx(q,{className:"text-sm font-medium",children:"Active Users"})}),t.jsx(E,{children:t.jsx("div",{className:"text-2xl font-bold",children:r.filter(j=>j.status==="active"&&j.is_active).length})})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsx(q,{className:"text-sm font-medium",children:"Super Admins"})}),t.jsx(E,{children:t.jsx("div",{className:"text-2xl font-bold",children:r.filter(j=>j.role==="super_admin").length})})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsx(q,{className:"text-sm font-medium",children:"Pharmacy Owners"})}),t.jsx(E,{children:t.jsx("div",{className:"text-2xl font-bold",children:r.filter(j=>j.role==="owner").length})})]})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Users"})}),t.jsxs(E,{children:[t.jsxs("div",{className:"flex gap-4 mb-6",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search users...",value:i,onChange:j=>o(j.target.value),className:"pl-8"})]})}),t.jsxs(_e,{value:l,onValueChange:c,children:[t.jsx(Pe,{className:"w-48",children:t.jsx(Ae,{placeholder:"Filter by role"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Roles"}),t.jsx(I,{value:"super_admin",children:"Super Admin"}),t.jsx(I,{value:"owner",children:"Pharmacy Owner"}),t.jsx(I,{value:"manager",children:"Branch Manager"}),t.jsx(I,{value:"pharmacist",children:"Pharmacist"}),t.jsx(I,{value:"technician",children:"Technician"}),t.jsx(I,{value:"cashier",children:"Cashier"})]})]})]}),s?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(ir,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading users..."})]}):b.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(it,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium",children:"No users found"}),t.jsx("p",{className:"text-muted-foreground",children:i||l!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first user."})]}):t.jsx("div",{className:"space-y-4",children:b.map(j=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:t.jsx(it,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium",children:[j.first_name," ",j.last_name]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:j.email}),t.jsx("div",{className:"text-sm text-muted-foreground",children:j.phone})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(re,{className:y(j.role),children:j.role.replace("_"," ")}),t.jsx(re,{variant:j.status==="active"?"default":"secondary",children:j.status}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(mn,{className:"w-4 h-4"})}),t.jsx(k,{variant:"ghost",size:"sm",children:t.jsx(cB,{className:"w-4 h-4"})})]})]})]},j.id))})]})]})]})}function CSe(){const[e,r]=x.useState(null),[n,s]=x.useState([]),[a,i]=x.useState([]),[o,l]=x.useState([]),[c,d]=x.useState(!0),[u,m]=x.useState(!1),[h,p]=x.useState(null),[g,f]=x.useState({name:"",display_name:"",pricing_tiers:[{cycle:"monthly",price:""}],max_users:"",max_organizations:"",max_branches:"",features:[""]}),v=async()=>{try{d(!0);const[_,w,A,D]=await Promise.all([qo.getStats(),qo.getPlans(),qo.getSubscriptions(),vn.getOrganizations()]),O=_.data,$=w.data,U=A.data,V=D.data;r(O||null),s(Array.isArray($)?$:[]),i(U.results||U||[]),l(Array.isArray(V)?V:[])}catch(_){console.error("Error fetching subscription data:",_)}finally{d(!1)}};x.useEffect(()=>{v()},[]);const b=async()=>{try{const _={name:g.name,display_name:g.display_name,pricing_tiers:g.pricing_tiers.filter(w=>w.price),max_users:g.max_users?parseInt(g.max_users):null,max_organizations:g.max_organizations?parseInt(g.max_organizations):null,max_branches:g.max_branches?parseInt(g.max_branches):null,features:g.features.filter(w=>w.trim())};h?await qo.updatePlan(h.id,_):await qo.createPlan(_),m(!1),p(null),f({name:"",display_name:"",pricing_tiers:[{cycle:"monthly",price:""}],max_users:"",max_organizations:"",max_branches:"",features:[""]}),v()}catch(_){console.error("Error saving plan:",_)}},y=_=>{var w,A,D;p(_),f({name:_.name,display_name:_.display_name,pricing_tiers:_.pricing_tiers||[{cycle:"monthly",price:_.price.toString()}],max_users:((w=_.max_users)==null?void 0:w.toString())||"",max_organizations:((A=_.max_organizations)==null?void 0:A.toString())||"",max_branches:((D=_.max_branches)==null?void 0:D.toString())||"",features:_.features.length?_.features:[""]}),m(!0)},j=async _=>{if(confirm("Are you sure you want to delete this plan?"))try{await qo.deletePlan(_),v()}catch(w){console.error("Error deleting plan:",w)}},C=async _=>{try{await qo.togglePlanStatus(_),v()}catch(w){console.error("Error toggling plan status:",w)}},S=_=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(_),N=_=>{const w={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",expired:"bg-red-100 text-red-800",cancelled:"bg-yellow-100 text-yellow-800"};return t.jsx(re,{className:w[_]||"bg-gray-100 text-gray-800",children:_.charAt(0).toUpperCase()+_.slice(1)})},P=_=>{const w={trial:"bg-blue-100 text-blue-800",basic:"bg-green-100 text-green-800",professional:"bg-purple-100 text-purple-800",enterprise:"bg-orange-100 text-orange-800"};return t.jsx(re,{className:w[_]||"bg-gray-100 text-gray-800",children:_.charAt(0).toUpperCase()+_.slice(1)})};return c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Pi,{className:"h-8 w-8 animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ss,{className:"w-8 h-8 text-warning"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Subscription Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage subscription plans and billing"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{onClick:v,variant:"outline",children:[t.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Refresh"]}),t.jsxs(rt,{open:u,onOpenChange:m,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{children:[t.jsx(zt,{className:"h-4 w-4 mr-2"}),"Create Plan"]})}),t.jsxs(nt,{children:[t.jsx(st,{children:t.jsxs(at,{children:[h?"Edit":"Create"," Subscription Plan"]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Plan Type"}),t.jsxs(_e,{value:g.name,onValueChange:_=>f({...g,name:_}),children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select plan type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"trial",children:"Trial"}),t.jsx(I,{value:"basic",children:"Basic"}),t.jsx(I,{value:"professional",children:"Professional"}),t.jsx(I,{value:"enterprise",children:"Enterprise"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Display Name"}),t.jsx(J,{value:g.display_name,onChange:_=>f({...g,display_name:_.target.value}),placeholder:"e.g., Professional Plan"})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Pricing Tiers"}),g.pricing_tiers.map((_,w)=>t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsxs(_e,{value:_.cycle,onValueChange:A=>{const D=[...g.pricing_tiers];D[w].cycle=A,f({...g,pricing_tiers:D})},children:[t.jsx(Pe,{className:"w-40",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"monthly",children:"Monthly"}),t.jsx(I,{value:"quarterly",children:"3 Months"}),t.jsx(I,{value:"half-yearly",children:"6 Months"}),t.jsx(I,{value:"yearly",children:"1 Year"})]})]}),t.jsx(J,{type:"number",placeholder:"Price",value:_.price,onChange:A=>{const D=[...g.pricing_tiers];D[w].price=A.target.value,f({...g,pricing_tiers:D})}}),t.jsx(k,{type:"button",variant:"outline",size:"sm",onClick:()=>{const A=g.pricing_tiers.filter((D,O)=>O!==w);f({...g,pricing_tiers:A})},children:"Remove"})]},w)),t.jsx(k,{type:"button",variant:"outline",size:"sm",onClick:()=>{f({...g,pricing_tiers:[...g.pricing_tiers,{cycle:"monthly",price:""}]})},children:"+ Add Pricing Tier"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx(M,{children:"Max Users"}),t.jsx(J,{type:"number",value:g.max_users,onChange:_=>f({...g,max_users:_.target.value}),placeholder:"50"})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Max Organizations"}),t.jsx(J,{type:"number",value:g.max_organizations,onChange:_=>f({...g,max_organizations:_.target.value}),placeholder:"5"})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Max Branches"}),t.jsx(J,{type:"number",value:g.max_branches,onChange:_=>f({...g,max_branches:_.target.value}),placeholder:"10"})]})]}),t.jsxs("div",{children:[t.jsx(M,{children:"Features"}),g.features.map((_,w)=>t.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[t.jsx(J,{value:_,onChange:A=>{const D=[...g.features];D[w]=A.target.value,f({...g,features:D})},placeholder:"Enter feature"}),t.jsx(k,{type:"button",variant:"outline",size:"sm",onClick:()=>{const A=g.features.filter((D,O)=>O!==w);f({...g,features:A})},children:"Remove"})]},w)),t.jsx(k,{type:"button",variant:"outline",size:"sm",onClick:()=>{f({...g,features:[...g.features,""]})},children:"+ Add Feature"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(k,{variant:"outline",onClick:()=>{m(!1),p(null),f({name:"",display_name:"",pricing_tiers:[{cycle:"monthly",price:""}],max_users:"",max_organizations:"",max_branches:"",features:[""]})},children:"Cancel"}),t.jsxs(k,{onClick:b,children:[h?"Update":"Create"," Plan"]})]})]})]})]})]})]}),e&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Organizations"}),t.jsx("p",{className:"text-2xl font-bold",children:e.total_organizations})]}),t.jsx(Ps,{className:"h-8 w-8 text-blue-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Subscriptions"}),t.jsx("p",{className:"text-2xl font-bold",children:e.active_subscriptions})]}),t.jsx(it,{className:"h-8 w-8 text-green-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Revenue"}),t.jsx("p",{className:"text-2xl font-bold",children:S(e.monthly_revenue)})]}),t.jsx(mt,{className:"h-8 w-8 text-purple-600"})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Growth Rate"}),t.jsxs("p",{className:"text-2xl font-bold",children:[e.growth_rate,"%"]})]}),t.jsx(yt,{className:"h-8 w-8 text-orange-600"})]})})})]}),t.jsxs(Or,{defaultValue:"plans",className:"space-y-6",children:[t.jsxs(Ar,{children:[t.jsx(Oe,{value:"plans",children:"Subscription Plans"}),t.jsx(Oe,{value:"organizations",children:"Organization Subscriptions"}),t.jsx(Oe,{value:"analytics",children:"Analytics"})]}),t.jsx($e,{value:"plans",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:(n||[]).map(_=>t.jsxs(T,{className:"relative",children:[t.jsx(B,{children:t.jsx("div",{className:"flex justify-between items-start",children:t.jsxs("div",{children:[t.jsx(q,{className:"text-lg",children:_.display_name}),P(_.name)]})})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{children:_.pricing_tiers&&_.pricing_tiers.length>0?t.jsx("div",{className:"space-y-1",children:_.pricing_tiers.map((w,A)=>t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"font-bold",children:S(parseFloat(w.price))}),t.jsxs("span",{className:"text-gray-600",children:["/",w.cycle]})]},A))}):t.jsxs("div",{children:[t.jsx("span",{className:"text-3xl font-bold",children:S(_.price)}),t.jsxs("span",{className:"text-gray-600",children:["/",_.billing_cycle]})]})}),t.jsxs("div",{className:"space-y-2",children:[_.max_users&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Up to ",_.max_users," users"]}),_.max_organizations&&t.jsxs("p",{className:"text-sm text-gray-600",children:[_.max_organizations," organizations"]}),_.features.map((w,A)=>t.jsxs("p",{className:"text-sm text-gray-600",children:["• ",w]},A))]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(k,{className:"flex-1",variant:"outline",onClick:()=>y(_),children:"Edit"}),t.jsx(k,{className:"flex-1",variant:"destructive",onClick:()=>j(_.id),children:"Delete"})]}),t.jsx(k,{className:"w-full mt-2",variant:_.is_active?"secondary":"default",onClick:()=>C(_.id),children:_.is_active?"Deactivate":"Activate"})]})})]},_.id))})}),t.jsx($e,{value:"organizations",children:t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Organization Subscriptions"})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left p-2",children:"Organization"}),t.jsx("th",{className:"text-left p-2",children:"Plan"}),t.jsx("th",{className:"text-left p-2",children:"Status"}),t.jsx("th",{className:"text-left p-2",children:"Start Date"}),t.jsx("th",{className:"text-left p-2",children:"End Date"}),t.jsx("th",{className:"text-left p-2",children:"Auto Renew"}),t.jsx("th",{className:"text-left p-2",children:"Actions"})]})}),t.jsx("tbody",{children:(a||[]).map(_=>t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"p-2",children:_.organization_name}),t.jsx("td",{className:"p-2",children:P(_.plan_details.name)}),t.jsx("td",{className:"p-2",children:N(_.status)}),t.jsx("td",{className:"p-2",children:new Date(_.start_date).toLocaleDateString()}),t.jsx("td",{className:"p-2",children:new Date(_.end_date).toLocaleDateString()}),t.jsx("td",{className:"p-2",children:t.jsx(re,{variant:_.auto_renew?"default":"secondary",children:_.auto_renew?"Yes":"No"})}),t.jsx("td",{className:"p-2",children:t.jsx(k,{size:"sm",variant:"outline",children:"Manage"})})]},_.id))})]})})})]})}),t.jsx($e,{value:"analytics",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e&&t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Subscription Distribution"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:Object.entries(e.subscription_distribution).map(([_,w])=>t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[P(_),t.jsx("span",{className:"capitalize",children:_})]}),t.jsx("span",{className:"font-semibold",children:w})]},_))})})]}),e&&t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Recent Subscriptions"})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:(e.recent_subscriptions||[]).map(_=>t.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:_.organization_name}),t.jsx("p",{className:"text-sm text-gray-600",children:_.plan_details.display_name})]}),t.jsxs("div",{className:"text-right",children:[N(_.status),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:new Date(_.created_at).toLocaleDateString()})]})]},_.id))})})]})]})})]})]})}function _Se(){var f,v,b,y,j,C,S;const{toast:e}=Tt(),[r,n]=x.useState(!0),[s,a]=x.useState(!0),[i,o]=x.useState(null),[l,c]=x.useState([]),[d,u]=x.useState([]),[m,h]=x.useState("30d");x.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0),a(!0);const[N,P,_]=await Promise.all([vn.getDashboardStats(),Mr.getUsers(),vn.getOrganizations()]);N.success&&N.data&&o(N.data),P.success&&P.data&&c(P.data),_.success&&_.data&&u(_.data)}catch(N){console.error("Failed to fetch report data:",N),e({title:"Error",description:"Failed to load report data.",variant:"destructive"})}finally{n(!1),a(!1)}},g=N=>{e({title:"Export Started",description:`${N} report export has been initiated.`})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ar,{className:"w-8 h-8 text-warning"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Admin Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Comprehensive system analytics and insights"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(_e,{value:m,onValueChange:h,children:[t.jsx(Pe,{className:"w-32",children:t.jsx(Ae,{})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"7d",children:"Last 7 days"}),t.jsx(I,{value:"30d",children:"Last 30 days"}),t.jsx(I,{value:"90d",children:"Last 90 days"}),t.jsx(I,{value:"1y",children:"Last year"})]})]}),t.jsxs(k,{onClick:p,variant:"outline",className:"gap-2",children:[t.jsx(Pi,{className:`w-4 h-4 ${r||s?"animate-spin":""}`}),"Refresh"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(dn,{className:"w-4 h-4"}),"Total Organizations"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:s?"...":(i==null?void 0:i.total_organizations)||d.length}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",s?"...":(i==null?void 0:i.monthly_growth)||0," this month"]})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),"Total Users"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:s?"...":(i==null?void 0:i.total_users)||l.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:s?"...":`${(i==null?void 0:i.active_users)||0} active`})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"Monthly Revenue"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:s?"...":`₹${((i==null?void 0:i.monthly_revenue)||0).toLocaleString("en-IN")}`}),t.jsx("p",{className:"text-xs text-muted-foreground",children:s?"...":`${i!=null&&i.growth_percentage?"+":""}${(i==null?void 0:i.growth_percentage)||0}% growth`})]})]}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(yt,{className:"w-4 h-4"}),"System Health"]})}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:"98.5%"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Uptime"})]})]})]}),t.jsxs(Or,{defaultValue:"overview",className:"space-y-6",children:[t.jsxs(Ar,{children:[t.jsx(Oe,{value:"overview",children:"Overview"}),t.jsx(Oe,{value:"organizations",children:"Organizations"}),t.jsx(Oe,{value:"users",children:"Users"}),t.jsx(Oe,{value:"financial",children:"Financial"}),t.jsx(Oe,{value:"system",children:"System"})]}),t.jsx($e,{value:"overview",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"Subscription Distribution"})}),t.jsx(E,{className:"space-y-4",children:s?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(ir,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading data..."})]}):[{tier:"Enterprise",count:((f=i==null?void 0:i.subscription_distribution)==null?void 0:f.enterprise)||0,revenue:(((v=i==null?void 0:i.subscription_distribution)==null?void 0:v.enterprise)||0)*5e4,color:"destructive"},{tier:"Professional",count:((b=i==null?void 0:i.subscription_distribution)==null?void 0:b.professional)||0,revenue:(((y=i==null?void 0:i.subscription_distribution)==null?void 0:y.professional)||0)*15e3,color:"default"},{tier:"Basic",count:((j=i==null?void 0:i.subscription_distribution)==null?void 0:j.basic)||0,revenue:(((C=i==null?void 0:i.subscription_distribution)==null?void 0:C.basic)||0)*5e3,color:"outline"},{tier:"Trial",count:((S=i==null?void 0:i.subscription_distribution)==null?void 0:S.trial)||0,revenue:0,color:"secondary"}].map(N=>t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-3 h-3 rounded-full bg-${N.color==="destructive"?"red":N.color==="default"?"blue":N.color==="outline"?"gray":"yellow"}-500`}),t.jsx("span",{className:"font-medium",children:N.tier})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-medium",children:[N.count," organizations"]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["₹",(N.revenue/1e5).toFixed(1),"L/month"]})]})]},N.tier))})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsx(q,{children:"System Performance"})}),t.jsx(E,{className:"space-y-4",children:[{metric:"Database Performance",value:"98.5%",status:"excellent"},{metric:"API Response Time",value:"145ms",status:"good"},{metric:"Active Connections",value:"1,247",status:"normal"},{metric:"Error Rate",value:"0.02%",status:"excellent"},{metric:"Storage Usage",value:"67%",status:"normal"}].map((N,P)=>t.jsxs("div",{className:"flex items-center justify-between p-3 border",children:[t.jsx("span",{className:"font-medium",children:N.metric}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:N.value}),t.jsx("div",{className:`w-2 h-2 rounded-full ${N.status==="excellent"?"bg-green-500":N.status==="good"?"bg-yellow-500":"bg-blue-500"}`})]})]},P))})]})]})}),t.jsx($e,{value:"organizations",className:"space-y-6",children:t.jsxs(T,{children:[t.jsxs(B,{className:"flex flex-row items-center justify-between",children:[t.jsx(q,{children:"Organization Analytics"}),t.jsxs(k,{onClick:()=>g("Organizations"),variant:"outline",className:"gap-2",children:[t.jsx(bt,{className:"w-4 h-4"}),"Export"]})]}),t.jsx(E,{children:r?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(ir,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading organizations..."})]}):t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:d.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Organizations"})]}),t.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:d.filter(N=>N.status==="active").length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Organizations"})]}),t.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:d.filter(N=>N.status==="pending").length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Organizations"})]})]})})})]})}),t.jsx($e,{value:"users",className:"space-y-6",children:t.jsxs(T,{children:[t.jsxs(B,{className:"flex flex-row items-center justify-between",children:[t.jsx(q,{children:"User Analytics"}),t.jsxs(k,{onClick:()=>g("Users"),variant:"outline",className:"gap-2",children:[t.jsx(bt,{className:"w-4 h-4"}),"Export"]})]}),t.jsx(E,{children:r?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(ir,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading users..."})]}):t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:l.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Users"})]}),t.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:l.filter(N=>N.status==="active"&&N.is_active).length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Users"})]}),t.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:l.filter(N=>N.role==="super_admin").length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Super Admins"})]}),t.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold",children:l.filter(N=>N.role==="owner").length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Pharmacy Owners"})]})]})})})]})}),t.jsx($e,{value:"financial",className:"space-y-6",children:t.jsxs(T,{children:[t.jsxs(B,{className:"flex flex-row items-center justify-between",children:[t.jsx(q,{children:"Financial Reports"}),t.jsxs(k,{onClick:()=>g("Financial"),variant:"outline",className:"gap-2",children:[t.jsx(bt,{className:"w-4 h-4"}),"Export"]})]}),t.jsx(E,{children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx(mt,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium",children:"Financial Analytics"}),t.jsx("p",{className:"text-muted-foreground",children:"Detailed financial reports coming soon"})]})})]})}),t.jsx($e,{value:"system",className:"space-y-6",children:t.jsxs(T,{children:[t.jsxs(B,{className:"flex flex-row items-center justify-between",children:[t.jsx(q,{children:"System Reports"}),t.jsxs(k,{onClick:()=>g("System"),variant:"outline",className:"gap-2",children:[t.jsx(bt,{className:"w-4 h-4"}),"Export"]})]}),t.jsx(E,{children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx($t,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium",children:"System Analytics"}),t.jsx("p",{className:"text-muted-foreground",children:"Detailed system reports coming soon"})]})})]})})]})]})}const hp=[{id:"emp1",name:"Dr. Sarah Johnson",email:"sarah.johnson@pharmacy.com",phone:"+1 234 567 8901",role:"Senior Pharmacist",department:"Pharmacy",hireDate:"2020-01-15",status:"Active",salary:85e3,employeeId:"PH001"},{id:"emp2",name:"Mike Thompson",email:"mike.thompson@pharmacy.com",phone:"+1 234 567 8902",role:"Pharmacy Technician",department:"Pharmacy",hireDate:"2021-03-10",status:"Active",salary:45e3,employeeId:"PT001"},{id:"emp3",name:"Lisa Rodriguez",email:"lisa.rodriguez@pharmacy.com",phone:"+1 234 567 8903",role:"Sales Associate",department:"Sales",hireDate:"2022-06-01",status:"Active",salary:35e3,employeeId:"SA001"},{id:"emp4",name:"David Wilson",email:"david.wilson@pharmacy.com",phone:"+1 234 567 8904",role:"Delivery Driver",department:"Logistics",hireDate:"2021-09-15",status:"Active",salary:38e3,employeeId:"DD001"},{id:"emp5",name:"Emma Davis",email:"emma.davis@pharmacy.com",phone:"+1 234 567 8905",role:"Cashier",department:"Sales",hireDate:"2023-01-20",status:"Active",salary:32e3,employeeId:"CA001"}],MN=[{id:"shift1",employeeId:"emp1",employeeName:"Dr. Sarah Johnson",date:"2024-01-15",startTime:"08:00",endTime:"16:00",role:"Senior Pharmacist",status:"Scheduled",branch:"Main Branch",notes:"Morning consultation hours"},{id:"shift2",employeeId:"emp2",employeeName:"Mike Thompson",date:"2024-01-15",startTime:"12:00",endTime:"20:00",role:"Pharmacy Technician",status:"In Progress",branch:"Main Branch"},{id:"shift3",employeeId:"emp3",employeeName:"Lisa Rodriguez",date:"2024-01-15",startTime:"09:00",endTime:"17:00",role:"Sales Associate",status:"Scheduled",branch:"Downtown Branch"},{id:"shift4",employeeId:"emp4",employeeName:"David Wilson",date:"2024-01-15",startTime:"10:00",endTime:"18:00",role:"Delivery Driver",status:"Completed",branch:"Main Branch",notes:"Route A completed successfully"}],IN=[{id:"comm1",employeeId:"emp3",employeeName:"Lisa Rodriguez",period:"December 2023",salesAmount:45e3,commissionRate:.03,commissionAmount:1350,status:"Paid",paidDate:"2024-01-05"},{id:"comm2",employeeId:"emp5",employeeName:"Emma Davis",period:"December 2023",salesAmount:32e3,commissionRate:.025,commissionAmount:800,status:"Approved"},{id:"comm3",employeeId:"emp3",employeeName:"Lisa Rodriguez",period:"January 2024",salesAmount:38e3,commissionRate:.03,commissionAmount:1140,status:"Pending"}],$N=[{id:"del1",orderId:"ORD001",driverId:"emp4",driverName:"David Wilson",customerName:"John Smith",customerAddress:"123 Main St, City, State 12345",customerPhone:"+1 234 567 9001",items:[{name:"Amoxicillin 500mg",quantity:21,price:25.99},{name:"Lisinopril 10mg",quantity:30,price:15.49}],totalAmount:41.48,status:"Delivered",assignedDate:"2024-01-15T10:00:00Z",estimatedDelivery:"2024-01-15T14:00:00Z",actualDelivery:"2024-01-15T13:45:00Z",route:"Route A"},{id:"del2",orderId:"ORD002",driverId:"emp4",driverName:"David Wilson",customerName:"Mary Johnson",customerAddress:"456 Oak Ave, City, State 12345",customerPhone:"+1 234 567 9002",items:[{name:"Metformin 500mg",quantity:60,price:12.99},{name:"Blood Pressure Monitor",quantity:1,price:89.99}],totalAmount:102.98,status:"In Transit",assignedDate:"2024-01-15T11:30:00Z",estimatedDelivery:"2024-01-15T15:30:00Z",route:"Route B"},{id:"del3",orderId:"ORD003",driverId:"emp4",driverName:"David Wilson",customerName:"Robert Brown",customerAddress:"789 Pine St, City, State 12345",customerPhone:"+1 234 567 9003",items:[{name:"Atorvastatin 20mg",quantity:30,price:22.49}],totalAmount:22.49,status:"Pending",assignedDate:"2024-01-15T12:00:00Z",estimatedDelivery:"2024-01-15T16:00:00Z",route:"Route A"}],ASe=[{id:"route1",name:"Route A - Downtown",description:"Central business district and nearby residential areas",area:"Downtown/Central",estimatedTime:"4-6 hours",distance:"25 miles",deliveryCount:8,status:"Active"},{id:"route2",name:"Route B - Suburbs North",description:"Northern suburban areas and residential neighborhoods",area:"North Suburbs",estimatedTime:"5-7 hours",distance:"35 miles",deliveryCount:12,status:"Active"},{id:"route3",name:"Route C - Industrial",description:"Industrial district and commercial areas",area:"Industrial/Commercial",estimatedTime:"3-5 hours",distance:"20 miles",deliveryCount:6,status:"Active"}],Zs={totalEmployees:hp.length,activeEmployees:hp.filter(e=>e.status==="Active").length,onLeave:hp.filter(e=>e.status==="On Leave").length,totalShiftsToday:MN.filter(e=>e.date==="2024-01-15").length,inProgressShifts:MN.filter(e=>e.status==="In Progress").length,pendingCommissions:IN.filter(e=>e.status==="Pending").length,totalCommissionsPending:IN.filter(e=>e.status==="Pending").reduce((e,r)=>e+r.commissionAmount,0),pendingDeliveries:$N.filter(e=>e.status==="Pending").length,inTransitDeliveries:$N.filter(e=>e.status==="In Transit").length,activeRoutes:ASe.filter(e=>e.status==="Active").length};function TSe(){const e=a=>{switch(a){case"Active":return t.jsx(re,{variant:"success",children:a});case"Inactive":return t.jsx(re,{variant:"destructive",children:a});case"On Leave":return t.jsx(re,{variant:"warning",children:a});default:return t.jsx(re,{variant:"default",children:a})}},r=a=>{switch(a){case"Scheduled":return t.jsx(re,{variant:"default",children:a});case"In Progress":return t.jsx(re,{variant:"primary",children:a});case"Completed":return t.jsx(re,{variant:"success",children:a});case"Cancelled":return t.jsx(re,{variant:"destructive",children:a});default:return t.jsx(re,{variant:"outline",children:a})}},n=a=>{switch(a){case"Paid":return t.jsx(re,{variant:"success",children:a});case"Approved":return t.jsx(re,{variant:"primary",children:a});case"Pending":return t.jsx(re,{variant:"warning",children:a});default:return t.jsx(re,{variant:"outline",children:a})}},s=a=>{switch(a){case"Delivered":return t.jsx(re,{variant:"success",children:a});case"In Transit":return t.jsx(re,{variant:"primary",children:a});case"Assigned":return t.jsx(re,{variant:"default",children:a});case"Pending":return t.jsx(re,{variant:"warning",children:a});case"Failed":return t.jsx(re,{variant:"destructive",children:a});default:return t.jsx(re,{variant:"outline",children:a})}};return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Staff Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage employees, shifts, performance, and delivery operations"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(k,{children:[t.jsx(Uw,{className:"mr-2 h-4 w-4"}),"Add Employee"]}),t.jsxs(k,{variant:"outline",children:[t.jsx(sB,{className:"mr-2 h-4 w-4"}),"Schedule Shift"]})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxs(T,{children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Total Employees"}),t.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:Zs.totalEmployees}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[Zs.activeEmployees," active, ",Zs.onLeave," on leave"]})]})]}),t.jsxs(T,{children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Today's Shifts"}),t.jsx(Rt,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:Zs.totalShiftsToday}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[Zs.inProgressShifts," currently in progress"]})]})]}),t.jsxs(T,{children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Pending Commissions"}),t.jsx(mt,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["$",Zs.totalCommissionsPending.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[Zs.pendingCommissions," employees awaiting payment"]})]})]}),t.jsxs(T,{children:[t.jsxs(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(q,{className:"text-sm font-medium",children:"Active Deliveries"}),t.jsx(hn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(E,{children:[t.jsx("div",{className:"text-2xl font-bold",children:Zs.pendingDeliveries+Zs.inTransitDeliveries}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[Zs.inTransitDeliveries," in transit, ",Zs.pendingDeliveries," pending"]})]})]})]}),t.jsxs(Or,{defaultValue:"employees",className:"space-y-4",children:[t.jsxs(Ar,{children:[t.jsx(Oe,{value:"employees",children:"Employees"}),t.jsx(Oe,{value:"shifts",children:"Shift Management"}),t.jsx(Oe,{value:"commissions",children:"Commission Tracking"}),t.jsx(Oe,{value:"reviews",children:"Performance Reviews"}),t.jsx(Oe,{value:"deliveries",children:"Delivery Management"})]}),t.jsx($e,{value:"employees",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Employee Overview"}),t.jsx(kt,{children:"Current staff members and their roles"})]}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:hp.map(a=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(To,{children:t.jsx(Eo,{children:a.name.split(" ").map(i=>i[0]).join("")})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:a.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.role}),t.jsx("p",{className:"text-xs text-muted-foreground",children:a.email})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-medium",children:a.employeeId}),t.jsx("p",{className:"text-xs text-muted-foreground",children:a.department})]}),e(a.status)]})]},a.id))})})]})}),t.jsx($e,{value:"shifts",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Today's Shifts"}),t.jsx(kt,{children:"Current shift schedule and status"})]}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:MN.map(a=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(Ut,{className:"h-5 w-5 text-muted-foreground"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:a.employeeName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.role}),t.jsx("p",{className:"text-xs text-muted-foreground",children:a.branch})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-sm font-medium",children:[a.startTime," - ",a.endTime]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:a.date})]}),r(a.status)]})]},a.id))})})]})}),t.jsx($e,{value:"commissions",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Commission Tracking"}),t.jsx(kt,{children:"Sales-based incentive management"})]}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:IN.map(a=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(mt,{className:"h-5 w-5 text-muted-foreground"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:a.employeeName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.period}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sales: $",a.salesAmount.toLocaleString()," | Rate: ",a.commissionRate*100,"%"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-sm font-medium",children:["$",a.commissionAmount.toLocaleString()]}),a.paidDate&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",a.paidDate]})]}),n(a.status)]})]},a.id))})})]})}),t.jsx($e,{value:"reviews",className:"space-y-4",children:t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Performance Reviews"}),t.jsx(kt,{children:"Employee evaluation and development tracking"})]}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(On,{className:"h-5 w-5 text-muted-foreground"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Mike Thompson"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Q4 2023 Review"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Reviewed by: Dr. Sarah Johnson"})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-medium",children:"Overall Rating: 4.2/5.0"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed: 2024-01-10"})]}),t.jsx(re,{variant:"success",children:"Completed"})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"Customer Service"}),t.jsx(Ma,{value:90,className:"h-2"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"4.5/5.0"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"Teamwork"}),t.jsx(Ma,{value:80,className:"h-2"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"4.0/5.0"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"Productivity"}),t.jsx(Ma,{value:86,className:"h-2"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"4.3/5.0"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"Punctuality"}),t.jsx(Ma,{value:96,className:"h-2"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"4.8/5.0"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"Knowledge"}),t.jsx(Ma,{value:76,className:"h-2"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"3.8/5.0"})]})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-green-600 mb-2",children:"Achievements"}),t.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsx("li",{children:"• Completed Advanced Pharmacy Technician Certification"}),t.jsx("li",{children:"• Reduced prescription processing time by 15%"}),t.jsx("li",{children:"• Zero medication errors for 6 months"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-yellow-600 mb-2",children:"Areas for Improvement"}),t.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsx("li",{children:"• Expand knowledge of new drug interactions"}),t.jsx("li",{children:"• Improve inventory management skills"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-blue-600 mb-2",children:"Goals"}),t.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsx("li",{children:"• Complete specialized training in compounding"}),t.jsx("li",{children:"• Mentor new pharmacy technicians"}),t.jsx("li",{children:"• Achieve 98% customer satisfaction rating"})]})]})]})]})})]})}),t.jsx($e,{value:"deliveries",className:"space-y-4",children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Active Deliveries"}),t.jsx(kt,{children:"Current delivery status and tracking"})]}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:$N.map(a=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(hn,{className:"h-5 w-5 text-muted-foreground"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:a.customerName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.driverName}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",a.totalAmount.toFixed(2)," | ",a.items.length," items"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-medium",children:a.route}),t.jsx("p",{className:"text-xs text-muted-foreground",children:a.orderId})]}),s(a.status)]})]},a.id))})})]}),t.jsxs(T,{children:[t.jsxs(B,{children:[t.jsx(q,{children:"Delivery Routes"}),t.jsx(kt,{children:"Route optimization and management"})]}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"font-medium",children:"Route A - Downtown"}),t.jsx(re,{variant:"success",children:"Active"})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Central business district and nearby residential areas"}),t.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[t.jsx("span",{children:"25 miles"}),t.jsx("span",{children:"4-6 hours"}),t.jsx("span",{children:"8 deliveries"})]})]}),t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"font-medium",children:"Route B - Suburbs North"}),t.jsx(re,{variant:"success",children:"Active"})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Northern suburban areas and residential neighborhoods"}),t.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[t.jsx("span",{children:"35 miles"}),t.jsx("span",{children:"5-7 hours"}),t.jsx("span",{children:"12 deliveries"})]})]}),t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"font-medium",children:"Route C - Industrial"}),t.jsx(re,{variant:"success",children:"Active"})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Industrial district and commercial areas"}),t.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[t.jsx("span",{children:"20 miles"}),t.jsx("span",{children:"3-5 hours"}),t.jsx("span",{children:"6 deliveries"})]})]})]})})]})]})})]})]})}function ESe(){const[e,r]=x.useState([]),[n,s]=x.useState([]),[a,i]=x.useState(!0),[o,l]=x.useState(!1),[c,d]=x.useState(!1),[u,m]=x.useState(null);x.useState(null);const{toast:h}=Tt();Mg();const[p,g]=x.useState({name:"",description:"",parent:"",is_active:!0}),[f,v]=x.useState({name:"",contact_person:"",phone:"",email:"",address:"",website:"",license_number:"",is_active:!0});x.useEffect(()=>{b()},[]);const b=async()=>{try{i(!0);const[w,A]=await Promise.all([fs.getCategories(),fs.getManufacturers()]);w.success&&r(w.data||[]),A.success&&s(A.data||[])}catch(w){console.error("Failed to load data:",w),h({title:"Error",description:"Failed to load categories and manufacturers",variant:"destructive"})}finally{i(!1)}},y=async()=>{if(!p.name.trim()){h({title:"Error",description:"Category name is required",variant:"destructive"});return}try{const w={name:p.name,description:p.description,parent:p.parent||null,is_active:p.is_active,organization:1},A=await fs.createCategory(w);A.success?(h({title:"Success",description:"Category added successfully"}),l(!1),N(),b()):h({title:"Error",description:A.message||"Failed to add category",variant:"destructive"})}catch{h({title:"Error",description:"Failed to add category",variant:"destructive"})}},j=w=>{var A;m(w),g({name:w.name,description:w.description||"",parent:((A=w.parent)==null?void 0:A.toString())||"",is_active:w.is_active}),l(!0)},C=async()=>{if(!(!u||!p.name.trim()))try{const w={name:p.name,description:p.description,parent:p.parent?parseInt(p.parent):null,is_active:p.is_active,organization:1},A=await fs.updateCategory(u.id,w);if(A.success){const D=A.data||{...u,...w};r(O=>O.map($=>$.id===u.id?D:$)),h({title:"Success",description:"Category updated successfully"}),l(!1),N(),m(null)}}catch{h({title:"Error",description:"Failed to update category",variant:"destructive"})}},S=async w=>{if(confirm("Are you sure you want to delete this category?"))try{(await fs.deleteCategory(w)).success&&(r(D=>D.filter(O=>O.id!==w)),h({title:"Success",description:"Category deleted successfully"}))}catch{h({title:"Error",description:"Failed to delete category",variant:"destructive"})}},N=()=>{g({name:"",description:"",parent:"",is_active:!0})},P=async()=>{if(!f.name.trim()){h({title:"Error",description:"Manufacturer name is required",variant:"destructive"});return}try{const w={name:f.name,contact_person:f.contact_person,phone:f.phone,email:f.email,address:f.address,website:f.website,license_number:f.license_number,is_active:f.is_active,organization:1};(await fs.createManufacturer(w)).success&&(h({title:"Success",description:"Manufacturer added successfully"}),d(!1),_(),b())}catch{h({title:"Error",description:"Failed to add manufacturer",variant:"destructive"})}},_=()=>{v({name:"",contact_person:"",phone:"",email:"",address:"",website:"",license_number:"",is_active:!0})};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Inventory Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure inventory management preferences and manage categories"})]})}),t.jsxs(Or,{defaultValue:"categories",className:"space-y-6",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-2",children:[t.jsx(Oe,{value:"categories",children:"Categories"}),t.jsx(Oe,{value:"manufacturers",children:"Manufacturers"})]}),t.jsx($e,{value:"categories",className:"space-y-6",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center justify-between text-card-foreground",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ln,{className:"mr-2 text-primary",size:20}),"Product Categories"]}),t.jsxs(rt,{open:o,onOpenChange:l,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{onClick:()=>{m(null),N()},children:[t.jsx(zt,{size:16,className:"mr-2"}),"Add Category"]})}),t.jsxs(nt,{children:[t.jsxs(st,{children:[t.jsx(at,{children:u?"Edit Category":"Add New Category"}),t.jsx(Pt,{children:u?"Update category information":"Create a new product category"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(M,{htmlFor:"category-name",className:"text-right",children:"Name"}),t.jsx(J,{id:"category-name",value:p.name,onChange:w=>g({...p,name:w.target.value}),className:"col-span-3"})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(M,{htmlFor:"category-description",className:"text-right",children:"Description"}),t.jsx(Vt,{id:"category-description",value:p.description,onChange:w=>g({...p,description:w.target.value}),className:"col-span-3",rows:3})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(M,{htmlFor:"category-parent",className:"text-right",children:"Parent Category"}),t.jsxs(_e,{value:p.parent||"none",onValueChange:w=>g({...p,parent:w==="none"?"":w}),children:[t.jsx(Pe,{className:"col-span-3",children:t.jsx(Ae,{placeholder:"Select parent category (optional)"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"none",children:"None"}),e.filter(w=>w.id!==(u==null?void 0:u.id)).map(w=>t.jsx(I,{value:w.id.toString(),children:w.name},w.id))]})]})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(M,{className:"text-right",children:"Active"}),t.jsx("div",{className:"col-span-3",children:t.jsx(wt,{checked:p.is_active,onCheckedChange:w=>g({...p,is_active:w})})})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),t.jsxs(k,{onClick:u?C:y,children:[u?"Update":"Add"," Category"]})]})]})]})]})}),t.jsx(E,{children:a?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Name"}),t.jsx(K,{children:"Description"}),t.jsx(K,{children:"Parent"}),t.jsx(K,{children:"Status"}),t.jsx(K,{children:"Actions"})]})}),t.jsx(At,{children:e.map(w=>{var A;return t.jsxs(Ie,{children:[t.jsx(W,{className:"font-medium",children:w.name}),t.jsx(W,{children:w.description||"-"}),t.jsx(W,{children:w.parent?(A=e.find(D=>D.id===w.parent))==null?void 0:A.name:"-"}),t.jsx(W,{children:t.jsx(re,{variant:w.is_active?"default":"secondary",children:w.is_active?"Active":"Inactive"})}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(k,{size:"sm",variant:"outline",onClick:()=>j(w),children:[t.jsx(mn,{size:12,className:"mr-1"}),"Edit"]}),t.jsxs(k,{size:"sm",variant:"outline",onClick:()=>S(w.id),children:[t.jsx(as,{size:12,className:"mr-1"}),"Delete"]})]})})]},w.id)})})]})})]})}),t.jsx($e,{value:"manufacturers",className:"space-y-6",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center justify-between text-card-foreground",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ln,{className:"mr-2 text-primary",size:20}),"Manufacturers"]}),t.jsxs(rt,{open:c,onOpenChange:d,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{onClick:()=>_(),children:[t.jsx(zt,{size:16,className:"mr-2"}),"Add Manufacturer"]})}),t.jsxs(nt,{children:[t.jsxs(st,{children:[t.jsx(at,{children:"Add New Manufacturer"}),t.jsx(Pt,{children:"Create a new medication manufacturer/supplier"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(M,{htmlFor:"manufacturer-name",className:"text-right",children:"Name *"}),t.jsx(J,{id:"manufacturer-name",value:f.name,onChange:w=>v({...f,name:w.target.value}),className:"col-span-3"})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(M,{htmlFor:"manufacturer-contact",className:"text-right",children:"Contact Person"}),t.jsx(J,{id:"manufacturer-contact",value:f.contact_person,onChange:w=>v({...f,contact_person:w.target.value}),className:"col-span-3"})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(M,{htmlFor:"manufacturer-phone",className:"text-right",children:"Phone"}),t.jsx(J,{id:"manufacturer-phone",value:f.phone,onChange:w=>v({...f,phone:w.target.value}),className:"col-span-3"})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(M,{htmlFor:"manufacturer-email",className:"text-right",children:"Email"}),t.jsx(J,{id:"manufacturer-email",type:"email",value:f.email,onChange:w=>v({...f,email:w.target.value}),className:"col-span-3"})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(M,{htmlFor:"manufacturer-address",className:"text-right",children:"Address"}),t.jsx(Vt,{id:"manufacturer-address",value:f.address,onChange:w=>v({...f,address:w.target.value}),className:"col-span-3",rows:2})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(M,{htmlFor:"manufacturer-website",className:"text-right",children:"Website"}),t.jsx(J,{id:"manufacturer-website",value:f.website,onChange:w=>v({...f,website:w.target.value}),className:"col-span-3"})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(M,{htmlFor:"manufacturer-license",className:"text-right",children:"License Number"}),t.jsx(J,{id:"manufacturer-license",value:f.license_number,onChange:w=>v({...f,license_number:w.target.value}),className:"col-span-3"})]}),t.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(M,{className:"text-right",children:"Active"}),t.jsx("div",{className:"col-span-3",children:t.jsx(wt,{checked:f.is_active,onCheckedChange:w=>v({...f,is_active:w})})})]})]}),t.jsxs(jr,{children:[t.jsx(k,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),t.jsx(k,{onClick:P,children:"Add Manufacturer"})]})]})]})]})}),t.jsx(E,{children:a?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{children:"Name"}),t.jsx(K,{children:"Contact"}),t.jsx(K,{children:"Phone"}),t.jsx(K,{children:"Email"}),t.jsx(K,{children:"Status"})]})}),t.jsx(At,{children:n.map(w=>t.jsxs(Ie,{children:[t.jsx(W,{className:"font-medium",children:w.name}),t.jsx(W,{children:w.contact_person||"-"}),t.jsx(W,{children:w.phone||"-"}),t.jsx(W,{children:w.email||"-"}),t.jsx(W,{children:t.jsx(re,{variant:w.is_active?"default":"secondary",children:w.is_active?"Active":"Inactive"})})]},w.id))})]})})]})})]})]})}function P6({data:e,searchFields:r,filterFn:n}){const[s,a]=x.useState(""),[i,o]=x.useState({}),[l,c]=x.useState(""),[d,u]=x.useState("asc"),m=x.useMemo(()=>{let f=e;return s&&(f=f.filter(v=>r.some(b=>{const y=v[b];return y&&String(y).toLowerCase().includes(s.toLowerCase())}))),n&&Object.keys(i).length>0&&(f=f.filter(v=>n(v,i))),l&&(f=[...f].sort((v,b)=>{const y=v[l],j=b[l];if(y===void 0||j===void 0)return 0;let C=0;return y>j?C=1:y<j&&(C=-1),d==="desc"?-C:C})),f},[e,s,i,l,d,r,n]);return{searchTerm:s,setSearchTerm:a,filters:i,setFilters:o,updateFilter:(f,v)=>{o(b=>({...b,[f]:v}))},removeFilter:f=>{o(v=>{const b={...v};return delete b[f],b})},sortBy:l,setSortBy:c,sortOrder:d,setSortOrder:u,filteredData:m,clearSearch:()=>{a(""),o({}),c(""),u("asc")},resultCount:m.length,totalCount:e.length}}const hc=[{id:"1",name:"Office Supplies",description:"Paper, pens, printing materials",budget:2e3,spent:1450,transactions:23,color:"blue",isActive:!0},{id:"2",name:"Medical Equipment",description:"Thermometers, blood pressure monitors",budget:5e3,spent:3200,transactions:8,color:"green",isActive:!0},{id:"3",name:"Marketing",description:"Advertising, promotional materials",budget:1500,spent:890,transactions:12,color:"purple",isActive:!0},{id:"4",name:"Utilities",description:"Electricity, water, internet",budget:3e3,spent:2750,transactions:6,color:"orange",isActive:!0}];function kSe(){const[e,r]=x.useState(!1),{searchTerm:n,setSearchTerm:s,filteredData:a}=P6({data:hc,searchFields:["name","description"]}),i=(o,l)=>{const c=o/l*100;return c>=90?{variant:"destructive",label:"Over Budget"}:c>=75?{variant:"secondary",label:"High Usage"}:{variant:"default",label:"On Track"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Expense Categories"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage and organize expense categories"})]}),t.jsxs(k,{onClick:()=>r(!0),children:[t.jsx(zt,{size:16,className:"mr-2"}),"Add Category"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Categories"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:hc.length})]}),t.jsx(_B,{className:"text-primary",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Budget"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",hc.reduce((o,l)=>o+l.budget,0).toLocaleString()]})]}),t.jsx(Fp,{className:"text-success",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spent"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",hc.reduce((o,l)=>o+l.spent,0).toLocaleString()]})]}),t.jsx(mt,{className:"text-warning",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Usage"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Math.round(hc.reduce((o,l)=>o+l.spent/l.budget,0)/hc.length*100),"%"]})]}),t.jsx(yt,{className:"text-primary",size:24})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:16}),t.jsx(J,{placeholder:"Search categories...",value:n,onChange:o=>s(o.target.value),className:"pl-10"})]})})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(o=>{const l=i(o.spent,o.budget),c=Math.round(o.spent/o.budget*100);return t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs(q,{className:"text-card-foreground flex items-center",children:[t.jsx("div",{className:`w-3 h-3 rounded-full bg-${o.color}-500 mr-2`}),o.name]}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:o.description})]}),t.jsx(re,{variant:l.variant,children:l.label})]})}),t.jsx(E,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-muted-foreground",children:"Budget Usage"}),t.jsxs("span",{className:"text-foreground",children:[c,"%"]})]}),t.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full ${c>=90?"bg-destructive":c>=75?"bg-warning":"bg-primary"}`,style:{width:`${Math.min(c,100)}%`}})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Budget"}),t.jsxs("p",{className:"font-medium text-foreground",children:["$",o.budget.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Spent"}),t.jsxs("p",{className:"font-medium text-foreground",children:["$",o.spent.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Remaining"}),t.jsxs("p",{className:"font-medium text-foreground",children:["$",(o.budget-o.spent).toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Transactions"}),t.jsx("p",{className:"font-medium text-foreground",children:o.transactions})]})]}),t.jsxs("div",{className:"flex justify-between pt-2 border-t border-border",children:[t.jsxs(k,{variant:"outline",size:"sm",children:[t.jsx(mn,{size:14,className:"mr-1"}),"Edit"]}),t.jsxs(k,{variant:"destructive",size:"sm",children:[t.jsx(as,{size:14,className:"mr-1"}),"Delete"]})]})]})})]},o.id)})})]})}const fc=[{id:"EXP-001",submittedBy:"John Doe",category:"Office Supplies",amount:450.75,description:"Monthly office supplies - paper, pens, folders",date:"2024-01-13",receipt:"receipt_001.pdf",status:"pending",urgency:"normal",submittedDate:"2024-01-13"},{id:"EXP-002",submittedBy:"Jane Smith",category:"Medical Equipment",amount:1250,description:"New blood pressure monitor for patient care",date:"2024-01-12",receipt:"receipt_002.pdf",status:"pending",urgency:"high",submittedDate:"2024-01-12"},{id:"EXP-003",submittedBy:"Mike Wilson",category:"Marketing",amount:320.5,description:"Social media advertising campaign",date:"2024-01-11",receipt:"receipt_003.pdf",status:"pending",urgency:"low",submittedDate:"2024-01-11"}];function OSe(){const[e,r]=x.useState(null),[n,s]=x.useState(""),{searchTerm:a,setSearchTerm:i,filteredData:o}=P6({data:fc,searchFields:["id","submittedBy","category","description"]}),l=d=>{const u={high:"destructive",normal:"default",low:"outline"};return t.jsx(re,{variant:u[d],children:d.toUpperCase()})},c=(d,u)=>{console.log(`${u} expense ${d} with notes: ${n}`),r(null),s("")};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Expense Approval"}),t.jsx("p",{className:"text-muted-foreground",children:"Review and approve pending expense claims"})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Approval"}),t.jsx("p",{className:"text-2xl font-bold text-warning",children:fc.length})]}),t.jsx(Ut,{className:"text-warning",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",fc.reduce((d,u)=>d+u.amount,0).toLocaleString()]})]}),t.jsx(mt,{className:"text-success",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"High Priority"}),t.jsx("p",{className:"text-2xl font-bold text-destructive",children:fc.filter(d=>d.urgency==="high").length})]}),t.jsx(ut,{className:"text-destructive",size:24})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Amount"}),t.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",Math.round(fc.reduce((d,u)=>d+u.amount,0)/fc.length)]})]}),t.jsx(mt,{className:"text-primary",size:24})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(q,{className:"text-card-foreground",children:"Pending Expenses"}),t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:16}),t.jsx(J,{placeholder:"Search expenses...",value:a,onChange:d=>i(d.target.value),className:"pl-10 w-64"})]})]})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:o.map(d=>t.jsx("div",{className:"p-4 border border-border rounded-lg hover:bg-panel cursor-pointer transition-colors",onClick:()=>r(d),children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h4",{className:"font-medium text-foreground",children:d.id}),l(d.urgency)]}),t.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[t.jsx("p",{className:"text-foreground font-medium",children:d.description}),t.jsxs("div",{className:"flex items-center",children:[t.jsxs("span",{children:["By: ",d.submittedBy]}),t.jsx("span",{className:"mx-2",children:"•"}),t.jsx("span",{children:d.category})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Rt,{size:14,className:"mr-1"}),t.jsxs("span",{children:["Submitted: ",d.submittedDate]})]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-xl font-bold text-foreground",children:["$",d.amount.toFixed(2)]}),t.jsxs("div",{className:"flex space-x-1 mt-2",children:[t.jsxs(k,{size:"sm",className:"bg-success hover:bg-success-hover",onClick:u=>{u.stopPropagation(),c(d.id,"approve")},children:[t.jsx(ut,{size:14,className:"mr-1"}),"Approve"]}),t.jsxs(k,{size:"sm",variant:"destructive",onClick:u=>{u.stopPropagation(),c(d.id,"reject")},children:[t.jsx(va,{size:14,className:"mr-1"}),"Reject"]})]})]})]})},d.id))})})]})}),t.jsx("div",{className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:e?"Expense Details":"Select Expense"})}),t.jsx(E,{children:e?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"font-medium text-foreground",children:e.id}),l(e.urgency)]}),t.jsxs("div",{className:"p-3 bg-panel rounded",children:[t.jsxs("p",{className:"font-medium text-panel-foreground",children:["$",e.amount.toFixed(2)]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e.category})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Description"}),t.jsx("p",{className:"text-sm text-muted-foreground p-3 bg-panel rounded",children:e.description})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Submitted By"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Name:"}),t.jsx("span",{className:"text-foreground",children:e.submittedBy})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Date:"}),t.jsx("span",{className:"text-foreground",children:e.submittedDate})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Receipt:"}),t.jsxs(k,{variant:"outline",size:"sm",children:[t.jsx(xt,{size:12,className:"mr-1"}),"View"]})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Approval Notes"}),t.jsx(Vt,{placeholder:"Add notes for approval/rejection...",value:n,onChange:d=>s(d.target.value),rows:3})]}),t.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[t.jsxs(k,{className:"w-full bg-success hover:bg-success-hover",onClick:()=>c(e.id,"approve"),children:[t.jsx(ut,{size:14,className:"mr-2"}),"Approve Expense"]}),t.jsxs(k,{variant:"destructive",className:"w-full",onClick:()=>c(e.id,"reject"),children:[t.jsx(va,{size:14,className:"mr-2"}),"Reject Expense"]}),t.jsxs(k,{variant:"outline",className:"w-full",children:[t.jsx($t,{size:14,className:"mr-2"}),"Request More Info"]})]})]}):t.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Select an expense to view details and take action."})})]})})]})]})}const qu=[{month:"Jan",amount:4500,transactions:45},{month:"Feb",amount:3800,transactions:38},{month:"Mar",amount:5200,transactions:52},{month:"Apr",amount:4100,transactions:41},{month:"May",amount:4800,transactions:48},{month:"Jun",amount:5500,transactions:55}],_j=[{category:"Office Supplies",amount:8900,percentage:32},{category:"Medical Equipment",amount:7200,percentage:26},{category:"Marketing",amount:4800,percentage:17},{category:"Utilities",amount:3500,percentage:13},{category:"Travel",amount:2100,percentage:8},{category:"Other",amount:1100,percentage:4}],RSe=[{id:"EXP-156",category:"Office Supplies",amount:234.5,date:"2024-01-13",status:"approved",submittedBy:"John Doe"},{id:"EXP-155",category:"Medical Equipment",amount:1250,date:"2024-01-12",status:"approved",submittedBy:"Jane Smith"},{id:"EXP-154",category:"Marketing",amount:456.75,date:"2024-01-11",status:"pending",submittedBy:"Mike Wilson"},{id:"EXP-153",category:"Utilities",amount:890,date:"2024-01-10",status:"approved",submittedBy:"Sarah Johnson"}];function DSe(){var o;const[e,r]=x.useState({from:"2024-01-01",to:"2024-01-31"}),[n,s]=x.useState("all"),a=l=>{const c={approved:"default",pending:"secondary",rejected:"destructive"};return t.jsx(re,{variant:c[l],children:l})},i=_j.reduce((l,c)=>l+c.amount,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Expense Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Analyze spending patterns and generate reports"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{variant:"outline",children:[t.jsx(bt,{size:16,className:"mr-2"}),"Export PDF"]}),t.jsxs(k,{variant:"outline",children:[t.jsx(mB,{size:16,className:"mr-2"}),"Export CSV"]})]})]}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"pt-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rt,{size:16,className:"text-muted-foreground"}),t.jsx("span",{className:"text-sm font-medium text-foreground",children:"Date Range:"}),t.jsx(J,{type:"date",value:e.from,onChange:l=>r({...e,from:l.target.value}),className:"w-40"}),t.jsx("span",{className:"text-muted-foreground",children:"to"}),t.jsx(J,{type:"date",value:e.to,onChange:l=>r({...e,to:l.target.value}),className:"w-40"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium text-foreground",children:"Category:"}),t.jsxs("select",{value:n,onChange:l=>s(l.target.value),className:"px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[t.jsx("option",{value:"all",children:"All Categories"}),t.jsx("option",{value:"office",children:"Office Supplies"}),t.jsx("option",{value:"medical",children:"Medical Equipment"}),t.jsx("option",{value:"marketing",children:"Marketing"}),t.jsx("option",{value:"utilities",children:"Utilities"})]})]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsxs(E,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Expenses"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",i.toLocaleString()]})]}),t.jsx(mt,{className:"text-primary",size:24})]}),t.jsx("p",{className:"text-xs text-success mt-1",children:"+12% from last month"})]})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsxs(E,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",(o=qu[qu.length-1])==null?void 0:o.amount.toLocaleString()]})]}),t.jsx(yt,{className:"text-success",size:24})]}),t.jsx("p",{className:"text-xs text-warning mt-1",children:"+8% from last month"})]})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsxs(E,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. per Transaction"}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",Math.round(i/qu.reduce((l,c)=>l+c.transactions,0))]})]}),t.jsx(ar,{className:"text-warning",size:24})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Based on recent data"})]})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsxs(E,{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Categories"}),t.jsx("p",{className:"text-2xl font-bold text-foreground",children:_j.length})]}),t.jsx(mi,{className:"text-primary",size:24})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active categories"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(ar,{className:"mr-2 text-primary",size:20}),"Monthly Expense Trend"]})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:qu.map((l,c)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"w-12 text-sm text-muted-foreground",children:l.month}),t.jsx("div",{className:"flex-1 mx-4",children:t.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsx("div",{className:"h-2 bg-primary rounded-full",style:{width:`${l.amount/Math.max(...qu.map(d=>d.amount))*100}%`}})})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium text-foreground",children:["$",l.amount.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.transactions," transactions"]})]})]},l.month))})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(mi,{className:"mr-2 text-success",size:20}),"Expense by Category"]})}),t.jsx(E,{children:t.jsx("div",{className:"space-y-4",children:_j.map((l,c)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:`hsl(${c*60}, 70%, 50%)`}}),t.jsx("span",{className:"text-sm text-foreground",children:l.category})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium text-foreground",children:["$",l.amount.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.percentage,"%"]})]})]},l.category))})})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsx(q,{className:"text-card-foreground",children:"Recent Expenses"})}),t.jsx(E,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Expense ID"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Category"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Amount"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Date"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Submitted By"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-foreground",children:"Status"})]})}),t.jsx("tbody",{children:RSe.map(l=>t.jsxs("tr",{className:"border-b border-border hover:bg-panel transition-colors",children:[t.jsx("td",{className:"py-3 px-4",children:t.jsx("p",{className:"font-medium text-primary",children:l.id})}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:l.category}),t.jsxs("td",{className:"py-3 px-4 font-medium text-foreground",children:["$",l.amount.toFixed(2)]}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:l.date}),t.jsx("td",{className:"py-3 px-4 text-foreground",children:l.submittedBy}),t.jsx("td",{className:"py-3 px-4",children:a(l.status)})]},l.id))})]})})})]})]})}function MSe(){const[e,r]=x.useState({requireApproval:!0,approvalThreshold:500,autoApproveBelow:100,requireReceipts:!0,enableBudgetLimits:!0,budgetWarningPercent:80,budgetLimitPercent:100,monthlyBudgetReset:!0,approvalNotifications:!0,budgetAlerts:!0,expiryReminders:!0,weeklyReports:!1,mileageRate:.65,perDiemRate:75,maxMealAmount:50,receiptRetentionDays:365}),n=a=>{r(i=>({...i,[a]:!i[a]}))},s=(a,i)=>{r(o=>({...o,[a]:i}))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Expense Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure expense management policies and limits"})]}),t.jsxs(k,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(Co,{size:16,className:"mr-2"}),"Save Settings"]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(ut,{className:"mr-2 text-primary",size:20}),"Approval Workflow"]})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Require Approval"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"All expenses need manager approval"})]}),t.jsx(wt,{checked:e.requireApproval,onCheckedChange:()=>n("requireApproval")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Approval Threshold ($)"}),t.jsx(J,{type:"number",value:e.approvalThreshold,onChange:a=>s("approvalThreshold",parseFloat(a.target.value)),className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Expenses above this amount require approval"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Auto-approve Below ($)"}),t.jsx(J,{type:"number",value:e.autoApproveBelow,onChange:a=>s("autoApproveBelow",parseFloat(a.target.value)),className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically approve small expenses"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Require Receipts"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Mandatory receipt upload for all expenses"})]}),t.jsx(wt,{checked:e.requireReceipts,onCheckedChange:()=>n("requireReceipts")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(mt,{className:"mr-2 text-success",size:20}),"Budget Management"]})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Enable Budget Limits"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Enforce category budget limits"})]}),t.jsx(wt,{checked:e.enableBudgetLimits,onCheckedChange:()=>n("enableBudgetLimits")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Budget Warning (%)"}),t.jsx(J,{type:"number",value:e.budgetWarningPercent,onChange:a=>s("budgetWarningPercent",parseInt(a.target.value)),className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Warn when reaching this percentage of budget"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Budget Limit (%)"}),t.jsx(J,{type:"number",value:e.budgetLimitPercent,onChange:a=>s("budgetLimitPercent",parseInt(a.target.value)),className:"mt-1"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Block expenses when exceeding this percentage"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Monthly Budget Reset"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Reset budget limits every month"})]}),t.jsx(wt,{checked:e.monthlyBudgetReset,onCheckedChange:()=>n("monthlyBudgetReset")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(id,{className:"mr-2 text-warning",size:20}),"Notifications"]})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Approval Notifications"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Notify when expenses need approval"})]}),t.jsx(wt,{checked:e.approvalNotifications,onCheckedChange:()=>n("approvalNotifications")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Budget Alerts"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Alert when approaching budget limits"})]}),t.jsx(wt,{checked:e.budgetAlerts,onCheckedChange:()=>n("budgetAlerts")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Receipt Expiry Reminders"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Remind to submit receipts before expiry"})]}),t.jsx(wt,{checked:e.expiryReminders,onCheckedChange:()=>n("expiryReminders")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Weekly Reports"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Send weekly expense summary emails"})]}),t.jsx(wt,{checked:e.weeklyReports,onCheckedChange:()=>n("weeklyReports")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(ln,{className:"mr-2 text-primary",size:20}),"Expense Policies"]})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Mileage Rate ($/mile)"}),t.jsx(J,{type:"number",step:"0.01",value:e.mileageRate,onChange:a=>s("mileageRate",parseFloat(a.target.value)),className:"mt-1"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Per Diem Rate ($/day)"}),t.jsx(J,{type:"number",value:e.perDiemRate,onChange:a=>s("perDiemRate",parseFloat(a.target.value)),className:"mt-1"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Max Meal Amount ($)"}),t.jsx(J,{type:"number",value:e.maxMealAmount,onChange:a=>s("maxMealAmount",parseFloat(a.target.value)),className:"mt-1"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Receipt Retention (Days)"}),t.jsx(J,{type:"number",value:e.receiptRetentionDays,onChange:a=>s("receiptRetentionDays",parseInt(a.target.value)),className:"mt-1"})]})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(ss,{className:"mr-2 text-success",size:20}),"Accepted Payment Methods"]})}),t.jsx(E,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Cards"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Corporate Credit Card"}),t.jsx(re,{variant:"default",children:"Allowed"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Personal Cards"}),t.jsx(re,{variant:"outline",children:"Reimbursable"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Cash & Check"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Cash Payments"}),t.jsx(re,{variant:"default",children:"Allowed"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Personal Checks"}),t.jsx(re,{variant:"outline",children:"Reimbursable"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Digital"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Digital Wallets"}),t.jsx(re,{variant:"default",children:"Allowed"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Online Banking"}),t.jsx(re,{variant:"default",children:"Allowed"})]})]})]})]})})]})]})}function ISe(){return t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Supplier Orders"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage orders from suppliers"})]})}function $Se(){const[e,r]=x.useState(!1),[n,s]=x.useState("30"),[a,i]=x.useState("overview"),{toast:o}=Tt(),l=async()=>{r(!0),setTimeout(()=>{r(!1),o({title:"Report Generated",description:"Supplier report has been generated successfully."})},2e3)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Supplier Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Analytics and insights on supplier performance"})]}),t.jsxs(k,{onClick:l,disabled:e,children:[t.jsx(bt,{size:16,className:"mr-2"}),e?"Generating...":"Export Report"]})]}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs(_e,{value:a,onValueChange:i,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select report type"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"overview",children:"Overview"}),t.jsx(I,{value:"performance",children:"Performance"}),t.jsx(I,{value:"orders",children:"Order Analysis"}),t.jsx(I,{value:"financial",children:"Financial"})]})]})}),t.jsx("div",{className:"flex-1",children:t.jsxs(_e,{value:n,onValueChange:s,children:[t.jsx(Pe,{children:t.jsx(Ae,{placeholder:"Select date range"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"7",children:"Last 7 days"}),t.jsx(I,{value:"30",children:"Last 30 days"}),t.jsx(I,{value:"90",children:"Last 3 months"}),t.jsx(I,{value:"365",children:"Last year"})]})]})}),t.jsxs(k,{variant:"outline",children:[t.jsx(Na,{size:16,className:"mr-2"}),"More Filters"]})]})})}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:"NPR 0"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Purchases"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:"0"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(yt,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:"0%"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Growth Rate"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ar,{className:"h-5 w-5 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:"0"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Order Value"})]})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(mi,{size:20}),"Top Suppliers by Volume"]})}),t.jsx(E,{children:t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No data available for the selected period"})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(ar,{size:20}),"Order Trends"]})}),t.jsx(E,{children:t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No data available for the selected period"})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(mt,{size:20}),"Payment Analysis"]})}),t.jsx(E,{children:t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No data available for the selected period"})})]}),t.jsxs(T,{children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(Rt,{size:20}),"Delivery Performance"]})}),t.jsx(E,{children:t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No data available for the selected period"})})]})]})]})}const Aj="https://drpharmas.com/backend";function LSe(){var b;const[e,r]=x.useState([]),[n,s]=x.useState(!0),[a,i]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState("all"),[u,m]=x.useState({totalCredit:0,totalSuppliers:0}),{toast:h}=Tt(),p=async()=>{try{s(!0);const y=localStorage.getItem("access_token")||localStorage.getItem("token"),j=await fetch(`${Aj}/inventory/supplier-ledger/suppliers/`,{headers:{"Content-Type":"application/json",...y&&{Authorization:`Bearer ${y}`}}}),C=await fetch(`${Aj}/auth/users/?role=supplier_admin&has_transactions=true`,{headers:{"Content-Type":"application/json",...y&&{Authorization:`Bearer ${y}`}}}),S=await fetch(`${Aj}/inventory/supplier-ledger/summary/`,{headers:{"Content-Type":"application/json",...y&&{Authorization:`Bearer ${y}`}}});let N=[],P=[],_=[];j.ok&&(P=await j.json()),C.ok&&(_=(await C.json()).results||[]);const w=new Map;if(P.forEach(A=>{const D=A.supplier_name,O=_.find($=>`${$.first_name} ${$.last_name}`.trim()===D||$.organization_name===D);if(O){const $=O.id;w.has($)||w.set($,{...O,supplier_type:"pharmacy",total_credit:A.total_credit,pending_credit:A.pending_credit})}else{const $=`custom_${D.replace(/\s+/g,"_")}`;w.has($)||w.set($,{id:$,first_name:D.split(" ")[0]||"",last_name:D.split(" ").slice(1).join(" ")||"",organization_name:D,email:"N/A",phone:"N/A",supplier_type:"custom",is_active:!0,total_credit:A.total_credit,pending_credit:A.pending_credit})}}),N=Array.from(w.values()),console.log("Final suppliers list:",N),r(N),S.ok){const A=await S.json();m(A)}}catch(y){console.error("Error fetching suppliers:",y),h({title:"Error",description:"Failed to load suppliers with transaction history",variant:"destructive"})}finally{s(!1)}};x.useEffect(()=>{p()},[]);const g=e.filter(y=>{var N,P,_,w,A;const j=((N=y.first_name)==null?void 0:N.toLowerCase().includes(a.toLowerCase()))||((P=y.last_name)==null?void 0:P.toLowerCase().includes(a.toLowerCase()))||((_=y.organization_name)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))||((w=y.email)==null?void 0:w.toLowerCase().includes(a.toLowerCase()))||((A=y.branch_name)==null?void 0:A.toLowerCase().includes(a.toLowerCase())),C=o==="all"||o==="organization"&&y.organization_name||o==="branch"&&y.branch_name||o==="name"&&(y.first_name||y.last_name),S=c==="all"||c==="pharmacy"&&y.supplier_type==="pharmacy"||c==="custom"&&y.supplier_type==="custom";return j&&C&&S}),f=e.filter(y=>y.supplier_type==="pharmacy"),v=e.filter(y=>y.supplier_type==="custom");return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Supplier Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage suppliers with transaction history for your branch"})]}),t.jsxs(k,{children:[t.jsx(zt,{size:16,className:"mr-2"}),"Add Supplier"]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(H4,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:e.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Suppliers"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ps,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:f.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pharmacy Suppliers"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(On,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:v.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Custom Suppliers"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-5 w-5 text-orange-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold",children:["NPR ",((b=u.totalCredit)==null?void 0:b.toLocaleString())||"0"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Pending Credit"})]})]})})})]}),t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(J,{placeholder:"Search suppliers by name, organization, branch, or email...",value:a,onChange:y=>i(y.target.value),className:"pl-10"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Na,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsxs(_e,{value:o,onValueChange:l,children:[t.jsx(Pe,{className:"pl-10",children:t.jsx(Ae,{placeholder:"Filter by..."})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"all",children:"All Suppliers"}),t.jsx(I,{value:"organization",children:"By Organization"}),t.jsx(I,{value:"branch",children:"By Branch"}),t.jsx(I,{value:"name",children:"By Name"})]})]})]})]})})}),t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-lg",children:["Suppliers (",g.length,")"]})}),t.jsx(E,{children:t.jsxs(Or,{value:c,onValueChange:d,className:"w-full",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-3 bg-muted/50 border border-border rounded-lg p-1 h-8",children:[t.jsxs(Oe,{value:"all",className:"text-xs h-6 data-[state=active]:bg-background data-[state=active]:shadow-sm",children:["All (",e.length,")"]}),t.jsxs(Oe,{value:"pharmacy",className:"text-xs h-6 data-[state=active]:bg-background data-[state=active]:shadow-sm",children:["Pharmacy (",f.length,")"]}),t.jsxs(Oe,{value:"custom",className:"text-xs h-6 data-[state=active]:bg-background data-[state=active]:shadow-sm",children:["Custom (",v.length,")"]})]}),t.jsx($e,{value:"all",className:"mt-2",children:t.jsx(Tj,{suppliers:g,loading:n})}),t.jsx($e,{value:"pharmacy",className:"mt-2",children:t.jsx(Tj,{suppliers:g,loading:n})}),t.jsx($e,{value:"custom",className:"mt-2",children:t.jsx(Tj,{suppliers:g,loading:n})})]})})]})]})}function Tj({suppliers:e,loading:r}){return t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{className:"border-b",children:[t.jsx(K,{className:"text-xs font-medium py-2",children:"Name"}),t.jsx(K,{className:"text-xs font-medium py-2",children:"Organization"}),t.jsx(K,{className:"text-xs font-medium py-2",children:"Branch"}),t.jsx(K,{className:"text-xs font-medium py-2",children:"Contact"}),t.jsx(K,{className:"text-xs font-medium py-2",children:"Type"}),t.jsx(K,{className:"text-xs font-medium py-2",children:"Status"})]})}),t.jsx(At,{children:r?t.jsx(Ie,{children:t.jsx(W,{colSpan:6,className:"text-center py-4 text-xs",children:"Loading suppliers..."})}):e.length===0?t.jsx(Ie,{children:t.jsx(W,{colSpan:6,className:"text-center py-4 text-xs",children:"No suppliers found"})}):e.map(n=>t.jsxs(Ie,{className:"border-b hover:bg-muted/50",children:[t.jsx(W,{className:"py-2",children:t.jsxs("div",{children:[t.jsx(wr,{to:`/suppliers/detail/${n.id}`,className:"text-xs font-medium text-blue-600 hover:underline",children:n.organization_name||`${n.first_name} ${n.last_name}`}),t.jsx("p",{className:"text-xs text-muted-foreground",children:n.email})]})}),t.jsx(W,{className:"py-2 text-xs",children:n.organization_name||"N/A"}),t.jsx(W,{className:"py-2 text-xs",children:n.branch_name||"N/A"}),t.jsx(W,{className:"py-2",children:t.jsxs("div",{className:"space-y-1",children:[n.phone&&t.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[t.jsx(Wd,{size:10}),n.phone]}),n.email&&t.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[t.jsx(Di,{size:10}),n.email]})]})}),t.jsx(W,{className:"py-2",children:t.jsx(re,{variant:n.supplier_type==="pharmacy"?"default":"secondary",className:"text-xs px-2 py-0",children:n.supplier_type||"Custom"})}),t.jsx(W,{className:"py-2",children:t.jsx(re,{variant:n.is_active?"default":"secondary",className:"text-xs px-2 py-0",children:n.is_active?"Active":"Inactive"})})]},n.id))})]})})}const si="https://drpharmas.com/backend";function FSe(){var Z,xe,oe,ze,Fe,tt,ot,pe,qe,ae,je,H;const{id:e}=i1(),[r,n]=x.useState(""),[s,a]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState(!1),[d,u]=x.useState(null),[m,h]=x.useState({transactions:[],summary:{}}),[p,g]=x.useState(!0),{toast:f}=Tt(),[v,b]=x.useState(1),y=10,[j,C]=x.useState(null),[S,N]=x.useState({items:[]}),[P,_]=x.useState(!1),[w,A]=x.useState(1),D=10,[O,$]=x.useState(!1),[U,V]=x.useState(""),[R,X]=x.useState(""),[z,F]=x.useState(!1);x.useEffect(()=>{e&&(async()=>{try{g(!0);const le=localStorage.getItem("access_token")||localStorage.getItem("token");if(e.toString().startsWith("custom_")){const ne=e.toString().replace("custom_","").replace(/_/g," ");u({id:e,first_name:ne.split(" ")[0]||"",last_name:ne.split(" ").slice(1).join(" ")||"",organization_name:ne,email:"N/A",phone:"N/A",address:"N/A",supplier_type:"custom",is_active:!0,joinDate:new Date().toISOString()});const Q=await fetch(`${si}/inventory/suppliers/custom_${ne.replace(/\s+/g,"_")}/transactions/`,{headers:{"Content-Type":"application/json",...le&&{Authorization:`Bearer ${le}`}}});if(Q.ok){const ce=await Q.json();h({summary:ce.summary||{},transactions:ce.transactions||[]})}else{const ce=await fetch(`${si}/inventory/supplier-ledger/detail/?supplier_name=${encodeURIComponent(ne)}`,{headers:{"Content-Type":"application/json",...le&&{Authorization:`Bearer ${le}`}}});if(ce.ok){const Ne=await ce.json();h(Ne)}}}else{const ne=await fetch(`${si}/auth/users/?role=supplier_admin`,{headers:{"Content-Type":"application/json",...le&&{Authorization:`Bearer ${le}`}}});if(ne.ok){const ce=(await ne.json()).results.find(Ne=>Ne.id===parseInt(e));if(ce){console.log("Supplier data:",ce),u(ce);const Ne=ce.organization_name||`${ce.first_name} ${ce.last_name}`,G=await fetch(`${si}/inventory/suppliers/${ce.id}/`,{headers:{"Content-Type":"application/json",...le&&{Authorization:`Bearer ${le}`}}});if(G.ok){const ue=await G.json();h({summary:ue.summary||{},transactions:ue.transactions||[]})}}else f({title:"Supplier Not Found",description:"This supplier no longer exists in the system.",variant:"destructive"}),u(null)}else f({title:"Error",description:"Failed to load supplier data",variant:"destructive"}),u(null)}}catch(le){console.error("Error fetching supplier data:",le),f({title:"Error",description:"Failed to load supplier data",variant:"destructive"})}finally{g(!1)}})()},[e]);const te=m.transactions||[],de=te.slice((v-1)*y,v*y),ie=Math.ceil(te.length/y),fe=async se=>{try{_(!0),C(se),A(1);const le=localStorage.getItem("access_token")||localStorage.getItem("token"),ne=await fetch(`${si}/inventory/transaction-details/?transaction_id=${encodeURIComponent(se.reference_id)}&source_type=${se.source_type}`,{headers:{"Content-Type":"application/json",...le&&{Authorization:`Bearer ${le}`}}});if(ne.ok){const Q=await ne.json();N(Q)}else f({title:"Error",description:"Failed to load transaction details",variant:"destructive"})}catch(le){console.error("Error fetching transaction details:",le),f({title:"Error",description:"Failed to load transaction details",variant:"destructive"})}finally{_(!1)}},ge=S.items.slice((w-1)*D,w*D),he=Math.ceil(S.items.length/D),Te=()=>{const se=m.transactions||[];return!U&&!R?se:se.filter(le=>{const ne=new Date(le.date),Q=U?new Date(U):new Date("1900-01-01"),ce=R?new Date(R):new Date("2100-12-31");return ne>=Q&&ne<=ce})},Se=()=>{var ce,Ne,G,ue,Le;const se=m.transactions||[],le=U||R?Te():se,ne=`
      <html>
        <head>
          <title>Transaction Data</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 10px; font-size: 10px; }
            table { width: 100%; border-collapse: collapse; table-layout: fixed; }
            th, td { border: 1px solid #ddd; padding: 4px; text-align: left; font-size: 9px; word-wrap: break-word; }
            th { background-color: #f5f5f5; font-weight: bold; }
            th:nth-child(1), td:nth-child(1) { width: 12%; } /* Date */
            th:nth-child(2), td:nth-child(2) { width: 25%; } /* Description */
            th:nth-child(3), td:nth-child(3) { width: 13%; } /* Purchase Amount */
            th:nth-child(4), td:nth-child(4) { width: 13%; } /* Payment Made */
            th:nth-child(5), td:nth-child(5) { width: 15%; } /* Payment Method */
            th:nth-child(6), td:nth-child(6) { width: 13%; } /* Remaining Balance */
            th:nth-child(7), td:nth-child(7) { width: 9%; } /* Status */
            @media print { 
              body { margin: 5px; } 
              table { font-size: 8px; }
              th, td { padding: 2px; }
            }
          </style>
        </head>
        <body>
          <div style="margin-bottom: 20px; padding: 10px; border: 1px solid #ddd; background-color: #f9f9f9;">
            <h3 style="margin: 0 0 10px 0; font-size: 14px;">Summary</h3>
            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; font-size: 10px;">
              <div><strong>Total Purchase:</strong><br>NPR ${(((ce=m.summary)==null?void 0:ce.total_purchases)||0).toLocaleString()}</div>
              <div><strong>Total Payment:</strong><br>NPR ${(((Ne=m.summary)==null?void 0:Ne.total_paid)||0).toLocaleString()}</div>
              <div><strong>Remaining Balance:</strong><br>NPR ${(((G=m.summary)==null?void 0:G.total_credit)||0).toLocaleString()}</div>
              <div><strong>Total Orders:</strong><br>${((Le=(ue=m.transactions)==null?void 0:ue.filter(We=>We.transaction_type==="purchase"))==null?void 0:Le.length)||0}</div>
            </div>
          </div>
          <table>
            <thead>
              <tr>
                <th>Date</th>
                <th>Description</th>
                <th>Purchase Amount</th>
                <th>Payment Made</th>
                <th>Payment Method</th>
                <th>Remaining Balance</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              ${le.map(We=>`
                <tr>
                  <td>${new Date(We.date).toLocaleDateString()}</td>
                  <td>${We.description}</td>
                  <td>${(We.purchase||0)>0?`NPR ${(We.purchase||0).toLocaleString()}`:"-"}</td>
                  <td>${(We.payment||0)>0?`NPR ${(We.payment||0).toLocaleString()}`:"-"}</td>
                  <td>${We.transaction_type==="payment"?(We.payment_method||"Cash")+(We.payment_reference?" - "+We.payment_reference:""):"-"}</td>
                  <td>${We.transaction_type==="payment"&&(We.balance||0)===0?"-":`NPR ${(We.balance||0).toLocaleString()}`}</td>
                  <td>${We.status}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </body>
      </html>
    `,Q=window.open("","_blank");Q.document.write(ne),Q.document.close(),Q.print(),$(!1)},Ue=()=>{const se=m.transactions||[],le=U||R?Te():se,ne=d.organization_name||`${d.first_name} ${d.last_name}`,Q=[["Date","Description","Purchase Amount","Payment Made","Payment Method","Remaining Balance","Status"],...le.map(ue=>[new Date(ue.date).toLocaleDateString(),ue.description,(ue.purchase||0)>0?`NPR ${(ue.purchase||0).toLocaleString()}`:"-",(ue.payment||0)>0?`NPR ${(ue.payment||0).toLocaleString()}`:"-",ue.transaction_type==="payment"?(ue.payment_method||"Cash")+(ue.payment_reference?" - "+ue.payment_reference:""):"-",ue.transaction_type==="payment"&&(ue.balance||0)===0?"-":`NPR ${(ue.balance||0).toLocaleString()}`,ue.status])].map(ue=>ue.join(",")).join(`
`),ce=new Blob([Q],{type:"text/csv"}),Ne=window.URL.createObjectURL(ce),G=document.createElement("a");G.href=Ne,G.download=`transactions-${ne.replace(/[^a-zA-Z0-9]/g,"-")}-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(G),G.click(),document.body.removeChild(G),window.URL.revokeObjectURL(Ne),$(!1)},be=async()=>{if(!(!r||!s||!d))try{c(!0);const se=localStorage.getItem("access_token")||localStorage.getItem("token"),le=d.organization_name||`${d.first_name} ${d.last_name}`,ne=await fetch(`${si}/inventory/supplier-payment/`,{method:"POST",headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}},body:JSON.stringify({supplier_name:le,payment_amount:parseFloat(r),payment_method:s,payment_reference:i,notes:"Payment recorded from supplier detail page"})});if(ne.ok){const Q=await ne.json();if(f({title:"Payment Recorded",description:`Payment of NPR ${parseFloat(r).toLocaleString()} recorded successfully`}),n(""),a(""),o(""),d.id&&!d.id.toString().startsWith("custom_")){const ce=await fetch(`${si}/inventory/suppliers/${d.id}/`,{headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}}});if(ce.ok){const Ne=await ce.json();h({summary:Ne.summary||{},transactions:Ne.transactions||[]})}}else{const ce=d.id.toString().replace("custom_","").replace(/_/g," "),Ne=await fetch(`${si}/inventory/suppliers/custom_${ce.replace(/\s+/g,"_")}/transactions/`,{headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}}});if(Ne.ok){const G=await Ne.json();h({summary:G.summary||{},transactions:G.transactions||[]})}else{const G=await fetch(`${si}/inventory/supplier-ledger/detail/?supplier_name=${encodeURIComponent(ce)}`,{headers:{"Content-Type":"application/json",...se&&{Authorization:`Bearer ${se}`}}});if(G.ok){const ue=await G.json();h(ue)}}}}else{const Q=await ne.json();f({title:"Payment Failed",description:Q.error||"Failed to record payment",variant:"destructive"})}}catch(se){console.error("Error recording payment:",se),f({title:"Error",description:"Failed to record payment",variant:"destructive"})}finally{c(!1)}};return p?t.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):d?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(k,{variant:"outline",size:"sm",asChild:!0,children:t.jsxs(wr,{to:"/suppliers/management",children:[t.jsx(Do,{size:16,className:"mr-2"}),"Back"]})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:d.organization_name||`${d.first_name} ${d.last_name}`}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Supplier ID: ",e]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mt,{className:"h-5 w-5 text-red-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold text-red-600",children:["NPR ",((xe=(Z=m.summary)==null?void 0:Z.total_purchases)==null?void 0:xe.toLocaleString())||"0"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Purchase Amount"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ss,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold text-green-600",children:["NPR ",((ze=(oe=m.summary)==null?void 0:oe.total_paid)==null?void 0:ze.toLocaleString())||"0"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Payment Made"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(yt,{className:"h-5 w-5 text-orange-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["NPR ",((tt=(Fe=m.summary)==null?void 0:Fe.total_credit)==null?void 0:tt.toLocaleString())||"0"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Remaining Balance"})]})]})})}),t.jsx(T,{children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-5 w-5 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold",children:((pe=(ot=m.transactions)==null?void 0:ot.filter(se=>se.transaction_type==="purchase"))==null?void 0:pe.length)||0}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"})]})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[t.jsx(T,{children:t.jsx(E,{className:"p-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",children:"Contact Information"}),t.jsxs("div",{className:"space-y-2 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Di,{size:12}),t.jsx("span",{children:d.email||"N/A"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Wd,{size:12}),t.jsx("span",{children:d.phone||"N/A"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ia,{size:12}),t.jsx("span",{children:d.address||"N/A"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",children:"Business Details"}),t.jsxs("div",{className:"space-y-2 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ps,{size:12}),t.jsxs("span",{children:["Organization: ",(d==null?void 0:d.organization_name)||"N/A"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ps,{size:12}),t.jsxs("span",{children:["Branch: ",(d==null?void 0:d.branch_name)||"N/A"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rt,{size:12}),t.jsxs("span",{children:["Joined: ",d!=null&&d.created_at?new Date(d.created_at).toLocaleDateString():"N/A"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(re,{variant:"default",className:"text-xs",children:(d==null?void 0:d.role_display)||"Supplier"}),t.jsx(re,{variant:(d==null?void 0:d.status)==="active"?"default":"secondary",className:"text-xs",children:(d==null?void 0:d.status)==="active"?"Active":"Inactive"})]})]})]})]})})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx("h3",{className:"text-sm font-medium",children:"Credit Summary & Payment History"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(rt,{open:O,onOpenChange:$,children:[t.jsx(Ft,{asChild:!0,children:t.jsxs(k,{variant:"outline",size:"sm",className:"text-xs",children:[t.jsx(Om,{size:12,className:"mr-1"}),"Print"]})}),t.jsxs(nt,{className:"max-w-md",children:[t.jsx(st,{children:t.jsx(at,{children:"Print/Export Statement"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(M,{className:"text-sm",children:"Date Range (Optional)"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx(M,{className:"text-xs text-muted-foreground",children:"Start Date"}),t.jsx(J,{type:"date",value:U,onChange:se=>V(se.target.value),className:"h-8 text-xs"})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs text-muted-foreground",children:"End Date"}),t.jsx(J,{type:"date",value:R,onChange:se=>X(se.target.value),className:"h-8 text-xs"})]})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty to include all transactions"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{onClick:Se,disabled:z,className:"flex-1 text-xs",children:[t.jsx(Om,{size:12,className:"mr-1"}),"Print"]}),t.jsxs(k,{onClick:Ue,disabled:z,variant:"outline",className:"flex-1 text-xs",children:[t.jsx(bt,{size:12,className:"mr-1"}),"Export CSV"]})]})]})]})]}),t.jsxs(k,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>$(!0),children:[t.jsx(bt,{size:12,className:"mr-1"}),"Export"]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{className:"text-xs py-2",children:"Date"}),t.jsx(K,{className:"text-xs py-2",children:"Description"}),t.jsx(K,{className:"text-xs py-2",children:"Purchase Amount"}),t.jsx(K,{className:"text-xs py-2",children:"Payment Made"}),t.jsx(K,{className:"text-xs py-2",children:"Payment Method"}),t.jsx(K,{className:"text-xs py-2",children:"Remaining Balance"}),t.jsx(K,{className:"text-xs py-2",children:"Status"}),t.jsx(K,{className:"text-xs py-2",children:"Action"})]})}),t.jsx(At,{children:de.map(se=>t.jsxs(Ie,{className:"border-b hover:bg-muted/50",children:[t.jsx(W,{className:"py-2 text-xs",children:new Date(se.date).toLocaleDateString()}),t.jsx(W,{className:"py-2 text-xs",children:se.description}),t.jsx(W,{className:"py-2 text-xs font-medium text-red-600",children:(se.purchase||0)>0?`NPR ${(se.purchase||0).toLocaleString()}`:"-"}),t.jsx(W,{className:"py-2 text-xs font-medium text-green-600",children:(se.payment||0)>0?`NPR ${(se.payment||0).toLocaleString()}`:"-"}),t.jsx(W,{className:"py-2 text-xs",children:se.transaction_type==="payment"?t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:se.payment_method||"Cash"}),se.payment_reference&&t.jsx("div",{className:"text-muted-foreground text-xs",children:se.payment_reference})]}):"-"}),t.jsx(W,{className:`py-2 text-xs font-medium ${(se.balance||0)>0?"text-orange-600":"text-green-600"}`,children:se.transaction_type==="payment"&&(se.balance||0)===0?"-":`NPR ${(se.balance||0).toLocaleString()}`}),t.jsx(W,{className:"py-2",children:t.jsx(re,{variant:se.status==="Cleared"?"default":"secondary",className:"text-xs",children:se.status})}),t.jsx(W,{className:"py-2",children:se.transaction_type==="purchase"&&t.jsxs(rt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsx(k,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>fe(se),children:t.jsx(xt,{size:12})})}),t.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsx(st,{children:t.jsxs(at,{className:"text-lg",children:["Transaction Details - ",j==null?void 0:j.reference_id]})}),P?t.jsx("div",{className:"flex justify-center items-center h-32",children:t.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading details..."})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 bg-muted/50 rounded-lg text-sm",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Transaction ID:"}),t.jsx("div",{children:j==null?void 0:j.reference_id})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Date:"}),t.jsx("div",{children:j?new Date(j.date).toLocaleDateString():""})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total Items:"}),t.jsx("div",{children:S.total_items||0})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total Amount:"}),t.jsxs("div",{className:"font-bold text-blue-600",children:["NPR ",(S.total_amount||0).toLocaleString()]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total Paid:"}),t.jsxs("div",{className:"font-bold text-green-600",children:["NPR ",(S.total_paid||0).toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Total Credit:"}),t.jsxs("div",{className:"font-bold text-orange-600",children:["NPR ",(S.total_credit||0).toLocaleString()]})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ct,{children:[t.jsx(_t,{children:t.jsxs(Ie,{children:[t.jsx(K,{className:"text-xs",children:"Medicine Name"}),t.jsx(K,{className:"text-xs",children:"Generic Name"}),t.jsx(K,{className:"text-xs",children:"Strength"}),t.jsx(K,{className:"text-xs",children:"Form"}),t.jsx(K,{className:"text-xs",children:"Quantity"}),t.jsx(K,{className:"text-xs",children:"Unit Price"}),t.jsx(K,{className:"text-xs",children:"Total"}),t.jsx(K,{className:"text-xs",children:"Batch"}),t.jsx(K,{className:"text-xs",children:"Expiry"})]})}),t.jsx(At,{children:ge.map((le,ne)=>t.jsxs(Ie,{className:"border-b",children:[t.jsx(W,{className:"py-2 text-xs font-medium",children:le.name}),t.jsx(W,{className:"py-2 text-xs text-muted-foreground",children:le.generic_name||"-"}),t.jsx(W,{className:"py-2 text-xs",children:le.strength||"-"}),t.jsx(W,{className:"py-2 text-xs",children:le.dosage_form||"-"}),t.jsxs(W,{className:"py-2 text-xs",children:[le.quantity||le.quantity_requested||"-"," ",le.unit||""]}),t.jsxs(W,{className:"py-2 text-xs",children:["NPR ",(le.cost_price||le.unit_price||0).toLocaleString()]}),t.jsxs(W,{className:"py-2 text-xs font-medium",children:["NPR ",(le.total_cost||le.total_price||0).toLocaleString()]}),t.jsx(W,{className:"py-2 text-xs",children:le.batch_number||"-"}),t.jsx(W,{className:"py-2 text-xs",children:le.expiry_date?new Date(le.expiry_date).toLocaleDateString():"-"})]},le.id||ne))})]})}),he>1&&t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing ",(w-1)*D+1," to ",Math.min(w*D,S.items.length)," of ",S.items.length," items"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(k,{variant:"outline",size:"sm",onClick:()=>A(le=>Math.max(le-1,1)),disabled:w===1,className:"h-7 px-2 text-xs",children:"Previous"}),Array.from({length:he},(le,ne)=>ne+1).map(le=>t.jsx(k,{variant:le===w?"default":"outline",size:"sm",onClick:()=>A(le),className:"h-7 w-7 text-xs",children:le},le)),t.jsx(k,{variant:"outline",size:"sm",onClick:()=>A(le=>Math.min(le+1,he)),disabled:w===he,className:"h-7 px-2 text-xs",children:"Next"})]})]})]})]})]})})]},se.id))})]})}),t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing ",(v-1)*y+1," to ",Math.min(v*y,te.length)," of ",te.length," entries"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(k,{variant:"outline",size:"sm",onClick:()=>b(se=>Math.max(se-1,1)),disabled:v===1,className:"h-7 px-2 text-xs",children:"Previous"}),Array.from({length:ie},(se,le)=>le+1).map(se=>t.jsx(k,{variant:se===v?"default":"outline",size:"sm",onClick:()=>b(se),className:"h-7 w-7 text-xs",children:se},se)),t.jsx(k,{variant:"outline",size:"sm",onClick:()=>b(se=>Math.min(se+1,ie)),disabled:v===ie,className:"h-7 px-2 text-xs",children:"Next"})]})]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs(T,{children:[t.jsx(B,{className:"pb-2",children:t.jsxs(q,{className:"text-lg flex items-center",children:[t.jsx(ss,{className:"mr-2",size:18}),"Credit Management"]})}),t.jsxs(E,{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Credit Balance"}),t.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["NPR ",(((qe=m.summary)==null?void 0:qe.pending_credit)||0).toLocaleString()]})]}),t.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",children:[t.jsx(M,{className:"text-xs font-medium",children:"Record Payment"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx(M,{className:"text-xs text-muted-foreground",children:"Amount"}),t.jsx(J,{type:"number",placeholder:"Enter amount",value:r,onChange:se=>{var Q;const le=parseFloat(se.target.value)||0,ne=((Q=m.summary)==null?void 0:Q.total_credit)||0;le<=ne&&n(se.target.value)},className:"h-7 text-xs",max:((ae=m.summary)==null?void 0:ae.total_credit)||0}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Max: NPR ",(((je=m.summary)==null?void 0:je.total_credit)||0).toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs text-muted-foreground",children:"Method"}),t.jsxs(_e,{value:s,onValueChange:a,children:[t.jsx(Pe,{className:"h-7 text-xs",children:t.jsx(Ae,{placeholder:"Select method"})}),t.jsxs(Ce,{children:[t.jsx(I,{value:"cash",children:"Cash"}),t.jsx(I,{value:"bank_transfer",children:"Bank Transfer"}),t.jsx(I,{value:"cheque",children:"Cheque"}),t.jsx(I,{value:"online",children:"Online Payment"})]})]})]}),t.jsxs("div",{children:[t.jsx(M,{className:"text-xs text-muted-foreground",children:"Reference"}),t.jsx(J,{placeholder:"Reference number",value:i,onChange:se=>o(se.target.value),className:"h-7 text-xs"})]}),t.jsxs(k,{size:"sm",className:"w-full text-xs",disabled:!r||!s||l||parseFloat(r)>(((H=m.summary)==null?void 0:H.total_credit)||0),onClick:be,children:[t.jsx(zw,{size:12,className:"mr-2"}),l?"Recording...":"Record Payment"]})]})]})]})]})})]})]}):t.jsx("div",{className:"text-center text-muted-foreground",children:"Supplier not found"})}function zSe(){const[e,r]=x.useState({defaultPaymentTerms:"Net 30",autoApproveOrders:!1,requireSignature:!0,enablePartialDeliveries:!0,orderConfirmationEmail:!0,deliveryNotifications:!0,invoiceReminders:!0,communicationPreference:"email",trackDeliveryTime:!0,trackOrderAccuracy:!0,minimumOrderValue:100,preferredDeliveryWindow:"morning",enableEDI:!1,apiIntegration:!0,autoInvoiceProcessing:!1}),n=a=>{r(i=>({...i,[a]:!i[a]}))},s=(a,i)=>{r(o=>({...o,[a]:i}))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Supplier Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure supplier management preferences"})]}),t.jsxs(k,{className:"bg-primary hover:bg-primary-hover",children:[t.jsx(Co,{size:16,className:"mr-2"}),"Save Settings"]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(hn,{className:"mr-2 text-primary",size:20}),"Order Management"]})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Payment Terms"}),t.jsxs("select",{value:e.defaultPaymentTerms,onChange:a=>s("defaultPaymentTerms",a.target.value),className:"w-full mt-1 px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[t.jsx("option",{value:"Net 15",children:"Net 15 Days"}),t.jsx("option",{value:"Net 30",children:"Net 30 Days"}),t.jsx("option",{value:"Net 45",children:"Net 45 Days"}),t.jsx("option",{value:"Net 60",children:"Net 60 Days"}),t.jsx("option",{value:"COD",children:"Cash on Delivery"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Minimum Order Value ($)"}),t.jsx(J,{type:"number",value:e.minimumOrderValue,onChange:a=>s("minimumOrderValue",parseFloat(a.target.value)),className:"mt-1"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Auto-approve Orders"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically approve orders below threshold"})]}),t.jsx(wt,{checked:e.autoApproveOrders,onCheckedChange:()=>n("autoApproveOrders")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Require Delivery Signature"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Require signature for all deliveries"})]}),t.jsx(wt,{checked:e.requireSignature,onCheckedChange:()=>n("requireSignature")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Allow Partial Deliveries"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Accept partial shipments for large orders"})]}),t.jsx(wt,{checked:e.enablePartialDeliveries,onCheckedChange:()=>n("enablePartialDeliveries")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(Di,{className:"mr-2 text-success",size:20}),"Communication"]})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preferred Communication"}),t.jsxs("select",{value:e.communicationPreference,onChange:a=>s("communicationPreference",a.target.value),className:"w-full mt-1 px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[t.jsx("option",{value:"email",children:"Email"}),t.jsx("option",{value:"phone",children:"Phone"}),t.jsx("option",{value:"portal",children:"Supplier Portal"}),t.jsx("option",{value:"fax",children:"Fax"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Order Confirmation Emails"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Send email confirmations for new orders"})]}),t.jsx(wt,{checked:e.orderConfirmationEmail,onCheckedChange:()=>n("orderConfirmationEmail")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Delivery Notifications"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Notify suppliers about delivery updates"})]}),t.jsx(wt,{checked:e.deliveryNotifications,onCheckedChange:()=>n("deliveryNotifications")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Invoice Reminders"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Send automatic payment reminders"})]}),t.jsx(wt,{checked:e.invoiceReminders,onCheckedChange:()=>n("invoiceReminders")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(Ut,{className:"mr-2 text-warning",size:20}),"Performance Tracking"]})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Preferred Delivery Window"}),t.jsxs("select",{value:e.preferredDeliveryWindow,onChange:a=>s("preferredDeliveryWindow",a.target.value),className:"w-full mt-1 px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[t.jsx("option",{value:"morning",children:"Morning (8AM - 12PM)"}),t.jsx("option",{value:"afternoon",children:"Afternoon (12PM - 5PM)"}),t.jsx("option",{value:"evening",children:"Evening (5PM - 8PM)"}),t.jsx("option",{value:"anytime",children:"Anytime"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Track Delivery Performance"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Monitor on-time delivery rates"})]}),t.jsx(wt,{checked:e.trackDeliveryTime,onCheckedChange:()=>n("trackDeliveryTime")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Track Order Accuracy"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Monitor order fulfillment accuracy"})]}),t.jsx(wt,{checked:e.trackOrderAccuracy,onCheckedChange:()=>n("trackOrderAccuracy")})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(ln,{className:"mr-2 text-primary",size:20}),"System Integration"]})}),t.jsxs(E,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Enable EDI"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Electronic Data Interchange for orders"})]}),t.jsx(wt,{checked:e.enableEDI,onCheckedChange:()=>n("enableEDI")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"API Integration"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Connect with supplier APIs"})]}),t.jsx(wt,{checked:e.apiIntegration,onCheckedChange:()=>n("apiIntegration")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:"Auto-process Invoices"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically process received invoices"})]}),t.jsx(wt,{checked:e.autoInvoiceProcessing,onCheckedChange:()=>n("autoInvoiceProcessing")})]})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(it,{className:"mr-2 text-primary",size:20}),"Supplier Categories"]})}),t.jsx(E,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{name:"Pharmaceutical",count:12,color:"destructive"},{name:"Medical Equipment",count:8,color:"default"},{name:"OTC Products",count:15,color:"secondary"},{name:"Wellness & Nutrition",count:6,color:"outline"},{name:"Office Supplies",count:4,color:"outline"},{name:"Packaging",count:3,color:"outline"}].map((a,i)=>t.jsxs("div",{className:"p-3 border border-border rounded-lg",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h4",{className:"font-medium text-foreground text-sm",children:a.name}),t.jsx(re,{variant:a.color,className:"text-xs",children:a.count})]}),t.jsx(k,{size:"sm",variant:"outline",className:"w-full text-xs",children:"View Suppliers"})]},i))})})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{children:t.jsxs(q,{className:"flex items-center text-card-foreground",children:[t.jsx(mt,{className:"mr-2 text-success",size:20}),"Payment Methods"]})}),t.jsx(E,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Bank Transfer"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"ACH Transfer"}),t.jsx(re,{variant:"default",children:"Enabled"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Wire Transfer"}),t.jsx(re,{variant:"default",children:"Enabled"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Cards & Digital"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Corporate Cards"}),t.jsx(re,{variant:"default",children:"Enabled"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"PayPal Business"}),t.jsx(re,{variant:"outline",children:"Disabled"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-foreground",children:"Traditional"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Check Payment"}),t.jsx(re,{variant:"default",children:"Enabled"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-panel rounded-lg",children:[t.jsx("span",{className:"text-sm text-panel-foreground",children:"Cash on Delivery"}),t.jsx(re,{variant:"outline",children:"Disabled"})]})]})]})]})})]})]})}function BSe(){return t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Compliance Tracking"}),t.jsx("p",{className:"text-muted-foreground",children:"Track compliance metrics and deadlines"})]})}function USe(){return t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Network Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure network and system settings"})]})}function VSe(){return t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Customer Reports"}),t.jsx("p",{className:"text-muted-foreground",children:"Generate customer analytics and reports"})]})}function qSe(){return t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Customer Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure customer management preferences"})]})}const fp=[{id:"vo-1",orderNumber:"ORD-2024-001",pharmacyId:"org-1",pharmacyName:"MediCare Hospital Network",orderDate:"2024-03-15",deliveryDate:"2024-03-20",status:"confirmed",items:[{productId:"vp-1",productName:"Paracetamol 500mg (1000 tablets)",quantity:10,unitPrice:850,total:8500},{productId:"vp-2",productName:"Amoxicillin 250mg (500 capsules)",quantity:5,unitPrice:1200,total:6e3}],subtotal:14500,tax:2610,total:17110,paymentStatus:"pending",notes:"Urgent delivery required for main branch"},{id:"vo-2",orderNumber:"ORD-2024-002",pharmacyId:"org-2",pharmacyName:"HealthPlus Pharmacy Chain",orderDate:"2024-03-12",deliveryDate:"2024-03-18",status:"delivered",items:[{productId:"vp-3",productName:"Insulin Aspart 100 units/ml",quantity:20,unitPrice:680,total:13600}],subtotal:13600,tax:2448,total:16048,paymentStatus:"paid",notes:"Standard delivery"},{id:"vo-3",orderNumber:"ORD-2024-003",pharmacyId:"org-1",pharmacyName:"MediCare Hospital Network",orderDate:"2024-03-10",status:"pending",items:[{productId:"vp-4",productName:"Hand Sanitizer 500ml (24 bottles)",quantity:50,unitPrice:95,total:4750}],subtotal:4750,tax:855,total:5605,paymentStatus:"pending"}],WSe=[{id:"vp-1",name:"Paracetamol 500mg",sku:"PAR-500-1000",category:"Analgesics",description:"High-quality paracetamol tablets, 1000 count bottle",price:850,minimumOrder:5,availability:"in-stock",leadTime:3,status:"active",lastUpdated:"2024-03-14"},{id:"vp-2",name:"Amoxicillin 250mg",sku:"AMX-250-500",category:"Antibiotics",description:"Broad spectrum antibiotic capsules, 500 count",price:1200,minimumOrder:3,availability:"in-stock",leadTime:5,status:"active",lastUpdated:"2024-03-13"},{id:"vp-3",name:"Insulin Aspart 100 units/ml",sku:"INS-ASP-100",category:"Diabetes",description:"Fast-acting insulin for diabetes management",price:680,minimumOrder:10,availability:"low-stock",leadTime:7,status:"active",lastUpdated:"2024-03-12"},{id:"vp-4",name:"Hand Sanitizer 500ml",sku:"SAN-500-24",category:"Personal Care",description:"Alcohol-based hand sanitizer, 24 bottle case",price:95,minimumOrder:20,availability:"in-stock",leadTime:2,status:"active",lastUpdated:"2024-03-15"}],z2=[{id:"vi-1",invoiceNumber:"INV-2024-001",orderIds:["vo-2"],issueDate:"2024-03-18",dueDate:"2024-04-17",amount:16048,status:"paid",paymentMethod:"Bank Transfer",paidDate:"2024-03-25"},{id:"vi-2",invoiceNumber:"INV-2024-002",orderIds:["vo-1"],issueDate:"2024-03-20",dueDate:"2024-04-19",amount:17110,status:"pending"}],zE=[{period:"March 2024",ordersReceived:45,ordersDelivered:42,onTimeDelivery:95.5,qualityRating:4.8,revenue:245e3,disputesResolved:2},{period:"February 2024",ordersReceived:38,ordersDelivered:36,onTimeDelivery:94.7,qualityRating:4.7,revenue:198e3,disputesResolved:1},{period:"January 2024",ordersReceived:41,ordersDelivered:39,onTimeDelivery:95.1,qualityRating:4.9,revenue:225e3,disputesResolved:0}],C6=[{id:"vc-1",from:"procurement@medicare.com",to:"sales@pharmasupply.com",subject:"Urgent: Stock Update Required for Insulin",message:"We need updated stock levels for Insulin Aspart. Our current order is pending confirmation.",priority:"high",status:"unread",createdAt:"2024-03-15T10:30:00Z"},{id:"vc-2",from:"admin@healthplus.com",to:"sales@pharmasupply.com",subject:"Monthly Order Schedule",message:"Please find attached our monthly order schedule for April 2024.",priority:"medium",status:"read",createdAt:"2024-03-14T14:15:00Z",attachments:["april_schedule.pdf"]},{id:"vc-3",from:"quality@medicare.com",to:"quality@pharmasupply.com",subject:"Quality Certificate Required",message:"We need the latest quality certificates for batch PAR-2024-001.",priority:"medium",status:"replied",createdAt:"2024-03-13T09:45:00Z"}],BE=e=>fp.filter(r=>r.status===e),HSe=e=>z2.filter(r=>r.status===e),KSe=()=>z2.filter(e=>e.status==="paid").reduce((e,r)=>e+r.amount,0),GSe=()=>C6.filter(e=>e.status==="unread");function XSe(){const[e,r]=x.useState("dashboard"),n=fp.length,s=BE("pending").length;BE("confirmed").length;const a=KSe(),i=HSe("pending").length,o=GSe().length,l=zE[0];return t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Vendor Portal"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Supplier self-service platform"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(bt,{className:"w-3 h-3 mr-1"}),"Export Report"]}),t.jsxs(k,{size:"sm",children:[t.jsx(zt,{className:"w-3 h-3 mr-1"}),"New Product"]})]})]}),t.jsxs(Or,{value:e,onValueChange:r,className:"space-y-4",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-6",children:[t.jsx(Oe,{value:"dashboard",children:"Dashboard"}),t.jsx(Oe,{value:"orders",children:"Orders"}),t.jsx(Oe,{value:"products",children:"Products"}),t.jsx(Oe,{value:"invoices",children:"Invoices"}),t.jsx(Oe,{value:"messages",children:"Messages"}),t.jsx(Oe,{value:"performance",children:"Performance"})]}),t.jsxs($e,{value:"dashboard",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:n}),t.jsx("p",{className:"text-xs text-success",children:"+12% this month"})]}),t.jsx(zn,{className:"w-6 h-6 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue"}),t.jsxs("p",{className:"text-lg font-semibold text-foreground",children:["₹",a.toLocaleString()]}),t.jsx("p",{className:"text-xs text-success",children:"+8.5% growth"})]}),t.jsx(mt,{className:"w-6 h-6 text-success"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending Orders"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:s}),t.jsx("p",{className:"text-xs text-warning",children:"Needs attention"})]}),t.jsx(Ut,{className:"w-6 h-6 text-warning"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"On-Time Delivery"}),t.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[l.onTimeDelivery,"%"]}),t.jsx("p",{className:"text-xs text-success",children:"Excellent rating"})]}),t.jsx(hn,{className:"w-6 h-6 text-success"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{className:"pb-2",children:t.jsx(q,{className:"text-sm text-card-foreground",children:"Pending Actions"})}),t.jsxs(E,{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ut,{className:"w-4 h-4 text-warning"}),t.jsx("span",{className:"text-xs",children:"Orders pending confirmation"})]}),t.jsx(re,{variant:"secondary",className:"text-xs",children:s})]}),t.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($t,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-xs",children:"Invoices pending payment"})]}),t.jsx(re,{variant:"default",className:"text-xs",children:i})]}),t.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(jB,{className:"w-4 h-4 text-success"}),t.jsx("span",{className:"text-xs",children:"Unread messages"})]}),t.jsx(re,{variant:"success",className:"text-xs",children:o})]})]})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{className:"pb-2",children:t.jsx(q,{className:"text-sm text-card-foreground",children:"Recent Activity"})}),t.jsx(E,{className:"space-y-2",children:fp.slice(0,3).map(c=>t.jsxs("div",{className:"p-2 bg-muted rounded",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium",children:c.orderNumber}),t.jsx(re,{variant:c.status==="confirmed"?"default":c.status==="delivered"?"success":"warning",className:"text-xs",children:c.status})]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:c.pharmacyName}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["₹",c.total.toLocaleString()]})]},c.id))})]}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{className:"pb-2",children:t.jsx(q,{className:"text-sm text-card-foreground",children:"Performance Metrics"})}),t.jsxs(E,{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Quality Rating"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(On,{className:"w-3 h-3 text-warning fill-current"}),t.jsx("span",{className:"text-xs font-medium",children:l.qualityRating})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Orders Delivered"}),t.jsx("span",{className:"text-xs font-medium",children:l.ordersDelivered})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Disputes Resolved"}),t.jsx("span",{className:"text-xs font-medium",children:l.disputesResolved})]})]})]})]})]}),t.jsx($e,{value:"orders",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(B,{className:"pb-2",children:[t.jsx(q,{className:"text-sm text-card-foreground",children:"Order Management"}),t.jsx(kt,{className:"text-xs",children:"View and manage all customer orders"})]}),t.jsx(E,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Order"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Customer"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Date"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Items"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Amount"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Status"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:fp.map(c=>t.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[t.jsxs("td",{className:"p-2",children:[t.jsx("div",{className:"font-medium text-foreground",children:c.orderNumber}),c.deliveryDate&&t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Delivery: ",new Date(c.deliveryDate).toLocaleDateString()]})]}),t.jsx("td",{className:"p-2",children:t.jsx("div",{className:"text-foreground",children:c.pharmacyName})}),t.jsx("td",{className:"p-2 text-muted-foreground",children:new Date(c.orderDate).toLocaleDateString()}),t.jsxs("td",{className:"p-2 text-muted-foreground",children:[c.items.length," items"]}),t.jsxs("td",{className:"p-2",children:[t.jsxs("div",{className:"font-medium text-foreground",children:["₹",c.total.toLocaleString()]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Payment: ",c.paymentStatus]})]}),t.jsx("td",{className:"p-2",children:t.jsx(re,{variant:c.status==="confirmed"?"default":c.status==="delivered"?"success":c.status==="cancelled"?"destructive":"warning",className:"text-xs",children:c.status})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx(k,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(xt,{className:"w-3 h-3"})}),t.jsx(k,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(mn,{className:"w-3 h-3"})}),t.jsx(k,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(bt,{className:"w-3 h-3"})})]})})]},c.id))})]})})})]})}),t.jsx($e,{value:"products",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{className:"pb-2",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{className:"text-sm text-card-foreground",children:"Product Catalog"}),t.jsx(kt,{className:"text-xs",children:"Manage your product listings"})]}),t.jsxs(k,{size:"sm",children:[t.jsx(zt,{className:"w-3 h-3 mr-1"}),"Add Product"]})]})}),t.jsxs(E,{className:"space-y-3",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:14}),t.jsx(J,{placeholder:"Search products...",className:"pl-7 h-8"})]}),t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(Na,{className:"w-3 h-3 mr-1"}),"Filter"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:WSe.map(c=>t.jsx(T,{className:"bg-muted border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-sm font-medium text-foreground",children:c.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:c.category}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",c.sku]})]}),t.jsx(re,{variant:c.availability==="in-stock"?"success":c.availability==="low-stock"?"warning":"destructive",className:"text-xs",children:c.availability})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Price:"}),t.jsxs("span",{className:"text-sm font-medium text-foreground",children:["₹",c.price]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Min Order:"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:c.minimumOrder})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Lead Time:"}),t.jsxs("span",{className:"text-xs text-muted-foreground",children:[c.leadTime," days"]})]})]}),t.jsxs("div",{className:"flex gap-1 pt-2",children:[t.jsxs(k,{size:"sm",variant:"outline",className:"flex-1",children:[t.jsx(mn,{className:"w-3 h-3 mr-1"}),"Edit"]}),t.jsx(k,{size:"sm",variant:"outline",children:t.jsx(xt,{className:"w-3 h-3"})})]})]})})},c.id))})]})]})}),t.jsx($e,{value:"invoices",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(B,{className:"pb-2",children:[t.jsx(q,{className:"text-sm text-card-foreground",children:"Invoice Management"}),t.jsx(kt,{className:"text-xs",children:"Track payments and invoice status"})]}),t.jsx(E,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Invoice"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Issue Date"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Due Date"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Amount"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Status"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:z2.map(c=>t.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[t.jsxs("td",{className:"p-2",children:[t.jsx("div",{className:"font-medium text-foreground",children:c.invoiceNumber}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Orders: ",c.orderIds.length]})]}),t.jsx("td",{className:"p-2 text-muted-foreground",children:new Date(c.issueDate).toLocaleDateString()}),t.jsx("td",{className:"p-2 text-muted-foreground",children:new Date(c.dueDate).toLocaleDateString()}),t.jsxs("td",{className:"p-2",children:[t.jsxs("div",{className:"font-medium text-foreground",children:["₹",c.amount.toLocaleString()]}),c.paidDate&&t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Paid: ",new Date(c.paidDate).toLocaleDateString()]})]}),t.jsx("td",{className:"p-2",children:t.jsx(re,{variant:c.status==="paid"?"success":c.status==="overdue"?"destructive":"warning",className:"text-xs",children:c.status})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx(k,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(xt,{className:"w-3 h-3"})}),t.jsx(k,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(bt,{className:"w-3 h-3"})})]})})]},c.id))})]})})})]})}),t.jsx($e,{value:"messages",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsx(B,{className:"pb-2",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(q,{className:"text-sm text-card-foreground",children:"Communication Center"}),t.jsx(kt,{className:"text-xs",children:"Messages from customers and system notifications"})]}),t.jsxs(k,{size:"sm",children:[t.jsx(cP,{className:"w-3 h-3 mr-1"}),"New Message"]})]})}),t.jsx(E,{className:"space-y-3",children:C6.map(c=>t.jsx(T,{className:`bg-muted border ${c.status==="unread"?"border-primary":"border-border"}`,children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:"text-sm font-medium text-foreground",children:c.subject}),t.jsx(re,{variant:c.priority==="high"?"destructive":c.priority==="medium"?"warning":"default",className:"text-xs",children:c.priority}),c.status==="unread"&&t.jsx(re,{variant:"primary",className:"text-xs",children:"New"})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["From: ",c.from]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(c.createdAt).toLocaleString()})]}),t.jsx(re,{variant:c.status==="replied"?"success":c.status==="read"?"default":"warning",className:"text-xs",children:c.status})]}),t.jsx("p",{className:"text-sm text-foreground",children:c.message}),c.attachments&&c.attachments.length>0&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx($t,{className:"w-3 h-3 text-muted-foreground"}),t.jsxs("span",{className:"text-xs text-muted-foreground",children:[c.attachments.length," attachment(s)"]})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(cP,{className:"w-3 h-3 mr-1"}),"Reply"]}),t.jsxs(k,{size:"sm",variant:"ghost",children:[t.jsx(xt,{className:"w-3 h-3 mr-1"}),"Mark as Read"]})]})]})})},c.id))})]})}),t.jsx($e,{value:"performance",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(B,{className:"pb-2",children:[t.jsx(q,{className:"text-sm text-card-foreground",children:"Performance Analytics"}),t.jsx(kt,{className:"text-xs",children:"Track your performance metrics and trends"})]}),t.jsx(E,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Period"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Orders Received"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Orders Delivered"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"On-Time Delivery"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Quality Rating"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Revenue"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Disputes"})]})}),t.jsx("tbody",{children:zE.map((c,d)=>t.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[t.jsx("td",{className:"p-2 font-medium text-foreground",children:c.period}),t.jsx("td",{className:"p-2 text-muted-foreground",children:c.ordersReceived}),t.jsx("td",{className:"p-2 text-muted-foreground",children:c.ordersDelivered}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("span",{className:`${c.onTimeDelivery>=95?"text-success":c.onTimeDelivery>=90?"text-warning":"text-destructive"}`,children:[c.onTimeDelivery,"%"]}),c.onTimeDelivery>=95&&t.jsx(ut,{className:"w-3 h-3 text-success"})]})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(On,{className:"w-3 h-3 text-warning fill-current"}),t.jsx("span",{className:"text-foreground",children:c.qualityRating})]})}),t.jsxs("td",{className:"p-2 font-medium text-foreground",children:["₹",c.revenue.toLocaleString()]}),t.jsx("td",{className:"p-2",children:t.jsx(re,{variant:c.disputesResolved===0?"success":"warning",className:"text-xs",children:c.disputesResolved})})]},d))})]})})})]})})]})]})}const to=[{id:"doc-1",name:"Drug License Certificate",type:"pdf",category:"license",description:"Main drug license certificate for MediCare Hospital Network",fileSize:2457600,mimeType:"application/pdf",version:3,status:"approved",tags:["drug-license","certificate","regulatory","main-branch"],uploadedBy:"user-owner-1",uploadedAt:"2024-01-15T10:30:00Z",lastModified:"2024-02-20T14:15:00Z",expiryDate:"2025-01-15",accessLevel:"confidential",organizationId:"org-1",branchId:"branch-1",checksum:"sha256:abc123def456",downloadCount:15,metadata:{licenseNumber:"DL-MH-001-2024",issuingAuthority:"Maharashtra FDA",renewalRequired:!0}},{id:"doc-2",name:"GST Registration Certificate",type:"pdf",category:"certificate",description:"GST registration certificate for tax compliance",fileSize:1843200,mimeType:"application/pdf",version:1,status:"approved",tags:["gst","tax","registration","compliance"],uploadedBy:"user-manager-1",uploadedAt:"2024-01-20T09:45:00Z",lastModified:"2024-01-20T09:45:00Z",expiryDate:"2027-01-20",accessLevel:"internal",organizationId:"org-1",checksum:"sha256:def456ghi789",downloadCount:8,metadata:{gstNumber:"27ABCDE1234F1Z5",stateCode:"27"}},{id:"doc-3",name:"Monthly Compliance Report - March 2024",type:"docx",category:"report",description:"Comprehensive compliance report for March 2024",fileSize:3276800,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",version:2,status:"under_review",tags:["compliance","monthly","march-2024","report"],uploadedBy:"user-pharmacist-1",uploadedAt:"2024-03-05T16:20:00Z",lastModified:"2024-03-10T11:30:00Z",accessLevel:"internal",organizationId:"org-1",branchId:"branch-1",checksum:"sha256:ghi789jkl012",downloadCount:3,metadata:{reportPeriod:"2024-03",complianceScore:92.5,issuesFound:2}},{id:"doc-4",name:"Supplier Agreement - MedPharma Distributors",type:"pdf",category:"contract",description:"Master agreement with MedPharma Distributors",fileSize:4567890,mimeType:"application/pdf",version:2,status:"approved",tags:["contract","supplier","medpharma","agreement"],uploadedBy:"user-owner-1",uploadedAt:"2024-02-01T12:00:00Z",lastModified:"2024-02-15T14:30:00Z",expiryDate:"2025-02-01",accessLevel:"confidential",organizationId:"org-1",checksum:"sha256:jkl012mno345",downloadCount:12,metadata:{contractValue:5e5,supplierId:"sup-1",paymentTerms:"30 days"}},{id:"doc-5",name:"FSSAI License Certificate",type:"pdf",category:"license",description:"Food Safety and Standards Authority license",fileSize:1234567,mimeType:"application/pdf",version:1,status:"approved",tags:["fssai","food-safety","license","certificate"],uploadedBy:"user-manager-2",uploadedAt:"2024-01-25T08:15:00Z",lastModified:"2024-01-25T08:15:00Z",expiryDate:"2025-01-25",accessLevel:"internal",organizationId:"org-1",branchId:"branch-2",checksum:"sha256:mno345pqr678",downloadCount:6,metadata:{licenseNumber:"FSSAI-001-2024",category:"Drug Retail"}},{id:"doc-6",name:"SOPs - Inventory Management",type:"pdf",category:"policy",description:"Standard Operating Procedures for inventory management",fileSize:2890123,mimeType:"application/pdf",version:4,status:"approved",tags:["sop","inventory","procedures","guidelines"],uploadedBy:"user-pharmacist-1",uploadedAt:"2024-02-10T13:45:00Z",lastModified:"2024-03-01T10:20:00Z",accessLevel:"internal",organizationId:"org-1",checksum:"sha256:pqr678stu901",downloadCount:25,metadata:{department:"Inventory",reviewDate:"2024-09-01"}}],YSe=[{id:"dv-1",documentId:"doc-1",version:3,fileName:"drug_license_v3.pdf",fileSize:2457600,uploadedBy:"user-owner-1",uploadedAt:"2024-02-20T14:15:00Z",changes:"Updated expiry date and added new branch coverage",status:"current"},{id:"dv-2",documentId:"doc-1",version:2,fileName:"drug_license_v2.pdf",fileSize:2398e3,uploadedBy:"user-owner-1",uploadedAt:"2024-01-20T11:30:00Z",changes:"Corrected address information",status:"archived"},{id:"dv-3",documentId:"doc-3",version:2,fileName:"compliance_report_march_v2.docx",fileSize:3276800,uploadedBy:"user-pharmacist-1",uploadedAt:"2024-03-10T11:30:00Z",changes:"Added additional compliance metrics and corrected data errors",status:"current"}],_6=[{id:"dw-1",documentId:"doc-3",workflowType:"approval",status:"in_progress",assignedTo:["user-manager-1","user-owner-1"],currentStep:2,totalSteps:3,dueDate:"2024-03-20",createdBy:"user-pharmacist-1",createdAt:"2024-03-10T11:30:00Z",steps:[{stepNumber:1,title:"Initial Review",description:"Technical review of compliance data",assignedTo:"user-pharmacist-1",status:"completed",completedAt:"2024-03-11T09:15:00Z",comments:"Data verified and accurate",actions:["review","approve"]},{stepNumber:2,title:"Manager Approval",description:"Branch manager review and approval",assignedTo:"user-manager-1",status:"in_progress",actions:["approve","reject","request_changes"]},{stepNumber:3,title:"Final Authorization",description:"Owner final authorization",assignedTo:"user-owner-1",status:"pending",actions:["approve","reject"]}]},{id:"dw-2",documentId:"doc-1",workflowType:"renewal",status:"pending",assignedTo:["user-owner-1"],currentStep:1,totalSteps:2,dueDate:"2024-12-15",createdBy:"system",createdAt:"2024-03-01T00:00:00Z",steps:[{stepNumber:1,title:"Renewal Preparation",description:"Prepare documents for license renewal",assignedTo:"user-owner-1",status:"pending",actions:["prepare","submit"]},{stepNumber:2,title:"Authority Submission",description:"Submit to regulatory authority",assignedTo:"user-owner-1",status:"pending",actions:["submit","track"]}]}],QSe=[{id:"df-1",name:"Licenses & Certificates",type:"category",permissions:["view","download"],createdBy:"user-owner-1",createdAt:"2024-01-01T00:00:00Z",documentCount:3,subfolderCount:2},{id:"df-2",name:"Compliance Reports",type:"category",permissions:["view","download","upload"],createdBy:"user-pharmacist-1",createdAt:"2024-01-05T00:00:00Z",documentCount:12,subfolderCount:0},{id:"df-3",name:"Contracts & Agreements",type:"category",permissions:["view"],createdBy:"user-owner-1",createdAt:"2024-01-10T00:00:00Z",documentCount:5,subfolderCount:1},{id:"df-4",name:"Policies & SOPs",type:"category",permissions:["view","download"],createdBy:"user-manager-1",createdAt:"2024-01-15T00:00:00Z",documentCount:8,subfolderCount:3}],ZSe=[{id:"da-1",documentId:"doc-1",userId:"user-manager-1",action:"view",accessedAt:"2024-03-15T10:30:00Z",ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},{id:"da-2",documentId:"doc-1",userId:"user-pharmacist-1",action:"download",accessedAt:"2024-03-14T14:20:00Z",ipAddress:"192.168.1.101",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},{id:"da-3",documentId:"doc-3",userId:"user-owner-1",action:"edit",accessedAt:"2024-03-13T09:45:00Z",ipAddress:"192.168.1.102",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36"}],JSe=e=>to.filter(r=>r.status===e),ePe=(e=30)=>{const r=new Date;return r.setDate(r.getDate()+e),to.filter(n=>n.expiryDate?new Date(n.expiryDate)<=r:!1)},tPe=()=>_6.filter(e=>e.status==="pending"||e.status==="in_progress"),rPe=()=>to.reduce((e,r)=>e+r.fileSize,0);function nPe(){const[e,r]=x.useState("documents"),[n,s]=x.useState(""),a=to.length,i=rPe(),o=ePe().length,l=tPe().length,c=JSe("under_review").length,d=to.filter(m=>m.name.toLowerCase().includes(n.toLowerCase())||m.category.toLowerCase().includes(n.toLowerCase())||m.tags.some(h=>h.toLowerCase().includes(n.toLowerCase()))),u=m=>{if(m===0)return"0 Bytes";const h=1024,p=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(m)/Math.log(h));return parseFloat((m/Math.pow(h,g)).toFixed(2))+" "+p[g]};return t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Document Management"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Digital document storage and workflow system"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(hB,{className:"w-3 h-3 mr-1"}),"New Folder"]}),t.jsxs(k,{size:"sm",children:[t.jsx(kh,{className:"w-3 h-3 mr-1"}),"Upload Document"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Documents"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:a}),t.jsx("p",{className:"text-xs text-success",children:"+15 this month"})]}),t.jsx($t,{className:"w-6 h-6 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Storage Used"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:u(i)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"of 10 GB"})]}),t.jsx(L4,{className:"w-6 h-6 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending Approvals"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:c}),t.jsx("p",{className:"text-xs text-warning",children:"Needs attention"})]}),t.jsx(Ut,{className:"w-6 h-6 text-warning"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Expiring Soon"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:o}),t.jsx("p",{className:"text-xs text-destructive",children:"Within 30 days"})]}),t.jsx(tr,{className:"w-6 h-6 text-destructive"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Workflows"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:l}),t.jsx("p",{className:"text-xs text-primary",children:"In progress"})]}),t.jsx(ca,{className:"w-6 h-6 text-primary"})]})})})]}),t.jsxs(Or,{value:e,onValueChange:r,className:"space-y-4",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-5",children:[t.jsx(Oe,{value:"documents",children:"Documents"}),t.jsx(Oe,{value:"folders",children:"Folders"}),t.jsx(Oe,{value:"workflows",children:"Workflows"}),t.jsx(Oe,{value:"versions",children:"Versions"}),t.jsx(Oe,{value:"activity",children:"Activity"})]}),t.jsxs($e,{value:"documents",className:"space-y-4",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Xt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:14}),t.jsx(J,{placeholder:"Search documents by name, category, or tags...",value:n,onChange:m=>s(m.target.value),className:"pl-7 h-8"})]}),t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(Na,{className:"w-3 h-3 mr-1"}),"Filter"]})]})})}),t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(B,{className:"pb-2",children:[t.jsx(q,{className:"text-sm text-card-foreground",children:"Document Library"}),t.jsx(kt,{className:"text-xs",children:"Manage your organization's documents"})]}),t.jsx(E,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Document"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Category"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Size"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Version"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Status"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Access Level"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Modified"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:d.map(m=>{const h=m.expiryDate&&new Date(m.expiryDate)<=new Date(Date.now()+2592e6);return t.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($t,{className:"w-4 h-4 text-primary"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-foreground",children:m.name}),t.jsx("div",{className:"text-xs text-muted-foreground",children:m.description}),t.jsx("div",{className:"flex gap-1 mt-1",children:m.tags.slice(0,2).map(p=>t.jsx(re,{variant:"outline",className:"text-xs",children:p},p))})]})]})}),t.jsx("td",{className:"p-2",children:t.jsx(re,{variant:"default",className:"text-xs capitalize",children:m.category.replace("_"," ")})}),t.jsx("td",{className:"p-2 text-muted-foreground",children:u(m.fileSize)}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("span",{className:"text-muted-foreground",children:["v",m.version]}),t.jsx(Rm,{className:"w-3 h-3 text-muted-foreground"})]})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"space-y-1",children:[t.jsx(re,{variant:m.status==="approved"?"success":m.status==="under_review"?"warning":m.status==="rejected"?"destructive":"secondary",className:"text-xs",children:m.status.replace("_"," ")}),h&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(tr,{className:"w-3 h-3 text-destructive"}),t.jsx("span",{className:"text-xs text-destructive",children:"Expiring soon"})]})]})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Cs,{className:`w-3 h-3 ${m.accessLevel==="confidential"?"text-destructive":m.accessLevel==="restricted"?"text-warning":m.accessLevel==="internal"?"text-primary":"text-muted-foreground"}`}),t.jsx("span",{className:"text-xs capitalize",children:m.accessLevel})]})}),t.jsxs("td",{className:"p-2",children:[t.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(m.lastModified).toLocaleDateString()}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Downloads: ",m.downloadCount]})]}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx(k,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(xt,{className:"w-3 h-3"})}),t.jsx(k,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(bt,{className:"w-3 h-3"})}),t.jsx(k,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(mn,{className:"w-3 h-3"})}),t.jsx(k,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(_0,{className:"w-3 h-3"})})]})})]},m.id)})})]})})})]})]}),t.jsx($e,{value:"folders",className:"space-y-4",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:QSe.map(m=>t.jsx(T,{className:"bg-card border border-border hover:bg-muted/50 cursor-pointer",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fB,{className:"w-6 h-6 text-primary"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-sm font-medium text-foreground",children:m.name}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.documentCount," documents"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[t.jsxs("span",{children:["Created: ",new Date(m.createdAt).toLocaleDateString()]}),t.jsxs("span",{children:[m.subfolderCount," subfolders"]})]}),t.jsx("div",{className:"flex gap-1",children:m.permissions.slice(0,3).map(h=>t.jsx(re,{variant:"outline",className:"text-xs",children:h},h))})]})})},m.id))})}),t.jsx($e,{value:"workflows",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(B,{className:"pb-2",children:[t.jsx(q,{className:"text-sm text-card-foreground",children:"Document Workflows"}),t.jsx(kt,{className:"text-xs",children:"Track approval and review processes"})]}),t.jsx(E,{className:"space-y-3",children:_6.map(m=>{const h=to.find(p=>p.id===m.documentId);return t.jsx(T,{className:"bg-muted border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-sm font-medium text-foreground",children:h==null?void 0:h.name}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.workflowType.replace("_"," ")," workflow"]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(m.createdAt).toLocaleDateString()]})]}),t.jsx(re,{variant:m.status==="completed"?"success":m.status==="in_progress"?"warning":m.status==="cancelled"?"destructive":"default",className:"text-xs",children:m.status.replace("_"," ")})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-muted-foreground",children:"Progress:"}),t.jsxs("span",{className:"text-foreground",children:["Step ",m.currentStep," of ",m.totalSteps]})]}),t.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${m.currentStep/m.totalSteps*100}%`}})})]}),t.jsx("div",{className:"space-y-2",children:m.steps.map(p=>t.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[t.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${p.status==="completed"?"bg-success text-success-foreground":p.status==="in_progress"?"bg-warning text-warning-foreground":"bg-muted text-muted-foreground"}`,children:p.status==="completed"?t.jsx(ut,{className:"w-2 h-2"}):t.jsx("span",{children:p.stepNumber})}),t.jsx("span",{className:"flex-1",children:p.title}),t.jsx("span",{className:"text-muted-foreground",children:p.assignedTo})]},p.stepNumber))}),m.dueDate&&t.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[t.jsx(Rt,{className:"w-3 h-3 text-muted-foreground"}),t.jsxs("span",{className:"text-muted-foreground",children:["Due: ",new Date(m.dueDate).toLocaleDateString()]})]})]})})},m.id)})})]})}),t.jsx($e,{value:"versions",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(B,{className:"pb-2",children:[t.jsx(q,{className:"text-sm text-card-foreground",children:"Document Versions"}),t.jsx(kt,{className:"text-xs",children:"Track document version history"})]}),t.jsx(E,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Document"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Version"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"File Name"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Size"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Changes"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Uploaded By"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Date"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Status"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:YSe.map(m=>{const h=to.find(p=>p.id===m.documentId);return t.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[t.jsx("td",{className:"p-2",children:t.jsx("div",{className:"font-medium text-foreground",children:h==null?void 0:h.name})}),t.jsx("td",{className:"p-2",children:t.jsxs(re,{variant:m.status==="current"?"success":"default",className:"text-xs",children:["v",m.version]})}),t.jsx("td",{className:"p-2 text-muted-foreground",children:m.fileName}),t.jsx("td",{className:"p-2 text-muted-foreground",children:u(m.fileSize)}),t.jsx("td",{className:"p-2",children:t.jsx("div",{className:"max-w-48 truncate text-muted-foreground",children:m.changes})}),t.jsx("td",{className:"p-2 text-muted-foreground",children:m.uploadedBy}),t.jsx("td",{className:"p-2 text-muted-foreground",children:new Date(m.uploadedAt).toLocaleDateString()}),t.jsx("td",{className:"p-2",children:t.jsx(re,{variant:m.status==="current"?"success":"default",className:"text-xs",children:m.status})}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx(k,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(xt,{className:"w-3 h-3"})}),t.jsx(k,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(bt,{className:"w-3 h-3"})}),m.status==="archived"&&t.jsx(k,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(Rm,{className:"w-3 h-3"})})]})})]},m.id)})})]})})})]})}),t.jsx($e,{value:"activity",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(B,{className:"pb-2",children:[t.jsx(q,{className:"text-sm text-card-foreground",children:"Document Activity"}),t.jsx(kt,{className:"text-xs",children:"Recent document access and modifications"})]}),t.jsx(E,{className:"space-y-3",children:ZSe.map(m=>{const h=to.find(p=>p.id===m.documentId);return t.jsx(T,{className:"bg-muted border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[m.action==="view"&&t.jsx(xt,{className:"w-4 h-4 text-primary"}),m.action==="download"&&t.jsx(bt,{className:"w-4 h-4 text-success"}),m.action==="edit"&&t.jsx(mn,{className:"w-4 h-4 text-warning"}),m.action==="delete"&&t.jsx(as,{className:"w-4 h-4 text-destructive"}),m.action==="share"&&t.jsx(_0,{className:"w-4 h-4 text-primary"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-foreground",children:h==null?void 0:h.name}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[m.action.charAt(0).toUpperCase()+m.action.slice(1)," by ",m.userId]})]})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Rt,{className:"w-3 h-3"}),new Date(m.accessedAt).toLocaleString()]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(_i,{className:"w-3 h-3"}),"IP: ",m.ipAddress]})]})]}),t.jsx(re,{variant:m.action==="view"?"default":m.action==="download"?"success":m.action==="edit"?"warning":m.action==="delete"?"destructive":"primary",className:"text-xs",children:m.action})]})})},m.id)})})]})})]})]})}const LN=[{id:"al-1",timestamp:"2024-03-15T10:30:00Z",userId:"user-pharmacist-1",userName:"Dr. Emily Chen",userRole:"SENIOR_PHARMACIST",action:"UPDATE_INVENTORY",module:"Inventory Management",resourceType:"Product",resourceId:"prod-1",resourceName:"Paracetamol 500mg",details:"Updated stock quantity from 450 to 500",ipAddress:"192.168.1.101",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",sessionId:"sess-abc123",organizationId:"org-1",branchId:"branch-1",severity:"low",category:"data_modification",metadata:{oldQuantity:450,newQuantity:500,reason:"Stock replenishment"},changesBefore:{stock:450},changesAfter:{stock:500}},{id:"al-2",timestamp:"2024-03-15T09:15:00Z",userId:"user-manager-1",userName:"Mike Wilson",userRole:"BRANCH_MANAGER",action:"LOGIN",module:"Authentication",resourceType:"User Session",details:"Successful login",ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",sessionId:"sess-def456",organizationId:"org-1",branchId:"branch-1",severity:"low",category:"authentication",metadata:{loginMethod:"email_password",mfaUsed:!1}},{id:"al-3",timestamp:"2024-03-15T08:45:00Z",userId:"user-cashier-1",userName:"Lisa Brown",userRole:"CASHIER",action:"PROCESS_SALE",module:"Point of Sale",resourceType:"Sale",resourceId:"sale-004",resourceName:"Sale #SALE-2024-004",details:"Processed sale for ₹295.50",ipAddress:"192.168.1.103",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",sessionId:"sess-ghi789",organizationId:"org-1",branchId:"branch-1",severity:"low",category:"data_access",metadata:{saleAmount:295.5,itemCount:3,paymentMethod:"cash"}},{id:"al-4",timestamp:"2024-03-15T07:30:00Z",userId:"unknown",userName:"Unknown User",userRole:"unknown",action:"FAILED_LOGIN",module:"Authentication",resourceType:"User Session",details:"Failed login attempt for email: admin@test.com",ipAddress:"203.0.113.15",userAgent:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36",sessionId:"sess-jkl012",severity:"medium",category:"security",metadata:{attemptedEmail:"admin@test.com",failureReason:"invalid_credentials",attemptCount:3}},{id:"al-5",timestamp:"2024-03-14T16:20:00Z",userId:"user-owner-1",userName:"Dr. Sarah Johnson",userRole:"PHARMACY_OWNER",action:"CREATE_USER",module:"User Management",resourceType:"User",resourceId:"user-new-1",resourceName:"New Pharmacist Account",details:"Created new pharmacist account for Jane Doe",ipAddress:"192.168.1.105",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36",sessionId:"sess-mno345",organizationId:"org-1",severity:"medium",category:"authorization",metadata:{newUserEmail:"jane.doe@medicare.com",newUserRole:"PHARMACIST",permissions:["prescriptions","basic_inventory"]}}],B2=[{id:"ca-1",auditType:"regulatory",title:"FDA Compliance Audit - Q1 2024",description:"Quarterly compliance audit focusing on drug storage and dispensing practices",auditor:"FDA Inspector John Smith",auditeeId:"org-1",auditeeName:"MediCare Hospital Network",startDate:"2024-03-01",endDate:"2024-03-05",status:"completed",scope:["drug_storage","dispensing_practices","record_keeping","staff_qualifications"],findings:[{id:"af-1",title:"Temperature Monitoring Records",description:"Some gaps found in refrigerator temperature monitoring logs",severity:"medium",category:"record_keeping",evidence:["temperature_logs_jan.pdf","refrigerator_inspection.jpg"],recommendation:"Implement automated temperature monitoring system",status:"in_progress",assignedTo:"user-manager-1",dueDate:"2024-04-15"},{id:"af-2",title:"Controlled Substance Documentation",description:"Minor discrepancies in controlled substance inventory records",severity:"low",category:"documentation",evidence:["cs_inventory_march.xlsx"],recommendation:"Enhanced double-verification process for controlled substances",status:"resolved",assignedTo:"user-pharmacist-1",resolvedAt:"2024-03-10T14:30:00Z",resolvedBy:"user-pharmacist-1"}],recommendations:[{id:"ar-1",title:"Implement Digital Temperature Monitoring",description:"Deploy IoT-based temperature monitoring system for all refrigerated storage",priority:"high",category:"technology",expectedBenefit:"Eliminate manual logging errors and ensure continuous monitoring",implementationEffort:"medium",status:"approved",assignedTo:"user-manager-1",estimatedCost:15e3,dueDate:"2024-05-01"}],overallRating:"good",complianceScore:87.5,createdBy:"FDA Inspector John Smith",createdAt:"2024-03-01T09:00:00Z",completedAt:"2024-03-05T17:00:00Z",reportId:"FDA-2024-Q1-001"},{id:"ca-2",auditType:"internal",title:"Internal Security Audit - March 2024",description:"Monthly internal audit focusing on data security and access controls",auditor:"Internal Audit Team",auditeeId:"branch-1",auditeeName:"MediCare Main Hospital",startDate:"2024-03-10",endDate:"2024-03-12",status:"in_progress",scope:["access_controls","data_security","user_permissions","backup_procedures"],findings:[],recommendations:[],overallRating:"good",complianceScore:0,createdBy:"user-owner-1",createdAt:"2024-03-10T08:00:00Z"}],A6=[{id:"se-1",eventType:"login_failure",severity:"medium",title:"Multiple Failed Login Attempts",description:"Multiple failed login attempts detected from IP 203.0.113.15",ipAddress:"203.0.113.15",userAgent:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36",timestamp:"2024-03-15T07:30:00Z",status:"investigating",assignedTo:"user-owner-1",details:{attemptedEmails:["admin@test.com","root@medicare.com","admin@medicare.com"],attemptCount:15,timeRange:"2024-03-15T07:25:00Z to 2024-03-15T07:35:00Z"},actions:[{id:"sa-1",action:"IP_BLOCKED",description:"Temporarily blocked IP address for 24 hours",takenBy:"system",takenAt:"2024-03-15T07:35:00Z",result:"IP successfully blocked"}]},{id:"se-2",eventType:"unauthorized_access",severity:"high",title:"Unauthorized Access Attempt to Compliance Module",description:"User attempted to access compliance module without proper permissions",userId:"user-cashier-1",ipAddress:"192.168.1.103",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",timestamp:"2024-03-14T14:20:00Z",status:"resolved",assignedTo:"user-manager-1",details:{attemptedModule:"compliance",userRole:"CASHIER",requiredPermissions:["compliance_access"],userPermissions:["pos","basic_reports"]},actions:[{id:"sa-2",action:"ACCESS_DENIED",description:"Access denied and incident logged",takenBy:"system",takenAt:"2024-03-14T14:20:00Z",result:"Access successfully denied"},{id:"sa-3",action:"USER_NOTIFICATION",description:"User notified about security policy",takenBy:"user-manager-1",takenAt:"2024-03-14T15:00:00Z",result:"User acknowledged security policy"}]}],sPe=[{id:"dic-1",checkType:"database_consistency",tableName:"inventory",status:"passed",startTime:"2024-03-15T02:00:00Z",endTime:"2024-03-15T02:15:00Z",recordsChecked:1247,issuesFound:0,details:"All inventory records passed consistency checks",recommendations:[]},{id:"dic-2",checkType:"referential_integrity",tableName:"sales",status:"warning",startTime:"2024-03-15T02:15:00Z",endTime:"2024-03-15T02:25:00Z",recordsChecked:3456,issuesFound:2,details:"2 orphaned sale records found without corresponding customer records",recommendations:["Review customer data cleanup procedures","Implement stronger foreign key constraints"]},{id:"dic-3",checkType:"backup_verification",status:"passed",startTime:"2024-03-15T01:00:00Z",endTime:"2024-03-15T01:30:00Z",recordsChecked:15678,issuesFound:0,details:"All backup files verified successfully",recommendations:[]}],aPe=e=>LN.filter(r=>r.severity===e),iPe=e=>B2.filter(r=>r.status===e),oPe=e=>A6.filter(r=>r.status===e),lPe=()=>B2.flatMap(e=>e.findings.filter(r=>r.status==="open"||r.status==="in_progress"));function cPe(){const e=LN.length,r=aPe("critical").length,n=iPe("in_progress").length,s=lPe().length,a=oPe("open").length;return t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Audit Management"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete audit trail and compliance tracking"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(k,{size:"sm",variant:"outline",children:[t.jsx(bt,{className:"w-3 h-3 mr-1"}),"Export Report"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Logs"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:e}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]}),t.jsx(ca,{className:"w-6 h-6 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Security Alerts"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:a}),t.jsx("p",{className:"text-xs text-destructive",children:"Open alerts"})]}),t.jsx(Cs,{className:"w-6 h-6 text-destructive"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Audits"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:n}),t.jsx("p",{className:"text-xs text-primary",children:"In progress"})]}),t.jsx($t,{className:"w-6 h-6 text-primary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Open Findings"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:s}),t.jsx("p",{className:"text-xs text-secondary",children:"Needs action"})]}),t.jsx(tr,{className:"w-6 h-6 text-secondary"})]})})}),t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Critical Events"}),t.jsx("p",{className:"text-lg font-semibold text-foreground",children:r}),t.jsx("p",{className:"text-xs text-destructive",children:"High priority"})]}),t.jsx(va,{className:"w-6 h-6 text-destructive"})]})})})]}),t.jsxs(Or,{defaultValue:"logs",className:"space-y-4",children:[t.jsxs(Ar,{className:"grid w-full grid-cols-5",children:[t.jsx(Oe,{value:"logs",children:"Audit Logs"}),t.jsx(Oe,{value:"compliance",children:"Compliance"}),t.jsx(Oe,{value:"security",children:"Security"}),t.jsx(Oe,{value:"integrity",children:"Data Integrity"}),t.jsx(Oe,{value:"reports",children:"Reports"})]}),t.jsx($e,{value:"logs",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(B,{className:"pb-2",children:[t.jsx(q,{className:"text-sm text-card-foreground",children:"System Audit Logs"}),t.jsx(kt,{className:"text-xs",children:"Complete system activity trail"})]}),t.jsx(E,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Timestamp"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"User"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Action"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Module"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Resource"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Severity"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Actions"})]})}),t.jsx("tbody",{children:LN.map(i=>t.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[t.jsx("td",{className:"p-2 text-muted-foreground",children:new Date(i.timestamp).toLocaleString()}),t.jsx("td",{className:"p-2",children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-foreground",children:i.userName}),t.jsx("div",{className:"text-xs text-muted-foreground",children:i.userRole})]})}),t.jsx("td",{className:"p-2 text-foreground",children:i.action}),t.jsx("td",{className:"p-2 text-muted-foreground",children:i.module}),t.jsx("td",{className:"p-2",children:t.jsx("div",{className:"text-foreground",children:i.resourceName||i.resourceType})}),t.jsx("td",{className:"p-2",children:t.jsx(re,{variant:i.severity==="critical"||i.severity==="high"?"destructive":i.severity==="medium"?"secondary":"outline",className:"text-xs",children:i.severity})}),t.jsx("td",{className:"p-2",children:t.jsx(k,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(xt,{className:"w-3 h-3"})})})]},i.id))})]})})})]})}),t.jsx($e,{value:"compliance",className:"space-y-4",children:t.jsx("div",{className:"space-y-3",children:B2.map(i=>t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-foreground",children:i.title}),t.jsx("p",{className:"text-xs text-muted-foreground",children:i.description}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(re,{variant:"outline",className:"text-xs",children:i.auditType.replace("_"," ")}),t.jsxs("span",{className:"text-xs text-muted-foreground",children:["Score: ",i.complianceScore,"%"]})]})]}),t.jsx(re,{variant:i.status==="completed"?"default":i.status==="in_progress"?"secondary":"outline",className:"text-xs",children:i.status.replace("_"," ")})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Auditor:"}),t.jsx("span",{className:"ml-1 text-foreground",children:i.auditor})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),t.jsxs("span",{className:"ml-1 text-foreground",children:[i.startDate," - ",i.endDate]})]})]}),i.findings.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-medium text-foreground mb-2",children:["Findings (",i.findings.length,")"]}),i.findings.slice(0,2).map(o=>t.jsxs("div",{className:"p-2 bg-muted rounded mb-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium",children:o.title}),t.jsx(re,{variant:o.severity==="critical"||o.severity==="high"?"destructive":o.severity==="medium"?"secondary":"outline",className:"text-xs",children:o.severity})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.description})]},o.id))]})]})})},i.id))})}),t.jsx($e,{value:"security",className:"space-y-4",children:t.jsx("div",{className:"space-y-3",children:A6.map(i=>t.jsx(T,{className:"bg-card border border-border",children:t.jsx(E,{className:"p-3",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-foreground",children:i.title}),t.jsx("p",{className:"text-xs text-muted-foreground",children:i.description}),t.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[t.jsxs("span",{children:["IP: ",i.ipAddress]}),t.jsx("span",{children:"•"}),t.jsx("span",{children:new Date(i.timestamp).toLocaleString()})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx(re,{variant:i.severity==="critical"||i.severity==="high"?"destructive":i.severity==="medium"?"secondary":"outline",className:"text-xs",children:i.severity}),t.jsx("div",{className:"mt-1",children:t.jsx(re,{variant:i.status==="resolved"?"default":i.status==="investigating"?"secondary":"outline",className:"text-xs",children:i.status.replace("_"," ")})})]})]}),i.actions.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-medium text-foreground",children:"Actions Taken:"}),i.actions.map(o=>t.jsxs("div",{className:"text-xs text-muted-foreground",children:["• ",o.description," (",new Date(o.takenAt).toLocaleString(),")"]},o.id))]})]})})},i.id))})}),t.jsx($e,{value:"integrity",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(B,{className:"pb-2",children:[t.jsx(q,{className:"text-sm text-card-foreground",children:"Data Integrity Checks"}),t.jsx(kt,{className:"text-xs",children:"Database consistency and backup verification"})]}),t.jsx(E,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border",children:[t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Check Type"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Table/Resource"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Status"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Records Checked"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Issues Found"}),t.jsx("th",{className:"text-left p-2 text-muted-foreground font-medium",children:"Duration"})]})}),t.jsx("tbody",{children:sPe.map(i=>t.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[t.jsx("td",{className:"p-2 text-foreground",children:i.checkType.replace("_"," ")}),t.jsx("td",{className:"p-2 text-muted-foreground",children:i.tableName||"System-wide"}),t.jsx("td",{className:"p-2",children:t.jsx(re,{variant:i.status==="passed"?"default":i.status==="failed"?"destructive":i.status==="warning"?"secondary":"outline",className:"text-xs",children:i.status})}),t.jsx("td",{className:"p-2 text-muted-foreground",children:i.recordsChecked.toLocaleString()}),t.jsx("td",{className:"p-2",children:t.jsx("span",{className:i.issuesFound>0?"text-destructive":"text-success",children:i.issuesFound})}),t.jsx("td",{className:"p-2 text-muted-foreground",children:i.endTime?`${Math.round((new Date(i.endTime).getTime()-new Date(i.startTime).getTime())/6e4)}m`:"Running..."})]},i.id))})]})})})]})}),t.jsx($e,{value:"reports",className:"space-y-4",children:t.jsxs(T,{className:"bg-card border border-border",children:[t.jsxs(B,{className:"pb-2",children:[t.jsx(q,{className:"text-sm text-card-foreground",children:"Audit Reports"}),t.jsx(kt,{className:"text-xs",children:"Generate comprehensive audit reports"})]}),t.jsxs(E,{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs(k,{variant:"outline",className:"h-20 flex-col",children:[t.jsx($t,{className:"w-6 h-6 mb-2"}),t.jsx("span",{className:"text-xs",children:"Compliance Report"})]}),t.jsxs(k,{variant:"outline",className:"h-20 flex-col",children:[t.jsx(Cs,{className:"w-6 h-6 mb-2"}),t.jsx("span",{className:"text-xs",children:"Security Report"})]}),t.jsxs(k,{variant:"outline",className:"h-20 flex-col",children:[t.jsx(ca,{className:"w-6 h-6 mb-2"}),t.jsx("span",{className:"text-xs",children:"Activity Report"})]})]})]})})]})]})}const dPe=new Z9,uPe=()=>t.jsx(eV,{client:dPe,children:t.jsx(iq,{children:t.jsx(_q,{children:t.jsx(Pq,{children:t.jsxs(RR,{children:[t.jsx(dU,{}),t.jsx(UU,{}),t.jsx(JV,{children:t.jsx(Cq,{children:t.jsxs(WV,{children:[t.jsx(Ke,{path:"/login",element:t.jsx(Wwe,{})}),t.jsxs(Ke,{path:"/",element:t.jsx(wG,{}),children:[t.jsx(Ke,{index:!0,element:t.jsx(Lwe,{})}),t.jsx(Ke,{path:"pos/billing",element:t.jsx(Xwe,{})}),t.jsx(Ke,{path:"pos/stock-transfers",element:t.jsx(jE,{})}),t.jsx(Ke,{path:"pos/reports",element:t.jsx(h1e,{})}),t.jsx(Ke,{path:"pos/settings",element:t.jsx(y1e,{})}),t.jsx(Ke,{path:"inventory/dashboard",element:t.jsx(S1e,{})}),t.jsx(Ke,{path:"inventory/stock-management",element:t.jsx(j1e,{})}),t.jsx(Ke,{path:"inventory/manage-orders",element:t.jsx(P1e,{})}),t.jsx(Ke,{path:"inventory/purchase-orders",element:t.jsx(T1e,{})}),t.jsx(Ke,{path:"inventory/stock-transfers",element:t.jsx(jE,{})}),t.jsx(Ke,{path:"inventory/medication-list",element:t.jsx(E1e,{})}),t.jsx(Ke,{path:"inventory/reports",element:t.jsx(IE,{})}),t.jsx(Ke,{path:"inventory/settings",element:t.jsx(ESe,{})}),t.jsx(Ke,{path:"expenses/tracking",element:t.jsx(H1e,{})}),t.jsx(Ke,{path:"expenses/categories",element:t.jsx(kSe,{})}),t.jsx(Ke,{path:"expenses/approval",element:t.jsx(OSe,{})}),t.jsx(Ke,{path:"expenses/reports",element:t.jsx(DSe,{})}),t.jsx(Ke,{path:"expenses/settings",element:t.jsx(MSe,{})}),t.jsx(Ke,{path:"suppliers/dashboard",element:t.jsx(O1e,{})}),t.jsx(Ke,{path:"suppliers/management",element:t.jsx(LSe,{})}),t.jsx(Ke,{path:"suppliers/detail/:id",element:t.jsx(FSe,{})}),t.jsx(Ke,{path:"suppliers/reports",element:t.jsx($Se,{})}),t.jsx(Ke,{path:"suppliers/directory",element:t.jsx(R1e,{})}),t.jsx(Ke,{path:"suppliers/orders",element:t.jsx(ISe,{})}),t.jsx(Ke,{path:"suppliers/communications",element:t.jsx(D1e,{})}),t.jsx(Ke,{path:"suppliers/performance",element:t.jsx(I1e,{})}),t.jsx(Ke,{path:"suppliers/settings",element:t.jsx(zSe,{})}),t.jsx(Ke,{path:"compliance/dashboard",element:t.jsx(z1e,{})}),t.jsx(Ke,{path:"compliance/licenses",element:t.jsx(B1e,{})}),t.jsx(Ke,{path:"compliance/dda-reporting",element:t.jsx(V1e,{})}),t.jsx(Ke,{path:"compliance/inspections",element:t.jsx(q1e,{})}),t.jsx(Ke,{path:"compliance/drug-registers",element:t.jsx(W1e,{})}),t.jsx(Ke,{path:"compliance/tracking",element:t.jsx(BSe,{})}),t.jsx(Ke,{path:"network/branches",element:t.jsx(X1e,{})}),t.jsx(Ke,{path:"network/users",element:t.jsx(K1e,{})}),t.jsx(Ke,{path:"network/reports",element:t.jsx(J1e,{})}),t.jsx(Ke,{path:"network/settings",element:t.jsx(USe,{})}),t.jsx(Ke,{path:"patients/directory",element:t.jsx(t2e,{})}),t.jsx(Ke,{path:"patients/records",element:t.jsx(n2e,{})}),t.jsx(Ke,{path:"patients/prescriptions",element:t.jsx(a2e,{})}),t.jsx(Ke,{path:"patients/history",element:t.jsx(o2e,{})}),t.jsx(Ke,{path:"patients/reports",element:t.jsx(c2e,{})}),t.jsx(Ke,{path:"patients/settings",element:t.jsx(d2e,{})}),t.jsx(Ke,{path:"customers",element:t.jsx(EE,{})}),t.jsx(Ke,{path:"customers/directory",element:t.jsx(EE,{})}),t.jsx(Ke,{path:"customers/detail/:id",element:t.jsx(A2e,{})}),t.jsx(Ke,{path:"customers/prescriptions",element:t.jsx(O2e,{})}),t.jsx(Ke,{path:"customers/loyalty",element:t.jsx(V2e,{})}),t.jsx(Ke,{path:"customers/reports",element:t.jsx(VSe,{})}),t.jsx(Ke,{path:"customers/settings",element:t.jsx(qSe,{})}),t.jsx(Ke,{path:"reports/sales",element:t.jsx(X2e,{})}),t.jsx(Ke,{path:"reports/inventory",element:t.jsx(IE,{})}),t.jsx(Ke,{path:"reports/financial",element:t.jsx(nSe,{})}),t.jsx(Ke,{path:"reports/compliance",element:t.jsx(cSe,{})}),t.jsx(Ke,{path:"reports/custom",element:t.jsx(pSe,{})}),t.jsx(Ke,{path:"vendor-portal",element:t.jsx(XSe,{})}),t.jsx(Ke,{path:"documents",element:t.jsx(nPe,{})}),t.jsx(Ke,{path:"audit",element:t.jsx(cPe,{})}),t.jsx(Ke,{path:"staff/dashboard",element:t.jsx(TSe,{})}),t.jsx(Ke,{path:"reports",element:t.jsx(Uwe,{})}),t.jsx(Ke,{path:"admin/dashboard",element:t.jsx(xSe,{})}),t.jsx(Ke,{path:"admin/organizations",element:t.jsx(wSe,{})}),t.jsx(Ke,{path:"admin/organizations/:id",element:t.jsx(SSe,{})}),t.jsx(Ke,{path:"admin/users",element:t.jsx(PSe,{})}),t.jsx(Ke,{path:"admin/subscriptions",element:t.jsx(CSe,{})}),t.jsx(Ke,{path:"admin/reports",element:t.jsx(_Se,{})})]}),t.jsx(Ke,{path:"*",element:t.jsx(Hwe,{})})]})})})]})})})})});c4(document.getElementById("root")).render(t.jsx(uPe,{}));
